(function(){const er=document.createElement("link").relList;if(er&&er.supports&&er.supports("modulepreload"))return;for(const nr of document.querySelectorAll('link[rel="modulepreload"]'))ir(nr);new MutationObserver(nr=>{for(const sr of nr)if(sr.type==="childList")for(const ar of sr.addedNodes)ar.tagName==="LINK"&&ar.rel==="modulepreload"&&ir(ar)}).observe(document,{childList:!0,subtree:!0});function tr(nr){const sr={};return nr.integrity&&(sr.integrity=nr.integrity),nr.referrerPolicy&&(sr.referrerPolicy=nr.referrerPolicy),nr.crossOrigin==="use-credentials"?sr.credentials="include":nr.crossOrigin==="anonymous"?sr.credentials="omit":sr.credentials="same-origin",sr}function ir(nr){if(nr.ep)return;nr.ep=!0;const sr=tr(nr);fetch(nr.href,sr)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(rr){const er=Object.create(null);for(const tr of rr.split(","))er[tr]=1;return tr=>tr in er}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=rr=>rr.charCodeAt(0)===111&&rr.charCodeAt(1)===110&&(rr.charCodeAt(2)>122||rr.charCodeAt(2)<97),isModelListener=rr=>rr.startsWith("onUpdate:"),extend=Object.assign,remove=(rr,er)=>{const tr=rr.indexOf(er);tr>-1&&rr.splice(tr,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(rr,er)=>hasOwnProperty$1.call(rr,er),isArray$2=Array.isArray,isMap=rr=>toTypeString(rr)==="[object Map]",isSet=rr=>toTypeString(rr)==="[object Set]",isDate=rr=>toTypeString(rr)==="[object Date]",isFunction=rr=>typeof rr=="function",isString=rr=>typeof rr=="string",isSymbol=rr=>typeof rr=="symbol",isObject$1=rr=>rr!==null&&typeof rr=="object",isPromise=rr=>(isObject$1(rr)||isFunction(rr))&&isFunction(rr.then)&&isFunction(rr.catch),objectToString=Object.prototype.toString,toTypeString=rr=>objectToString.call(rr),toRawType=rr=>toTypeString(rr).slice(8,-1),isPlainObject=rr=>toTypeString(rr)==="[object Object]",isIntegerKey=rr=>isString(rr)&&rr!=="NaN"&&rr[0]!=="-"&&""+parseInt(rr,10)===rr,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=rr=>{const er=Object.create(null);return tr=>er[tr]||(er[tr]=rr(tr))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(rr=>rr.replace(camelizeRE,(er,tr)=>tr?tr.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(rr=>rr.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(rr=>rr.charAt(0).toUpperCase()+rr.slice(1)),toHandlerKey=cacheStringFunction(rr=>rr?`on${capitalize(rr)}`:""),hasChanged=(rr,er)=>!Object.is(rr,er),invokeArrayFns=(rr,...er)=>{for(let tr=0;tr<rr.length;tr++)rr[tr](...er)},def=(rr,er,tr,ir=!1)=>{Object.defineProperty(rr,er,{configurable:!0,enumerable:!1,writable:ir,value:tr})},looseToNumber=rr=>{const er=parseFloat(rr);return isNaN(er)?rr:er},toNumber$1=rr=>{const er=isString(rr)?Number(rr):NaN;return isNaN(er)?rr:er};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(rr){if(isArray$2(rr)){const er={};for(let tr=0;tr<rr.length;tr++){const ir=rr[tr],nr=isString(ir)?parseStringStyle(ir):normalizeStyle(ir);if(nr)for(const sr in nr)er[sr]=nr[sr]}return er}else if(isString(rr)||isObject$1(rr))return rr}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(rr){const er={};return rr.replace(styleCommentRE,"").split(listDelimiterRE).forEach(tr=>{if(tr){const ir=tr.split(propertyDelimiterRE);ir.length>1&&(er[ir[0].trim()]=ir[1].trim())}}),er}function normalizeClass(rr){let er="";if(isString(rr))er=rr;else if(isArray$2(rr))for(let tr=0;tr<rr.length;tr++){const ir=normalizeClass(rr[tr]);ir&&(er+=ir+" ")}else if(isObject$1(rr))for(const tr in rr)rr[tr]&&(er+=tr+" ");return er.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(rr){return!!rr||rr===""}function looseCompareArrays(rr,er){if(rr.length!==er.length)return!1;let tr=!0;for(let ir=0;tr&&ir<rr.length;ir++)tr=looseEqual(rr[ir],er[ir]);return tr}function looseEqual(rr,er){if(rr===er)return!0;let tr=isDate(rr),ir=isDate(er);if(tr||ir)return tr&&ir?rr.getTime()===er.getTime():!1;if(tr=isSymbol(rr),ir=isSymbol(er),tr||ir)return rr===er;if(tr=isArray$2(rr),ir=isArray$2(er),tr||ir)return tr&&ir?looseCompareArrays(rr,er):!1;if(tr=isObject$1(rr),ir=isObject$1(er),tr||ir){if(!tr||!ir)return!1;const nr=Object.keys(rr).length,sr=Object.keys(er).length;if(nr!==sr)return!1;for(const ar in rr){const or=rr.hasOwnProperty(ar),lr=er.hasOwnProperty(ar);if(or&&!lr||!or&&lr||!looseEqual(rr[ar],er[ar]))return!1}}return String(rr)===String(er)}function looseIndexOf(rr,er){return rr.findIndex(tr=>looseEqual(tr,er))}const isRef$1=rr=>!!(rr&&rr.__v_isRef===!0),toDisplayString=rr=>isString(rr)?rr:rr==null?"":isArray$2(rr)||isObject$1(rr)&&(rr.toString===objectToString||!isFunction(rr.toString))?isRef$1(rr)?toDisplayString(rr.value):JSON.stringify(rr,replacer,2):String(rr),replacer=(rr,er)=>isRef$1(er)?replacer(rr,er.value):isMap(er)?{[`Map(${er.size})`]:[...er.entries()].reduce((tr,[ir,nr],sr)=>(tr[stringifySymbol(ir,sr)+" =>"]=nr,tr),{})}:isSet(er)?{[`Set(${er.size})`]:[...er.values()].map(tr=>stringifySymbol(tr))}:isSymbol(er)?stringifySymbol(er):isObject$1(er)&&!isArray$2(er)&&!isPlainObject(er)?String(er):er,stringifySymbol=(rr,er="")=>{var tr;return isSymbol(rr)?`Symbol(${(tr=rr.description)!=null?tr:er})`:rr};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(er=!1){this.detached=er,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!er&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let er,tr;if(this.scopes)for(er=0,tr=this.scopes.length;er<tr;er++)this.scopes[er].pause();for(er=0,tr=this.effects.length;er<tr;er++)this.effects[er].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let er,tr;if(this.scopes)for(er=0,tr=this.scopes.length;er<tr;er++)this.scopes[er].resume();for(er=0,tr=this.effects.length;er<tr;er++)this.effects[er].resume()}}run(er){if(this._active){const tr=activeEffectScope;try{return activeEffectScope=this,er()}finally{activeEffectScope=tr}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(er){if(this._active){this._active=!1;let tr,ir;for(tr=0,ir=this.effects.length;tr<ir;tr++)this.effects[tr].stop();for(this.effects.length=0,tr=0,ir=this.cleanups.length;tr<ir;tr++)this.cleanups[tr]();if(this.cleanups.length=0,this.scopes){for(tr=0,ir=this.scopes.length;tr<ir;tr++)this.scopes[tr].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!er){const nr=this.parent.scopes.pop();nr&&nr!==this&&(this.parent.scopes[this.index]=nr,nr.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(er){this.fn=er,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const er=activeSub,tr=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=er,shouldTrack=tr,this.flags&=-3}}stop(){if(this.flags&1){for(let er=this.deps;er;er=er.nextDep)removeSub(er);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(rr,er=!1){if(rr.flags|=8,er){rr.next=batchedComputed,batchedComputed=rr;return}rr.next=batchedSub,batchedSub=rr}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let er=batchedComputed;for(batchedComputed=void 0;er;){const tr=er.next;er.next=void 0,er.flags&=-9,er=tr}}let rr;for(;batchedSub;){let er=batchedSub;for(batchedSub=void 0;er;){const tr=er.next;if(er.next=void 0,er.flags&=-9,er.flags&1)try{er.trigger()}catch(ir){rr||(rr=ir)}er=tr}}if(rr)throw rr}function prepareDeps(rr){for(let er=rr.deps;er;er=er.nextDep)er.version=-1,er.prevActiveLink=er.dep.activeLink,er.dep.activeLink=er}function cleanupDeps(rr){let er,tr=rr.depsTail,ir=tr;for(;ir;){const nr=ir.prevDep;ir.version===-1?(ir===tr&&(tr=nr),removeSub(ir),removeDep(ir)):er=ir,ir.dep.activeLink=ir.prevActiveLink,ir.prevActiveLink=void 0,ir=nr}rr.deps=er,rr.depsTail=tr}function isDirty(rr){for(let er=rr.deps;er;er=er.nextDep)if(er.dep.version!==er.version||er.dep.computed&&(refreshComputed(er.dep.computed)||er.dep.version!==er.version))return!0;return!!rr._dirty}function refreshComputed(rr){if(rr.flags&4&&!(rr.flags&16)||(rr.flags&=-17,rr.globalVersion===globalVersion))return;rr.globalVersion=globalVersion;const er=rr.dep;if(rr.flags|=2,er.version>0&&!rr.isSSR&&rr.deps&&!isDirty(rr)){rr.flags&=-3;return}const tr=activeSub,ir=shouldTrack;activeSub=rr,shouldTrack=!0;try{prepareDeps(rr);const nr=rr.fn(rr._value);(er.version===0||hasChanged(nr,rr._value))&&(rr._value=nr,er.version++)}catch(nr){throw er.version++,nr}finally{activeSub=tr,shouldTrack=ir,cleanupDeps(rr),rr.flags&=-3}}function removeSub(rr,er=!1){const{dep:tr,prevSub:ir,nextSub:nr}=rr;if(ir&&(ir.nextSub=nr,rr.prevSub=void 0),nr&&(nr.prevSub=ir,rr.nextSub=void 0),tr.subs===rr&&(tr.subs=ir,!ir&&tr.computed)){tr.computed.flags&=-5;for(let sr=tr.computed.deps;sr;sr=sr.nextDep)removeSub(sr,!0)}!er&&!--tr.sc&&tr.map&&tr.map.delete(tr.key)}function removeDep(rr){const{prevDep:er,nextDep:tr}=rr;er&&(er.nextDep=tr,rr.prevDep=void 0),tr&&(tr.prevDep=er,rr.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const rr=trackStack.pop();shouldTrack=rr===void 0?!0:rr}function cleanupEffect(rr){const{cleanup:er}=rr;if(rr.cleanup=void 0,er){const tr=activeSub;activeSub=void 0;try{er()}finally{activeSub=tr}}}let globalVersion=0;class Link{constructor(er,tr){this.sub=er,this.dep=tr,this.version=tr.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(er){this.computed=er,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(er){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let tr=this.activeLink;if(tr===void 0||tr.sub!==activeSub)tr=this.activeLink=new Link(activeSub,this),activeSub.deps?(tr.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=tr,activeSub.depsTail=tr):activeSub.deps=activeSub.depsTail=tr,addSub(tr);else if(tr.version===-1&&(tr.version=this.version,tr.nextDep)){const ir=tr.nextDep;ir.prevDep=tr.prevDep,tr.prevDep&&(tr.prevDep.nextDep=ir),tr.prevDep=activeSub.depsTail,tr.nextDep=void 0,activeSub.depsTail.nextDep=tr,activeSub.depsTail=tr,activeSub.deps===tr&&(activeSub.deps=ir)}return tr}trigger(er){this.version++,globalVersion++,this.notify(er)}notify(er){startBatch();try{for(let tr=this.subs;tr;tr=tr.prevSub)tr.sub.notify()&&tr.sub.dep.notify()}finally{endBatch()}}}function addSub(rr){if(rr.dep.sc++,rr.sub.flags&4){const er=rr.dep.computed;if(er&&!rr.dep.subs){er.flags|=20;for(let ir=er.deps;ir;ir=ir.nextDep)addSub(ir)}const tr=rr.dep.subs;tr!==rr&&(rr.prevSub=tr,tr&&(tr.nextSub=rr)),rr.dep.subs=rr}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(rr,er,tr){if(shouldTrack&&activeSub){let ir=targetMap.get(rr);ir||targetMap.set(rr,ir=new Map);let nr=ir.get(tr);nr||(ir.set(tr,nr=new Dep),nr.map=ir,nr.key=tr),nr.track()}}function trigger(rr,er,tr,ir,nr,sr){const ar=targetMap.get(rr);if(!ar){globalVersion++;return}const or=lr=>{lr&&lr.trigger()};if(startBatch(),er==="clear")ar.forEach(or);else{const lr=isArray$2(rr),cr=lr&&isIntegerKey(tr);if(lr&&tr==="length"){const ur=Number(ir);ar.forEach((hr,dr)=>{(dr==="length"||dr===ARRAY_ITERATE_KEY||!isSymbol(dr)&&dr>=ur)&&or(hr)})}else switch((tr!==void 0||ar.has(void 0))&&or(ar.get(tr)),cr&&or(ar.get(ARRAY_ITERATE_KEY)),er){case"add":lr?cr&&or(ar.get("length")):(or(ar.get(ITERATE_KEY)),isMap(rr)&&or(ar.get(MAP_KEY_ITERATE_KEY)));break;case"delete":lr||(or(ar.get(ITERATE_KEY)),isMap(rr)&&or(ar.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(rr)&&or(ar.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(rr,er){const tr=targetMap.get(rr);return tr&&tr.get(er)}function reactiveReadArray(rr){const er=toRaw(rr);return er===rr?er:(track(er,"iterate",ARRAY_ITERATE_KEY),isShallow(rr)?er:er.map(toReactive))}function shallowReadArray(rr){return track(rr=toRaw(rr),"iterate",ARRAY_ITERATE_KEY),rr}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...rr){return reactiveReadArray(this).concat(...rr.map(er=>isArray$2(er)?reactiveReadArray(er):er))},entries(){return iterator(this,"entries",rr=>(rr[1]=toReactive(rr[1]),rr))},every(rr,er){return apply(this,"every",rr,er,void 0,arguments)},filter(rr,er){return apply(this,"filter",rr,er,tr=>tr.map(toReactive),arguments)},find(rr,er){return apply(this,"find",rr,er,toReactive,arguments)},findIndex(rr,er){return apply(this,"findIndex",rr,er,void 0,arguments)},findLast(rr,er){return apply(this,"findLast",rr,er,toReactive,arguments)},findLastIndex(rr,er){return apply(this,"findLastIndex",rr,er,void 0,arguments)},forEach(rr,er){return apply(this,"forEach",rr,er,void 0,arguments)},includes(...rr){return searchProxy(this,"includes",rr)},indexOf(...rr){return searchProxy(this,"indexOf",rr)},join(rr){return reactiveReadArray(this).join(rr)},lastIndexOf(...rr){return searchProxy(this,"lastIndexOf",rr)},map(rr,er){return apply(this,"map",rr,er,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...rr){return noTracking(this,"push",rr)},reduce(rr,...er){return reduce$1(this,"reduce",rr,er)},reduceRight(rr,...er){return reduce$1(this,"reduceRight",rr,er)},shift(){return noTracking(this,"shift")},some(rr,er){return apply(this,"some",rr,er,void 0,arguments)},splice(...rr){return noTracking(this,"splice",rr)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(rr){return reactiveReadArray(this).toSorted(rr)},toSpliced(...rr){return reactiveReadArray(this).toSpliced(...rr)},unshift(...rr){return noTracking(this,"unshift",rr)},values(){return iterator(this,"values",toReactive)}};function iterator(rr,er,tr){const ir=shallowReadArray(rr),nr=ir[er]();return ir!==rr&&!isShallow(rr)&&(nr._next=nr.next,nr.next=()=>{const sr=nr._next();return sr.value&&(sr.value=tr(sr.value)),sr}),nr}const arrayProto=Array.prototype;function apply(rr,er,tr,ir,nr,sr){const ar=shallowReadArray(rr),or=ar!==rr&&!isShallow(rr),lr=ar[er];if(lr!==arrayProto[er]){const hr=lr.apply(rr,sr);return or?toReactive(hr):hr}let cr=tr;ar!==rr&&(or?cr=function(hr,dr){return tr.call(this,toReactive(hr),dr,rr)}:tr.length>2&&(cr=function(hr,dr){return tr.call(this,hr,dr,rr)}));const ur=lr.call(ar,cr,ir);return or&&nr?nr(ur):ur}function reduce$1(rr,er,tr,ir){const nr=shallowReadArray(rr);let sr=tr;return nr!==rr&&(isShallow(rr)?tr.length>3&&(sr=function(ar,or,lr){return tr.call(this,ar,or,lr,rr)}):sr=function(ar,or,lr){return tr.call(this,ar,toReactive(or),lr,rr)}),nr[er](sr,...ir)}function searchProxy(rr,er,tr){const ir=toRaw(rr);track(ir,"iterate",ARRAY_ITERATE_KEY);const nr=ir[er](...tr);return(nr===-1||nr===!1)&&isProxy(tr[0])?(tr[0]=toRaw(tr[0]),ir[er](...tr)):nr}function noTracking(rr,er,tr=[]){pauseTracking(),startBatch();const ir=toRaw(rr)[er].apply(rr,tr);return endBatch(),resetTracking(),ir}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(rr=>rr!=="arguments"&&rr!=="caller").map(rr=>Symbol[rr]).filter(isSymbol));function hasOwnProperty(rr){isSymbol(rr)||(rr=String(rr));const er=toRaw(this);return track(er,"has",rr),er.hasOwnProperty(rr)}class BaseReactiveHandler{constructor(er=!1,tr=!1){this._isReadonly=er,this._isShallow=tr}get(er,tr,ir){if(tr==="__v_skip")return er.__v_skip;const nr=this._isReadonly,sr=this._isShallow;if(tr==="__v_isReactive")return!nr;if(tr==="__v_isReadonly")return nr;if(tr==="__v_isShallow")return sr;if(tr==="__v_raw")return ir===(nr?sr?shallowReadonlyMap:readonlyMap:sr?shallowReactiveMap:reactiveMap).get(er)||Object.getPrototypeOf(er)===Object.getPrototypeOf(ir)?er:void 0;const ar=isArray$2(er);if(!nr){let lr;if(ar&&(lr=arrayInstrumentations[tr]))return lr;if(tr==="hasOwnProperty")return hasOwnProperty}const or=Reflect.get(er,tr,isRef(er)?er:ir);return(isSymbol(tr)?builtInSymbols.has(tr):isNonTrackableKeys(tr))||(nr||track(er,"get",tr),sr)?or:isRef(or)?ar&&isIntegerKey(tr)?or:or.value:isObject$1(or)?nr?readonly(or):reactive(or):or}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(er=!1){super(!1,er)}set(er,tr,ir,nr){let sr=er[tr];if(!this._isShallow){const lr=isReadonly(sr);if(!isShallow(ir)&&!isReadonly(ir)&&(sr=toRaw(sr),ir=toRaw(ir)),!isArray$2(er)&&isRef(sr)&&!isRef(ir))return lr?!1:(sr.value=ir,!0)}const ar=isArray$2(er)&&isIntegerKey(tr)?Number(tr)<er.length:hasOwn(er,tr),or=Reflect.set(er,tr,ir,isRef(er)?er:nr);return er===toRaw(nr)&&(ar?hasChanged(ir,sr)&&trigger(er,"set",tr,ir):trigger(er,"add",tr,ir)),or}deleteProperty(er,tr){const ir=hasOwn(er,tr);er[tr];const nr=Reflect.deleteProperty(er,tr);return nr&&ir&&trigger(er,"delete",tr,void 0),nr}has(er,tr){const ir=Reflect.has(er,tr);return(!isSymbol(tr)||!builtInSymbols.has(tr))&&track(er,"has",tr),ir}ownKeys(er){return track(er,"iterate",isArray$2(er)?"length":ITERATE_KEY),Reflect.ownKeys(er)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(er=!1){super(!0,er)}set(er,tr){return!0}deleteProperty(er,tr){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=rr=>rr,getProto=rr=>Reflect.getPrototypeOf(rr);function createIterableMethod(rr,er,tr){return function(...ir){const nr=this.__v_raw,sr=toRaw(nr),ar=isMap(sr),or=rr==="entries"||rr===Symbol.iterator&&ar,lr=rr==="keys"&&ar,cr=nr[rr](...ir),ur=tr?toShallow:er?toReadonly:toReactive;return!er&&track(sr,"iterate",lr?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:hr,done:dr}=cr.next();return dr?{value:hr,done:dr}:{value:or?[ur(hr[0]),ur(hr[1])]:ur(hr),done:dr}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(rr){return function(...er){return rr==="delete"?!1:rr==="clear"?void 0:this}}function createInstrumentations(rr,er){const tr={get(nr){const sr=this.__v_raw,ar=toRaw(sr),or=toRaw(nr);rr||(hasChanged(nr,or)&&track(ar,"get",nr),track(ar,"get",or));const{has:lr}=getProto(ar),cr=er?toShallow:rr?toReadonly:toReactive;if(lr.call(ar,nr))return cr(sr.get(nr));if(lr.call(ar,or))return cr(sr.get(or));sr!==ar&&sr.get(nr)},get size(){const nr=this.__v_raw;return!rr&&track(toRaw(nr),"iterate",ITERATE_KEY),Reflect.get(nr,"size",nr)},has(nr){const sr=this.__v_raw,ar=toRaw(sr),or=toRaw(nr);return rr||(hasChanged(nr,or)&&track(ar,"has",nr),track(ar,"has",or)),nr===or?sr.has(nr):sr.has(nr)||sr.has(or)},forEach(nr,sr){const ar=this,or=ar.__v_raw,lr=toRaw(or),cr=er?toShallow:rr?toReadonly:toReactive;return!rr&&track(lr,"iterate",ITERATE_KEY),or.forEach((ur,hr)=>nr.call(sr,cr(ur),cr(hr),ar))}};return extend(tr,rr?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(nr){!er&&!isShallow(nr)&&!isReadonly(nr)&&(nr=toRaw(nr));const sr=toRaw(this);return getProto(sr).has.call(sr,nr)||(sr.add(nr),trigger(sr,"add",nr,nr)),this},set(nr,sr){!er&&!isShallow(sr)&&!isReadonly(sr)&&(sr=toRaw(sr));const ar=toRaw(this),{has:or,get:lr}=getProto(ar);let cr=or.call(ar,nr);cr||(nr=toRaw(nr),cr=or.call(ar,nr));const ur=lr.call(ar,nr);return ar.set(nr,sr),cr?hasChanged(sr,ur)&&trigger(ar,"set",nr,sr):trigger(ar,"add",nr,sr),this},delete(nr){const sr=toRaw(this),{has:ar,get:or}=getProto(sr);let lr=ar.call(sr,nr);lr||(nr=toRaw(nr),lr=ar.call(sr,nr)),or&&or.call(sr,nr);const cr=sr.delete(nr);return lr&&trigger(sr,"delete",nr,void 0),cr},clear(){const nr=toRaw(this),sr=nr.size!==0,ar=nr.clear();return sr&&trigger(nr,"clear",void 0,void 0),ar}}),["keys","values","entries",Symbol.iterator].forEach(nr=>{tr[nr]=createIterableMethod(nr,rr,er)}),tr}function createInstrumentationGetter(rr,er){const tr=createInstrumentations(rr,er);return(ir,nr,sr)=>nr==="__v_isReactive"?!rr:nr==="__v_isReadonly"?rr:nr==="__v_raw"?ir:Reflect.get(hasOwn(tr,nr)&&nr in ir?tr:ir,nr,sr)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(rr){switch(rr){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(rr){return rr.__v_skip||!Object.isExtensible(rr)?0:targetTypeMap(toRawType(rr))}function reactive(rr){return isReadonly(rr)?rr:createReactiveObject(rr,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(rr){return createReactiveObject(rr,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(rr){return createReactiveObject(rr,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(rr){return createReactiveObject(rr,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(rr,er,tr,ir,nr){if(!isObject$1(rr)||rr.__v_raw&&!(er&&rr.__v_isReactive))return rr;const sr=nr.get(rr);if(sr)return sr;const ar=getTargetType(rr);if(ar===0)return rr;const or=new Proxy(rr,ar===2?ir:tr);return nr.set(rr,or),or}function isReactive(rr){return isReadonly(rr)?isReactive(rr.__v_raw):!!(rr&&rr.__v_isReactive)}function isReadonly(rr){return!!(rr&&rr.__v_isReadonly)}function isShallow(rr){return!!(rr&&rr.__v_isShallow)}function isProxy(rr){return rr?!!rr.__v_raw:!1}function toRaw(rr){const er=rr&&rr.__v_raw;return er?toRaw(er):rr}function markRaw(rr){return!hasOwn(rr,"__v_skip")&&Object.isExtensible(rr)&&def(rr,"__v_skip",!0),rr}const toReactive=rr=>isObject$1(rr)?reactive(rr):rr,toReadonly=rr=>isObject$1(rr)?readonly(rr):rr;function isRef(rr){return rr?rr.__v_isRef===!0:!1}function ref(rr){return createRef(rr,!1)}function shallowRef(rr){return createRef(rr,!0)}function createRef(rr,er){return isRef(rr)?rr:new RefImpl(rr,er)}class RefImpl{constructor(er,tr){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=tr?er:toRaw(er),this._value=tr?er:toReactive(er),this.__v_isShallow=tr}get value(){return this.dep.track(),this._value}set value(er){const tr=this._rawValue,ir=this.__v_isShallow||isShallow(er)||isReadonly(er);er=ir?er:toRaw(er),hasChanged(er,tr)&&(this._rawValue=er,this._value=ir?er:toReactive(er),this.dep.trigger())}}function unref(rr){return isRef(rr)?rr.value:rr}const shallowUnwrapHandlers={get:(rr,er,tr)=>er==="__v_raw"?rr:unref(Reflect.get(rr,er,tr)),set:(rr,er,tr,ir)=>{const nr=rr[er];return isRef(nr)&&!isRef(tr)?(nr.value=tr,!0):Reflect.set(rr,er,tr,ir)}};function proxyRefs(rr){return isReactive(rr)?rr:new Proxy(rr,shallowUnwrapHandlers)}function toRefs(rr){const er=isArray$2(rr)?new Array(rr.length):{};for(const tr in rr)er[tr]=propertyToRef(rr,tr);return er}class ObjectRefImpl{constructor(er,tr,ir){this._object=er,this._key=tr,this._defaultValue=ir,this.__v_isRef=!0,this._value=void 0}get value(){const er=this._object[this._key];return this._value=er===void 0?this._defaultValue:er}set value(er){this._object[this._key]=er}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(rr,er,tr){const ir=rr[er];return isRef(ir)?ir:new ObjectRefImpl(rr,er,tr)}class ComputedRefImpl{constructor(er,tr,ir){this.fn=er,this.setter=tr,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!tr,this.isSSR=ir}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const er=this.dep.track();return refreshComputed(this),er&&(er.version=this.dep.version),this._value}set value(er){this.setter&&this.setter(er)}}function computed$1(rr,er,tr=!1){let ir,nr;return isFunction(rr)?ir=rr:(ir=rr.get,nr=rr.set),new ComputedRefImpl(ir,nr,tr)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(rr,er=!1,tr=activeWatcher){if(tr){let ir=cleanupMap.get(tr);ir||cleanupMap.set(tr,ir=[]),ir.push(rr)}}function watch$1(rr,er,tr=EMPTY_OBJ){const{immediate:ir,deep:nr,once:sr,scheduler:ar,augmentJob:or,call:lr}=tr,cr=Pr=>nr?Pr:isShallow(Pr)||nr===!1||nr===0?traverse(Pr,1):traverse(Pr);let ur,hr,dr,gr,pr=!1,mr=!1;if(isRef(rr)?(hr=()=>rr.value,pr=isShallow(rr)):isReactive(rr)?(hr=()=>cr(rr),pr=!0):isArray$2(rr)?(mr=!0,pr=rr.some(Pr=>isReactive(Pr)||isShallow(Pr)),hr=()=>rr.map(Pr=>{if(isRef(Pr))return Pr.value;if(isReactive(Pr))return cr(Pr);if(isFunction(Pr))return lr?lr(Pr,2):Pr()})):isFunction(rr)?er?hr=lr?()=>lr(rr,2):rr:hr=()=>{if(dr){pauseTracking();try{dr()}finally{resetTracking()}}const Pr=activeWatcher;activeWatcher=ur;try{return lr?lr(rr,3,[gr]):rr(gr)}finally{activeWatcher=Pr}}:hr=NOOP,er&&nr){const Pr=hr,Tr=nr===!0?1/0:nr;hr=()=>traverse(Pr(),Tr)}const vr=getCurrentScope(),yr=()=>{ur.stop(),vr&&vr.active&&remove(vr.effects,ur)};if(sr&&er){const Pr=er;er=(...Tr)=>{Pr(...Tr),yr()}}let br=mr?new Array(rr.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const wr=Pr=>{if(!(!(ur.flags&1)||!ur.dirty&&!Pr))if(er){const Tr=ur.run();if(nr||pr||(mr?Tr.some((Vr,Ar)=>hasChanged(Vr,br[Ar])):hasChanged(Tr,br))){dr&&dr();const Vr=activeWatcher;activeWatcher=ur;try{const Ar=[Tr,br===INITIAL_WATCHER_VALUE?void 0:mr&&br[0]===INITIAL_WATCHER_VALUE?[]:br,gr];lr?lr(er,3,Ar):er(...Ar),br=Tr}finally{activeWatcher=Vr}}}else ur.run()};return or&&or(wr),ur=new ReactiveEffect(hr),ur.scheduler=ar?()=>ar(wr,!1):wr,gr=Pr=>onWatcherCleanup(Pr,!1,ur),dr=ur.onStop=()=>{const Pr=cleanupMap.get(ur);if(Pr){if(lr)lr(Pr,4);else for(const Tr of Pr)Tr();cleanupMap.delete(ur)}},er?ir?wr(!0):br=ur.run():ar?ar(wr.bind(null,!0),!0):ur.run(),yr.pause=ur.pause.bind(ur),yr.resume=ur.resume.bind(ur),yr.stop=yr,yr}function traverse(rr,er=1/0,tr){if(er<=0||!isObject$1(rr)||rr.__v_skip||(tr=tr||new Set,tr.has(rr)))return rr;if(tr.add(rr),er--,isRef(rr))traverse(rr.value,er,tr);else if(isArray$2(rr))for(let ir=0;ir<rr.length;ir++)traverse(rr[ir],er,tr);else if(isSet(rr)||isMap(rr))rr.forEach(ir=>{traverse(ir,er,tr)});else if(isPlainObject(rr)){for(const ir in rr)traverse(rr[ir],er,tr);for(const ir of Object.getOwnPropertySymbols(rr))Object.prototype.propertyIsEnumerable.call(rr,ir)&&traverse(rr[ir],er,tr)}return rr}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(rr,...er){if(isWarning)return;isWarning=!0,pauseTracking();const tr=stack.length?stack[stack.length-1].component:null,ir=tr&&tr.appContext.config.warnHandler,nr=getComponentTrace();if(ir)callWithErrorHandling(ir,tr,11,[rr+er.map(sr=>{var ar,or;return(or=(ar=sr.toString)==null?void 0:ar.call(sr))!=null?or:JSON.stringify(sr)}).join(""),tr&&tr.proxy,nr.map(({vnode:sr})=>`at <${formatComponentName(tr,sr.type)}>`).join(`
`),nr]);else{const sr=[`[Vue warn]: ${rr}`,...er];nr.length&&sr.push(`
`,...formatTrace(nr)),console.warn(...sr)}resetTracking(),isWarning=!1}function getComponentTrace(){let rr=stack[stack.length-1];if(!rr)return[];const er=[];for(;rr;){const tr=er[0];tr&&tr.vnode===rr?tr.recurseCount++:er.push({vnode:rr,recurseCount:0});const ir=rr.component&&rr.component.parent;rr=ir&&ir.vnode}return er}function formatTrace(rr){const er=[];return rr.forEach((tr,ir)=>{er.push(...ir===0?[]:[`
`],...formatTraceEntry(tr))}),er}function formatTraceEntry({vnode:rr,recurseCount:er}){const tr=er>0?`... (${er} recursive calls)`:"",ir=rr.component?rr.component.parent==null:!1,nr=` at <${formatComponentName(rr.component,rr.type,ir)}`,sr=">"+tr;return rr.props?[nr,...formatProps(rr.props),sr]:[nr+sr]}function formatProps(rr){const er=[],tr=Object.keys(rr);return tr.slice(0,3).forEach(ir=>{er.push(...formatProp(ir,rr[ir]))}),tr.length>3&&er.push(" ..."),er}function formatProp(rr,er,tr){return isString(er)?(er=JSON.stringify(er),tr?er:[`${rr}=${er}`]):typeof er=="number"||typeof er=="boolean"||er==null?tr?er:[`${rr}=${er}`]:isRef(er)?(er=formatProp(rr,toRaw(er.value),!0),tr?er:[`${rr}=Ref<`,er,">"]):isFunction(er)?[`${rr}=fn${er.name?`<${er.name}>`:""}`]:(er=toRaw(er),tr?er:[`${rr}=`,er])}function callWithErrorHandling(rr,er,tr,ir){try{return ir?rr(...ir):rr()}catch(nr){handleError(nr,er,tr)}}function callWithAsyncErrorHandling(rr,er,tr,ir){if(isFunction(rr)){const nr=callWithErrorHandling(rr,er,tr,ir);return nr&&isPromise(nr)&&nr.catch(sr=>{handleError(sr,er,tr)}),nr}if(isArray$2(rr)){const nr=[];for(let sr=0;sr<rr.length;sr++)nr.push(callWithAsyncErrorHandling(rr[sr],er,tr,ir));return nr}}function handleError(rr,er,tr,ir=!0){const nr=er?er.vnode:null,{errorHandler:sr,throwUnhandledErrorInProduction:ar}=er&&er.appContext.config||EMPTY_OBJ;if(er){let or=er.parent;const lr=er.proxy,cr=`https://vuejs.org/error-reference/#runtime-${tr}`;for(;or;){const ur=or.ec;if(ur){for(let hr=0;hr<ur.length;hr++)if(ur[hr](rr,lr,cr)===!1)return}or=or.parent}if(sr){pauseTracking(),callWithErrorHandling(sr,null,10,[rr,lr,cr]),resetTracking();return}}logError(rr,tr,nr,ir,ar)}function logError(rr,er,tr,ir=!0,nr=!1){if(nr)throw rr;console.error(rr)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(rr){const er=currentFlushPromise||resolvedPromise;return rr?er.then(this?rr.bind(this):rr):er}function findInsertionIndex$1(rr){let er=flushIndex+1,tr=queue.length;for(;er<tr;){const ir=er+tr>>>1,nr=queue[ir],sr=getId(nr);sr<rr||sr===rr&&nr.flags&2?er=ir+1:tr=ir}return er}function queueJob(rr){if(!(rr.flags&1)){const er=getId(rr),tr=queue[queue.length-1];!tr||!(rr.flags&2)&&er>=getId(tr)?queue.push(rr):queue.splice(findInsertionIndex$1(er),0,rr),rr.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(rr){isArray$2(rr)?pendingPostFlushCbs.push(...rr):activePostFlushCbs&&rr.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,rr):rr.flags&1||(pendingPostFlushCbs.push(rr),rr.flags|=1),queueFlush()}function flushPreFlushCbs(rr,er,tr=flushIndex+1){for(;tr<queue.length;tr++){const ir=queue[tr];if(ir&&ir.flags&2){if(rr&&ir.id!==rr.uid)continue;queue.splice(tr,1),tr--,ir.flags&4&&(ir.flags&=-2),ir(),ir.flags&4||(ir.flags&=-2)}}}function flushPostFlushCbs(rr){if(pendingPostFlushCbs.length){const er=[...new Set(pendingPostFlushCbs)].sort((tr,ir)=>getId(tr)-getId(ir));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...er);return}for(activePostFlushCbs=er,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const tr=activePostFlushCbs[postFlushIndex];tr.flags&4&&(tr.flags&=-2),tr.flags&8||tr(),tr.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=rr=>rr.id==null?rr.flags&2?-1:1/0:rr.id;function flushJobs(rr){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const er=queue[flushIndex];er&&!(er.flags&8)&&(er.flags&4&&(er.flags&=-2),callWithErrorHandling(er,er.i,er.i?15:14),er.flags&4||(er.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const er=queue[flushIndex];er&&(er.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(rr){const er=currentRenderingInstance;return currentRenderingInstance=rr,currentScopeId=rr&&rr.type.__scopeId||null,er}function withCtx(rr,er=currentRenderingInstance,tr){if(!er||rr._n)return rr;const ir=(...nr)=>{ir._d&&setBlockTracking(-1);const sr=setCurrentRenderingInstance(er);let ar;try{ar=rr(...nr)}finally{setCurrentRenderingInstance(sr),ir._d&&setBlockTracking(1)}return ar};return ir._n=!0,ir._c=!0,ir._d=!0,ir}function withDirectives(rr,er){if(currentRenderingInstance===null)return rr;const tr=getComponentPublicInstance(currentRenderingInstance),ir=rr.dirs||(rr.dirs=[]);for(let nr=0;nr<er.length;nr++){let[sr,ar,or,lr=EMPTY_OBJ]=er[nr];sr&&(isFunction(sr)&&(sr={mounted:sr,updated:sr}),sr.deep&&traverse(ar),ir.push({dir:sr,instance:tr,value:ar,oldValue:void 0,arg:or,modifiers:lr}))}return rr}function invokeDirectiveHook(rr,er,tr,ir){const nr=rr.dirs,sr=er&&er.dirs;for(let ar=0;ar<nr.length;ar++){const or=nr[ar];sr&&(or.oldValue=sr[ar].value);let lr=or.dir[ir];lr&&(pauseTracking(),callWithAsyncErrorHandling(lr,tr,8,[rr.el,or,rr,er]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=rr=>rr.__isTeleport,leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const rr={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{rr.isMounted=!0}),onBeforeUnmount(()=>{rr.isUnmounting=!0}),rr}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=rr=>{const er=rr.subTree;return er.component?recursiveGetSubtree(er.component):er},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(rr,{slots:er}){const tr=getCurrentInstance(),ir=useTransitionState();return()=>{const nr=er.default&&getTransitionRawChildren(er.default(),!0);if(!nr||!nr.length)return;const sr=findNonCommentChild(nr),ar=toRaw(rr),{mode:or}=ar;if(ir.isLeaving)return emptyPlaceholder(sr);const lr=getInnerChild$1(sr);if(!lr)return emptyPlaceholder(sr);let cr=resolveTransitionHooks(lr,ar,ir,tr,hr=>cr=hr);lr.type!==Comment&&setTransitionHooks(lr,cr);let ur=tr.subTree&&getInnerChild$1(tr.subTree);if(ur&&ur.type!==Comment&&!isSameVNodeType(lr,ur)&&recursiveGetSubtree(tr).type!==Comment){let hr=resolveTransitionHooks(ur,ar,ir,tr);if(setTransitionHooks(ur,hr),or==="out-in"&&lr.type!==Comment)return ir.isLeaving=!0,hr.afterLeave=()=>{ir.isLeaving=!1,tr.job.flags&8||tr.update(),delete hr.afterLeave,ur=void 0},emptyPlaceholder(sr);or==="in-out"&&lr.type!==Comment?hr.delayLeave=(dr,gr,pr)=>{const mr=getLeavingNodesForType(ir,ur);mr[String(ur.key)]=ur,dr[leaveCbKey]=()=>{gr(),dr[leaveCbKey]=void 0,delete cr.delayedLeave,ur=void 0},cr.delayedLeave=()=>{pr(),delete cr.delayedLeave,ur=void 0}}:ur=void 0}else ur&&(ur=void 0);return sr}}};function findNonCommentChild(rr){let er=rr[0];if(rr.length>1){for(const tr of rr)if(tr.type!==Comment){er=tr;break}}return er}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(rr,er){const{leavingVNodes:tr}=rr;let ir=tr.get(er.type);return ir||(ir=Object.create(null),tr.set(er.type,ir)),ir}function resolveTransitionHooks(rr,er,tr,ir,nr){const{appear:sr,mode:ar,persisted:or=!1,onBeforeEnter:lr,onEnter:cr,onAfterEnter:ur,onEnterCancelled:hr,onBeforeLeave:dr,onLeave:gr,onAfterLeave:pr,onLeaveCancelled:mr,onBeforeAppear:vr,onAppear:yr,onAfterAppear:br,onAppearCancelled:wr}=er,Pr=String(rr.key),Tr=getLeavingNodesForType(tr,rr),Vr=(Er,Cr)=>{Er&&callWithAsyncErrorHandling(Er,ir,9,Cr)},Ar=(Er,Cr)=>{const Rr=Cr[1];Vr(Er,Cr),isArray$2(Er)?Er.every(kr=>kr.length<=1)&&Rr():Er.length<=1&&Rr()},xr={mode:ar,persisted:or,beforeEnter(Er){let Cr=lr;if(!tr.isMounted)if(sr)Cr=vr||lr;else return;Er[leaveCbKey]&&Er[leaveCbKey](!0);const Rr=Tr[Pr];Rr&&isSameVNodeType(rr,Rr)&&Rr.el[leaveCbKey]&&Rr.el[leaveCbKey](),Vr(Cr,[Er])},enter(Er){let Cr=cr,Rr=ur,kr=hr;if(!tr.isMounted)if(sr)Cr=yr||cr,Rr=br||ur,kr=wr||hr;else return;let Sr=!1;const Nr=Er[enterCbKey]=Hr=>{Sr||(Sr=!0,Hr?Vr(kr,[Er]):Vr(Rr,[Er]),xr.delayedLeave&&xr.delayedLeave(),Er[enterCbKey]=void 0)};Cr?Ar(Cr,[Er,Nr]):Nr()},leave(Er,Cr){const Rr=String(rr.key);if(Er[enterCbKey]&&Er[enterCbKey](!0),tr.isUnmounting)return Cr();Vr(dr,[Er]);let kr=!1;const Sr=Er[leaveCbKey]=Nr=>{kr||(kr=!0,Cr(),Nr?Vr(mr,[Er]):Vr(pr,[Er]),Er[leaveCbKey]=void 0,Tr[Rr]===rr&&delete Tr[Rr])};Tr[Rr]=rr,gr?Ar(gr,[Er,Sr]):Sr()},clone(Er){const Cr=resolveTransitionHooks(Er,er,tr,ir,nr);return nr&&nr(Cr),Cr}};return xr}function emptyPlaceholder(rr){if(isKeepAlive(rr))return rr=cloneVNode(rr),rr.children=null,rr}function getInnerChild$1(rr){if(!isKeepAlive(rr))return isTeleport(rr.type)&&rr.children?findNonCommentChild(rr.children):rr;const{shapeFlag:er,children:tr}=rr;if(tr){if(er&16)return tr[0];if(er&32&&isFunction(tr.default))return tr.default()}}function setTransitionHooks(rr,er){rr.shapeFlag&6&&rr.component?(rr.transition=er,setTransitionHooks(rr.component.subTree,er)):rr.shapeFlag&128?(rr.ssContent.transition=er.clone(rr.ssContent),rr.ssFallback.transition=er.clone(rr.ssFallback)):rr.transition=er}function getTransitionRawChildren(rr,er=!1,tr){let ir=[],nr=0;for(let sr=0;sr<rr.length;sr++){let ar=rr[sr];const or=tr==null?ar.key:String(tr)+String(ar.key!=null?ar.key:sr);ar.type===Fragment?(ar.patchFlag&128&&nr++,ir=ir.concat(getTransitionRawChildren(ar.children,er,or))):(er||ar.type!==Comment)&&ir.push(or!=null?cloneVNode(ar,{key:or}):ar)}if(nr>1)for(let sr=0;sr<ir.length;sr++)ir[sr].patchFlag=-2;return ir}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(rr,er){return isFunction(rr)?extend({name:rr.name},er,{setup:rr}):rr}function markAsyncBoundary(rr){rr.ids=[rr.ids[0]+rr.ids[2]+++"-",0,0]}function setRef(rr,er,tr,ir,nr=!1){if(isArray$2(rr)){rr.forEach((pr,mr)=>setRef(pr,er&&(isArray$2(er)?er[mr]:er),tr,ir,nr));return}if(isAsyncWrapper(ir)&&!nr){ir.shapeFlag&512&&ir.type.__asyncResolved&&ir.component.subTree.component&&setRef(rr,er,tr,ir.component.subTree);return}const sr=ir.shapeFlag&4?getComponentPublicInstance(ir.component):ir.el,ar=nr?null:sr,{i:or,r:lr}=rr,cr=er&&er.r,ur=or.refs===EMPTY_OBJ?or.refs={}:or.refs,hr=or.setupState,dr=toRaw(hr),gr=hr===EMPTY_OBJ?()=>!1:pr=>hasOwn(dr,pr);if(cr!=null&&cr!==lr&&(isString(cr)?(ur[cr]=null,gr(cr)&&(hr[cr]=null)):isRef(cr)&&(cr.value=null)),isFunction(lr))callWithErrorHandling(lr,or,12,[ar,ur]);else{const pr=isString(lr),mr=isRef(lr);if(pr||mr){const vr=()=>{if(rr.f){const yr=pr?gr(lr)?hr[lr]:ur[lr]:lr.value;nr?isArray$2(yr)&&remove(yr,sr):isArray$2(yr)?yr.includes(sr)||yr.push(sr):pr?(ur[lr]=[sr],gr(lr)&&(hr[lr]=ur[lr])):(lr.value=[sr],rr.k&&(ur[rr.k]=lr.value))}else pr?(ur[lr]=ar,gr(lr)&&(hr[lr]=ar)):mr&&(lr.value=ar,rr.k&&(ur[rr.k]=ar))};ar?(vr.id=-1,queuePostRenderEffect(vr,tr)):vr()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=rr=>!!rr.type.__asyncLoader,isKeepAlive=rr=>rr.type.__isKeepAlive;function onActivated(rr,er){registerKeepAliveHook(rr,"a",er)}function onDeactivated(rr,er){registerKeepAliveHook(rr,"da",er)}function registerKeepAliveHook(rr,er,tr=currentInstance){const ir=rr.__wdc||(rr.__wdc=()=>{let nr=tr;for(;nr;){if(nr.isDeactivated)return;nr=nr.parent}return rr()});if(injectHook(er,ir,tr),tr){let nr=tr.parent;for(;nr&&nr.parent;)isKeepAlive(nr.parent.vnode)&&injectToKeepAliveRoot(ir,er,tr,nr),nr=nr.parent}}function injectToKeepAliveRoot(rr,er,tr,ir){const nr=injectHook(er,rr,ir,!0);onUnmounted(()=>{remove(ir[er],nr)},tr)}function injectHook(rr,er,tr=currentInstance,ir=!1){if(tr){const nr=tr[rr]||(tr[rr]=[]),sr=er.__weh||(er.__weh=(...ar)=>{pauseTracking();const or=setCurrentInstance(tr),lr=callWithAsyncErrorHandling(er,tr,rr,ar);return or(),resetTracking(),lr});return ir?nr.unshift(sr):nr.push(sr),sr}}const createHook=rr=>(er,tr=currentInstance)=>{(!isInSSRComponentSetup||rr==="sp")&&injectHook(rr,(...ir)=>er(...ir),tr)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(rr,er=currentInstance){injectHook("ec",rr,er)}const COMPONENTS="components";function resolveComponent(rr,er){return resolveAsset(COMPONENTS,rr,!0,er)||rr}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(rr,er,tr=!0,ir=!1){const nr=currentRenderingInstance||currentInstance;if(nr){const sr=nr.type;{const or=getComponentName(sr,!1);if(or&&(or===er||or===camelize(er)||or===capitalize(camelize(er))))return sr}const ar=resolve(nr[rr]||sr[rr],er)||resolve(nr.appContext[rr],er);return!ar&&ir?sr:ar}}function resolve(rr,er){return rr&&(rr[er]||rr[camelize(er)]||rr[capitalize(camelize(er))])}function renderList(rr,er,tr,ir){let nr;const sr=tr,ar=isArray$2(rr);if(ar||isString(rr)){const or=ar&&isReactive(rr);let lr=!1;or&&(lr=!isShallow(rr),rr=shallowReadArray(rr)),nr=new Array(rr.length);for(let cr=0,ur=rr.length;cr<ur;cr++)nr[cr]=er(lr?toReactive(rr[cr]):rr[cr],cr,void 0,sr)}else if(typeof rr=="number"){nr=new Array(rr);for(let or=0;or<rr;or++)nr[or]=er(or+1,or,void 0,sr)}else if(isObject$1(rr))if(rr[Symbol.iterator])nr=Array.from(rr,(or,lr)=>er(or,lr,void 0,sr));else{const or=Object.keys(rr);nr=new Array(or.length);for(let lr=0,cr=or.length;lr<cr;lr++){const ur=or[lr];nr[lr]=er(rr[ur],ur,lr,sr)}}else nr=[];return nr}const getPublicInstance=rr=>rr?isStatefulComponent(rr)?getComponentPublicInstance(rr):getPublicInstance(rr.parent):null,publicPropertiesMap=extend(Object.create(null),{$:rr=>rr,$el:rr=>rr.vnode.el,$data:rr=>rr.data,$props:rr=>rr.props,$attrs:rr=>rr.attrs,$slots:rr=>rr.slots,$refs:rr=>rr.refs,$parent:rr=>getPublicInstance(rr.parent),$root:rr=>getPublicInstance(rr.root),$host:rr=>rr.ce,$emit:rr=>rr.emit,$options:rr=>resolveMergedOptions(rr),$forceUpdate:rr=>rr.f||(rr.f=()=>{queueJob(rr.update)}),$nextTick:rr=>rr.n||(rr.n=nextTick.bind(rr.proxy)),$watch:rr=>instanceWatch.bind(rr)}),hasSetupBinding=(rr,er)=>rr!==EMPTY_OBJ&&!rr.__isScriptSetup&&hasOwn(rr,er),PublicInstanceProxyHandlers={get({_:rr},er){if(er==="__v_skip")return!0;const{ctx:tr,setupState:ir,data:nr,props:sr,accessCache:ar,type:or,appContext:lr}=rr;let cr;if(er[0]!=="$"){const gr=ar[er];if(gr!==void 0)switch(gr){case 1:return ir[er];case 2:return nr[er];case 4:return tr[er];case 3:return sr[er]}else{if(hasSetupBinding(ir,er))return ar[er]=1,ir[er];if(nr!==EMPTY_OBJ&&hasOwn(nr,er))return ar[er]=2,nr[er];if((cr=rr.propsOptions[0])&&hasOwn(cr,er))return ar[er]=3,sr[er];if(tr!==EMPTY_OBJ&&hasOwn(tr,er))return ar[er]=4,tr[er];shouldCacheAccess&&(ar[er]=0)}}const ur=publicPropertiesMap[er];let hr,dr;if(ur)return er==="$attrs"&&track(rr.attrs,"get",""),ur(rr);if((hr=or.__cssModules)&&(hr=hr[er]))return hr;if(tr!==EMPTY_OBJ&&hasOwn(tr,er))return ar[er]=4,tr[er];if(dr=lr.config.globalProperties,hasOwn(dr,er))return dr[er]},set({_:rr},er,tr){const{data:ir,setupState:nr,ctx:sr}=rr;return hasSetupBinding(nr,er)?(nr[er]=tr,!0):ir!==EMPTY_OBJ&&hasOwn(ir,er)?(ir[er]=tr,!0):hasOwn(rr.props,er)||er[0]==="$"&&er.slice(1)in rr?!1:(sr[er]=tr,!0)},has({_:{data:rr,setupState:er,accessCache:tr,ctx:ir,appContext:nr,propsOptions:sr}},ar){let or;return!!tr[ar]||rr!==EMPTY_OBJ&&hasOwn(rr,ar)||hasSetupBinding(er,ar)||(or=sr[0])&&hasOwn(or,ar)||hasOwn(ir,ar)||hasOwn(publicPropertiesMap,ar)||hasOwn(nr.config.globalProperties,ar)},defineProperty(rr,er,tr){return tr.get!=null?rr._.accessCache[er]=0:hasOwn(tr,"value")&&this.set(rr,er,tr.value,null),Reflect.defineProperty(rr,er,tr)}};function normalizePropsOrEmits(rr){return isArray$2(rr)?rr.reduce((er,tr)=>(er[tr]=null,er),{}):rr}let shouldCacheAccess=!0;function applyOptions(rr){const er=resolveMergedOptions(rr),tr=rr.proxy,ir=rr.ctx;shouldCacheAccess=!1,er.beforeCreate&&callHook$1(er.beforeCreate,rr,"bc");const{data:nr,computed:sr,methods:ar,watch:or,provide:lr,inject:cr,created:ur,beforeMount:hr,mounted:dr,beforeUpdate:gr,updated:pr,activated:mr,deactivated:vr,beforeDestroy:yr,beforeUnmount:br,destroyed:wr,unmounted:Pr,render:Tr,renderTracked:Vr,renderTriggered:Ar,errorCaptured:xr,serverPrefetch:Er,expose:Cr,inheritAttrs:Rr,components:kr,directives:Sr,filters:Nr}=er;if(cr&&resolveInjections(cr,ir,null),ar)for(const $r in ar){const jr=ar[$r];isFunction(jr)&&(ir[$r]=jr.bind(tr))}if(nr){const $r=nr.call(tr,tr);isObject$1($r)&&(rr.data=reactive($r))}if(shouldCacheAccess=!0,sr)for(const $r in sr){const jr=sr[$r],Jr=isFunction(jr)?jr.bind(tr,tr):isFunction(jr.get)?jr.get.bind(tr,tr):NOOP,ln=!isFunction(jr)&&isFunction(jr.set)?jr.set.bind(tr):NOOP,un=computed({get:Jr,set:ln});Object.defineProperty(ir,$r,{enumerable:!0,configurable:!0,get:()=>un.value,set:Qr=>un.value=Qr})}if(or)for(const $r in or)createWatcher(or[$r],ir,tr,$r);if(lr){const $r=isFunction(lr)?lr.call(tr):lr;Reflect.ownKeys($r).forEach(jr=>{provide(jr,$r[jr])})}ur&&callHook$1(ur,rr,"c");function zr($r,jr){isArray$2(jr)?jr.forEach(Jr=>$r(Jr.bind(tr))):jr&&$r(jr.bind(tr))}if(zr(onBeforeMount,hr),zr(onMounted,dr),zr(onBeforeUpdate,gr),zr(onUpdated,pr),zr(onActivated,mr),zr(onDeactivated,vr),zr(onErrorCaptured,xr),zr(onRenderTracked,Vr),zr(onRenderTriggered,Ar),zr(onBeforeUnmount,br),zr(onUnmounted,Pr),zr(onServerPrefetch,Er),isArray$2(Cr))if(Cr.length){const $r=rr.exposed||(rr.exposed={});Cr.forEach(jr=>{Object.defineProperty($r,jr,{get:()=>tr[jr],set:Jr=>tr[jr]=Jr})})}else rr.exposed||(rr.exposed={});Tr&&rr.render===NOOP&&(rr.render=Tr),Rr!=null&&(rr.inheritAttrs=Rr),kr&&(rr.components=kr),Sr&&(rr.directives=Sr),Er&&markAsyncBoundary(rr)}function resolveInjections(rr,er,tr=NOOP){isArray$2(rr)&&(rr=normalizeInject(rr));for(const ir in rr){const nr=rr[ir];let sr;isObject$1(nr)?"default"in nr?sr=inject(nr.from||ir,nr.default,!0):sr=inject(nr.from||ir):sr=inject(nr),isRef(sr)?Object.defineProperty(er,ir,{enumerable:!0,configurable:!0,get:()=>sr.value,set:ar=>sr.value=ar}):er[ir]=sr}}function callHook$1(rr,er,tr){callWithAsyncErrorHandling(isArray$2(rr)?rr.map(ir=>ir.bind(er.proxy)):rr.bind(er.proxy),er,tr)}function createWatcher(rr,er,tr,ir){let nr=ir.includes(".")?createPathGetter(tr,ir):()=>tr[ir];if(isString(rr)){const sr=er[rr];isFunction(sr)&&watch(nr,sr)}else if(isFunction(rr))watch(nr,rr.bind(tr));else if(isObject$1(rr))if(isArray$2(rr))rr.forEach(sr=>createWatcher(sr,er,tr,ir));else{const sr=isFunction(rr.handler)?rr.handler.bind(tr):er[rr.handler];isFunction(sr)&&watch(nr,sr,rr)}}function resolveMergedOptions(rr){const er=rr.type,{mixins:tr,extends:ir}=er,{mixins:nr,optionsCache:sr,config:{optionMergeStrategies:ar}}=rr.appContext,or=sr.get(er);let lr;return or?lr=or:!nr.length&&!tr&&!ir?lr=er:(lr={},nr.length&&nr.forEach(cr=>mergeOptions$1(lr,cr,ar,!0)),mergeOptions$1(lr,er,ar)),isObject$1(er)&&sr.set(er,lr),lr}function mergeOptions$1(rr,er,tr,ir=!1){const{mixins:nr,extends:sr}=er;sr&&mergeOptions$1(rr,sr,tr,!0),nr&&nr.forEach(ar=>mergeOptions$1(rr,ar,tr,!0));for(const ar in er)if(!(ir&&ar==="expose")){const or=internalOptionMergeStrats[ar]||tr&&tr[ar];rr[ar]=or?or(rr[ar],er[ar]):er[ar]}return rr}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(rr,er){return er?rr?function(){return extend(isFunction(rr)?rr.call(this,this):rr,isFunction(er)?er.call(this,this):er)}:er:rr}function mergeInject(rr,er){return mergeObjectOptions(normalizeInject(rr),normalizeInject(er))}function normalizeInject(rr){if(isArray$2(rr)){const er={};for(let tr=0;tr<rr.length;tr++)er[rr[tr]]=rr[tr];return er}return rr}function mergeAsArray(rr,er){return rr?[...new Set([].concat(rr,er))]:er}function mergeObjectOptions(rr,er){return rr?extend(Object.create(null),rr,er):er}function mergeEmitsOrPropsOptions(rr,er){return rr?isArray$2(rr)&&isArray$2(er)?[...new Set([...rr,...er])]:extend(Object.create(null),normalizePropsOrEmits(rr),normalizePropsOrEmits(er??{})):er}function mergeWatchOptions(rr,er){if(!rr)return er;if(!er)return rr;const tr=extend(Object.create(null),rr);for(const ir in er)tr[ir]=mergeAsArray(rr[ir],er[ir]);return tr}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(rr,er){return function(ir,nr=null){isFunction(ir)||(ir=extend({},ir)),nr!=null&&!isObject$1(nr)&&(nr=null);const sr=createAppContext(),ar=new WeakSet,or=[];let lr=!1;const cr=sr.app={_uid:uid$1++,_component:ir,_props:nr,_container:null,_context:sr,_instance:null,version:version$3,get config(){return sr.config},set config(ur){},use(ur,...hr){return ar.has(ur)||(ur&&isFunction(ur.install)?(ar.add(ur),ur.install(cr,...hr)):isFunction(ur)&&(ar.add(ur),ur(cr,...hr))),cr},mixin(ur){return sr.mixins.includes(ur)||sr.mixins.push(ur),cr},component(ur,hr){return hr?(sr.components[ur]=hr,cr):sr.components[ur]},directive(ur,hr){return hr?(sr.directives[ur]=hr,cr):sr.directives[ur]},mount(ur,hr,dr){if(!lr){const gr=cr._ceVNode||createVNode(ir,nr);return gr.appContext=sr,dr===!0?dr="svg":dr===!1&&(dr=void 0),rr(gr,ur,dr),lr=!0,cr._container=ur,ur.__vue_app__=cr,getComponentPublicInstance(gr.component)}},onUnmount(ur){or.push(ur)},unmount(){lr&&(callWithAsyncErrorHandling(or,cr._instance,16),rr(null,cr._container),delete cr._container.__vue_app__)},provide(ur,hr){return sr.provides[ur]=hr,cr},runWithContext(ur){const hr=currentApp;currentApp=cr;try{return ur()}finally{currentApp=hr}}};return cr}}let currentApp=null;function provide(rr,er){if(currentInstance){let tr=currentInstance.provides;const ir=currentInstance.parent&&currentInstance.parent.provides;ir===tr&&(tr=currentInstance.provides=Object.create(ir)),tr[rr]=er}}function inject(rr,er,tr=!1){const ir=currentInstance||currentRenderingInstance;if(ir||currentApp){const nr=currentApp?currentApp._context.provides:ir?ir.parent==null?ir.vnode.appContext&&ir.vnode.appContext.provides:ir.parent.provides:void 0;if(nr&&rr in nr)return nr[rr];if(arguments.length>1)return tr&&isFunction(er)?er.call(ir&&ir.proxy):er}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=rr=>Object.getPrototypeOf(rr)===internalObjectProto;function initProps(rr,er,tr,ir=!1){const nr={},sr=createInternalObject();rr.propsDefaults=Object.create(null),setFullProps(rr,er,nr,sr);for(const ar in rr.propsOptions[0])ar in nr||(nr[ar]=void 0);tr?rr.props=ir?nr:shallowReactive(nr):rr.type.props?rr.props=nr:rr.props=sr,rr.attrs=sr}function updateProps(rr,er,tr,ir){const{props:nr,attrs:sr,vnode:{patchFlag:ar}}=rr,or=toRaw(nr),[lr]=rr.propsOptions;let cr=!1;if((ir||ar>0)&&!(ar&16)){if(ar&8){const ur=rr.vnode.dynamicProps;for(let hr=0;hr<ur.length;hr++){let dr=ur[hr];if(isEmitListener(rr.emitsOptions,dr))continue;const gr=er[dr];if(lr)if(hasOwn(sr,dr))gr!==sr[dr]&&(sr[dr]=gr,cr=!0);else{const pr=camelize(dr);nr[pr]=resolvePropValue(lr,or,pr,gr,rr,!1)}else gr!==sr[dr]&&(sr[dr]=gr,cr=!0)}}}else{setFullProps(rr,er,nr,sr)&&(cr=!0);let ur;for(const hr in or)(!er||!hasOwn(er,hr)&&((ur=hyphenate(hr))===hr||!hasOwn(er,ur)))&&(lr?tr&&(tr[hr]!==void 0||tr[ur]!==void 0)&&(nr[hr]=resolvePropValue(lr,or,hr,void 0,rr,!0)):delete nr[hr]);if(sr!==or)for(const hr in sr)(!er||!hasOwn(er,hr))&&(delete sr[hr],cr=!0)}cr&&trigger(rr.attrs,"set","")}function setFullProps(rr,er,tr,ir){const[nr,sr]=rr.propsOptions;let ar=!1,or;if(er)for(let lr in er){if(isReservedProp(lr))continue;const cr=er[lr];let ur;nr&&hasOwn(nr,ur=camelize(lr))?!sr||!sr.includes(ur)?tr[ur]=cr:(or||(or={}))[ur]=cr:isEmitListener(rr.emitsOptions,lr)||(!(lr in ir)||cr!==ir[lr])&&(ir[lr]=cr,ar=!0)}if(sr){const lr=toRaw(tr),cr=or||EMPTY_OBJ;for(let ur=0;ur<sr.length;ur++){const hr=sr[ur];tr[hr]=resolvePropValue(nr,lr,hr,cr[hr],rr,!hasOwn(cr,hr))}}return ar}function resolvePropValue(rr,er,tr,ir,nr,sr){const ar=rr[tr];if(ar!=null){const or=hasOwn(ar,"default");if(or&&ir===void 0){const lr=ar.default;if(ar.type!==Function&&!ar.skipFactory&&isFunction(lr)){const{propsDefaults:cr}=nr;if(tr in cr)ir=cr[tr];else{const ur=setCurrentInstance(nr);ir=cr[tr]=lr.call(null,er),ur()}}else ir=lr;nr.ce&&nr.ce._setProp(tr,ir)}ar[0]&&(sr&&!or?ir=!1:ar[1]&&(ir===""||ir===hyphenate(tr))&&(ir=!0))}return ir}const mixinPropsCache=new WeakMap;function normalizePropsOptions(rr,er,tr=!1){const ir=tr?mixinPropsCache:er.propsCache,nr=ir.get(rr);if(nr)return nr;const sr=rr.props,ar={},or=[];let lr=!1;if(!isFunction(rr)){const ur=hr=>{lr=!0;const[dr,gr]=normalizePropsOptions(hr,er,!0);extend(ar,dr),gr&&or.push(...gr)};!tr&&er.mixins.length&&er.mixins.forEach(ur),rr.extends&&ur(rr.extends),rr.mixins&&rr.mixins.forEach(ur)}if(!sr&&!lr)return isObject$1(rr)&&ir.set(rr,EMPTY_ARR),EMPTY_ARR;if(isArray$2(sr))for(let ur=0;ur<sr.length;ur++){const hr=camelize(sr[ur]);validatePropName(hr)&&(ar[hr]=EMPTY_OBJ)}else if(sr)for(const ur in sr){const hr=camelize(ur);if(validatePropName(hr)){const dr=sr[ur],gr=ar[hr]=isArray$2(dr)||isFunction(dr)?{type:dr}:extend({},dr),pr=gr.type;let mr=!1,vr=!0;if(isArray$2(pr))for(let yr=0;yr<pr.length;++yr){const br=pr[yr],wr=isFunction(br)&&br.name;if(wr==="Boolean"){mr=!0;break}else wr==="String"&&(vr=!1)}else mr=isFunction(pr)&&pr.name==="Boolean";gr[0]=mr,gr[1]=vr,(mr||hasOwn(gr,"default"))&&or.push(hr)}}const cr=[ar,or];return isObject$1(rr)&&ir.set(rr,cr),cr}function validatePropName(rr){return rr[0]!=="$"&&!isReservedProp(rr)}const isInternalKey=rr=>rr[0]==="_"||rr==="$stable",normalizeSlotValue=rr=>isArray$2(rr)?rr.map(normalizeVNode):[normalizeVNode(rr)],normalizeSlot$1=(rr,er,tr)=>{if(er._n)return er;const ir=withCtx((...nr)=>normalizeSlotValue(er(...nr)),tr);return ir._c=!1,ir},normalizeObjectSlots=(rr,er,tr)=>{const ir=rr._ctx;for(const nr in rr){if(isInternalKey(nr))continue;const sr=rr[nr];if(isFunction(sr))er[nr]=normalizeSlot$1(nr,sr,ir);else if(sr!=null){const ar=normalizeSlotValue(sr);er[nr]=()=>ar}}},normalizeVNodeSlots=(rr,er)=>{const tr=normalizeSlotValue(er);rr.slots.default=()=>tr},assignSlots=(rr,er,tr)=>{for(const ir in er)(tr||ir!=="_")&&(rr[ir]=er[ir])},initSlots=(rr,er,tr)=>{const ir=rr.slots=createInternalObject();if(rr.vnode.shapeFlag&32){const nr=er._;nr?(assignSlots(ir,er,tr),tr&&def(ir,"_",nr,!0)):normalizeObjectSlots(er,ir)}else er&&normalizeVNodeSlots(rr,er)},updateSlots=(rr,er,tr)=>{const{vnode:ir,slots:nr}=rr;let sr=!0,ar=EMPTY_OBJ;if(ir.shapeFlag&32){const or=er._;or?tr&&or===1?sr=!1:assignSlots(nr,er,tr):(sr=!er.$stable,normalizeObjectSlots(er,nr)),ar=er}else er&&(normalizeVNodeSlots(rr,er),ar={default:1});if(sr)for(const or in nr)!isInternalKey(or)&&ar[or]==null&&delete nr[or]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(rr){return baseCreateRenderer(rr)}function baseCreateRenderer(rr,er){const tr=getGlobalThis();tr.__VUE__=!0;const{insert:ir,remove:nr,patchProp:sr,createElement:ar,createText:or,createComment:lr,setText:cr,setElementText:ur,parentNode:hr,nextSibling:dr,setScopeId:gr=NOOP,insertStaticContent:pr}=rr,mr=(Or,Lr,Dr,Wr=null,Xr=null,Yr=null,cn=void 0,an=null,nn=!!Lr.dynamicChildren)=>{if(Or===Lr)return;Or&&!isSameVNodeType(Or,Lr)&&(Wr=Br(Or),Qr(Or,Xr,Yr,!0),Or=null),Lr.patchFlag===-2&&(nn=!1,Lr.dynamicChildren=null);const{type:Kr,ref:mn,shapeFlag:hn}=Lr;switch(Kr){case Text:vr(Or,Lr,Dr,Wr);break;case Comment:yr(Or,Lr,Dr,Wr);break;case Static:Or==null&&br(Lr,Dr,Wr,cn);break;case Fragment:kr(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn);break;default:hn&1?Tr(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn):hn&6?Sr(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn):(hn&64||hn&128)&&Kr.process(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn,Zr)}mn!=null&&Xr&&setRef(mn,Or&&Or.ref,Yr,Lr||Or,!Lr)},vr=(Or,Lr,Dr,Wr)=>{if(Or==null)ir(Lr.el=or(Lr.children),Dr,Wr);else{const Xr=Lr.el=Or.el;Lr.children!==Or.children&&cr(Xr,Lr.children)}},yr=(Or,Lr,Dr,Wr)=>{Or==null?ir(Lr.el=lr(Lr.children||""),Dr,Wr):Lr.el=Or.el},br=(Or,Lr,Dr,Wr)=>{[Or.el,Or.anchor]=pr(Or.children,Lr,Dr,Wr,Or.el,Or.anchor)},wr=({el:Or,anchor:Lr},Dr,Wr)=>{let Xr;for(;Or&&Or!==Lr;)Xr=dr(Or),ir(Or,Dr,Wr),Or=Xr;ir(Lr,Dr,Wr)},Pr=({el:Or,anchor:Lr})=>{let Dr;for(;Or&&Or!==Lr;)Dr=dr(Or),nr(Or),Or=Dr;nr(Lr)},Tr=(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn)=>{Lr.type==="svg"?cn="svg":Lr.type==="math"&&(cn="mathml"),Or==null?Vr(Lr,Dr,Wr,Xr,Yr,cn,an,nn):Er(Or,Lr,Xr,Yr,cn,an,nn)},Vr=(Or,Lr,Dr,Wr,Xr,Yr,cn,an)=>{let nn,Kr;const{props:mn,shapeFlag:hn,transition:gn,dirs:bn}=Or;if(nn=Or.el=ar(Or.type,Yr,mn&&mn.is,mn),hn&8?ur(nn,Or.children):hn&16&&xr(Or.children,nn,null,Wr,Xr,resolveChildrenNamespace(Or,Yr),cn,an),bn&&invokeDirectiveHook(Or,null,Wr,"created"),Ar(nn,Or,Or.scopeId,cn,Wr),mn){for(const _n in mn)_n!=="value"&&!isReservedProp(_n)&&sr(nn,_n,null,mn[_n],Yr,Wr);"value"in mn&&sr(nn,"value",null,mn.value,Yr),(Kr=mn.onVnodeBeforeMount)&&invokeVNodeHook(Kr,Wr,Or)}bn&&invokeDirectiveHook(Or,null,Wr,"beforeMount");const vn=needTransition(Xr,gn);vn&&gn.beforeEnter(nn),ir(nn,Lr,Dr),((Kr=mn&&mn.onVnodeMounted)||vn||bn)&&queuePostRenderEffect(()=>{Kr&&invokeVNodeHook(Kr,Wr,Or),vn&&gn.enter(nn),bn&&invokeDirectiveHook(Or,null,Wr,"mounted")},Xr)},Ar=(Or,Lr,Dr,Wr,Xr)=>{if(Dr&&gr(Or,Dr),Wr)for(let Yr=0;Yr<Wr.length;Yr++)gr(Or,Wr[Yr]);if(Xr){let Yr=Xr.subTree;if(Lr===Yr||isSuspense(Yr.type)&&(Yr.ssContent===Lr||Yr.ssFallback===Lr)){const cn=Xr.vnode;Ar(Or,cn,cn.scopeId,cn.slotScopeIds,Xr.parent)}}},xr=(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn=0)=>{for(let Kr=nn;Kr<Or.length;Kr++){const mn=Or[Kr]=an?cloneIfMounted(Or[Kr]):normalizeVNode(Or[Kr]);mr(null,mn,Lr,Dr,Wr,Xr,Yr,cn,an)}},Er=(Or,Lr,Dr,Wr,Xr,Yr,cn)=>{const an=Lr.el=Or.el;let{patchFlag:nn,dynamicChildren:Kr,dirs:mn}=Lr;nn|=Or.patchFlag&16;const hn=Or.props||EMPTY_OBJ,gn=Lr.props||EMPTY_OBJ;let bn;if(Dr&&toggleRecurse(Dr,!1),(bn=gn.onVnodeBeforeUpdate)&&invokeVNodeHook(bn,Dr,Lr,Or),mn&&invokeDirectiveHook(Lr,Or,Dr,"beforeUpdate"),Dr&&toggleRecurse(Dr,!0),(hn.innerHTML&&gn.innerHTML==null||hn.textContent&&gn.textContent==null)&&ur(an,""),Kr?Cr(Or.dynamicChildren,Kr,an,Dr,Wr,resolveChildrenNamespace(Lr,Xr),Yr):cn||jr(Or,Lr,an,null,Dr,Wr,resolveChildrenNamespace(Lr,Xr),Yr,!1),nn>0){if(nn&16)Rr(an,hn,gn,Dr,Xr);else if(nn&2&&hn.class!==gn.class&&sr(an,"class",null,gn.class,Xr),nn&4&&sr(an,"style",hn.style,gn.style,Xr),nn&8){const vn=Lr.dynamicProps;for(let _n=0;_n<vn.length;_n++){const xn=vn[_n],Cn=hn[xn],Pn=gn[xn];(Pn!==Cn||xn==="value")&&sr(an,xn,Cn,Pn,Xr,Dr)}}nn&1&&Or.children!==Lr.children&&ur(an,Lr.children)}else!cn&&Kr==null&&Rr(an,hn,gn,Dr,Xr);((bn=gn.onVnodeUpdated)||mn)&&queuePostRenderEffect(()=>{bn&&invokeVNodeHook(bn,Dr,Lr,Or),mn&&invokeDirectiveHook(Lr,Or,Dr,"updated")},Wr)},Cr=(Or,Lr,Dr,Wr,Xr,Yr,cn)=>{for(let an=0;an<Lr.length;an++){const nn=Or[an],Kr=Lr[an],mn=nn.el&&(nn.type===Fragment||!isSameVNodeType(nn,Kr)||nn.shapeFlag&70)?hr(nn.el):Dr;mr(nn,Kr,mn,null,Wr,Xr,Yr,cn,!0)}},Rr=(Or,Lr,Dr,Wr,Xr)=>{if(Lr!==Dr){if(Lr!==EMPTY_OBJ)for(const Yr in Lr)!isReservedProp(Yr)&&!(Yr in Dr)&&sr(Or,Yr,Lr[Yr],null,Xr,Wr);for(const Yr in Dr){if(isReservedProp(Yr))continue;const cn=Dr[Yr],an=Lr[Yr];cn!==an&&Yr!=="value"&&sr(Or,Yr,an,cn,Xr,Wr)}"value"in Dr&&sr(Or,"value",Lr.value,Dr.value,Xr)}},kr=(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn)=>{const Kr=Lr.el=Or?Or.el:or(""),mn=Lr.anchor=Or?Or.anchor:or("");let{patchFlag:hn,dynamicChildren:gn,slotScopeIds:bn}=Lr;bn&&(an=an?an.concat(bn):bn),Or==null?(ir(Kr,Dr,Wr),ir(mn,Dr,Wr),xr(Lr.children||[],Dr,mn,Xr,Yr,cn,an,nn)):hn>0&&hn&64&&gn&&Or.dynamicChildren?(Cr(Or.dynamicChildren,gn,Dr,Xr,Yr,cn,an),(Lr.key!=null||Xr&&Lr===Xr.subTree)&&traverseStaticChildren(Or,Lr,!0)):jr(Or,Lr,Dr,mn,Xr,Yr,cn,an,nn)},Sr=(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn)=>{Lr.slotScopeIds=an,Or==null?Lr.shapeFlag&512?Xr.ctx.activate(Lr,Dr,Wr,cn,nn):Nr(Lr,Dr,Wr,Xr,Yr,cn,nn):Hr(Or,Lr,nn)},Nr=(Or,Lr,Dr,Wr,Xr,Yr,cn)=>{const an=Or.component=createComponentInstance(Or,Wr,Xr);if(isKeepAlive(Or)&&(an.ctx.renderer=Zr),setupComponent(an,!1,cn),an.asyncDep){if(Xr&&Xr.registerDep(an,zr,cn),!Or.el){const nn=an.subTree=createVNode(Comment);yr(null,nn,Lr,Dr)}}else zr(an,Or,Lr,Dr,Xr,Yr,cn)},Hr=(Or,Lr,Dr)=>{const Wr=Lr.component=Or.component;if(shouldUpdateComponent(Or,Lr,Dr))if(Wr.asyncDep&&!Wr.asyncResolved){$r(Wr,Lr,Dr);return}else Wr.next=Lr,Wr.update();else Lr.el=Or.el,Wr.vnode=Lr},zr=(Or,Lr,Dr,Wr,Xr,Yr,cn)=>{const an=()=>{if(Or.isMounted){let{next:hn,bu:gn,u:bn,parent:vn,vnode:_n}=Or;{const kn=locateNonHydratedAsyncRoot(Or);if(kn){hn&&(hn.el=_n.el,$r(Or,hn,cn)),kn.asyncDep.then(()=>{Or.isUnmounted||an()});return}}let xn=hn,Cn;toggleRecurse(Or,!1),hn?(hn.el=_n.el,$r(Or,hn,cn)):hn=_n,gn&&invokeArrayFns(gn),(Cn=hn.props&&hn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Cn,vn,hn,_n),toggleRecurse(Or,!0);const Pn=renderComponentRoot(Or),Nn=Or.subTree;Or.subTree=Pn,mr(Nn,Pn,hr(Nn.el),Br(Nn),Or,Xr,Yr),hn.el=Pn.el,xn===null&&updateHOCHostEl(Or,Pn.el),bn&&queuePostRenderEffect(bn,Xr),(Cn=hn.props&&hn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Cn,vn,hn,_n),Xr)}else{let hn;const{el:gn,props:bn}=Lr,{bm:vn,m:_n,parent:xn,root:Cn,type:Pn}=Or,Nn=isAsyncWrapper(Lr);toggleRecurse(Or,!1),vn&&invokeArrayFns(vn),!Nn&&(hn=bn&&bn.onVnodeBeforeMount)&&invokeVNodeHook(hn,xn,Lr),toggleRecurse(Or,!0);{Cn.ce&&Cn.ce._injectChildStyle(Pn);const kn=Or.subTree=renderComponentRoot(Or);mr(null,kn,Dr,Wr,Or,Xr,Yr),Lr.el=kn.el}if(_n&&queuePostRenderEffect(_n,Xr),!Nn&&(hn=bn&&bn.onVnodeMounted)){const kn=Lr;queuePostRenderEffect(()=>invokeVNodeHook(hn,xn,kn),Xr)}(Lr.shapeFlag&256||xn&&isAsyncWrapper(xn.vnode)&&xn.vnode.shapeFlag&256)&&Or.a&&queuePostRenderEffect(Or.a,Xr),Or.isMounted=!0,Lr=Dr=Wr=null}};Or.scope.on();const nn=Or.effect=new ReactiveEffect(an);Or.scope.off();const Kr=Or.update=nn.run.bind(nn),mn=Or.job=nn.runIfDirty.bind(nn);mn.i=Or,mn.id=Or.uid,nn.scheduler=()=>queueJob(mn),toggleRecurse(Or,!0),Kr()},$r=(Or,Lr,Dr)=>{Lr.component=Or;const Wr=Or.vnode.props;Or.vnode=Lr,Or.next=null,updateProps(Or,Lr.props,Wr,Dr),updateSlots(Or,Lr.children,Dr),pauseTracking(),flushPreFlushCbs(Or),resetTracking()},jr=(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn=!1)=>{const Kr=Or&&Or.children,mn=Or?Or.shapeFlag:0,hn=Lr.children,{patchFlag:gn,shapeFlag:bn}=Lr;if(gn>0){if(gn&128){ln(Kr,hn,Dr,Wr,Xr,Yr,cn,an,nn);return}else if(gn&256){Jr(Kr,hn,Dr,Wr,Xr,Yr,cn,an,nn);return}}bn&8?(mn&16&&dn(Kr,Xr,Yr),hn!==Kr&&ur(Dr,hn)):mn&16?bn&16?ln(Kr,hn,Dr,Wr,Xr,Yr,cn,an,nn):dn(Kr,Xr,Yr,!0):(mn&8&&ur(Dr,""),bn&16&&xr(hn,Dr,Wr,Xr,Yr,cn,an,nn))},Jr=(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn)=>{Or=Or||EMPTY_ARR,Lr=Lr||EMPTY_ARR;const Kr=Or.length,mn=Lr.length,hn=Math.min(Kr,mn);let gn;for(gn=0;gn<hn;gn++){const bn=Lr[gn]=nn?cloneIfMounted(Lr[gn]):normalizeVNode(Lr[gn]);mr(Or[gn],bn,Dr,null,Xr,Yr,cn,an,nn)}Kr>mn?dn(Or,Xr,Yr,!0,!1,hn):xr(Lr,Dr,Wr,Xr,Yr,cn,an,nn,hn)},ln=(Or,Lr,Dr,Wr,Xr,Yr,cn,an,nn)=>{let Kr=0;const mn=Lr.length;let hn=Or.length-1,gn=mn-1;for(;Kr<=hn&&Kr<=gn;){const bn=Or[Kr],vn=Lr[Kr]=nn?cloneIfMounted(Lr[Kr]):normalizeVNode(Lr[Kr]);if(isSameVNodeType(bn,vn))mr(bn,vn,Dr,null,Xr,Yr,cn,an,nn);else break;Kr++}for(;Kr<=hn&&Kr<=gn;){const bn=Or[hn],vn=Lr[gn]=nn?cloneIfMounted(Lr[gn]):normalizeVNode(Lr[gn]);if(isSameVNodeType(bn,vn))mr(bn,vn,Dr,null,Xr,Yr,cn,an,nn);else break;hn--,gn--}if(Kr>hn){if(Kr<=gn){const bn=gn+1,vn=bn<mn?Lr[bn].el:Wr;for(;Kr<=gn;)mr(null,Lr[Kr]=nn?cloneIfMounted(Lr[Kr]):normalizeVNode(Lr[Kr]),Dr,vn,Xr,Yr,cn,an,nn),Kr++}}else if(Kr>gn)for(;Kr<=hn;)Qr(Or[Kr],Xr,Yr,!0),Kr++;else{const bn=Kr,vn=Kr,_n=new Map;for(Kr=vn;Kr<=gn;Kr++){const Sn=Lr[Kr]=nn?cloneIfMounted(Lr[Kr]):normalizeVNode(Lr[Kr]);Sn.key!=null&&_n.set(Sn.key,Kr)}let xn,Cn=0;const Pn=gn-vn+1;let Nn=!1,kn=0;const Hn=new Array(Pn);for(Kr=0;Kr<Pn;Kr++)Hn[Kr]=0;for(Kr=bn;Kr<=hn;Kr++){const Sn=Or[Kr];if(Cn>=Pn){Qr(Sn,Xr,Yr,!0);continue}let Dn;if(Sn.key!=null)Dn=_n.get(Sn.key);else for(xn=vn;xn<=gn;xn++)if(Hn[xn-vn]===0&&isSameVNodeType(Sn,Lr[xn])){Dn=xn;break}Dn===void 0?Qr(Sn,Xr,Yr,!0):(Hn[Dn-vn]=Kr+1,Dn>=kn?kn=Dn:Nn=!0,mr(Sn,Lr[Dn],Dr,null,Xr,Yr,cn,an,nn),Cn++)}const Zn=Nn?getSequence(Hn):EMPTY_ARR;for(xn=Zn.length-1,Kr=Pn-1;Kr>=0;Kr--){const Sn=vn+Kr,Dn=Lr[Sn],Ts=Sn+1<mn?Lr[Sn+1].el:Wr;Hn[Kr]===0?mr(null,Dn,Dr,Ts,Xr,Yr,cn,an,nn):Nn&&(xn<0||Kr!==Zn[xn]?un(Dn,Dr,Ts,2):xn--)}}},un=(Or,Lr,Dr,Wr,Xr=null)=>{const{el:Yr,type:cn,transition:an,children:nn,shapeFlag:Kr}=Or;if(Kr&6){un(Or.component.subTree,Lr,Dr,Wr);return}if(Kr&128){Or.suspense.move(Lr,Dr,Wr);return}if(Kr&64){cn.move(Or,Lr,Dr,Zr);return}if(cn===Fragment){ir(Yr,Lr,Dr);for(let hn=0;hn<nn.length;hn++)un(nn[hn],Lr,Dr,Wr);ir(Or.anchor,Lr,Dr);return}if(cn===Static){wr(Or,Lr,Dr);return}if(Wr!==2&&Kr&1&&an)if(Wr===0)an.beforeEnter(Yr),ir(Yr,Lr,Dr),queuePostRenderEffect(()=>an.enter(Yr),Xr);else{const{leave:hn,delayLeave:gn,afterLeave:bn}=an,vn=()=>ir(Yr,Lr,Dr),_n=()=>{hn(Yr,()=>{vn(),bn&&bn()})};gn?gn(Yr,vn,_n):_n()}else ir(Yr,Lr,Dr)},Qr=(Or,Lr,Dr,Wr=!1,Xr=!1)=>{const{type:Yr,props:cn,ref:an,children:nn,dynamicChildren:Kr,shapeFlag:mn,patchFlag:hn,dirs:gn,cacheIndex:bn}=Or;if(hn===-2&&(Xr=!1),an!=null&&setRef(an,null,Dr,Or,!0),bn!=null&&(Lr.renderCache[bn]=void 0),mn&256){Lr.ctx.deactivate(Or);return}const vn=mn&1&&gn,_n=!isAsyncWrapper(Or);let xn;if(_n&&(xn=cn&&cn.onVnodeBeforeUnmount)&&invokeVNodeHook(xn,Lr,Or),mn&6)An(Or.component,Dr,Wr);else{if(mn&128){Or.suspense.unmount(Dr,Wr);return}vn&&invokeDirectiveHook(Or,null,Lr,"beforeUnmount"),mn&64?Or.type.remove(Or,Lr,Dr,Zr,Wr):Kr&&!Kr.hasOnce&&(Yr!==Fragment||hn>0&&hn&64)?dn(Kr,Lr,Dr,!1,!0):(Yr===Fragment&&hn&384||!Xr&&mn&16)&&dn(nn,Lr,Dr),Wr&&pn(Or)}(_n&&(xn=cn&&cn.onVnodeUnmounted)||vn)&&queuePostRenderEffect(()=>{xn&&invokeVNodeHook(xn,Lr,Or),vn&&invokeDirectiveHook(Or,null,Lr,"unmounted")},Dr)},pn=Or=>{const{type:Lr,el:Dr,anchor:Wr,transition:Xr}=Or;if(Lr===Fragment){fn(Dr,Wr);return}if(Lr===Static){Pr(Or);return}const Yr=()=>{nr(Dr),Xr&&!Xr.persisted&&Xr.afterLeave&&Xr.afterLeave()};if(Or.shapeFlag&1&&Xr&&!Xr.persisted){const{leave:cn,delayLeave:an}=Xr,nn=()=>cn(Dr,Yr);an?an(Or.el,Yr,nn):nn()}else Yr()},fn=(Or,Lr)=>{let Dr;for(;Or!==Lr;)Dr=dr(Or),nr(Or),Or=Dr;nr(Lr)},An=(Or,Lr,Dr)=>{const{bum:Wr,scope:Xr,job:Yr,subTree:cn,um:an,m:nn,a:Kr}=Or;invalidateMount(nn),invalidateMount(Kr),Wr&&invokeArrayFns(Wr),Xr.stop(),Yr&&(Yr.flags|=8,Qr(cn,Or,Lr,Dr)),an&&queuePostRenderEffect(an,Lr),queuePostRenderEffect(()=>{Or.isUnmounted=!0},Lr),Lr&&Lr.pendingBranch&&!Lr.isUnmounted&&Or.asyncDep&&!Or.asyncResolved&&Or.suspenseId===Lr.pendingId&&(Lr.deps--,Lr.deps===0&&Lr.resolve())},dn=(Or,Lr,Dr,Wr=!1,Xr=!1,Yr=0)=>{for(let cn=Yr;cn<Or.length;cn++)Qr(Or[cn],Lr,Dr,Wr,Xr)},Br=Or=>{if(Or.shapeFlag&6)return Br(Or.component.subTree);if(Or.shapeFlag&128)return Or.suspense.next();const Lr=dr(Or.anchor||Or.el),Dr=Lr&&Lr[TeleportEndKey];return Dr?dr(Dr):Lr};let Gr=!1;const qr=(Or,Lr,Dr)=>{Or==null?Lr._vnode&&Qr(Lr._vnode,null,null,!0):mr(Lr._vnode||null,Or,Lr,null,null,null,Dr),Lr._vnode=Or,Gr||(Gr=!0,flushPreFlushCbs(),flushPostFlushCbs(),Gr=!1)},Zr={p:mr,um:Qr,m:un,r:pn,mt:Nr,mc:xr,pc:jr,pbc:Cr,n:Br,o:rr};return{render:qr,hydrate:void 0,createApp:createAppAPI(qr)}}function resolveChildrenNamespace({type:rr,props:er},tr){return tr==="svg"&&rr==="foreignObject"||tr==="mathml"&&rr==="annotation-xml"&&er&&er.encoding&&er.encoding.includes("html")?void 0:tr}function toggleRecurse({effect:rr,job:er},tr){tr?(rr.flags|=32,er.flags|=4):(rr.flags&=-33,er.flags&=-5)}function needTransition(rr,er){return(!rr||rr&&!rr.pendingBranch)&&er&&!er.persisted}function traverseStaticChildren(rr,er,tr=!1){const ir=rr.children,nr=er.children;if(isArray$2(ir)&&isArray$2(nr))for(let sr=0;sr<ir.length;sr++){const ar=ir[sr];let or=nr[sr];or.shapeFlag&1&&!or.dynamicChildren&&((or.patchFlag<=0||or.patchFlag===32)&&(or=nr[sr]=cloneIfMounted(nr[sr]),or.el=ar.el),!tr&&or.patchFlag!==-2&&traverseStaticChildren(ar,or)),or.type===Text&&(or.el=ar.el)}}function getSequence(rr){const er=rr.slice(),tr=[0];let ir,nr,sr,ar,or;const lr=rr.length;for(ir=0;ir<lr;ir++){const cr=rr[ir];if(cr!==0){if(nr=tr[tr.length-1],rr[nr]<cr){er[ir]=nr,tr.push(ir);continue}for(sr=0,ar=tr.length-1;sr<ar;)or=sr+ar>>1,rr[tr[or]]<cr?sr=or+1:ar=or;cr<rr[tr[sr]]&&(sr>0&&(er[ir]=tr[sr-1]),tr[sr]=ir)}}for(sr=tr.length,ar=tr[sr-1];sr-- >0;)tr[sr]=ar,ar=er[ar];return tr}function locateNonHydratedAsyncRoot(rr){const er=rr.subTree.component;if(er)return er.asyncDep&&!er.asyncResolved?er:locateNonHydratedAsyncRoot(er)}function invalidateMount(rr){if(rr)for(let er=0;er<rr.length;er++)rr[er].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(rr,er,tr){return doWatch(rr,er,tr)}function doWatch(rr,er,tr=EMPTY_OBJ){const{immediate:ir,deep:nr,flush:sr,once:ar}=tr,or=extend({},tr),lr=er&&ir||!er&&sr!=="post";let cr;if(isInSSRComponentSetup){if(sr==="sync"){const gr=useSSRContext();cr=gr.__watcherHandles||(gr.__watcherHandles=[])}else if(!lr){const gr=()=>{};return gr.stop=NOOP,gr.resume=NOOP,gr.pause=NOOP,gr}}const ur=currentInstance;or.call=(gr,pr,mr)=>callWithAsyncErrorHandling(gr,ur,pr,mr);let hr=!1;sr==="post"?or.scheduler=gr=>{queuePostRenderEffect(gr,ur&&ur.suspense)}:sr!=="sync"&&(hr=!0,or.scheduler=(gr,pr)=>{pr?gr():queueJob(gr)}),or.augmentJob=gr=>{er&&(gr.flags|=4),hr&&(gr.flags|=2,ur&&(gr.id=ur.uid,gr.i=ur))};const dr=watch$1(rr,er,or);return isInSSRComponentSetup&&(cr?cr.push(dr):lr&&dr()),dr}function instanceWatch(rr,er,tr){const ir=this.proxy,nr=isString(rr)?rr.includes(".")?createPathGetter(ir,rr):()=>ir[rr]:rr.bind(ir,ir);let sr;isFunction(er)?sr=er:(sr=er.handler,tr=er);const ar=setCurrentInstance(this),or=doWatch(nr,sr.bind(ir),tr);return ar(),or}function createPathGetter(rr,er){const tr=er.split(".");return()=>{let ir=rr;for(let nr=0;nr<tr.length&&ir;nr++)ir=ir[tr[nr]];return ir}}const getModelModifiers=(rr,er)=>er==="modelValue"||er==="model-value"?rr.modelModifiers:rr[`${er}Modifiers`]||rr[`${camelize(er)}Modifiers`]||rr[`${hyphenate(er)}Modifiers`];function emit(rr,er,...tr){if(rr.isUnmounted)return;const ir=rr.vnode.props||EMPTY_OBJ;let nr=tr;const sr=er.startsWith("update:"),ar=sr&&getModelModifiers(ir,er.slice(7));ar&&(ar.trim&&(nr=tr.map(ur=>isString(ur)?ur.trim():ur)),ar.number&&(nr=tr.map(looseToNumber)));let or,lr=ir[or=toHandlerKey(er)]||ir[or=toHandlerKey(camelize(er))];!lr&&sr&&(lr=ir[or=toHandlerKey(hyphenate(er))]),lr&&callWithAsyncErrorHandling(lr,rr,6,nr);const cr=ir[or+"Once"];if(cr){if(!rr.emitted)rr.emitted={};else if(rr.emitted[or])return;rr.emitted[or]=!0,callWithAsyncErrorHandling(cr,rr,6,nr)}}function normalizeEmitsOptions(rr,er,tr=!1){const ir=er.emitsCache,nr=ir.get(rr);if(nr!==void 0)return nr;const sr=rr.emits;let ar={},or=!1;if(!isFunction(rr)){const lr=cr=>{const ur=normalizeEmitsOptions(cr,er,!0);ur&&(or=!0,extend(ar,ur))};!tr&&er.mixins.length&&er.mixins.forEach(lr),rr.extends&&lr(rr.extends),rr.mixins&&rr.mixins.forEach(lr)}return!sr&&!or?(isObject$1(rr)&&ir.set(rr,null),null):(isArray$2(sr)?sr.forEach(lr=>ar[lr]=null):extend(ar,sr),isObject$1(rr)&&ir.set(rr,ar),ar)}function isEmitListener(rr,er){return!rr||!isOn(er)?!1:(er=er.slice(2).replace(/Once$/,""),hasOwn(rr,er[0].toLowerCase()+er.slice(1))||hasOwn(rr,hyphenate(er))||hasOwn(rr,er))}function markAttrsAccessed(){}function renderComponentRoot(rr){const{type:er,vnode:tr,proxy:ir,withProxy:nr,propsOptions:[sr],slots:ar,attrs:or,emit:lr,render:cr,renderCache:ur,props:hr,data:dr,setupState:gr,ctx:pr,inheritAttrs:mr}=rr,vr=setCurrentRenderingInstance(rr);let yr,br;try{if(tr.shapeFlag&4){const Pr=nr||ir,Tr=Pr;yr=normalizeVNode(cr.call(Tr,Pr,ur,hr,gr,dr,pr)),br=or}else{const Pr=er;yr=normalizeVNode(Pr.length>1?Pr(hr,{attrs:or,slots:ar,emit:lr}):Pr(hr,null)),br=er.props?or:getFunctionalFallthrough(or)}}catch(Pr){blockStack.length=0,handleError(Pr,rr,1),yr=createVNode(Comment)}let wr=yr;if(br&&mr!==!1){const Pr=Object.keys(br),{shapeFlag:Tr}=wr;Pr.length&&Tr&7&&(sr&&Pr.some(isModelListener)&&(br=filterModelListeners(br,sr)),wr=cloneVNode(wr,br,!1,!0))}return tr.dirs&&(wr=cloneVNode(wr,null,!1,!0),wr.dirs=wr.dirs?wr.dirs.concat(tr.dirs):tr.dirs),tr.transition&&setTransitionHooks(wr,tr.transition),yr=wr,setCurrentRenderingInstance(vr),yr}const getFunctionalFallthrough=rr=>{let er;for(const tr in rr)(tr==="class"||tr==="style"||isOn(tr))&&((er||(er={}))[tr]=rr[tr]);return er},filterModelListeners=(rr,er)=>{const tr={};for(const ir in rr)(!isModelListener(ir)||!(ir.slice(9)in er))&&(tr[ir]=rr[ir]);return tr};function shouldUpdateComponent(rr,er,tr){const{props:ir,children:nr,component:sr}=rr,{props:ar,children:or,patchFlag:lr}=er,cr=sr.emitsOptions;if(er.dirs||er.transition)return!0;if(tr&&lr>=0){if(lr&1024)return!0;if(lr&16)return ir?hasPropsChanged(ir,ar,cr):!!ar;if(lr&8){const ur=er.dynamicProps;for(let hr=0;hr<ur.length;hr++){const dr=ur[hr];if(ar[dr]!==ir[dr]&&!isEmitListener(cr,dr))return!0}}}else return(nr||or)&&(!or||!or.$stable)?!0:ir===ar?!1:ir?ar?hasPropsChanged(ir,ar,cr):!0:!!ar;return!1}function hasPropsChanged(rr,er,tr){const ir=Object.keys(er);if(ir.length!==Object.keys(rr).length)return!0;for(let nr=0;nr<ir.length;nr++){const sr=ir[nr];if(er[sr]!==rr[sr]&&!isEmitListener(tr,sr))return!0}return!1}function updateHOCHostEl({vnode:rr,parent:er},tr){for(;er;){const ir=er.subTree;if(ir.suspense&&ir.suspense.activeBranch===rr&&(ir.el=rr.el),ir===rr)(rr=er.vnode).el=tr,er=er.parent;else break}}const isSuspense=rr=>rr.__isSuspense;function queueEffectWithSuspense(rr,er){er&&er.pendingBranch?isArray$2(rr)?er.effects.push(...rr):er.effects.push(rr):queuePostFlushCb(rr)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(rr=!1){blockStack.push(currentBlock=rr?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(rr,er=!1){isBlockTreeEnabled+=rr,rr<0&&currentBlock&&er&&(currentBlock.hasOnce=!0)}function setupBlock(rr){return rr.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(rr),rr}function createElementBlock(rr,er,tr,ir,nr,sr){return setupBlock(createBaseVNode(rr,er,tr,ir,nr,sr,!0))}function createBlock(rr,er,tr,ir,nr){return setupBlock(createVNode(rr,er,tr,ir,nr,!0))}function isVNode(rr){return rr?rr.__v_isVNode===!0:!1}function isSameVNodeType(rr,er){return rr.type===er.type&&rr.key===er.key}const normalizeKey=({key:rr})=>rr??null,normalizeRef=({ref:rr,ref_key:er,ref_for:tr})=>(typeof rr=="number"&&(rr=""+rr),rr!=null?isString(rr)||isRef(rr)||isFunction(rr)?{i:currentRenderingInstance,r:rr,k:er,f:!!tr}:rr:null);function createBaseVNode(rr,er=null,tr=null,ir=0,nr=null,sr=rr===Fragment?0:1,ar=!1,or=!1){const lr={__v_isVNode:!0,__v_skip:!0,type:rr,props:er,key:er&&normalizeKey(er),ref:er&&normalizeRef(er),scopeId:currentScopeId,slotScopeIds:null,children:tr,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:sr,patchFlag:ir,dynamicProps:nr,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return or?(normalizeChildren(lr,tr),sr&128&&rr.normalize(lr)):tr&&(lr.shapeFlag|=isString(tr)?8:16),isBlockTreeEnabled>0&&!ar&&currentBlock&&(lr.patchFlag>0||sr&6)&&lr.patchFlag!==32&&currentBlock.push(lr),lr}const createVNode=_createVNode;function _createVNode(rr,er=null,tr=null,ir=0,nr=null,sr=!1){if((!rr||rr===NULL_DYNAMIC_COMPONENT)&&(rr=Comment),isVNode(rr)){const or=cloneVNode(rr,er,!0);return tr&&normalizeChildren(or,tr),isBlockTreeEnabled>0&&!sr&&currentBlock&&(or.shapeFlag&6?currentBlock[currentBlock.indexOf(rr)]=or:currentBlock.push(or)),or.patchFlag=-2,or}if(isClassComponent(rr)&&(rr=rr.__vccOpts),er){er=guardReactiveProps(er);let{class:or,style:lr}=er;or&&!isString(or)&&(er.class=normalizeClass(or)),isObject$1(lr)&&(isProxy(lr)&&!isArray$2(lr)&&(lr=extend({},lr)),er.style=normalizeStyle(lr))}const ar=isString(rr)?1:isSuspense(rr)?128:isTeleport(rr)?64:isObject$1(rr)?4:isFunction(rr)?2:0;return createBaseVNode(rr,er,tr,ir,nr,ar,sr,!0)}function guardReactiveProps(rr){return rr?isProxy(rr)||isInternalObject(rr)?extend({},rr):rr:null}function cloneVNode(rr,er,tr=!1,ir=!1){const{props:nr,ref:sr,patchFlag:ar,children:or,transition:lr}=rr,cr=er?mergeProps(nr||{},er):nr,ur={__v_isVNode:!0,__v_skip:!0,type:rr.type,props:cr,key:cr&&normalizeKey(cr),ref:er&&er.ref?tr&&sr?isArray$2(sr)?sr.concat(normalizeRef(er)):[sr,normalizeRef(er)]:normalizeRef(er):sr,scopeId:rr.scopeId,slotScopeIds:rr.slotScopeIds,children:or,target:rr.target,targetStart:rr.targetStart,targetAnchor:rr.targetAnchor,staticCount:rr.staticCount,shapeFlag:rr.shapeFlag,patchFlag:er&&rr.type!==Fragment?ar===-1?16:ar|16:ar,dynamicProps:rr.dynamicProps,dynamicChildren:rr.dynamicChildren,appContext:rr.appContext,dirs:rr.dirs,transition:lr,component:rr.component,suspense:rr.suspense,ssContent:rr.ssContent&&cloneVNode(rr.ssContent),ssFallback:rr.ssFallback&&cloneVNode(rr.ssFallback),el:rr.el,anchor:rr.anchor,ctx:rr.ctx,ce:rr.ce};return lr&&ir&&setTransitionHooks(ur,lr.clone(ur)),ur}function createTextVNode(rr=" ",er=0){return createVNode(Text,null,rr,er)}function createStaticVNode(rr,er){const tr=createVNode(Static,null,rr);return tr.staticCount=er,tr}function createCommentVNode(rr="",er=!1){return er?(openBlock(),createBlock(Comment,null,rr)):createVNode(Comment,null,rr)}function normalizeVNode(rr){return rr==null||typeof rr=="boolean"?createVNode(Comment):isArray$2(rr)?createVNode(Fragment,null,rr.slice()):isVNode(rr)?cloneIfMounted(rr):createVNode(Text,null,String(rr))}function cloneIfMounted(rr){return rr.el===null&&rr.patchFlag!==-1||rr.memo?rr:cloneVNode(rr)}function normalizeChildren(rr,er){let tr=0;const{shapeFlag:ir}=rr;if(er==null)er=null;else if(isArray$2(er))tr=16;else if(typeof er=="object")if(ir&65){const nr=er.default;nr&&(nr._c&&(nr._d=!1),normalizeChildren(rr,nr()),nr._c&&(nr._d=!0));return}else{tr=32;const nr=er._;!nr&&!isInternalObject(er)?er._ctx=currentRenderingInstance:nr===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?er._=1:(er._=2,rr.patchFlag|=1024))}else isFunction(er)?(er={default:er,_ctx:currentRenderingInstance},tr=32):(er=String(er),ir&64?(tr=16,er=[createTextVNode(er)]):tr=8);rr.children=er,rr.shapeFlag|=tr}function mergeProps(...rr){const er={};for(let tr=0;tr<rr.length;tr++){const ir=rr[tr];for(const nr in ir)if(nr==="class")er.class!==ir.class&&(er.class=normalizeClass([er.class,ir.class]));else if(nr==="style")er.style=normalizeStyle([er.style,ir.style]);else if(isOn(nr)){const sr=er[nr],ar=ir[nr];ar&&sr!==ar&&!(isArray$2(sr)&&sr.includes(ar))&&(er[nr]=sr?[].concat(sr,ar):ar)}else nr!==""&&(er[nr]=ir[nr])}return er}function invokeVNodeHook(rr,er,tr,ir=null){callWithAsyncErrorHandling(rr,er,7,[tr,ir])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(rr,er,tr){const ir=rr.type,nr=(er?er.appContext:rr.appContext)||emptyAppContext,sr={uid:uid++,vnode:rr,type:ir,parent:er,appContext:nr,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:er?er.provides:Object.create(nr.provides),ids:er?er.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(ir,nr),emitsOptions:normalizeEmitsOptions(ir,nr),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:ir.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:tr,suspenseId:tr?tr.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return sr.ctx={_:sr},sr.root=er?er.root:sr,sr.emit=emit.bind(null,sr),rr.ce&&rr.ce(sr),sr}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const rr=getGlobalThis(),er=(tr,ir)=>{let nr;return(nr=rr[tr])||(nr=rr[tr]=[]),nr.push(ir),sr=>{nr.length>1?nr.forEach(ar=>ar(sr)):nr[0](sr)}};internalSetCurrentInstance=er("__VUE_INSTANCE_SETTERS__",tr=>currentInstance=tr),setInSSRSetupState=er("__VUE_SSR_SETTERS__",tr=>isInSSRComponentSetup=tr)}const setCurrentInstance=rr=>{const er=currentInstance;return internalSetCurrentInstance(rr),rr.scope.on(),()=>{rr.scope.off(),internalSetCurrentInstance(er)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(rr){return rr.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(rr,er=!1,tr=!1){er&&setInSSRSetupState(er);const{props:ir,children:nr}=rr.vnode,sr=isStatefulComponent(rr);initProps(rr,ir,sr,er),initSlots(rr,nr,tr);const ar=sr?setupStatefulComponent(rr,er):void 0;return er&&setInSSRSetupState(!1),ar}function setupStatefulComponent(rr,er){const tr=rr.type;rr.accessCache=Object.create(null),rr.proxy=new Proxy(rr.ctx,PublicInstanceProxyHandlers);const{setup:ir}=tr;if(ir){pauseTracking();const nr=rr.setupContext=ir.length>1?createSetupContext(rr):null,sr=setCurrentInstance(rr),ar=callWithErrorHandling(ir,rr,0,[rr.props,nr]),or=isPromise(ar);if(resetTracking(),sr(),(or||rr.sp)&&!isAsyncWrapper(rr)&&markAsyncBoundary(rr),or){if(ar.then(unsetCurrentInstance,unsetCurrentInstance),er)return ar.then(lr=>{handleSetupResult(rr,lr)}).catch(lr=>{handleError(lr,rr,0)});rr.asyncDep=ar}else handleSetupResult(rr,ar)}else finishComponentSetup(rr)}function handleSetupResult(rr,er,tr){isFunction(er)?rr.type.__ssrInlineRender?rr.ssrRender=er:rr.render=er:isObject$1(er)&&(rr.setupState=proxyRefs(er)),finishComponentSetup(rr)}function finishComponentSetup(rr,er,tr){const ir=rr.type;rr.render||(rr.render=ir.render||NOOP);{const nr=setCurrentInstance(rr);pauseTracking();try{applyOptions(rr)}finally{resetTracking(),nr()}}}const attrsProxyHandlers={get(rr,er){return track(rr,"get",""),rr[er]}};function createSetupContext(rr){const er=tr=>{rr.exposed=tr||{}};return{attrs:new Proxy(rr.attrs,attrsProxyHandlers),slots:rr.slots,emit:rr.emit,expose:er}}function getComponentPublicInstance(rr){return rr.exposed?rr.exposeProxy||(rr.exposeProxy=new Proxy(proxyRefs(markRaw(rr.exposed)),{get(er,tr){if(tr in er)return er[tr];if(tr in publicPropertiesMap)return publicPropertiesMap[tr](rr)},has(er,tr){return tr in er||tr in publicPropertiesMap}})):rr.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=rr=>rr.replace(classifyRE,er=>er.toUpperCase()).replace(/[-_]/g,"");function getComponentName(rr,er=!0){return isFunction(rr)?rr.displayName||rr.name:rr.name||er&&rr.__name}function formatComponentName(rr,er,tr=!1){let ir=getComponentName(er);if(!ir&&er.__file){const nr=er.__file.match(/([^/\\]+)\.\w+$/);nr&&(ir=nr[1])}if(!ir&&rr&&rr.parent){const nr=sr=>{for(const ar in sr)if(sr[ar]===er)return ar};ir=nr(rr.components||rr.parent.type.components)||nr(rr.appContext.components)}return ir?classify(ir):tr?"App":"Anonymous"}function isClassComponent(rr){return isFunction(rr)&&"__vccOpts"in rr}const computed=(rr,er)=>computed$1(rr,er,isInSSRComponentSetup);function h$1(rr,er,tr){const ir=arguments.length;return ir===2?isObject$1(er)&&!isArray$2(er)?isVNode(er)?createVNode(rr,null,[er]):createVNode(rr,er):createVNode(rr,null,er):(ir>3?tr=Array.prototype.slice.call(arguments,2):ir===3&&isVNode(tr)&&(tr=[tr]),createVNode(rr,er,tr))}const version$3="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt$2=typeof window<"u"&&window.trustedTypes;if(tt$2)try{policy=tt$2.createPolicy("vue",{createHTML:rr=>rr})}catch{}const unsafeToTrustedHTML=policy?rr=>policy.createHTML(rr):rr=>rr,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(rr,er,tr)=>{er.insertBefore(rr,tr||null)},remove:rr=>{const er=rr.parentNode;er&&er.removeChild(rr)},createElement:(rr,er,tr,ir)=>{const nr=er==="svg"?doc$1.createElementNS(svgNS,rr):er==="mathml"?doc$1.createElementNS(mathmlNS,rr):tr?doc$1.createElement(rr,{is:tr}):doc$1.createElement(rr);return rr==="select"&&ir&&ir.multiple!=null&&nr.setAttribute("multiple",ir.multiple),nr},createText:rr=>doc$1.createTextNode(rr),createComment:rr=>doc$1.createComment(rr),setText:(rr,er)=>{rr.nodeValue=er},setElementText:(rr,er)=>{rr.textContent=er},parentNode:rr=>rr.parentNode,nextSibling:rr=>rr.nextSibling,querySelector:rr=>doc$1.querySelector(rr),setScopeId(rr,er){rr.setAttribute(er,"")},insertStaticContent(rr,er,tr,ir,nr,sr){const ar=tr?tr.previousSibling:er.lastChild;if(nr&&(nr===sr||nr.nextSibling))for(;er.insertBefore(nr.cloneNode(!0),tr),!(nr===sr||!(nr=nr.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(ir==="svg"?`<svg>${rr}</svg>`:ir==="mathml"?`<math>${rr}</math>`:rr);const or=templateContainer.content;if(ir==="svg"||ir==="mathml"){const lr=or.firstChild;for(;lr.firstChild;)or.appendChild(lr.firstChild);or.removeChild(lr)}er.insertBefore(or,tr)}return[ar?ar.nextSibling:er.firstChild,tr?tr.previousSibling:er.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=rr=>(rr.displayName="Transition",rr.props=TransitionPropsValidators,rr),Transition=decorate$1((rr,{slots:er})=>h$1(BaseTransition,resolveTransitionProps(rr),er)),callHook=(rr,er=[])=>{isArray$2(rr)?rr.forEach(tr=>tr(...er)):rr&&rr(...er)},hasExplicitCallback=rr=>rr?isArray$2(rr)?rr.some(er=>er.length>1):rr.length>1:!1;function resolveTransitionProps(rr){const er={};for(const kr in rr)kr in DOMTransitionPropsValidators||(er[kr]=rr[kr]);if(rr.css===!1)return er;const{name:tr="v",type:ir,duration:nr,enterFromClass:sr=`${tr}-enter-from`,enterActiveClass:ar=`${tr}-enter-active`,enterToClass:or=`${tr}-enter-to`,appearFromClass:lr=sr,appearActiveClass:cr=ar,appearToClass:ur=or,leaveFromClass:hr=`${tr}-leave-from`,leaveActiveClass:dr=`${tr}-leave-active`,leaveToClass:gr=`${tr}-leave-to`}=rr,pr=normalizeDuration(nr),mr=pr&&pr[0],vr=pr&&pr[1],{onBeforeEnter:yr,onEnter:br,onEnterCancelled:wr,onLeave:Pr,onLeaveCancelled:Tr,onBeforeAppear:Vr=yr,onAppear:Ar=br,onAppearCancelled:xr=wr}=er,Er=(kr,Sr,Nr,Hr)=>{kr._enterCancelled=Hr,removeTransitionClass(kr,Sr?ur:or),removeTransitionClass(kr,Sr?cr:ar),Nr&&Nr()},Cr=(kr,Sr)=>{kr._isLeaving=!1,removeTransitionClass(kr,hr),removeTransitionClass(kr,gr),removeTransitionClass(kr,dr),Sr&&Sr()},Rr=kr=>(Sr,Nr)=>{const Hr=kr?Ar:br,zr=()=>Er(Sr,kr,Nr);callHook(Hr,[Sr,zr]),nextFrame(()=>{removeTransitionClass(Sr,kr?lr:sr),addTransitionClass(Sr,kr?ur:or),hasExplicitCallback(Hr)||whenTransitionEnds(Sr,ir,mr,zr)})};return extend(er,{onBeforeEnter(kr){callHook(yr,[kr]),addTransitionClass(kr,sr),addTransitionClass(kr,ar)},onBeforeAppear(kr){callHook(Vr,[kr]),addTransitionClass(kr,lr),addTransitionClass(kr,cr)},onEnter:Rr(!1),onAppear:Rr(!0),onLeave(kr,Sr){kr._isLeaving=!0;const Nr=()=>Cr(kr,Sr);addTransitionClass(kr,hr),kr._enterCancelled?(addTransitionClass(kr,dr),forceReflow()):(forceReflow(),addTransitionClass(kr,dr)),nextFrame(()=>{kr._isLeaving&&(removeTransitionClass(kr,hr),addTransitionClass(kr,gr),hasExplicitCallback(Pr)||whenTransitionEnds(kr,ir,vr,Nr))}),callHook(Pr,[kr,Nr])},onEnterCancelled(kr){Er(kr,!1,void 0,!0),callHook(wr,[kr])},onAppearCancelled(kr){Er(kr,!0,void 0,!0),callHook(xr,[kr])},onLeaveCancelled(kr){Cr(kr),callHook(Tr,[kr])}})}function normalizeDuration(rr){if(rr==null)return null;if(isObject$1(rr))return[NumberOf(rr.enter),NumberOf(rr.leave)];{const er=NumberOf(rr);return[er,er]}}function NumberOf(rr){return toNumber$1(rr)}function addTransitionClass(rr,er){er.split(/\s+/).forEach(tr=>tr&&rr.classList.add(tr)),(rr[vtcKey]||(rr[vtcKey]=new Set)).add(er)}function removeTransitionClass(rr,er){er.split(/\s+/).forEach(ir=>ir&&rr.classList.remove(ir));const tr=rr[vtcKey];tr&&(tr.delete(er),tr.size||(rr[vtcKey]=void 0))}function nextFrame(rr){requestAnimationFrame(()=>{requestAnimationFrame(rr)})}let endId=0;function whenTransitionEnds(rr,er,tr,ir){const nr=rr._endId=++endId,sr=()=>{nr===rr._endId&&ir()};if(tr!=null)return setTimeout(sr,tr);const{type:ar,timeout:or,propCount:lr}=getTransitionInfo(rr,er);if(!ar)return ir();const cr=ar+"end";let ur=0;const hr=()=>{rr.removeEventListener(cr,dr),sr()},dr=gr=>{gr.target===rr&&++ur>=lr&&hr()};setTimeout(()=>{ur<lr&&hr()},or+1),rr.addEventListener(cr,dr)}function getTransitionInfo(rr,er){const tr=window.getComputedStyle(rr),ir=pr=>(tr[pr]||"").split(", "),nr=ir(`${TRANSITION}Delay`),sr=ir(`${TRANSITION}Duration`),ar=getTimeout(nr,sr),or=ir(`${ANIMATION}Delay`),lr=ir(`${ANIMATION}Duration`),cr=getTimeout(or,lr);let ur=null,hr=0,dr=0;er===TRANSITION?ar>0&&(ur=TRANSITION,hr=ar,dr=sr.length):er===ANIMATION?cr>0&&(ur=ANIMATION,hr=cr,dr=lr.length):(hr=Math.max(ar,cr),ur=hr>0?ar>cr?TRANSITION:ANIMATION:null,dr=ur?ur===TRANSITION?sr.length:lr.length:0);const gr=ur===TRANSITION&&/\b(transform|all)(,|$)/.test(ir(`${TRANSITION}Property`).toString());return{type:ur,timeout:hr,propCount:dr,hasTransform:gr}}function getTimeout(rr,er){for(;rr.length<er.length;)rr=rr.concat(rr);return Math.max(...er.map((tr,ir)=>toMs(tr)+toMs(rr[ir])))}function toMs(rr){return rr==="auto"?0:Number(rr.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(rr,er,tr){const ir=rr[vtcKey];ir&&(er=(er?[er,...ir]:[...ir]).join(" ")),er==null?rr.removeAttribute("class"):tr?rr.setAttribute("class",er):rr.className=er}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(rr,{value:er},{transition:tr}){rr[vShowOriginalDisplay]=rr.style.display==="none"?"":rr.style.display,tr&&er?tr.beforeEnter(rr):setDisplay(rr,er)},mounted(rr,{value:er},{transition:tr}){tr&&er&&tr.enter(rr)},updated(rr,{value:er,oldValue:tr},{transition:ir}){!er!=!tr&&(ir?er?(ir.beforeEnter(rr),setDisplay(rr,!0),ir.enter(rr)):ir.leave(rr,()=>{setDisplay(rr,!1)}):setDisplay(rr,er))},beforeUnmount(rr,{value:er}){setDisplay(rr,er)}};function setDisplay(rr,er){rr.style.display=er?rr[vShowOriginalDisplay]:"none",rr[vShowHidden]=!er}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(rr,er,tr){const ir=rr.style,nr=isString(tr);let sr=!1;if(tr&&!nr){if(er)if(isString(er))for(const ar of er.split(";")){const or=ar.slice(0,ar.indexOf(":")).trim();tr[or]==null&&setStyle(ir,or,"")}else for(const ar in er)tr[ar]==null&&setStyle(ir,ar,"");for(const ar in tr)ar==="display"&&(sr=!0),setStyle(ir,ar,tr[ar])}else if(nr){if(er!==tr){const ar=ir[CSS_VAR_TEXT];ar&&(tr+=";"+ar),ir.cssText=tr,sr=displayRE.test(tr)}}else er&&rr.removeAttribute("style");vShowOriginalDisplay in rr&&(rr[vShowOriginalDisplay]=sr?ir.display:"",rr[vShowHidden]&&(ir.display="none"))}const importantRE=/\s*!important$/;function setStyle(rr,er,tr){if(isArray$2(tr))tr.forEach(ir=>setStyle(rr,er,ir));else if(tr==null&&(tr=""),er.startsWith("--"))rr.setProperty(er,tr);else{const ir=autoPrefix(rr,er);importantRE.test(tr)?rr.setProperty(hyphenate(ir),tr.replace(importantRE,""),"important"):rr[ir]=tr}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(rr,er){const tr=prefixCache[er];if(tr)return tr;let ir=camelize(er);if(ir!=="filter"&&ir in rr)return prefixCache[er]=ir;ir=capitalize(ir);for(let nr=0;nr<prefixes.length;nr++){const sr=prefixes[nr]+ir;if(sr in rr)return prefixCache[er]=sr}return er}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(rr,er,tr,ir,nr,sr=isSpecialBooleanAttr(er)){ir&&er.startsWith("xlink:")?tr==null?rr.removeAttributeNS(xlinkNS,er.slice(6,er.length)):rr.setAttributeNS(xlinkNS,er,tr):tr==null||sr&&!includeBooleanAttr(tr)?rr.removeAttribute(er):rr.setAttribute(er,sr?"":isSymbol(tr)?String(tr):tr)}function patchDOMProp(rr,er,tr,ir,nr){if(er==="innerHTML"||er==="textContent"){tr!=null&&(rr[er]=er==="innerHTML"?unsafeToTrustedHTML(tr):tr);return}const sr=rr.tagName;if(er==="value"&&sr!=="PROGRESS"&&!sr.includes("-")){const or=sr==="OPTION"?rr.getAttribute("value")||"":rr.value,lr=tr==null?rr.type==="checkbox"?"on":"":String(tr);(or!==lr||!("_value"in rr))&&(rr.value=lr),tr==null&&rr.removeAttribute(er),rr._value=tr;return}let ar=!1;if(tr===""||tr==null){const or=typeof rr[er];or==="boolean"?tr=includeBooleanAttr(tr):tr==null&&or==="string"?(tr="",ar=!0):or==="number"&&(tr=0,ar=!0)}try{rr[er]=tr}catch{}ar&&rr.removeAttribute(nr||er)}function addEventListener(rr,er,tr,ir){rr.addEventListener(er,tr,ir)}function removeEventListener(rr,er,tr,ir){rr.removeEventListener(er,tr,ir)}const veiKey=Symbol("_vei");function patchEvent(rr,er,tr,ir,nr=null){const sr=rr[veiKey]||(rr[veiKey]={}),ar=sr[er];if(ir&&ar)ar.value=ir;else{const[or,lr]=parseName(er);if(ir){const cr=sr[er]=createInvoker(ir,nr);addEventListener(rr,or,cr,lr)}else ar&&(removeEventListener(rr,or,ar,lr),sr[er]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(rr){let er;if(optionsModifierRE.test(rr)){er={};let ir;for(;ir=rr.match(optionsModifierRE);)rr=rr.slice(0,rr.length-ir[0].length),er[ir[0].toLowerCase()]=!0}return[rr[2]===":"?rr.slice(3):hyphenate(rr.slice(2)),er]}let cachedNow=0;const p$3=Promise.resolve(),getNow=()=>cachedNow||(p$3.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(rr,er){const tr=ir=>{if(!ir._vts)ir._vts=Date.now();else if(ir._vts<=tr.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(ir,tr.value),er,5,[ir])};return tr.value=rr,tr.attached=getNow(),tr}function patchStopImmediatePropagation(rr,er){if(isArray$2(er)){const tr=rr.stopImmediatePropagation;return rr.stopImmediatePropagation=()=>{tr.call(rr),rr._stopped=!0},er.map(ir=>nr=>!nr._stopped&&ir&&ir(nr))}else return er}const isNativeOn=rr=>rr.charCodeAt(0)===111&&rr.charCodeAt(1)===110&&rr.charCodeAt(2)>96&&rr.charCodeAt(2)<123,patchProp=(rr,er,tr,ir,nr,sr)=>{const ar=nr==="svg";er==="class"?patchClass(rr,ir,ar):er==="style"?patchStyle(rr,tr,ir):isOn(er)?isModelListener(er)||patchEvent(rr,er,tr,ir,sr):(er[0]==="."?(er=er.slice(1),!0):er[0]==="^"?(er=er.slice(1),!1):shouldSetAsProp(rr,er,ir,ar))?(patchDOMProp(rr,er,ir),!rr.tagName.includes("-")&&(er==="value"||er==="checked"||er==="selected")&&patchAttr(rr,er,ir,ar,sr,er!=="value")):rr._isVueCE&&(/[A-Z]/.test(er)||!isString(ir))?patchDOMProp(rr,camelize(er),ir,sr,er):(er==="true-value"?rr._trueValue=ir:er==="false-value"&&(rr._falseValue=ir),patchAttr(rr,er,ir,ar))};function shouldSetAsProp(rr,er,tr,ir){if(ir)return!!(er==="innerHTML"||er==="textContent"||er in rr&&isNativeOn(er)&&isFunction(tr));if(er==="spellcheck"||er==="draggable"||er==="translate"||er==="form"||er==="list"&&rr.tagName==="INPUT"||er==="type"&&rr.tagName==="TEXTAREA")return!1;if(er==="width"||er==="height"){const nr=rr.tagName;if(nr==="IMG"||nr==="VIDEO"||nr==="CANVAS"||nr==="SOURCE")return!1}return isNativeOn(er)&&isString(tr)?!1:er in rr}const getModelAssigner=rr=>{const er=rr.props["onUpdate:modelValue"]||!1;return isArray$2(er)?tr=>invokeArrayFns(er,tr):er},assignKey=Symbol("_assign"),vModelSelect={deep:!0,created(rr,{value:er,modifiers:{number:tr}},ir){const nr=isSet(er);addEventListener(rr,"change",()=>{const sr=Array.prototype.filter.call(rr.options,ar=>ar.selected).map(ar=>tr?looseToNumber(getValue(ar)):getValue(ar));rr[assignKey](rr.multiple?nr?new Set(sr):sr:sr[0]),rr._assigning=!0,nextTick(()=>{rr._assigning=!1})}),rr[assignKey]=getModelAssigner(ir)},mounted(rr,{value:er}){setSelected(rr,er)},beforeUpdate(rr,er,tr){rr[assignKey]=getModelAssigner(tr)},updated(rr,{value:er}){rr._assigning||setSelected(rr,er)}};function setSelected(rr,er){const tr=rr.multiple,ir=isArray$2(er);if(!(tr&&!ir&&!isSet(er))){for(let nr=0,sr=rr.options.length;nr<sr;nr++){const ar=rr.options[nr],or=getValue(ar);if(tr)if(ir){const lr=typeof or;lr==="string"||lr==="number"?ar.selected=er.some(cr=>String(cr)===String(or)):ar.selected=looseIndexOf(er,or)>-1}else ar.selected=er.has(or);else if(looseEqual(getValue(ar),er)){rr.selectedIndex!==nr&&(rr.selectedIndex=nr);return}}!tr&&rr.selectedIndex!==-1&&(rr.selectedIndex=-1)}}function getValue(rr){return"_value"in rr?rr._value:rr.value}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...rr)=>{const er=ensureRenderer().createApp(...rr),{mount:tr}=er;return er.mount=ir=>{const nr=normalizeContainer(ir);if(!nr)return;const sr=er._component;!isFunction(sr)&&!sr.render&&!sr.template&&(sr.template=nr.innerHTML),nr.nodeType===1&&(nr.textContent="");const ar=tr(nr,!1,resolveRootNamespace(nr));return nr instanceof Element&&(nr.removeAttribute("v-cloak"),nr.setAttribute("data-v-app","")),ar},er};function resolveRootNamespace(rr){if(rr instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&rr instanceof MathMLElement)return"mathml"}function normalizeContainer(rr){return isString(rr)?document.querySelector(rr):rr}const _imports_0$1="/assets/JRC-logos-purple-light-500-Cl7KA1K_.png";/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isRouteComponent(rr){return typeof rr=="object"||"displayName"in rr||"props"in rr||"__vccOpts"in rr}function isESModule(rr){return rr.__esModule||rr[Symbol.toStringTag]==="Module"||rr.default&&isRouteComponent(rr.default)}const assign=Object.assign;function applyToParams(rr,er){const tr={};for(const ir in er){const nr=er[ir];tr[ir]=isArray$1(nr)?nr.map(rr):rr(nr)}return tr}const noop$4=()=>{},isArray$1=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(rr){return encodeURI(""+rr).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(rr){return commonEncode(rr).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(rr){return commonEncode(rr).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(rr){return encodeQueryValue(rr).replace(EQUAL_RE,"%3D")}function encodePath(rr){return commonEncode(rr).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(rr){return rr==null?"":encodePath(rr).replace(SLASH_RE,"%2F")}function decode(rr){try{return decodeURIComponent(""+rr)}catch{}return""+rr}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=rr=>rr.replace(TRAILING_SLASH_RE,"");function parseURL(rr,er,tr="/"){let ir,nr={},sr="",ar="";const or=er.indexOf("#");let lr=er.indexOf("?");return or<lr&&or>=0&&(lr=-1),lr>-1&&(ir=er.slice(0,lr),sr=er.slice(lr+1,or>-1?or:er.length),nr=rr(sr)),or>-1&&(ir=ir||er.slice(0,or),ar=er.slice(or,er.length)),ir=resolveRelativePath(ir??er,tr),{fullPath:ir+(sr&&"?")+sr+ar,path:ir,query:nr,hash:decode(ar)}}function stringifyURL(rr,er){const tr=er.query?rr(er.query):"";return er.path+(tr&&"?")+tr+(er.hash||"")}function stripBase(rr,er){return!er||!rr.toLowerCase().startsWith(er.toLowerCase())?rr:rr.slice(er.length)||"/"}function isSameRouteLocation(rr,er,tr){const ir=er.matched.length-1,nr=tr.matched.length-1;return ir>-1&&ir===nr&&isSameRouteRecord(er.matched[ir],tr.matched[nr])&&isSameRouteLocationParams(er.params,tr.params)&&rr(er.query)===rr(tr.query)&&er.hash===tr.hash}function isSameRouteRecord(rr,er){return(rr.aliasOf||rr)===(er.aliasOf||er)}function isSameRouteLocationParams(rr,er){if(Object.keys(rr).length!==Object.keys(er).length)return!1;for(const tr in rr)if(!isSameRouteLocationParamsValue(rr[tr],er[tr]))return!1;return!0}function isSameRouteLocationParamsValue(rr,er){return isArray$1(rr)?isEquivalentArray(rr,er):isArray$1(er)?isEquivalentArray(er,rr):rr===er}function isEquivalentArray(rr,er){return isArray$1(er)?rr.length===er.length&&rr.every((tr,ir)=>tr===er[ir]):rr.length===1&&rr[0]===er}function resolveRelativePath(rr,er){if(rr.startsWith("/"))return rr;if(!rr)return er;const tr=er.split("/"),ir=rr.split("/"),nr=ir[ir.length-1];(nr===".."||nr===".")&&ir.push("");let sr=tr.length-1,ar,or;for(ar=0;ar<ir.length;ar++)if(or=ir[ar],or!==".")if(or==="..")sr>1&&sr--;else break;return tr.slice(0,sr).join("/")+"/"+ir.slice(ar).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(rr){rr.pop="pop",rr.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(rr){rr.back="back",rr.forward="forward",rr.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(rr){if(!rr)if(isBrowser){const er=document.querySelector("base");rr=er&&er.getAttribute("href")||"/",rr=rr.replace(/^\w+:\/\/[^\/]+/,"")}else rr="/";return rr[0]!=="/"&&rr[0]!=="#"&&(rr="/"+rr),removeTrailingSlash(rr)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(rr,er){return rr.replace(BEFORE_HASH_RE,"#")+er}function getElementPosition(rr,er){const tr=document.documentElement.getBoundingClientRect(),ir=rr.getBoundingClientRect();return{behavior:er.behavior,left:ir.left-tr.left-(er.left||0),top:ir.top-tr.top-(er.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(rr){let er;if("el"in rr){const tr=rr.el,ir=typeof tr=="string"&&tr.startsWith("#"),nr=typeof tr=="string"?ir?document.getElementById(tr.slice(1)):document.querySelector(tr):tr;if(!nr)return;er=getElementPosition(nr,rr)}else er=rr;"scrollBehavior"in document.documentElement.style?window.scrollTo(er):window.scrollTo(er.left!=null?er.left:window.scrollX,er.top!=null?er.top:window.scrollY)}function getScrollKey(rr,er){return(history.state?history.state.position-er:-1)+rr}const scrollPositions=new Map;function saveScrollPosition(rr,er){scrollPositions.set(rr,er)}function getSavedScrollPosition(rr){const er=scrollPositions.get(rr);return scrollPositions.delete(rr),er}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(rr,er){const{pathname:tr,search:ir,hash:nr}=er,sr=rr.indexOf("#");if(sr>-1){let or=nr.includes(rr.slice(sr))?rr.slice(sr).length:1,lr=nr.slice(or);return lr[0]!=="/"&&(lr="/"+lr),stripBase(lr,"")}return stripBase(tr,rr)+ir+nr}function useHistoryListeners(rr,er,tr,ir){let nr=[],sr=[],ar=null;const or=({state:dr})=>{const gr=createCurrentLocation(rr,location),pr=tr.value,mr=er.value;let vr=0;if(dr){if(tr.value=gr,er.value=dr,ar&&ar===pr){ar=null;return}vr=mr?dr.position-mr.position:0}else ir(gr);nr.forEach(yr=>{yr(tr.value,pr,{delta:vr,type:NavigationType.pop,direction:vr?vr>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function lr(){ar=tr.value}function cr(dr){nr.push(dr);const gr=()=>{const pr=nr.indexOf(dr);pr>-1&&nr.splice(pr,1)};return sr.push(gr),gr}function ur(){const{history:dr}=window;dr.state&&dr.replaceState(assign({},dr.state,{scroll:computeScrollPosition()}),"")}function hr(){for(const dr of sr)dr();sr=[],window.removeEventListener("popstate",or),window.removeEventListener("beforeunload",ur)}return window.addEventListener("popstate",or),window.addEventListener("beforeunload",ur,{passive:!0}),{pauseListeners:lr,listen:cr,destroy:hr}}function buildState(rr,er,tr,ir=!1,nr=!1){return{back:rr,current:er,forward:tr,replaced:ir,position:window.history.length,scroll:nr?computeScrollPosition():null}}function useHistoryStateNavigation(rr){const{history:er,location:tr}=window,ir={value:createCurrentLocation(rr,tr)},nr={value:er.state};nr.value||sr(ir.value,{back:null,current:ir.value,forward:null,position:er.length-1,replaced:!0,scroll:null},!0);function sr(lr,cr,ur){const hr=rr.indexOf("#"),dr=hr>-1?(tr.host&&document.querySelector("base")?rr:rr.slice(hr))+lr:createBaseLocation()+rr+lr;try{er[ur?"replaceState":"pushState"](cr,"",dr),nr.value=cr}catch(gr){console.error(gr),tr[ur?"replace":"assign"](dr)}}function ar(lr,cr){const ur=assign({},er.state,buildState(nr.value.back,lr,nr.value.forward,!0),cr,{position:nr.value.position});sr(lr,ur,!0),ir.value=lr}function or(lr,cr){const ur=assign({},nr.value,er.state,{forward:lr,scroll:computeScrollPosition()});sr(ur.current,ur,!0);const hr=assign({},buildState(ir.value,lr,null),{position:ur.position+1},cr);sr(lr,hr,!1),ir.value=lr}return{location:ir,state:nr,push:or,replace:ar}}function createWebHistory(rr){rr=normalizeBase(rr);const er=useHistoryStateNavigation(rr),tr=useHistoryListeners(rr,er.state,er.location,er.replace);function ir(sr,ar=!0){ar||tr.pauseListeners(),history.go(sr)}const nr=assign({location:"",base:rr,go:ir,createHref:createHref.bind(null,rr)},er,tr);return Object.defineProperty(nr,"location",{enumerable:!0,get:()=>er.location.value}),Object.defineProperty(nr,"state",{enumerable:!0,get:()=>er.state.value}),nr}function isRouteLocation(rr){return typeof rr=="string"||rr&&typeof rr=="object"}function isRouteName(rr){return typeof rr=="string"||typeof rr=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(rr){rr[rr.aborted=4]="aborted",rr[rr.cancelled=8]="cancelled",rr[rr.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(rr,er){return assign(new Error,{type:rr,[NavigationFailureSymbol]:!0},er)}function isNavigationFailure(rr,er){return rr instanceof Error&&NavigationFailureSymbol in rr&&(er==null||!!(rr.type&er))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(rr,er){const tr=assign({},BASE_PATH_PARSER_OPTIONS,er),ir=[];let nr=tr.start?"^":"";const sr=[];for(const cr of rr){const ur=cr.length?[]:[90];tr.strict&&!cr.length&&(nr+="/");for(let hr=0;hr<cr.length;hr++){const dr=cr[hr];let gr=40+(tr.sensitive?.25:0);if(dr.type===0)hr||(nr+="/"),nr+=dr.value.replace(REGEX_CHARS_RE,"\\$&"),gr+=40;else if(dr.type===1){const{value:pr,repeatable:mr,optional:vr,regexp:yr}=dr;sr.push({name:pr,repeatable:mr,optional:vr});const br=yr||BASE_PARAM_PATTERN;if(br!==BASE_PARAM_PATTERN){gr+=10;try{new RegExp(`(${br})`)}catch(Pr){throw new Error(`Invalid custom RegExp for param "${pr}" (${br}): `+Pr.message)}}let wr=mr?`((?:${br})(?:/(?:${br}))*)`:`(${br})`;hr||(wr=vr&&cr.length<2?`(?:/${wr})`:"/"+wr),vr&&(wr+="?"),nr+=wr,gr+=20,vr&&(gr+=-8),mr&&(gr+=-20),br===".*"&&(gr+=-50)}ur.push(gr)}ir.push(ur)}if(tr.strict&&tr.end){const cr=ir.length-1;ir[cr][ir[cr].length-1]+=.7000000000000001}tr.strict||(nr+="/?"),tr.end?nr+="$":tr.strict&&!nr.endsWith("/")&&(nr+="(?:/|$)");const ar=new RegExp(nr,tr.sensitive?"":"i");function or(cr){const ur=cr.match(ar),hr={};if(!ur)return null;for(let dr=1;dr<ur.length;dr++){const gr=ur[dr]||"",pr=sr[dr-1];hr[pr.name]=gr&&pr.repeatable?gr.split("/"):gr}return hr}function lr(cr){let ur="",hr=!1;for(const dr of rr){(!hr||!ur.endsWith("/"))&&(ur+="/"),hr=!1;for(const gr of dr)if(gr.type===0)ur+=gr.value;else if(gr.type===1){const{value:pr,repeatable:mr,optional:vr}=gr,yr=pr in cr?cr[pr]:"";if(isArray$1(yr)&&!mr)throw new Error(`Provided param "${pr}" is an array but it is not repeatable (* or + modifiers)`);const br=isArray$1(yr)?yr.join("/"):yr;if(!br)if(vr)dr.length<2&&(ur.endsWith("/")?ur=ur.slice(0,-1):hr=!0);else throw new Error(`Missing required param "${pr}"`);ur+=br}}return ur||"/"}return{re:ar,score:ir,keys:sr,parse:or,stringify:lr}}function compareScoreArray(rr,er){let tr=0;for(;tr<rr.length&&tr<er.length;){const ir=er[tr]-rr[tr];if(ir)return ir;tr++}return rr.length<er.length?rr.length===1&&rr[0]===80?-1:1:rr.length>er.length?er.length===1&&er[0]===80?1:-1:0}function comparePathParserScore(rr,er){let tr=0;const ir=rr.score,nr=er.score;for(;tr<ir.length&&tr<nr.length;){const sr=compareScoreArray(ir[tr],nr[tr]);if(sr)return sr;tr++}if(Math.abs(nr.length-ir.length)===1){if(isLastScoreNegative(ir))return 1;if(isLastScoreNegative(nr))return-1}return nr.length-ir.length}function isLastScoreNegative(rr){const er=rr[rr.length-1];return rr.length>0&&er[er.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(rr){if(!rr)return[[]];if(rr==="/")return[[ROOT_TOKEN]];if(!rr.startsWith("/"))throw new Error(`Invalid path "${rr}"`);function er(gr){throw new Error(`ERR (${tr})/"${cr}": ${gr}`)}let tr=0,ir=tr;const nr=[];let sr;function ar(){sr&&nr.push(sr),sr=[]}let or=0,lr,cr="",ur="";function hr(){cr&&(tr===0?sr.push({type:0,value:cr}):tr===1||tr===2||tr===3?(sr.length>1&&(lr==="*"||lr==="+")&&er(`A repeatable param (${cr}) must be alone in its segment. eg: '/:ids+.`),sr.push({type:1,value:cr,regexp:ur,repeatable:lr==="*"||lr==="+",optional:lr==="*"||lr==="?"})):er("Invalid state to consume buffer"),cr="")}function dr(){cr+=lr}for(;or<rr.length;){if(lr=rr[or++],lr==="\\"&&tr!==2){ir=tr,tr=4;continue}switch(tr){case 0:lr==="/"?(cr&&hr(),ar()):lr===":"?(hr(),tr=1):dr();break;case 4:dr(),tr=ir;break;case 1:lr==="("?tr=2:VALID_PARAM_RE.test(lr)?dr():(hr(),tr=0,lr!=="*"&&lr!=="?"&&lr!=="+"&&or--);break;case 2:lr===")"?ur[ur.length-1]=="\\"?ur=ur.slice(0,-1)+lr:tr=3:ur+=lr;break;case 3:hr(),tr=0,lr!=="*"&&lr!=="?"&&lr!=="+"&&or--,ur="";break;default:er("Unknown state");break}}return tr===2&&er(`Unfinished custom RegExp for param "${cr}"`),hr(),ar(),nr}function createRouteRecordMatcher(rr,er,tr){const ir=tokensToParser(tokenizePath(rr.path),tr),nr=assign(ir,{record:rr,parent:er,children:[],alias:[]});return er&&!nr.record.aliasOf==!er.record.aliasOf&&er.children.push(nr),nr}function createRouterMatcher(rr,er){const tr=[],ir=new Map;er=mergeOptions({strict:!1,end:!0,sensitive:!1},er);function nr(hr){return ir.get(hr)}function sr(hr,dr,gr){const pr=!gr,mr=normalizeRouteRecord(hr);mr.aliasOf=gr&&gr.record;const vr=mergeOptions(er,hr),yr=[mr];if("alias"in hr){const Pr=typeof hr.alias=="string"?[hr.alias]:hr.alias;for(const Tr of Pr)yr.push(normalizeRouteRecord(assign({},mr,{components:gr?gr.record.components:mr.components,path:Tr,aliasOf:gr?gr.record:mr})))}let br,wr;for(const Pr of yr){const{path:Tr}=Pr;if(dr&&Tr[0]!=="/"){const Vr=dr.record.path,Ar=Vr[Vr.length-1]==="/"?"":"/";Pr.path=dr.record.path+(Tr&&Ar+Tr)}if(br=createRouteRecordMatcher(Pr,dr,vr),gr?gr.alias.push(br):(wr=wr||br,wr!==br&&wr.alias.push(br),pr&&hr.name&&!isAliasRecord(br)&&ar(hr.name)),isMatchable(br)&&lr(br),mr.children){const Vr=mr.children;for(let Ar=0;Ar<Vr.length;Ar++)sr(Vr[Ar],br,gr&&gr.children[Ar])}gr=gr||br}return wr?()=>{ar(wr)}:noop$4}function ar(hr){if(isRouteName(hr)){const dr=ir.get(hr);dr&&(ir.delete(hr),tr.splice(tr.indexOf(dr),1),dr.children.forEach(ar),dr.alias.forEach(ar))}else{const dr=tr.indexOf(hr);dr>-1&&(tr.splice(dr,1),hr.record.name&&ir.delete(hr.record.name),hr.children.forEach(ar),hr.alias.forEach(ar))}}function or(){return tr}function lr(hr){const dr=findInsertionIndex(hr,tr);tr.splice(dr,0,hr),hr.record.name&&!isAliasRecord(hr)&&ir.set(hr.record.name,hr)}function cr(hr,dr){let gr,pr={},mr,vr;if("name"in hr&&hr.name){if(gr=ir.get(hr.name),!gr)throw createRouterError(1,{location:hr});vr=gr.record.name,pr=assign(paramsFromLocation(dr.params,gr.keys.filter(wr=>!wr.optional).concat(gr.parent?gr.parent.keys.filter(wr=>wr.optional):[]).map(wr=>wr.name)),hr.params&&paramsFromLocation(hr.params,gr.keys.map(wr=>wr.name))),mr=gr.stringify(pr)}else if(hr.path!=null)mr=hr.path,gr=tr.find(wr=>wr.re.test(mr)),gr&&(pr=gr.parse(mr),vr=gr.record.name);else{if(gr=dr.name?ir.get(dr.name):tr.find(wr=>wr.re.test(dr.path)),!gr)throw createRouterError(1,{location:hr,currentLocation:dr});vr=gr.record.name,pr=assign({},dr.params,hr.params),mr=gr.stringify(pr)}const yr=[];let br=gr;for(;br;)yr.unshift(br.record),br=br.parent;return{name:vr,path:mr,params:pr,matched:yr,meta:mergeMetaFields(yr)}}rr.forEach(hr=>sr(hr));function ur(){tr.length=0,ir.clear()}return{addRoute:sr,resolve:cr,removeRoute:ar,clearRoutes:ur,getRoutes:or,getRecordMatcher:nr}}function paramsFromLocation(rr,er){const tr={};for(const ir of er)ir in rr&&(tr[ir]=rr[ir]);return tr}function normalizeRouteRecord(rr){const er={path:rr.path,redirect:rr.redirect,name:rr.name,meta:rr.meta||{},aliasOf:rr.aliasOf,beforeEnter:rr.beforeEnter,props:normalizeRecordProps(rr),children:rr.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in rr?rr.components||null:rr.component&&{default:rr.component}};return Object.defineProperty(er,"mods",{value:{}}),er}function normalizeRecordProps(rr){const er={},tr=rr.props||!1;if("component"in rr)er.default=tr;else for(const ir in rr.components)er[ir]=typeof tr=="object"?tr[ir]:tr;return er}function isAliasRecord(rr){for(;rr;){if(rr.record.aliasOf)return!0;rr=rr.parent}return!1}function mergeMetaFields(rr){return rr.reduce((er,tr)=>assign(er,tr.meta),{})}function mergeOptions(rr,er){const tr={};for(const ir in rr)tr[ir]=ir in er?er[ir]:rr[ir];return tr}function findInsertionIndex(rr,er){let tr=0,ir=er.length;for(;tr!==ir;){const sr=tr+ir>>1;comparePathParserScore(rr,er[sr])<0?ir=sr:tr=sr+1}const nr=getInsertionAncestor(rr);return nr&&(ir=er.lastIndexOf(nr,ir-1)),ir}function getInsertionAncestor(rr){let er=rr;for(;er=er.parent;)if(isMatchable(er)&&comparePathParserScore(rr,er)===0)return er}function isMatchable({record:rr}){return!!(rr.name||rr.components&&Object.keys(rr.components).length||rr.redirect)}function parseQuery(rr){const er={};if(rr===""||rr==="?")return er;const ir=(rr[0]==="?"?rr.slice(1):rr).split("&");for(let nr=0;nr<ir.length;++nr){const sr=ir[nr].replace(PLUS_RE," "),ar=sr.indexOf("="),or=decode(ar<0?sr:sr.slice(0,ar)),lr=ar<0?null:decode(sr.slice(ar+1));if(or in er){let cr=er[or];isArray$1(cr)||(cr=er[or]=[cr]),cr.push(lr)}else er[or]=lr}return er}function stringifyQuery(rr){let er="";for(let tr in rr){const ir=rr[tr];if(tr=encodeQueryKey(tr),ir==null){ir!==void 0&&(er+=(er.length?"&":"")+tr);continue}(isArray$1(ir)?ir.map(sr=>sr&&encodeQueryValue(sr)):[ir&&encodeQueryValue(ir)]).forEach(sr=>{sr!==void 0&&(er+=(er.length?"&":"")+tr,sr!=null&&(er+="="+sr))})}return er}function normalizeQuery(rr){const er={};for(const tr in rr){const ir=rr[tr];ir!==void 0&&(er[tr]=isArray$1(ir)?ir.map(nr=>nr==null?null:""+nr):ir==null?ir:""+ir)}return er}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let rr=[];function er(ir){return rr.push(ir),()=>{const nr=rr.indexOf(ir);nr>-1&&rr.splice(nr,1)}}function tr(){rr=[]}return{add:er,list:()=>rr.slice(),reset:tr}}function guardToPromiseFn(rr,er,tr,ir,nr,sr=ar=>ar()){const ar=ir&&(ir.enterCallbacks[nr]=ir.enterCallbacks[nr]||[]);return()=>new Promise((or,lr)=>{const cr=dr=>{dr===!1?lr(createRouterError(4,{from:tr,to:er})):dr instanceof Error?lr(dr):isRouteLocation(dr)?lr(createRouterError(2,{from:er,to:dr})):(ar&&ir.enterCallbacks[nr]===ar&&typeof dr=="function"&&ar.push(dr),or())},ur=sr(()=>rr.call(ir&&ir.instances[nr],er,tr,cr));let hr=Promise.resolve(ur);rr.length<3&&(hr=hr.then(cr)),hr.catch(dr=>lr(dr))})}function extractComponentsGuards(rr,er,tr,ir,nr=sr=>sr()){const sr=[];for(const ar of rr)for(const or in ar.components){let lr=ar.components[or];if(!(er!=="beforeRouteEnter"&&!ar.instances[or]))if(isRouteComponent(lr)){const ur=(lr.__vccOpts||lr)[er];ur&&sr.push(guardToPromiseFn(ur,tr,ir,ar,or,nr))}else{let cr=lr();sr.push(()=>cr.then(ur=>{if(!ur)throw new Error(`Couldn't resolve component "${or}" at "${ar.path}"`);const hr=isESModule(ur)?ur.default:ur;ar.mods[or]=ur,ar.components[or]=hr;const gr=(hr.__vccOpts||hr)[er];return gr&&guardToPromiseFn(gr,tr,ir,ar,or,nr)()}))}}return sr}function useLink(rr){const er=inject(routerKey),tr=inject(routeLocationKey),ir=computed(()=>{const lr=unref(rr.to);return er.resolve(lr)}),nr=computed(()=>{const{matched:lr}=ir.value,{length:cr}=lr,ur=lr[cr-1],hr=tr.matched;if(!ur||!hr.length)return-1;const dr=hr.findIndex(isSameRouteRecord.bind(null,ur));if(dr>-1)return dr;const gr=getOriginalPath(lr[cr-2]);return cr>1&&getOriginalPath(ur)===gr&&hr[hr.length-1].path!==gr?hr.findIndex(isSameRouteRecord.bind(null,lr[cr-2])):dr}),sr=computed(()=>nr.value>-1&&includesParams(tr.params,ir.value.params)),ar=computed(()=>nr.value>-1&&nr.value===tr.matched.length-1&&isSameRouteLocationParams(tr.params,ir.value.params));function or(lr={}){if(guardEvent(lr)){const cr=er[unref(rr.replace)?"replace":"push"](unref(rr.to)).catch(noop$4);return rr.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>cr),cr}return Promise.resolve()}return{route:ir,href:computed(()=>ir.value.href),isActive:sr,isExactActive:ar,navigate:or}}function preferSingleVNode(rr){return rr.length===1?rr[0]:rr}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(rr,{slots:er}){const tr=reactive(useLink(rr)),{options:ir}=inject(routerKey),nr=computed(()=>({[getLinkClass(rr.activeClass,ir.linkActiveClass,"router-link-active")]:tr.isActive,[getLinkClass(rr.exactActiveClass,ir.linkExactActiveClass,"router-link-exact-active")]:tr.isExactActive}));return()=>{const sr=er.default&&preferSingleVNode(er.default(tr));return rr.custom?sr:h$1("a",{"aria-current":tr.isExactActive?rr.ariaCurrentValue:null,href:tr.href,onClick:tr.navigate,class:nr.value},sr)}}}),RouterLink=RouterLinkImpl;function guardEvent(rr){if(!(rr.metaKey||rr.altKey||rr.ctrlKey||rr.shiftKey)&&!rr.defaultPrevented&&!(rr.button!==void 0&&rr.button!==0)){if(rr.currentTarget&&rr.currentTarget.getAttribute){const er=rr.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(er))return}return rr.preventDefault&&rr.preventDefault(),!0}}function includesParams(rr,er){for(const tr in er){const ir=er[tr],nr=rr[tr];if(typeof ir=="string"){if(ir!==nr)return!1}else if(!isArray$1(nr)||nr.length!==ir.length||ir.some((sr,ar)=>sr!==nr[ar]))return!1}return!0}function getOriginalPath(rr){return rr?rr.aliasOf?rr.aliasOf.path:rr.path:""}const getLinkClass=(rr,er,tr)=>rr??er??tr,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(rr,{attrs:er,slots:tr}){const ir=inject(routerViewLocationKey),nr=computed(()=>rr.route||ir.value),sr=inject(viewDepthKey,0),ar=computed(()=>{let cr=unref(sr);const{matched:ur}=nr.value;let hr;for(;(hr=ur[cr])&&!hr.components;)cr++;return cr}),or=computed(()=>nr.value.matched[ar.value]);provide(viewDepthKey,computed(()=>ar.value+1)),provide(matchedRouteKey,or),provide(routerViewLocationKey,nr);const lr=ref();return watch(()=>[lr.value,or.value,rr.name],([cr,ur,hr],[dr,gr,pr])=>{ur&&(ur.instances[hr]=cr,gr&&gr!==ur&&cr&&cr===dr&&(ur.leaveGuards.size||(ur.leaveGuards=gr.leaveGuards),ur.updateGuards.size||(ur.updateGuards=gr.updateGuards))),cr&&ur&&(!gr||!isSameRouteRecord(ur,gr)||!dr)&&(ur.enterCallbacks[hr]||[]).forEach(mr=>mr(cr))},{flush:"post"}),()=>{const cr=nr.value,ur=rr.name,hr=or.value,dr=hr&&hr.components[ur];if(!dr)return normalizeSlot(tr.default,{Component:dr,route:cr});const gr=hr.props[ur],pr=gr?gr===!0?cr.params:typeof gr=="function"?gr(cr):gr:null,vr=h$1(dr,assign({},pr,er,{onVnodeUnmounted:yr=>{yr.component.isUnmounted&&(hr.instances[ur]=null)},ref:lr}));return normalizeSlot(tr.default,{Component:vr,route:cr})||vr}}});function normalizeSlot(rr,er){if(!rr)return null;const tr=rr(er);return tr.length===1?tr[0]:tr}const RouterView=RouterViewImpl;function createRouter(rr){const er=createRouterMatcher(rr.routes,rr),tr=rr.parseQuery||parseQuery,ir=rr.stringifyQuery||stringifyQuery,nr=rr.history,sr=useCallbacks(),ar=useCallbacks(),or=useCallbacks(),lr=shallowRef(START_LOCATION_NORMALIZED);let cr=START_LOCATION_NORMALIZED;isBrowser&&rr.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const ur=applyToParams.bind(null,Br=>""+Br),hr=applyToParams.bind(null,encodeParam),dr=applyToParams.bind(null,decode);function gr(Br,Gr){let qr,Zr;return isRouteName(Br)?(qr=er.getRecordMatcher(Br),Zr=Gr):Zr=Br,er.addRoute(Zr,qr)}function pr(Br){const Gr=er.getRecordMatcher(Br);Gr&&er.removeRoute(Gr)}function mr(){return er.getRoutes().map(Br=>Br.record)}function vr(Br){return!!er.getRecordMatcher(Br)}function yr(Br,Gr){if(Gr=assign({},Gr||lr.value),typeof Br=="string"){const Dr=parseURL(tr,Br,Gr.path),Wr=er.resolve({path:Dr.path},Gr),Xr=nr.createHref(Dr.fullPath);return assign(Dr,Wr,{params:dr(Wr.params),hash:decode(Dr.hash),redirectedFrom:void 0,href:Xr})}let qr;if(Br.path!=null)qr=assign({},Br,{path:parseURL(tr,Br.path,Gr.path).path});else{const Dr=assign({},Br.params);for(const Wr in Dr)Dr[Wr]==null&&delete Dr[Wr];qr=assign({},Br,{params:hr(Dr)}),Gr.params=hr(Gr.params)}const Zr=er.resolve(qr,Gr),yn=Br.hash||"";Zr.params=ur(dr(Zr.params));const Or=stringifyURL(ir,assign({},Br,{hash:encodeHash(yn),path:Zr.path})),Lr=nr.createHref(Or);return assign({fullPath:Or,hash:yn,query:ir===stringifyQuery?normalizeQuery(Br.query):Br.query||{}},Zr,{redirectedFrom:void 0,href:Lr})}function br(Br){return typeof Br=="string"?parseURL(tr,Br,lr.value.path):assign({},Br)}function wr(Br,Gr){if(cr!==Br)return createRouterError(8,{from:Gr,to:Br})}function Pr(Br){return Ar(Br)}function Tr(Br){return Pr(assign(br(Br),{replace:!0}))}function Vr(Br){const Gr=Br.matched[Br.matched.length-1];if(Gr&&Gr.redirect){const{redirect:qr}=Gr;let Zr=typeof qr=="function"?qr(Br):qr;return typeof Zr=="string"&&(Zr=Zr.includes("?")||Zr.includes("#")?Zr=br(Zr):{path:Zr},Zr.params={}),assign({query:Br.query,hash:Br.hash,params:Zr.path!=null?{}:Br.params},Zr)}}function Ar(Br,Gr){const qr=cr=yr(Br),Zr=lr.value,yn=Br.state,Or=Br.force,Lr=Br.replace===!0,Dr=Vr(qr);if(Dr)return Ar(assign(br(Dr),{state:typeof Dr=="object"?assign({},yn,Dr.state):yn,force:Or,replace:Lr}),Gr||qr);const Wr=qr;Wr.redirectedFrom=Gr;let Xr;return!Or&&isSameRouteLocation(ir,Zr,qr)&&(Xr=createRouterError(16,{to:Wr,from:Zr}),un(Zr,Zr,!0,!1)),(Xr?Promise.resolve(Xr):Cr(Wr,Zr)).catch(Yr=>isNavigationFailure(Yr)?isNavigationFailure(Yr,2)?Yr:ln(Yr):jr(Yr,Wr,Zr)).then(Yr=>{if(Yr){if(isNavigationFailure(Yr,2))return Ar(assign({replace:Lr},br(Yr.to),{state:typeof Yr.to=="object"?assign({},yn,Yr.to.state):yn,force:Or}),Gr||Wr)}else Yr=kr(Wr,Zr,!0,Lr,yn);return Rr(Wr,Zr,Yr),Yr})}function xr(Br,Gr){const qr=wr(Br,Gr);return qr?Promise.reject(qr):Promise.resolve()}function Er(Br){const Gr=fn.values().next().value;return Gr&&typeof Gr.runWithContext=="function"?Gr.runWithContext(Br):Br()}function Cr(Br,Gr){let qr;const[Zr,yn,Or]=extractChangingRecords(Br,Gr);qr=extractComponentsGuards(Zr.reverse(),"beforeRouteLeave",Br,Gr);for(const Dr of Zr)Dr.leaveGuards.forEach(Wr=>{qr.push(guardToPromiseFn(Wr,Br,Gr))});const Lr=xr.bind(null,Br,Gr);return qr.push(Lr),dn(qr).then(()=>{qr=[];for(const Dr of sr.list())qr.push(guardToPromiseFn(Dr,Br,Gr));return qr.push(Lr),dn(qr)}).then(()=>{qr=extractComponentsGuards(yn,"beforeRouteUpdate",Br,Gr);for(const Dr of yn)Dr.updateGuards.forEach(Wr=>{qr.push(guardToPromiseFn(Wr,Br,Gr))});return qr.push(Lr),dn(qr)}).then(()=>{qr=[];for(const Dr of Or)if(Dr.beforeEnter)if(isArray$1(Dr.beforeEnter))for(const Wr of Dr.beforeEnter)qr.push(guardToPromiseFn(Wr,Br,Gr));else qr.push(guardToPromiseFn(Dr.beforeEnter,Br,Gr));return qr.push(Lr),dn(qr)}).then(()=>(Br.matched.forEach(Dr=>Dr.enterCallbacks={}),qr=extractComponentsGuards(Or,"beforeRouteEnter",Br,Gr,Er),qr.push(Lr),dn(qr))).then(()=>{qr=[];for(const Dr of ar.list())qr.push(guardToPromiseFn(Dr,Br,Gr));return qr.push(Lr),dn(qr)}).catch(Dr=>isNavigationFailure(Dr,8)?Dr:Promise.reject(Dr))}function Rr(Br,Gr,qr){or.list().forEach(Zr=>Er(()=>Zr(Br,Gr,qr)))}function kr(Br,Gr,qr,Zr,yn){const Or=wr(Br,Gr);if(Or)return Or;const Lr=Gr===START_LOCATION_NORMALIZED,Dr=isBrowser?history.state:{};qr&&(Zr||Lr?nr.replace(Br.fullPath,assign({scroll:Lr&&Dr&&Dr.scroll},yn)):nr.push(Br.fullPath,yn)),lr.value=Br,un(Br,Gr,qr,Lr),ln()}let Sr;function Nr(){Sr||(Sr=nr.listen((Br,Gr,qr)=>{if(!An.listening)return;const Zr=yr(Br),yn=Vr(Zr);if(yn){Ar(assign(yn,{replace:!0,force:!0}),Zr).catch(noop$4);return}cr=Zr;const Or=lr.value;isBrowser&&saveScrollPosition(getScrollKey(Or.fullPath,qr.delta),computeScrollPosition()),Cr(Zr,Or).catch(Lr=>isNavigationFailure(Lr,12)?Lr:isNavigationFailure(Lr,2)?(Ar(assign(br(Lr.to),{force:!0}),Zr).then(Dr=>{isNavigationFailure(Dr,20)&&!qr.delta&&qr.type===NavigationType.pop&&nr.go(-1,!1)}).catch(noop$4),Promise.reject()):(qr.delta&&nr.go(-qr.delta,!1),jr(Lr,Zr,Or))).then(Lr=>{Lr=Lr||kr(Zr,Or,!1),Lr&&(qr.delta&&!isNavigationFailure(Lr,8)?nr.go(-qr.delta,!1):qr.type===NavigationType.pop&&isNavigationFailure(Lr,20)&&nr.go(-1,!1)),Rr(Zr,Or,Lr)}).catch(noop$4)}))}let Hr=useCallbacks(),zr=useCallbacks(),$r;function jr(Br,Gr,qr){ln(Br);const Zr=zr.list();return Zr.length?Zr.forEach(yn=>yn(Br,Gr,qr)):console.error(Br),Promise.reject(Br)}function Jr(){return $r&&lr.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Br,Gr)=>{Hr.add([Br,Gr])})}function ln(Br){return $r||($r=!Br,Nr(),Hr.list().forEach(([Gr,qr])=>Br?qr(Br):Gr()),Hr.reset()),Br}function un(Br,Gr,qr,Zr){const{scrollBehavior:yn}=rr;if(!isBrowser||!yn)return Promise.resolve();const Or=!qr&&getSavedScrollPosition(getScrollKey(Br.fullPath,0))||(Zr||!qr)&&history.state&&history.state.scroll||null;return nextTick().then(()=>yn(Br,Gr,Or)).then(Lr=>Lr&&scrollToPosition(Lr)).catch(Lr=>jr(Lr,Br,Gr))}const Qr=Br=>nr.go(Br);let pn;const fn=new Set,An={currentRoute:lr,listening:!0,addRoute:gr,removeRoute:pr,clearRoutes:er.clearRoutes,hasRoute:vr,getRoutes:mr,resolve:yr,options:rr,push:Pr,replace:Tr,go:Qr,back:()=>Qr(-1),forward:()=>Qr(1),beforeEach:sr.add,beforeResolve:ar.add,afterEach:or.add,onError:zr.add,isReady:Jr,install(Br){const Gr=this;Br.component("RouterLink",RouterLink),Br.component("RouterView",RouterView),Br.config.globalProperties.$router=Gr,Object.defineProperty(Br.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(lr)}),isBrowser&&!pn&&lr.value===START_LOCATION_NORMALIZED&&(pn=!0,Pr(nr.location).catch(yn=>{}));const qr={};for(const yn in START_LOCATION_NORMALIZED)Object.defineProperty(qr,yn,{get:()=>lr.value[yn],enumerable:!0});Br.provide(routerKey,Gr),Br.provide(routeLocationKey,shallowReactive(qr)),Br.provide(routerViewLocationKey,lr);const Zr=Br.unmount;fn.add(Br),Br.unmount=function(){fn.delete(Br),fn.size<1&&(cr=START_LOCATION_NORMALIZED,Sr&&Sr(),Sr=null,lr.value=START_LOCATION_NORMALIZED,pn=!1,$r=!1),Zr()}}};function dn(Br){return Br.reduce((Gr,qr)=>Gr.then(()=>Er(qr)),Promise.resolve())}return An}function extractChangingRecords(rr,er){const tr=[],ir=[],nr=[],sr=Math.max(er.matched.length,rr.matched.length);for(let ar=0;ar<sr;ar++){const or=er.matched[ar];or&&(rr.matched.find(cr=>isSameRouteRecord(cr,or))?ir.push(or):tr.push(or));const lr=rr.matched[ar];lr&&(er.matched.find(cr=>isSameRouteRecord(cr,lr))||nr.push(lr))}return[tr,ir,nr]}const _export_sfc=(rr,er)=>{const tr=rr.__vccOpts||rr;for(const[ir,nr]of er)tr[ir]=nr;return tr},_sfc_main$5={};function _sfc_render(rr,er){return openBlock(),createElementBlock("main",null,er[0]||(er[0]=[createBaseVNode("div",null,[createBaseVNode("br"),createBaseVNode("p",{class:"greet"},"Welcome to my portfolio website of various bits of client side web development I have been working on!"),createBaseVNode("br"),createBaseVNode("hr"),createBaseVNode("br"),createBaseVNode("h2",null,"Who Am I?"),createBaseVNode("p",null,"I am a university lecturer specialising in professionalism, web development, databases, and I'm slowly working my way into data science. I also have over a decade of experience in software testing prior to this, including automated testing."),createBaseVNode("br"),createBaseVNode("hr"),createBaseVNode("br"),createBaseVNode("h2",null,"What is this Site?"),createBaseVNode("p",null,"Web development moves fast and I'm already behind as I put my skills on hold to learn how to teach! This website is where I will be practicing various new and old skills. The best work I do will be added to this site.")],-1)]))}const Home=_export_sfc(_sfc_main$5,[["render",_sfc_render],["__scopeId","data-v-5b67e001"]]),_imports_0="/maths-images/equal.svg",_hoisted_1$4={class:"equation-box"},_hoisted_2$3=["src","alt","id"],_hoisted_3$3=["src","alt","id"],_hoisted_4$2=["src","alt","id"],_hoisted_5$2=["src","alt","id"],_hoisted_6$2=["src","alt","id"],_hoisted_7$1={class:"draggable-container"},_hoisted_8$1={class:"draggable-items",id:"holdNumbers"},_hoisted_9$1=["id"],_hoisted_10=["src","alt","id"],_hoisted_11={class:"draggable-items",id:"holdSymbols"},_hoisted_12={class:"dropzone symbolDrop"},_hoisted_13=["src","alt","id"],_hoisted_14={class:"buttons"},_sfc_main$4={__name:"DragAndDrop",setup(__props){const numbers=["1","2","3","4","5","6","7","8","9","0"],symbols=[{text:"plus",sign:"+"},{text:"minus",sign:"-"},{text:"times",sign:"*"},{text:"divide",sign:"/"}],dropN1=ref(""),dropS1=ref(""),dropN2=ref(""),dropN3=ref(""),dropN4=ref("");function getTextFromSign(rr){const er=symbols.find(tr=>tr.sign===rr);return er?er.text:null}function dragStart(rr){rr.dataTransfer.setData("text/plain",rr.target.id)}function dragOver(rr){rr.preventDefault()}function dropNumber1(rr){rr.preventDefault();const er=rr.dataTransfer.getData("text");if(document.getElementById(er).classList.contains("number"))dropN1.value=er.toString();else return!1}function dropSymbol1(rr){rr.preventDefault();const er=rr.dataTransfer.getData("text");if(document.getElementById(er).classList.contains("symbol"))dropS1.value=er.toString();else return!1}function dropNumber2(rr){rr.preventDefault();const er=rr.dataTransfer.getData("text");if(document.getElementById(er).classList.contains("number"))dropN2.value=er.toString();else return!1}function dropNumber3(rr){rr.preventDefault();const er=rr.dataTransfer.getData("text");if(document.getElementById(er).classList.contains("number"))dropN3.value=er.toString();else return!1}function dropNumber4(rr){rr.preventDefault();const er=rr.dataTransfer.getData("text");if(document.getElementById(er).classList.contains("number"))dropN4.value=er.toString();else return!1}function validate(){var rr,er,tr,ir,nr,sr,ar,or,lr,cr;const n1=(er=(rr=document.getElementById("dropzone-n1").firstChild)==null?void 0:rr.id)==null?void 0:er.substring(4,5),s1=(ir=(tr=document.getElementById("dropzone-s1").firstChild)==null?void 0:tr.id)==null?void 0:ir.substring(4,5),n2=(sr=(nr=document.getElementById("dropzone-n2").firstChild)==null?void 0:nr.id)==null?void 0:sr.substring(4,5);let n3=(or=(ar=document.getElementById("dropzone-n3").firstChild)==null?void 0:ar.id)==null?void 0:or.substring(4,5);const n4=(cr=(lr=document.getElementById("dropzone-n4").firstChild)==null?void 0:lr.id)==null?void 0:cr.substring(4,5);let blanktest=!1;(n3!=null||n4!=null)&&(blanktest=!0);const message=document.getElementById("message");if(n1!=null&&s1!=null&&n2!=null&&blanktest){const sum=n1+s1+n2,result=eval(sum).toFixed(2),resultRound=Math.round(eval(sum)).toString();n3=="0"&&(n3=null);const inputResult=(n3??"")+(n4??"");inputResult==resultRound?message.textContent=`Well done!
(The calculated value was ${result}.)`:message.textContent=`Incorrect, please try again.

`}else message.textContent=`Please complete the equation.

`}function clear(){dropN1.value="",dropS1.value="",dropN2.value="",dropN3.value="",dropN4.value="",document.getElementById("message").innerText=""}return(rr,er)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("main",null,[er[15]||(er[15]=createBaseVNode("h2",null,"Drag and drop the images to make an equation, then click Go to check your working!",-1)),er[16]||(er[16]=createBaseVNode("br",null,null,-1)),createBaseVNode("div",_hoisted_1$4,[createBaseVNode("div",{class:"dropzone",id:"dropzone-n1",onDragover:er[0]||(er[0]=tr=>dragOver(tr)),onDrop:er[1]||(er[1]=tr=>dropNumber1(tr))},[dropN1.value!=""?(openBlock(),createElementBlock("img",{key:0,src:"/number-images/"+dropN1.value+".svg",alt:dropN1.value,class:"number",id:"copy"+dropN1.value,draggable:"false"},null,8,_hoisted_2$3)):createCommentVNode("",!0)],32),createBaseVNode("div",{class:"dropzone symbolDrop",id:"dropzone-s1",onDragover:er[2]||(er[2]=tr=>dragOver(tr)),onDrop:er[3]||(er[3]=tr=>dropSymbol1(tr))},[dropS1.value!=""?(openBlock(),createElementBlock("img",{key:0,src:"/maths-images/"+getTextFromSign(dropS1.value)+".svg",alt:dropS1.value,class:"symbol",id:"copy"+dropS1.value,draggable:"false"},null,8,_hoisted_3$3)):createCommentVNode("",!0)],32),createBaseVNode("div",{class:"dropzone",id:"dropzone-n2",onDragover:er[4]||(er[4]=tr=>dragOver(tr)),onDrop:er[5]||(er[5]=tr=>dropNumber2(tr))},[dropN2.value!=""?(openBlock(),createElementBlock("img",{key:0,src:"/number-images/"+dropN2.value+".svg",alt:dropN2.value,class:"number",id:"copy"+dropN2.value,draggable:"false"},null,8,_hoisted_4$2)):createCommentVNode("",!0)],32),er[14]||(er[14]=createBaseVNode("div",{class:"fixedZone"},[createBaseVNode("img",{src:_imports_0,alt:"equals",class:"fixed",draggable:"false"})],-1)),createBaseVNode("div",{class:"dropzone",id:"dropzone-n3",onDragover:er[6]||(er[6]=tr=>dragOver(tr)),onDrop:er[7]||(er[7]=tr=>dropNumber3(tr))},[dropN3.value!=""?(openBlock(),createElementBlock("img",{key:0,src:"/number-images/"+dropN3.value+".svg",alt:dropN3.value,class:"number",id:"copy"+dropN3.value,draggable:"false"},null,8,_hoisted_5$2)):createCommentVNode("",!0)],32),createBaseVNode("div",{class:"dropzone",id:"dropzone-n4",onDragover:er[8]||(er[8]=tr=>dragOver(tr)),onDrop:er[9]||(er[9]=tr=>dropNumber4(tr))},[dropN4.value!=""?(openBlock(),createElementBlock("img",{key:0,src:"/number-images/"+dropN4.value+".svg",alt:dropN4.value,class:"number",id:"copy"+dropN4.value,draggable:"false"},null,8,_hoisted_6$2)):createCommentVNode("",!0)],32)]),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[(openBlock(),createElementBlock(Fragment,null,renderList(numbers,tr=>createBaseVNode("div",{class:"dropzone",id:"dropzone-"+tr},[createBaseVNode("img",{src:"/number-images/"+tr+".svg",alt:tr,class:"draggable number",id:tr,draggable:"true",onDragstart:er[10]||(er[10]=ir=>dragStart(ir))},null,40,_hoisted_10)],8,_hoisted_9$1)),64))]),createBaseVNode("div",_hoisted_11,[(openBlock(),createElementBlock(Fragment,null,renderList(symbols,tr=>createBaseVNode("div",_hoisted_12,[createBaseVNode("img",{src:"/maths-images/"+tr.text+".svg",alt:tr.text,class:"draggable symbol",id:tr.sign,draggable:"true",onDragstart:er[11]||(er[11]=ir=>dragStart(ir))},null,40,_hoisted_13)])),64))])]),createBaseVNode("div",_hoisted_14,[createBaseVNode("button",{id:"validate",onClick:er[12]||(er[12]=tr=>validate())},"Go!"),createBaseVNode("button",{id:"clear",onClick:er[13]||(er[13]=tr=>clear())},"Clear")]),er[17]||(er[17]=createBaseVNode("div",{id:"message",style:{"white-space":"pre-line"}},[createBaseVNode("br"),createBaseVNode("br")],-1))]),er[18]||(er[18]=createBaseVNode("div",{id:"sizing-issue"},[createBaseVNode("p",null,"Your screen is currently not wide enough to support this content. If you are on a phone, try rotating to landscape mode.")],-1))],64))}},DragAndDrop=_export_sfc(_sfc_main$4,[["__scopeId","data-v-23ecac05"]]);function createTimer(){let rr=0,er=0,tr=!1;return{start(){tr||(rr=Date.now()-er,tr=!0)},pause(){tr&&(er=Date.now()-rr,tr=!1)},reset(){rr=0,er=0,tr=!1},getTime(){return tr?(Date.now()-rr)/1e3:er/1e3},isRunning(){return tr}}}const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(rr){const er=[];let tr=0;for(let ir=0;ir<rr.length;ir++){let nr=rr.charCodeAt(ir);nr<128?er[tr++]=nr:nr<2048?(er[tr++]=nr>>6|192,er[tr++]=nr&63|128):(nr&64512)===55296&&ir+1<rr.length&&(rr.charCodeAt(ir+1)&64512)===56320?(nr=65536+((nr&1023)<<10)+(rr.charCodeAt(++ir)&1023),er[tr++]=nr>>18|240,er[tr++]=nr>>12&63|128,er[tr++]=nr>>6&63|128,er[tr++]=nr&63|128):(er[tr++]=nr>>12|224,er[tr++]=nr>>6&63|128,er[tr++]=nr&63|128)}return er},byteArrayToString=function(rr){const er=[];let tr=0,ir=0;for(;tr<rr.length;){const nr=rr[tr++];if(nr<128)er[ir++]=String.fromCharCode(nr);else if(nr>191&&nr<224){const sr=rr[tr++];er[ir++]=String.fromCharCode((nr&31)<<6|sr&63)}else if(nr>239&&nr<365){const sr=rr[tr++],ar=rr[tr++],or=rr[tr++],lr=((nr&7)<<18|(sr&63)<<12|(ar&63)<<6|or&63)-65536;er[ir++]=String.fromCharCode(55296+(lr>>10)),er[ir++]=String.fromCharCode(56320+(lr&1023))}else{const sr=rr[tr++],ar=rr[tr++];er[ir++]=String.fromCharCode((nr&15)<<12|(sr&63)<<6|ar&63)}}return er.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(rr,er){if(!Array.isArray(rr))throw Error("encodeByteArray takes an array as a parameter");this.init_();const tr=er?this.byteToCharMapWebSafe_:this.byteToCharMap_,ir=[];for(let nr=0;nr<rr.length;nr+=3){const sr=rr[nr],ar=nr+1<rr.length,or=ar?rr[nr+1]:0,lr=nr+2<rr.length,cr=lr?rr[nr+2]:0,ur=sr>>2,hr=(sr&3)<<4|or>>4;let dr=(or&15)<<2|cr>>6,gr=cr&63;lr||(gr=64,ar||(dr=64)),ir.push(tr[ur],tr[hr],tr[dr],tr[gr])}return ir.join("")},encodeString(rr,er){return this.HAS_NATIVE_SUPPORT&&!er?btoa(rr):this.encodeByteArray(stringToByteArray$1(rr),er)},decodeString(rr,er){return this.HAS_NATIVE_SUPPORT&&!er?atob(rr):byteArrayToString(this.decodeStringToByteArray(rr,er))},decodeStringToByteArray(rr,er){this.init_();const tr=er?this.charToByteMapWebSafe_:this.charToByteMap_,ir=[];for(let nr=0;nr<rr.length;){const sr=tr[rr.charAt(nr++)],or=nr<rr.length?tr[rr.charAt(nr)]:0;++nr;const cr=nr<rr.length?tr[rr.charAt(nr)]:64;++nr;const hr=nr<rr.length?tr[rr.charAt(nr)]:64;if(++nr,sr==null||or==null||cr==null||hr==null)throw new DecodeBase64StringError;const dr=sr<<2|or>>4;if(ir.push(dr),cr!==64){const gr=or<<4&240|cr>>2;if(ir.push(gr),hr!==64){const pr=cr<<6&192|hr;ir.push(pr)}}}return ir},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let rr=0;rr<this.ENCODED_VALS.length;rr++)this.byteToCharMap_[rr]=this.ENCODED_VALS.charAt(rr),this.charToByteMap_[this.byteToCharMap_[rr]]=rr,this.byteToCharMapWebSafe_[rr]=this.ENCODED_VALS_WEBSAFE.charAt(rr),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[rr]]=rr,rr>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(rr)]=rr,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(rr)]=rr)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(rr){const er=stringToByteArray$1(rr);return base64.encodeByteArray(er,!0)},base64urlEncodeWithoutPadding=function(rr){return base64Encode(rr).replace(/\./g,"")},base64Decode=function(rr){try{return base64.decodeString(rr,!0)}catch(er){console.error("base64Decode failed: ",er)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const rr=define_process_env_default.__FIREBASE_DEFAULTS__;if(rr)return JSON.parse(rr)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let rr;try{rr=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const er=rr&&base64Decode(rr[1]);return er&&JSON.parse(er)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(rr){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${rr}`);return}},getDefaultEmulatorHost=rr=>{var er,tr;return(tr=(er=getDefaults())===null||er===void 0?void 0:er.emulatorHosts)===null||tr===void 0?void 0:tr[rr]},getDefaultEmulatorHostnameAndPort=rr=>{const er=getDefaultEmulatorHost(rr);if(!er)return;const tr=er.lastIndexOf(":");if(tr<=0||tr+1===er.length)throw new Error(`Invalid host ${er} with no separate hostname and port!`);const ir=parseInt(er.substring(tr+1),10);return er[0]==="["?[er.substring(1,tr-1),ir]:[er.substring(0,tr),ir]},getDefaultAppConfig=()=>{var rr;return(rr=getDefaults())===null||rr===void 0?void 0:rr.config},getExperimentalSetting=rr=>{var er;return(er=getDefaults())===null||er===void 0?void 0:er[`_${rr}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((er,tr)=>{this.resolve=er,this.reject=tr})}wrapCallback(er){return(tr,ir)=>{tr?this.reject(tr):this.resolve(ir),typeof er=="function"&&(this.promise.catch(()=>{}),er.length===1?er(tr):er(tr,ir))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(rr,er){if(rr.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const tr={alg:"none",type:"JWT"},ir=er||"demo-project",nr=rr.iat||0,sr=rr.sub||rr.user_id;if(!sr)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ar=Object.assign({iss:`https://securetoken.google.com/${ir}`,aud:ir,iat:nr,exp:nr+3600,auth_time:nr,sub:sr,user_id:sr,firebase:{sign_in_provider:"custom",identities:{}}},rr);return[base64urlEncodeWithoutPadding(JSON.stringify(tr)),base64urlEncodeWithoutPadding(JSON.stringify(ar)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var rr;const er=(rr=getDefaults())===null||rr===void 0?void 0:rr.forceEnvironment;if(er==="node")return!0;if(er==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const rr=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof rr=="object"&&rr.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const rr=getUA();return rr.indexOf("MSIE ")>=0||rr.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((rr,er)=>{try{let tr=!0;const ir="validate-browser-context-for-indexeddb-analytics-module",nr=self.indexedDB.open(ir);nr.onsuccess=()=>{nr.result.close(),tr||self.indexedDB.deleteDatabase(ir),rr(!0)},nr.onupgradeneeded=()=>{tr=!1},nr.onerror=()=>{var sr;er(((sr=nr.error)===null||sr===void 0?void 0:sr.message)||"")}}catch(tr){er(tr)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(er,tr,ir){super(tr),this.code=er,this.customData=ir,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(er,tr,ir){this.service=er,this.serviceName=tr,this.errors=ir}create(er,...tr){const ir=tr[0]||{},nr=`${this.service}/${er}`,sr=this.errors[er],ar=sr?replaceTemplate(sr,ir):"Error",or=`${this.serviceName}: ${ar} (${nr}).`;return new FirebaseError(nr,or,ir)}}function replaceTemplate(rr,er){return rr.replace(PATTERN,(tr,ir)=>{const nr=er[ir];return nr!=null?String(nr):`<${ir}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(rr){for(const er in rr)if(Object.prototype.hasOwnProperty.call(rr,er))return!1;return!0}function deepEqual(rr,er){if(rr===er)return!0;const tr=Object.keys(rr),ir=Object.keys(er);for(const nr of tr){if(!ir.includes(nr))return!1;const sr=rr[nr],ar=er[nr];if(isObject(sr)&&isObject(ar)){if(!deepEqual(sr,ar))return!1}else if(sr!==ar)return!1}for(const nr of ir)if(!tr.includes(nr))return!1;return!0}function isObject(rr){return rr!==null&&typeof rr=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(rr){const er=[];for(const[tr,ir]of Object.entries(rr))Array.isArray(ir)?ir.forEach(nr=>{er.push(encodeURIComponent(tr)+"="+encodeURIComponent(nr))}):er.push(encodeURIComponent(tr)+"="+encodeURIComponent(ir));return er.length?"&"+er.join("&"):""}function createSubscribe(rr,er){const tr=new ObserverProxy(rr,er);return tr.subscribe.bind(tr)}class ObserverProxy{constructor(er,tr){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=tr,this.task.then(()=>{er(this)}).catch(ir=>{this.error(ir)})}next(er){this.forEachObserver(tr=>{tr.next(er)})}error(er){this.forEachObserver(tr=>{tr.error(er)}),this.close(er)}complete(){this.forEachObserver(er=>{er.complete()}),this.close()}subscribe(er,tr,ir){let nr;if(er===void 0&&tr===void 0&&ir===void 0)throw new Error("Missing Observer.");implementsAnyMethods(er,["next","error","complete"])?nr=er:nr={next:er,error:tr,complete:ir},nr.next===void 0&&(nr.next=noop$3),nr.error===void 0&&(nr.error=noop$3),nr.complete===void 0&&(nr.complete=noop$3);const sr=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?nr.error(this.finalError):nr.complete()}catch{}}),this.observers.push(nr),sr}unsubscribeOne(er){this.observers===void 0||this.observers[er]===void 0||(delete this.observers[er],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(er){if(!this.finalized)for(let tr=0;tr<this.observers.length;tr++)this.sendOne(tr,er)}sendOne(er,tr){this.task.then(()=>{if(this.observers!==void 0&&this.observers[er]!==void 0)try{tr(this.observers[er])}catch(ir){typeof console<"u"&&console.error&&console.error(ir)}})}close(er){this.finalized||(this.finalized=!0,er!==void 0&&(this.finalError=er),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(rr,er){if(typeof rr!="object"||rr===null)return!1;for(const tr of er)if(tr in rr&&typeof rr[tr]=="function")return!0;return!1}function noop$3(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(rr){return rr&&rr._delegate?rr._delegate:rr}class Component{constructor(er,tr,ir){this.name=er,this.instanceFactory=tr,this.type=ir,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(er){return this.instantiationMode=er,this}setMultipleInstances(er){return this.multipleInstances=er,this}setServiceProps(er){return this.serviceProps=er,this}setInstanceCreatedCallback(er){return this.onInstanceCreated=er,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(er,tr){this.name=er,this.container=tr,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(er){const tr=this.normalizeInstanceIdentifier(er);if(!this.instancesDeferred.has(tr)){const ir=new Deferred;if(this.instancesDeferred.set(tr,ir),this.isInitialized(tr)||this.shouldAutoInitialize())try{const nr=this.getOrInitializeService({instanceIdentifier:tr});nr&&ir.resolve(nr)}catch{}}return this.instancesDeferred.get(tr).promise}getImmediate(er){var tr;const ir=this.normalizeInstanceIdentifier(er==null?void 0:er.identifier),nr=(tr=er==null?void 0:er.optional)!==null&&tr!==void 0?tr:!1;if(this.isInitialized(ir)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:ir})}catch(sr){if(nr)return null;throw sr}else{if(nr)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(er){if(er.name!==this.name)throw Error(`Mismatching Component ${er.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=er,!!this.shouldAutoInitialize()){if(isComponentEager(er))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[tr,ir]of this.instancesDeferred.entries()){const nr=this.normalizeInstanceIdentifier(tr);try{const sr=this.getOrInitializeService({instanceIdentifier:nr});ir.resolve(sr)}catch{}}}}clearInstance(er=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(er),this.instancesOptions.delete(er),this.instances.delete(er)}async delete(){const er=Array.from(this.instances.values());await Promise.all([...er.filter(tr=>"INTERNAL"in tr).map(tr=>tr.INTERNAL.delete()),...er.filter(tr=>"_delete"in tr).map(tr=>tr._delete())])}isComponentSet(){return this.component!=null}isInitialized(er=DEFAULT_ENTRY_NAME$1){return this.instances.has(er)}getOptions(er=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(er)||{}}initialize(er={}){const{options:tr={}}=er,ir=this.normalizeInstanceIdentifier(er.instanceIdentifier);if(this.isInitialized(ir))throw Error(`${this.name}(${ir}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nr=this.getOrInitializeService({instanceIdentifier:ir,options:tr});for(const[sr,ar]of this.instancesDeferred.entries()){const or=this.normalizeInstanceIdentifier(sr);ir===or&&ar.resolve(nr)}return nr}onInit(er,tr){var ir;const nr=this.normalizeInstanceIdentifier(tr),sr=(ir=this.onInitCallbacks.get(nr))!==null&&ir!==void 0?ir:new Set;sr.add(er),this.onInitCallbacks.set(nr,sr);const ar=this.instances.get(nr);return ar&&er(ar,nr),()=>{sr.delete(er)}}invokeOnInitCallbacks(er,tr){const ir=this.onInitCallbacks.get(tr);if(ir)for(const nr of ir)try{nr(er,tr)}catch{}}getOrInitializeService({instanceIdentifier:er,options:tr={}}){let ir=this.instances.get(er);if(!ir&&this.component&&(ir=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(er),options:tr}),this.instances.set(er,ir),this.instancesOptions.set(er,tr),this.invokeOnInitCallbacks(ir,er),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,er,ir)}catch{}return ir||null}normalizeInstanceIdentifier(er=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?er:DEFAULT_ENTRY_NAME$1:er}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(rr){return rr===DEFAULT_ENTRY_NAME$1?void 0:rr}function isComponentEager(rr){return rr.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(er){this.name=er,this.providers=new Map}addComponent(er){const tr=this.getProvider(er.name);if(tr.isComponentSet())throw new Error(`Component ${er.name} has already been registered with ${this.name}`);tr.setComponent(er)}addOrOverwriteComponent(er){this.getProvider(er.name).isComponentSet()&&this.providers.delete(er.name),this.addComponent(er)}getProvider(er){if(this.providers.has(er))return this.providers.get(er);const tr=new Provider(er,this);return this.providers.set(er,tr),tr}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(rr){rr[rr.DEBUG=0]="DEBUG",rr[rr.VERBOSE=1]="VERBOSE",rr[rr.INFO=2]="INFO",rr[rr.WARN=3]="WARN",rr[rr.ERROR=4]="ERROR",rr[rr.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(rr,er,...tr)=>{if(er<rr.logLevel)return;const ir=new Date().toISOString(),nr=ConsoleMethod[er];if(nr)console[nr](`[${ir}]  ${rr.name}:`,...tr);else throw new Error(`Attempted to log a message with an invalid logType (value: ${er})`)};class Logger{constructor(er){this.name=er,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(er){if(!(er in LogLevel))throw new TypeError(`Invalid value "${er}" assigned to \`logLevel\``);this._logLevel=er}setLogLevel(er){this._logLevel=typeof er=="string"?levelStringToEnum[er]:er}get logHandler(){return this._logHandler}set logHandler(er){if(typeof er!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=er}get userLogHandler(){return this._userLogHandler}set userLogHandler(er){this._userLogHandler=er}debug(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...er),this._logHandler(this,LogLevel.DEBUG,...er)}log(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...er),this._logHandler(this,LogLevel.VERBOSE,...er)}info(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...er),this._logHandler(this,LogLevel.INFO,...er)}warn(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...er),this._logHandler(this,LogLevel.WARN,...er)}error(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...er),this._logHandler(this,LogLevel.ERROR,...er)}}const instanceOfAny=(rr,er)=>er.some(tr=>rr instanceof tr);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(rr){const er=new Promise((tr,ir)=>{const nr=()=>{rr.removeEventListener("success",sr),rr.removeEventListener("error",ar)},sr=()=>{tr(wrap(rr.result)),nr()},ar=()=>{ir(rr.error),nr()};rr.addEventListener("success",sr),rr.addEventListener("error",ar)});return er.then(tr=>{tr instanceof IDBCursor&&cursorRequestMap.set(tr,rr)}).catch(()=>{}),reverseTransformCache.set(er,rr),er}function cacheDonePromiseForTransaction(rr){if(transactionDoneMap.has(rr))return;const er=new Promise((tr,ir)=>{const nr=()=>{rr.removeEventListener("complete",sr),rr.removeEventListener("error",ar),rr.removeEventListener("abort",ar)},sr=()=>{tr(),nr()},ar=()=>{ir(rr.error||new DOMException("AbortError","AbortError")),nr()};rr.addEventListener("complete",sr),rr.addEventListener("error",ar),rr.addEventListener("abort",ar)});transactionDoneMap.set(rr,er)}let idbProxyTraps={get(rr,er,tr){if(rr instanceof IDBTransaction){if(er==="done")return transactionDoneMap.get(rr);if(er==="objectStoreNames")return rr.objectStoreNames||transactionStoreNamesMap.get(rr);if(er==="store")return tr.objectStoreNames[1]?void 0:tr.objectStore(tr.objectStoreNames[0])}return wrap(rr[er])},set(rr,er,tr){return rr[er]=tr,!0},has(rr,er){return rr instanceof IDBTransaction&&(er==="done"||er==="store")?!0:er in rr}};function replaceTraps(rr){idbProxyTraps=rr(idbProxyTraps)}function wrapFunction(rr){return rr===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(er,...tr){const ir=rr.call(unwrap(this),er,...tr);return transactionStoreNamesMap.set(ir,er.sort?er.sort():[er]),wrap(ir)}:getCursorAdvanceMethods().includes(rr)?function(...er){return rr.apply(unwrap(this),er),wrap(cursorRequestMap.get(this))}:function(...er){return wrap(rr.apply(unwrap(this),er))}}function transformCachableValue(rr){return typeof rr=="function"?wrapFunction(rr):(rr instanceof IDBTransaction&&cacheDonePromiseForTransaction(rr),instanceOfAny(rr,getIdbProxyableTypes())?new Proxy(rr,idbProxyTraps):rr)}function wrap(rr){if(rr instanceof IDBRequest)return promisifyRequest(rr);if(transformCache.has(rr))return transformCache.get(rr);const er=transformCachableValue(rr);return er!==rr&&(transformCache.set(rr,er),reverseTransformCache.set(er,rr)),er}const unwrap=rr=>reverseTransformCache.get(rr);function openDB(rr,er,{blocked:tr,upgrade:ir,blocking:nr,terminated:sr}={}){const ar=indexedDB.open(rr,er),or=wrap(ar);return ir&&ar.addEventListener("upgradeneeded",lr=>{ir(wrap(ar.result),lr.oldVersion,lr.newVersion,wrap(ar.transaction),lr)}),tr&&ar.addEventListener("blocked",lr=>tr(lr.oldVersion,lr.newVersion,lr)),or.then(lr=>{sr&&lr.addEventListener("close",()=>sr()),nr&&lr.addEventListener("versionchange",cr=>nr(cr.oldVersion,cr.newVersion,cr))}).catch(()=>{}),or}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(rr,er){if(!(rr instanceof IDBDatabase&&!(er in rr)&&typeof er=="string"))return;if(cachedMethods.get(er))return cachedMethods.get(er);const tr=er.replace(/FromIndex$/,""),ir=er!==tr,nr=writeMethods.includes(tr);if(!(tr in(ir?IDBIndex:IDBObjectStore).prototype)||!(nr||readMethods.includes(tr)))return;const sr=async function(ar,...or){const lr=this.transaction(ar,nr?"readwrite":"readonly");let cr=lr.store;return ir&&(cr=cr.index(or.shift())),(await Promise.all([cr[tr](...or),nr&&lr.done]))[0]};return cachedMethods.set(er,sr),sr}replaceTraps(rr=>({...rr,get:(er,tr,ir)=>getMethod(er,tr)||rr.get(er,tr,ir),has:(er,tr)=>!!getMethod(er,tr)||rr.has(er,tr)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(er){this.container=er}getPlatformInfoString(){return this.container.getProviders().map(tr=>{if(isVersionServiceProvider(tr)){const ir=tr.getImmediate();return`${ir.library}/${ir.version}`}else return null}).filter(tr=>tr).join(" ")}}function isVersionServiceProvider(rr){const er=rr.getComponent();return(er==null?void 0:er.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2="@firebase/vertexai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$2="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(rr,er){try{rr.container.addComponent(er)}catch(tr){logger.debug(`Component ${er.name} failed to register with FirebaseApp ${rr.name}`,tr)}}function _registerComponent(rr){const er=rr.name;if(_components.has(er))return logger.debug(`There were multiple attempts to register component ${er}.`),!1;_components.set(er,rr);for(const tr of _apps.values())_addComponent(tr,rr);for(const tr of _serverApps.values())_addComponent(tr,rr);return!0}function _getProvider(rr,er){const tr=rr.container.getProvider("heartbeat").getImmediate({optional:!0});return tr&&tr.triggerHeartbeat(),rr.container.getProvider(er)}function _isFirebaseServerApp(rr){return rr==null?!1:rr.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(er,tr,ir){this._isDeleted=!1,this._options=Object.assign({},er),this._config=Object.assign({},tr),this._name=tr.name,this._automaticDataCollectionEnabled=tr.automaticDataCollectionEnabled,this._container=ir,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(er){this.checkDestroyed(),this._automaticDataCollectionEnabled=er}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(er){this._isDeleted=er}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(rr,er={}){let tr=rr;typeof er!="object"&&(er={name:er});const ir=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},er),nr=ir.name;if(typeof nr!="string"||!nr)throw ERROR_FACTORY.create("bad-app-name",{appName:String(nr)});if(tr||(tr=getDefaultAppConfig()),!tr)throw ERROR_FACTORY.create("no-options");const sr=_apps.get(nr);if(sr){if(deepEqual(tr,sr.options)&&deepEqual(ir,sr.config))return sr;throw ERROR_FACTORY.create("duplicate-app",{appName:nr})}const ar=new ComponentContainer(nr);for(const lr of _components.values())ar.addComponent(lr);const or=new FirebaseAppImpl(tr,ir,ar);return _apps.set(nr,or),or}function getApp(rr=DEFAULT_ENTRY_NAME){const er=_apps.get(rr);if(!er&&rr===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!er)throw ERROR_FACTORY.create("no-app",{appName:rr});return er}function registerVersion(rr,er,tr){var ir;let nr=(ir=PLATFORM_LOG_STRING[rr])!==null&&ir!==void 0?ir:rr;tr&&(nr+=`-${tr}`);const sr=nr.match(/\s|\//),ar=er.match(/\s|\//);if(sr||ar){const or=[`Unable to register library "${nr}" with version "${er}":`];sr&&or.push(`library name "${nr}" contains illegal characters (whitespace or "/")`),sr&&ar&&or.push("and"),ar&&or.push(`version name "${er}" contains illegal characters (whitespace or "/")`),logger.warn(or.join(" "));return}_registerComponent(new Component(`${nr}-version`,()=>({library:nr,version:er}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(rr,er)=>{switch(er){case 0:try{rr.createObjectStore(STORE_NAME)}catch(tr){console.warn(tr)}}}}).catch(rr=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:rr.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(rr){try{const tr=(await getDbPromise()).transaction(STORE_NAME),ir=await tr.objectStore(STORE_NAME).get(computeKey(rr));return await tr.done,ir}catch(er){if(er instanceof FirebaseError)logger.warn(er.message);else{const tr=ERROR_FACTORY.create("idb-get",{originalErrorMessage:er==null?void 0:er.message});logger.warn(tr.message)}}}async function writeHeartbeatsToIndexedDB(rr,er){try{const ir=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await ir.objectStore(STORE_NAME).put(er,computeKey(rr)),await ir.done}catch(tr){if(tr instanceof FirebaseError)logger.warn(tr.message);else{const ir=ERROR_FACTORY.create("idb-set",{originalErrorMessage:tr==null?void 0:tr.message});logger.warn(ir.message)}}}function computeKey(rr){return`${rr.name}!${rr.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(er){this.container=er,this._heartbeatsCache=null;const tr=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(tr),this._heartbeatsCachePromise=this._storage.read().then(ir=>(this._heartbeatsCache=ir,ir))}async triggerHeartbeat(){var er,tr;try{const nr=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sr=getUTCDateString();if(((er=this._heartbeatsCache)===null||er===void 0?void 0:er.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((tr=this._heartbeatsCache)===null||tr===void 0?void 0:tr.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===sr||this._heartbeatsCache.heartbeats.some(ar=>ar.date===sr))return;if(this._heartbeatsCache.heartbeats.push({date:sr,agent:nr}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const ar=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(ar,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(ir){logger.warn(ir)}}async getHeartbeatsHeader(){var er;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((er=this._heartbeatsCache)===null||er===void 0?void 0:er.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const tr=getUTCDateString(),{heartbeatsToSend:ir,unsentEntries:nr}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),sr=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:ir}));return this._heartbeatsCache.lastSentHeartbeatDate=tr,nr.length>0?(this._heartbeatsCache.heartbeats=nr,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),sr}catch(tr){return logger.warn(tr),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(rr,er=MAX_HEADER_BYTES){const tr=[];let ir=rr.slice();for(const nr of rr){const sr=tr.find(ar=>ar.agent===nr.agent);if(sr){if(sr.dates.push(nr.date),countBytes(tr)>er){sr.dates.pop();break}}else if(tr.push({agent:nr.agent,dates:[nr.date]}),countBytes(tr)>er){tr.pop();break}ir=ir.slice(1)}return{heartbeatsToSend:tr,unsentEntries:ir}}class HeartbeatStorageImpl{constructor(er){this.app=er,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const tr=await readHeartbeatsFromIndexedDB(this.app);return tr!=null&&tr.heartbeats?tr:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(er){var tr;if(await this._canUseIndexedDBPromise){const nr=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(tr=er.lastSentHeartbeatDate)!==null&&tr!==void 0?tr:nr.lastSentHeartbeatDate,heartbeats:er.heartbeats})}else return}async add(er){var tr;if(await this._canUseIndexedDBPromise){const nr=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(tr=er.lastSentHeartbeatDate)!==null&&tr!==void 0?tr:nr.lastSentHeartbeatDate,heartbeats:[...nr.heartbeats,...er.heartbeats]})}else return}}function countBytes(rr){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:rr})).length}function getEarliestHeartbeatIdx(rr){if(rr.length===0)return-1;let er=0,tr=rr[0].date;for(let ir=1;ir<rr.length;ir++)rr[ir].date<tr&&(tr=rr[ir].date,er=ir);return er}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(rr){_registerComponent(new Component("platform-logger",er=>new PlatformLoggerServiceImpl(er),"PRIVATE")),_registerComponent(new Component("heartbeat",er=>new HeartbeatServiceImpl(er),"PRIVATE")),registerVersion(name$q,version$1$1,rr),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$1="firebase",version$1="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var rr;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function er(Ar,xr){function Er(){}Er.prototype=xr.prototype,Ar.D=xr.prototype,Ar.prototype=new Er,Ar.prototype.constructor=Ar,Ar.C=function(Cr,Rr,kr){for(var Sr=Array(arguments.length-2),Nr=2;Nr<arguments.length;Nr++)Sr[Nr-2]=arguments[Nr];return xr.prototype[Rr].apply(Cr,Sr)}}function tr(){this.blockSize=-1}function ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}er(ir,tr),ir.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function nr(Ar,xr,Er){Er||(Er=0);var Cr=Array(16);if(typeof xr=="string")for(var Rr=0;16>Rr;++Rr)Cr[Rr]=xr.charCodeAt(Er++)|xr.charCodeAt(Er++)<<8|xr.charCodeAt(Er++)<<16|xr.charCodeAt(Er++)<<24;else for(Rr=0;16>Rr;++Rr)Cr[Rr]=xr[Er++]|xr[Er++]<<8|xr[Er++]<<16|xr[Er++]<<24;xr=Ar.g[0],Er=Ar.g[1],Rr=Ar.g[2];var kr=Ar.g[3],Sr=xr+(kr^Er&(Rr^kr))+Cr[0]+3614090360&4294967295;xr=Er+(Sr<<7&4294967295|Sr>>>25),Sr=kr+(Rr^xr&(Er^Rr))+Cr[1]+3905402710&4294967295,kr=xr+(Sr<<12&4294967295|Sr>>>20),Sr=Rr+(Er^kr&(xr^Er))+Cr[2]+606105819&4294967295,Rr=kr+(Sr<<17&4294967295|Sr>>>15),Sr=Er+(xr^Rr&(kr^xr))+Cr[3]+3250441966&4294967295,Er=Rr+(Sr<<22&4294967295|Sr>>>10),Sr=xr+(kr^Er&(Rr^kr))+Cr[4]+4118548399&4294967295,xr=Er+(Sr<<7&4294967295|Sr>>>25),Sr=kr+(Rr^xr&(Er^Rr))+Cr[5]+1200080426&4294967295,kr=xr+(Sr<<12&4294967295|Sr>>>20),Sr=Rr+(Er^kr&(xr^Er))+Cr[6]+2821735955&4294967295,Rr=kr+(Sr<<17&4294967295|Sr>>>15),Sr=Er+(xr^Rr&(kr^xr))+Cr[7]+4249261313&4294967295,Er=Rr+(Sr<<22&4294967295|Sr>>>10),Sr=xr+(kr^Er&(Rr^kr))+Cr[8]+1770035416&4294967295,xr=Er+(Sr<<7&4294967295|Sr>>>25),Sr=kr+(Rr^xr&(Er^Rr))+Cr[9]+2336552879&4294967295,kr=xr+(Sr<<12&4294967295|Sr>>>20),Sr=Rr+(Er^kr&(xr^Er))+Cr[10]+4294925233&4294967295,Rr=kr+(Sr<<17&4294967295|Sr>>>15),Sr=Er+(xr^Rr&(kr^xr))+Cr[11]+2304563134&4294967295,Er=Rr+(Sr<<22&4294967295|Sr>>>10),Sr=xr+(kr^Er&(Rr^kr))+Cr[12]+1804603682&4294967295,xr=Er+(Sr<<7&4294967295|Sr>>>25),Sr=kr+(Rr^xr&(Er^Rr))+Cr[13]+4254626195&4294967295,kr=xr+(Sr<<12&4294967295|Sr>>>20),Sr=Rr+(Er^kr&(xr^Er))+Cr[14]+2792965006&4294967295,Rr=kr+(Sr<<17&4294967295|Sr>>>15),Sr=Er+(xr^Rr&(kr^xr))+Cr[15]+1236535329&4294967295,Er=Rr+(Sr<<22&4294967295|Sr>>>10),Sr=xr+(Rr^kr&(Er^Rr))+Cr[1]+4129170786&4294967295,xr=Er+(Sr<<5&4294967295|Sr>>>27),Sr=kr+(Er^Rr&(xr^Er))+Cr[6]+3225465664&4294967295,kr=xr+(Sr<<9&4294967295|Sr>>>23),Sr=Rr+(xr^Er&(kr^xr))+Cr[11]+643717713&4294967295,Rr=kr+(Sr<<14&4294967295|Sr>>>18),Sr=Er+(kr^xr&(Rr^kr))+Cr[0]+3921069994&4294967295,Er=Rr+(Sr<<20&4294967295|Sr>>>12),Sr=xr+(Rr^kr&(Er^Rr))+Cr[5]+3593408605&4294967295,xr=Er+(Sr<<5&4294967295|Sr>>>27),Sr=kr+(Er^Rr&(xr^Er))+Cr[10]+38016083&4294967295,kr=xr+(Sr<<9&4294967295|Sr>>>23),Sr=Rr+(xr^Er&(kr^xr))+Cr[15]+3634488961&4294967295,Rr=kr+(Sr<<14&4294967295|Sr>>>18),Sr=Er+(kr^xr&(Rr^kr))+Cr[4]+3889429448&4294967295,Er=Rr+(Sr<<20&4294967295|Sr>>>12),Sr=xr+(Rr^kr&(Er^Rr))+Cr[9]+568446438&4294967295,xr=Er+(Sr<<5&4294967295|Sr>>>27),Sr=kr+(Er^Rr&(xr^Er))+Cr[14]+3275163606&4294967295,kr=xr+(Sr<<9&4294967295|Sr>>>23),Sr=Rr+(xr^Er&(kr^xr))+Cr[3]+4107603335&4294967295,Rr=kr+(Sr<<14&4294967295|Sr>>>18),Sr=Er+(kr^xr&(Rr^kr))+Cr[8]+1163531501&4294967295,Er=Rr+(Sr<<20&4294967295|Sr>>>12),Sr=xr+(Rr^kr&(Er^Rr))+Cr[13]+2850285829&4294967295,xr=Er+(Sr<<5&4294967295|Sr>>>27),Sr=kr+(Er^Rr&(xr^Er))+Cr[2]+4243563512&4294967295,kr=xr+(Sr<<9&4294967295|Sr>>>23),Sr=Rr+(xr^Er&(kr^xr))+Cr[7]+1735328473&4294967295,Rr=kr+(Sr<<14&4294967295|Sr>>>18),Sr=Er+(kr^xr&(Rr^kr))+Cr[12]+2368359562&4294967295,Er=Rr+(Sr<<20&4294967295|Sr>>>12),Sr=xr+(Er^Rr^kr)+Cr[5]+4294588738&4294967295,xr=Er+(Sr<<4&4294967295|Sr>>>28),Sr=kr+(xr^Er^Rr)+Cr[8]+2272392833&4294967295,kr=xr+(Sr<<11&4294967295|Sr>>>21),Sr=Rr+(kr^xr^Er)+Cr[11]+1839030562&4294967295,Rr=kr+(Sr<<16&4294967295|Sr>>>16),Sr=Er+(Rr^kr^xr)+Cr[14]+4259657740&4294967295,Er=Rr+(Sr<<23&4294967295|Sr>>>9),Sr=xr+(Er^Rr^kr)+Cr[1]+2763975236&4294967295,xr=Er+(Sr<<4&4294967295|Sr>>>28),Sr=kr+(xr^Er^Rr)+Cr[4]+1272893353&4294967295,kr=xr+(Sr<<11&4294967295|Sr>>>21),Sr=Rr+(kr^xr^Er)+Cr[7]+4139469664&4294967295,Rr=kr+(Sr<<16&4294967295|Sr>>>16),Sr=Er+(Rr^kr^xr)+Cr[10]+3200236656&4294967295,Er=Rr+(Sr<<23&4294967295|Sr>>>9),Sr=xr+(Er^Rr^kr)+Cr[13]+681279174&4294967295,xr=Er+(Sr<<4&4294967295|Sr>>>28),Sr=kr+(xr^Er^Rr)+Cr[0]+3936430074&4294967295,kr=xr+(Sr<<11&4294967295|Sr>>>21),Sr=Rr+(kr^xr^Er)+Cr[3]+3572445317&4294967295,Rr=kr+(Sr<<16&4294967295|Sr>>>16),Sr=Er+(Rr^kr^xr)+Cr[6]+76029189&4294967295,Er=Rr+(Sr<<23&4294967295|Sr>>>9),Sr=xr+(Er^Rr^kr)+Cr[9]+3654602809&4294967295,xr=Er+(Sr<<4&4294967295|Sr>>>28),Sr=kr+(xr^Er^Rr)+Cr[12]+3873151461&4294967295,kr=xr+(Sr<<11&4294967295|Sr>>>21),Sr=Rr+(kr^xr^Er)+Cr[15]+530742520&4294967295,Rr=kr+(Sr<<16&4294967295|Sr>>>16),Sr=Er+(Rr^kr^xr)+Cr[2]+3299628645&4294967295,Er=Rr+(Sr<<23&4294967295|Sr>>>9),Sr=xr+(Rr^(Er|~kr))+Cr[0]+4096336452&4294967295,xr=Er+(Sr<<6&4294967295|Sr>>>26),Sr=kr+(Er^(xr|~Rr))+Cr[7]+1126891415&4294967295,kr=xr+(Sr<<10&4294967295|Sr>>>22),Sr=Rr+(xr^(kr|~Er))+Cr[14]+2878612391&4294967295,Rr=kr+(Sr<<15&4294967295|Sr>>>17),Sr=Er+(kr^(Rr|~xr))+Cr[5]+4237533241&4294967295,Er=Rr+(Sr<<21&4294967295|Sr>>>11),Sr=xr+(Rr^(Er|~kr))+Cr[12]+1700485571&4294967295,xr=Er+(Sr<<6&4294967295|Sr>>>26),Sr=kr+(Er^(xr|~Rr))+Cr[3]+2399980690&4294967295,kr=xr+(Sr<<10&4294967295|Sr>>>22),Sr=Rr+(xr^(kr|~Er))+Cr[10]+4293915773&4294967295,Rr=kr+(Sr<<15&4294967295|Sr>>>17),Sr=Er+(kr^(Rr|~xr))+Cr[1]+2240044497&4294967295,Er=Rr+(Sr<<21&4294967295|Sr>>>11),Sr=xr+(Rr^(Er|~kr))+Cr[8]+1873313359&4294967295,xr=Er+(Sr<<6&4294967295|Sr>>>26),Sr=kr+(Er^(xr|~Rr))+Cr[15]+4264355552&4294967295,kr=xr+(Sr<<10&4294967295|Sr>>>22),Sr=Rr+(xr^(kr|~Er))+Cr[6]+2734768916&4294967295,Rr=kr+(Sr<<15&4294967295|Sr>>>17),Sr=Er+(kr^(Rr|~xr))+Cr[13]+1309151649&4294967295,Er=Rr+(Sr<<21&4294967295|Sr>>>11),Sr=xr+(Rr^(Er|~kr))+Cr[4]+4149444226&4294967295,xr=Er+(Sr<<6&4294967295|Sr>>>26),Sr=kr+(Er^(xr|~Rr))+Cr[11]+3174756917&4294967295,kr=xr+(Sr<<10&4294967295|Sr>>>22),Sr=Rr+(xr^(kr|~Er))+Cr[2]+718787259&4294967295,Rr=kr+(Sr<<15&4294967295|Sr>>>17),Sr=Er+(kr^(Rr|~xr))+Cr[9]+3951481745&4294967295,Ar.g[0]=Ar.g[0]+xr&4294967295,Ar.g[1]=Ar.g[1]+(Rr+(Sr<<21&4294967295|Sr>>>11))&4294967295,Ar.g[2]=Ar.g[2]+Rr&4294967295,Ar.g[3]=Ar.g[3]+kr&4294967295}ir.prototype.u=function(Ar,xr){xr===void 0&&(xr=Ar.length);for(var Er=xr-this.blockSize,Cr=this.B,Rr=this.h,kr=0;kr<xr;){if(Rr==0)for(;kr<=Er;)nr(this,Ar,kr),kr+=this.blockSize;if(typeof Ar=="string"){for(;kr<xr;)if(Cr[Rr++]=Ar.charCodeAt(kr++),Rr==this.blockSize){nr(this,Cr),Rr=0;break}}else for(;kr<xr;)if(Cr[Rr++]=Ar[kr++],Rr==this.blockSize){nr(this,Cr),Rr=0;break}}this.h=Rr,this.o+=xr},ir.prototype.v=function(){var Ar=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ar[0]=128;for(var xr=1;xr<Ar.length-8;++xr)Ar[xr]=0;var Er=8*this.o;for(xr=Ar.length-8;xr<Ar.length;++xr)Ar[xr]=Er&255,Er/=256;for(this.u(Ar),Ar=Array(16),xr=Er=0;4>xr;++xr)for(var Cr=0;32>Cr;Cr+=8)Ar[Er++]=this.g[xr]>>>Cr&255;return Ar};function sr(Ar,xr){var Er=or;return Object.prototype.hasOwnProperty.call(Er,Ar)?Er[Ar]:Er[Ar]=xr(Ar)}function ar(Ar,xr){this.h=xr;for(var Er=[],Cr=!0,Rr=Ar.length-1;0<=Rr;Rr--){var kr=Ar[Rr]|0;Cr&&kr==xr||(Er[Rr]=kr,Cr=!1)}this.g=Er}var or={};function lr(Ar){return-128<=Ar&&128>Ar?sr(Ar,function(xr){return new ar([xr|0],0>xr?-1:0)}):new ar([Ar|0],0>Ar?-1:0)}function cr(Ar){if(isNaN(Ar)||!isFinite(Ar))return hr;if(0>Ar)return vr(cr(-Ar));for(var xr=[],Er=1,Cr=0;Ar>=Er;Cr++)xr[Cr]=Ar/Er|0,Er*=4294967296;return new ar(xr,0)}function ur(Ar,xr){if(Ar.length==0)throw Error("number format error: empty string");if(xr=xr||10,2>xr||36<xr)throw Error("radix out of range: "+xr);if(Ar.charAt(0)=="-")return vr(ur(Ar.substring(1),xr));if(0<=Ar.indexOf("-"))throw Error('number format error: interior "-" character');for(var Er=cr(Math.pow(xr,8)),Cr=hr,Rr=0;Rr<Ar.length;Rr+=8){var kr=Math.min(8,Ar.length-Rr),Sr=parseInt(Ar.substring(Rr,Rr+kr),xr);8>kr?(kr=cr(Math.pow(xr,kr)),Cr=Cr.j(kr).add(cr(Sr))):(Cr=Cr.j(Er),Cr=Cr.add(cr(Sr)))}return Cr}var hr=lr(0),dr=lr(1),gr=lr(16777216);rr=ar.prototype,rr.m=function(){if(mr(this))return-vr(this).m();for(var Ar=0,xr=1,Er=0;Er<this.g.length;Er++){var Cr=this.i(Er);Ar+=(0<=Cr?Cr:4294967296+Cr)*xr,xr*=4294967296}return Ar},rr.toString=function(Ar){if(Ar=Ar||10,2>Ar||36<Ar)throw Error("radix out of range: "+Ar);if(pr(this))return"0";if(mr(this))return"-"+vr(this).toString(Ar);for(var xr=cr(Math.pow(Ar,6)),Er=this,Cr="";;){var Rr=Pr(Er,xr).g;Er=yr(Er,Rr.j(xr));var kr=((0<Er.g.length?Er.g[0]:Er.h)>>>0).toString(Ar);if(Er=Rr,pr(Er))return kr+Cr;for(;6>kr.length;)kr="0"+kr;Cr=kr+Cr}},rr.i=function(Ar){return 0>Ar?0:Ar<this.g.length?this.g[Ar]:this.h};function pr(Ar){if(Ar.h!=0)return!1;for(var xr=0;xr<Ar.g.length;xr++)if(Ar.g[xr]!=0)return!1;return!0}function mr(Ar){return Ar.h==-1}rr.l=function(Ar){return Ar=yr(this,Ar),mr(Ar)?-1:pr(Ar)?0:1};function vr(Ar){for(var xr=Ar.g.length,Er=[],Cr=0;Cr<xr;Cr++)Er[Cr]=~Ar.g[Cr];return new ar(Er,~Ar.h).add(dr)}rr.abs=function(){return mr(this)?vr(this):this},rr.add=function(Ar){for(var xr=Math.max(this.g.length,Ar.g.length),Er=[],Cr=0,Rr=0;Rr<=xr;Rr++){var kr=Cr+(this.i(Rr)&65535)+(Ar.i(Rr)&65535),Sr=(kr>>>16)+(this.i(Rr)>>>16)+(Ar.i(Rr)>>>16);Cr=Sr>>>16,kr&=65535,Sr&=65535,Er[Rr]=Sr<<16|kr}return new ar(Er,Er[Er.length-1]&-2147483648?-1:0)};function yr(Ar,xr){return Ar.add(vr(xr))}rr.j=function(Ar){if(pr(this)||pr(Ar))return hr;if(mr(this))return mr(Ar)?vr(this).j(vr(Ar)):vr(vr(this).j(Ar));if(mr(Ar))return vr(this.j(vr(Ar)));if(0>this.l(gr)&&0>Ar.l(gr))return cr(this.m()*Ar.m());for(var xr=this.g.length+Ar.g.length,Er=[],Cr=0;Cr<2*xr;Cr++)Er[Cr]=0;for(Cr=0;Cr<this.g.length;Cr++)for(var Rr=0;Rr<Ar.g.length;Rr++){var kr=this.i(Cr)>>>16,Sr=this.i(Cr)&65535,Nr=Ar.i(Rr)>>>16,Hr=Ar.i(Rr)&65535;Er[2*Cr+2*Rr]+=Sr*Hr,br(Er,2*Cr+2*Rr),Er[2*Cr+2*Rr+1]+=kr*Hr,br(Er,2*Cr+2*Rr+1),Er[2*Cr+2*Rr+1]+=Sr*Nr,br(Er,2*Cr+2*Rr+1),Er[2*Cr+2*Rr+2]+=kr*Nr,br(Er,2*Cr+2*Rr+2)}for(Cr=0;Cr<xr;Cr++)Er[Cr]=Er[2*Cr+1]<<16|Er[2*Cr];for(Cr=xr;Cr<2*xr;Cr++)Er[Cr]=0;return new ar(Er,0)};function br(Ar,xr){for(;(Ar[xr]&65535)!=Ar[xr];)Ar[xr+1]+=Ar[xr]>>>16,Ar[xr]&=65535,xr++}function wr(Ar,xr){this.g=Ar,this.h=xr}function Pr(Ar,xr){if(pr(xr))throw Error("division by zero");if(pr(Ar))return new wr(hr,hr);if(mr(Ar))return xr=Pr(vr(Ar),xr),new wr(vr(xr.g),vr(xr.h));if(mr(xr))return xr=Pr(Ar,vr(xr)),new wr(vr(xr.g),xr.h);if(30<Ar.g.length){if(mr(Ar)||mr(xr))throw Error("slowDivide_ only works with positive integers.");for(var Er=dr,Cr=xr;0>=Cr.l(Ar);)Er=Tr(Er),Cr=Tr(Cr);var Rr=Vr(Er,1),kr=Vr(Cr,1);for(Cr=Vr(Cr,2),Er=Vr(Er,2);!pr(Cr);){var Sr=kr.add(Cr);0>=Sr.l(Ar)&&(Rr=Rr.add(Er),kr=Sr),Cr=Vr(Cr,1),Er=Vr(Er,1)}return xr=yr(Ar,Rr.j(xr)),new wr(Rr,xr)}for(Rr=hr;0<=Ar.l(xr);){for(Er=Math.max(1,Math.floor(Ar.m()/xr.m())),Cr=Math.ceil(Math.log(Er)/Math.LN2),Cr=48>=Cr?1:Math.pow(2,Cr-48),kr=cr(Er),Sr=kr.j(xr);mr(Sr)||0<Sr.l(Ar);)Er-=Cr,kr=cr(Er),Sr=kr.j(xr);pr(kr)&&(kr=dr),Rr=Rr.add(kr),Ar=yr(Ar,Sr)}return new wr(Rr,Ar)}rr.A=function(Ar){return Pr(this,Ar).h},rr.and=function(Ar){for(var xr=Math.max(this.g.length,Ar.g.length),Er=[],Cr=0;Cr<xr;Cr++)Er[Cr]=this.i(Cr)&Ar.i(Cr);return new ar(Er,this.h&Ar.h)},rr.or=function(Ar){for(var xr=Math.max(this.g.length,Ar.g.length),Er=[],Cr=0;Cr<xr;Cr++)Er[Cr]=this.i(Cr)|Ar.i(Cr);return new ar(Er,this.h|Ar.h)},rr.xor=function(Ar){for(var xr=Math.max(this.g.length,Ar.g.length),Er=[],Cr=0;Cr<xr;Cr++)Er[Cr]=this.i(Cr)^Ar.i(Cr);return new ar(Er,this.h^Ar.h)};function Tr(Ar){for(var xr=Ar.g.length+1,Er=[],Cr=0;Cr<xr;Cr++)Er[Cr]=Ar.i(Cr)<<1|Ar.i(Cr-1)>>>31;return new ar(Er,Ar.h)}function Vr(Ar,xr){var Er=xr>>5;xr%=32;for(var Cr=Ar.g.length-Er,Rr=[],kr=0;kr<Cr;kr++)Rr[kr]=0<xr?Ar.i(kr+Er)>>>xr|Ar.i(kr+Er+1)<<32-xr:Ar.i(kr+Er);return new ar(Rr,Ar.h)}ir.prototype.digest=ir.prototype.v,ir.prototype.reset=ir.prototype.s,ir.prototype.update=ir.prototype.u,Md5=ir,ar.prototype.add=ar.prototype.add,ar.prototype.multiply=ar.prototype.j,ar.prototype.modulo=ar.prototype.A,ar.prototype.compare=ar.prototype.l,ar.prototype.toNumber=ar.prototype.m,ar.prototype.toString=ar.prototype.toString,ar.prototype.getBits=ar.prototype.i,ar.fromNumber=cr,ar.fromString=ur,Integer=ar}).apply(typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode,Stat,Event,getStatEventTarget,createWebChannelTransport;(function(){var rr,er=typeof Object.defineProperties=="function"?Object.defineProperty:function(fr,_r,Ir){return fr==Array.prototype||fr==Object.prototype||(fr[_r]=Ir.value),fr};function tr(fr){fr=[typeof globalThis=="object"&&globalThis,fr,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal$1=="object"&&commonjsGlobal$1];for(var _r=0;_r<fr.length;++_r){var Ir=fr[_r];if(Ir&&Ir.Math==Math)return Ir}throw Error("Cannot find global object")}var ir=tr(this);function nr(fr,_r){if(_r)e:{var Ir=ir;fr=fr.split(".");for(var Mr=0;Mr<fr.length-1;Mr++){var Fr=fr[Mr];if(!(Fr in Ir))break e;Ir=Ir[Fr]}fr=fr[fr.length-1],Mr=Ir[fr],_r=_r(Mr),_r!=Mr&&_r!=null&&er(Ir,fr,{configurable:!0,writable:!0,value:_r})}}function sr(fr,_r){fr instanceof String&&(fr+="");var Ir=0,Mr=!1,Fr={next:function(){if(!Mr&&Ir<fr.length){var Ur=Ir++;return{value:_r(Ur,fr[Ur]),done:!1}}return Mr=!0,{done:!0,value:void 0}}};return Fr[Symbol.iterator]=function(){return Fr},Fr}nr("Array.prototype.values",function(fr){return fr||function(){return sr(this,function(_r,Ir){return Ir})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var ar=ar||{},or=this||self;function lr(fr){var _r=typeof fr;return _r=_r!="object"?_r:fr?Array.isArray(fr)?"array":_r:"null",_r=="array"||_r=="object"&&typeof fr.length=="number"}function cr(fr){var _r=typeof fr;return _r=="object"&&fr!=null||_r=="function"}function ur(fr,_r,Ir){return fr.call.apply(fr.bind,arguments)}function hr(fr,_r,Ir){if(!fr)throw Error();if(2<arguments.length){var Mr=Array.prototype.slice.call(arguments,2);return function(){var Fr=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Fr,Mr),fr.apply(_r,Fr)}}return function(){return fr.apply(_r,arguments)}}function dr(fr,_r,Ir){return dr=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ur:hr,dr.apply(null,arguments)}function gr(fr,_r){var Ir=Array.prototype.slice.call(arguments,1);return function(){var Mr=Ir.slice();return Mr.push.apply(Mr,arguments),fr.apply(this,Mr)}}function pr(fr,_r){function Ir(){}Ir.prototype=_r.prototype,fr.aa=_r.prototype,fr.prototype=new Ir,fr.prototype.constructor=fr,fr.Qb=function(Mr,Fr,Ur){for(var on=Array(arguments.length-2),En=2;En<arguments.length;En++)on[En-2]=arguments[En];return _r.prototype[Fr].apply(Mr,on)}}function mr(fr){const _r=fr.length;if(0<_r){const Ir=Array(_r);for(let Mr=0;Mr<_r;Mr++)Ir[Mr]=fr[Mr];return Ir}return[]}function vr(fr,_r){for(let Ir=1;Ir<arguments.length;Ir++){const Mr=arguments[Ir];if(lr(Mr)){const Fr=fr.length||0,Ur=Mr.length||0;fr.length=Fr+Ur;for(let on=0;on<Ur;on++)fr[Fr+on]=Mr[on]}else fr.push(Mr)}}class yr{constructor(_r,Ir){this.i=_r,this.j=Ir,this.h=0,this.g=null}get(){let _r;return 0<this.h?(this.h--,_r=this.g,this.g=_r.next,_r.next=null):_r=this.i(),_r}}function br(fr){return/^[\s\xa0]*$/.test(fr)}function wr(){var fr=or.navigator;return fr&&(fr=fr.userAgent)?fr:""}function Pr(fr){return Pr[" "](fr),fr}Pr[" "]=function(){};var Tr=wr().indexOf("Gecko")!=-1&&!(wr().toLowerCase().indexOf("webkit")!=-1&&wr().indexOf("Edge")==-1)&&!(wr().indexOf("Trident")!=-1||wr().indexOf("MSIE")!=-1)&&wr().indexOf("Edge")==-1;function Vr(fr,_r,Ir){for(const Mr in fr)_r.call(Ir,fr[Mr],Mr,fr)}function Ar(fr,_r){for(const Ir in fr)_r.call(void 0,fr[Ir],Ir,fr)}function xr(fr){const _r={};for(const Ir in fr)_r[Ir]=fr[Ir];return _r}const Er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cr(fr,_r){let Ir,Mr;for(let Fr=1;Fr<arguments.length;Fr++){Mr=arguments[Fr];for(Ir in Mr)fr[Ir]=Mr[Ir];for(let Ur=0;Ur<Er.length;Ur++)Ir=Er[Ur],Object.prototype.hasOwnProperty.call(Mr,Ir)&&(fr[Ir]=Mr[Ir])}}function Rr(fr){var _r=1;fr=fr.split(":");const Ir=[];for(;0<_r&&fr.length;)Ir.push(fr.shift()),_r--;return fr.length&&Ir.push(fr.join(":")),Ir}function kr(fr){or.setTimeout(()=>{throw fr},0)}function Sr(){var fr=Jr;let _r=null;return fr.g&&(_r=fr.g,fr.g=fr.g.next,fr.g||(fr.h=null),_r.next=null),_r}class Nr{constructor(){this.h=this.g=null}add(_r,Ir){const Mr=Hr.get();Mr.set(_r,Ir),this.h?this.h.next=Mr:this.g=Mr,this.h=Mr}}var Hr=new yr(()=>new zr,fr=>fr.reset());class zr{constructor(){this.next=this.g=this.h=null}set(_r,Ir){this.h=_r,this.g=Ir,this.next=null}reset(){this.next=this.g=this.h=null}}let $r,jr=!1,Jr=new Nr,ln=()=>{const fr=or.Promise.resolve(void 0);$r=()=>{fr.then(un)}};var un=()=>{for(var fr;fr=Sr();){try{fr.h.call(fr.g)}catch(Ir){kr(Ir)}var _r=Hr;_r.j(fr),100>_r.h&&(_r.h++,fr.next=_r.g,_r.g=fr)}jr=!1};function Qr(){this.s=this.s,this.C=this.C}Qr.prototype.s=!1,Qr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pn(fr,_r){this.type=fr,this.g=this.target=_r,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var fn=function(){if(!or.addEventListener||!Object.defineProperty)return!1;var fr=!1,_r=Object.defineProperty({},"passive",{get:function(){fr=!0}});try{const Ir=()=>{};or.addEventListener("test",Ir,_r),or.removeEventListener("test",Ir,_r)}catch{}return fr}();function An(fr,_r){if(pn.call(this,fr?fr.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,fr){var Ir=this.type=fr.type,Mr=fr.changedTouches&&fr.changedTouches.length?fr.changedTouches[0]:null;if(this.target=fr.target||fr.srcElement,this.g=_r,_r=fr.relatedTarget){if(Tr){e:{try{Pr(_r.nodeName);var Fr=!0;break e}catch{}Fr=!1}Fr||(_r=null)}}else Ir=="mouseover"?_r=fr.fromElement:Ir=="mouseout"&&(_r=fr.toElement);this.relatedTarget=_r,Mr?(this.clientX=Mr.clientX!==void 0?Mr.clientX:Mr.pageX,this.clientY=Mr.clientY!==void 0?Mr.clientY:Mr.pageY,this.screenX=Mr.screenX||0,this.screenY=Mr.screenY||0):(this.clientX=fr.clientX!==void 0?fr.clientX:fr.pageX,this.clientY=fr.clientY!==void 0?fr.clientY:fr.pageY,this.screenX=fr.screenX||0,this.screenY=fr.screenY||0),this.button=fr.button,this.key=fr.key||"",this.ctrlKey=fr.ctrlKey,this.altKey=fr.altKey,this.shiftKey=fr.shiftKey,this.metaKey=fr.metaKey,this.pointerId=fr.pointerId||0,this.pointerType=typeof fr.pointerType=="string"?fr.pointerType:dn[fr.pointerType]||"",this.state=fr.state,this.i=fr,fr.defaultPrevented&&An.aa.h.call(this)}}pr(An,pn);var dn={2:"touch",3:"pen",4:"mouse"};An.prototype.h=function(){An.aa.h.call(this);var fr=this.i;fr.preventDefault?fr.preventDefault():fr.returnValue=!1};var Br="closure_listenable_"+(1e6*Math.random()|0),Gr=0;function qr(fr,_r,Ir,Mr,Fr){this.listener=fr,this.proxy=null,this.src=_r,this.type=Ir,this.capture=!!Mr,this.ha=Fr,this.key=++Gr,this.da=this.fa=!1}function Zr(fr){fr.da=!0,fr.listener=null,fr.proxy=null,fr.src=null,fr.ha=null}function yn(fr){this.src=fr,this.g={},this.h=0}yn.prototype.add=function(fr,_r,Ir,Mr,Fr){var Ur=fr.toString();fr=this.g[Ur],fr||(fr=this.g[Ur]=[],this.h++);var on=Lr(fr,_r,Mr,Fr);return-1<on?(_r=fr[on],Ir||(_r.fa=!1)):(_r=new qr(_r,this.src,Ur,!!Mr,Fr),_r.fa=Ir,fr.push(_r)),_r};function Or(fr,_r){var Ir=_r.type;if(Ir in fr.g){var Mr=fr.g[Ir],Fr=Array.prototype.indexOf.call(Mr,_r,void 0),Ur;(Ur=0<=Fr)&&Array.prototype.splice.call(Mr,Fr,1),Ur&&(Zr(_r),fr.g[Ir].length==0&&(delete fr.g[Ir],fr.h--))}}function Lr(fr,_r,Ir,Mr){for(var Fr=0;Fr<fr.length;++Fr){var Ur=fr[Fr];if(!Ur.da&&Ur.listener==_r&&Ur.capture==!!Ir&&Ur.ha==Mr)return Fr}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Wr={};function Xr(fr,_r,Ir,Mr,Fr){if(Array.isArray(_r)){for(var Ur=0;Ur<_r.length;Ur++)Xr(fr,_r[Ur],Ir,Mr,Fr);return null}return Ir=bn(Ir),fr&&fr[Br]?fr.K(_r,Ir,cr(Mr)?!!Mr.capture:!1,Fr):Yr(fr,_r,Ir,!1,Mr,Fr)}function Yr(fr,_r,Ir,Mr,Fr,Ur){if(!_r)throw Error("Invalid event type");var on=cr(Fr)?!!Fr.capture:!!Fr,En=hn(fr);if(En||(fr[Dr]=En=new yn(fr)),Ir=En.add(_r,Ir,Mr,on,Ur),Ir.proxy)return Ir;if(Mr=cn(),Ir.proxy=Mr,Mr.src=fr,Mr.listener=Ir,fr.addEventListener)fn||(Fr=on),Fr===void 0&&(Fr=!1),fr.addEventListener(_r.toString(),Mr,Fr);else if(fr.attachEvent)fr.attachEvent(Kr(_r.toString()),Mr);else if(fr.addListener&&fr.removeListener)fr.addListener(Mr);else throw Error("addEventListener and attachEvent are unavailable.");return Ir}function cn(){function fr(Ir){return _r.call(fr.src,fr.listener,Ir)}const _r=mn;return fr}function an(fr,_r,Ir,Mr,Fr){if(Array.isArray(_r))for(var Ur=0;Ur<_r.length;Ur++)an(fr,_r[Ur],Ir,Mr,Fr);else Mr=cr(Mr)?!!Mr.capture:!!Mr,Ir=bn(Ir),fr&&fr[Br]?(fr=fr.i,_r=String(_r).toString(),_r in fr.g&&(Ur=fr.g[_r],Ir=Lr(Ur,Ir,Mr,Fr),-1<Ir&&(Zr(Ur[Ir]),Array.prototype.splice.call(Ur,Ir,1),Ur.length==0&&(delete fr.g[_r],fr.h--)))):fr&&(fr=hn(fr))&&(_r=fr.g[_r.toString()],fr=-1,_r&&(fr=Lr(_r,Ir,Mr,Fr)),(Ir=-1<fr?_r[fr]:null)&&nn(Ir))}function nn(fr){if(typeof fr!="number"&&fr&&!fr.da){var _r=fr.src;if(_r&&_r[Br])Or(_r.i,fr);else{var Ir=fr.type,Mr=fr.proxy;_r.removeEventListener?_r.removeEventListener(Ir,Mr,fr.capture):_r.detachEvent?_r.detachEvent(Kr(Ir),Mr):_r.addListener&&_r.removeListener&&_r.removeListener(Mr),(Ir=hn(_r))?(Or(Ir,fr),Ir.h==0&&(Ir.src=null,_r[Dr]=null)):Zr(fr)}}}function Kr(fr){return fr in Wr?Wr[fr]:Wr[fr]="on"+fr}function mn(fr,_r){if(fr.da)fr=!0;else{_r=new An(_r,this);var Ir=fr.listener,Mr=fr.ha||fr.src;fr.fa&&nn(fr),fr=Ir.call(Mr,_r)}return fr}function hn(fr){return fr=fr[Dr],fr instanceof yn?fr:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(fr){return typeof fr=="function"?fr:(fr[gn]||(fr[gn]=function(_r){return fr.handleEvent(_r)}),fr[gn])}function vn(){Qr.call(this),this.i=new yn(this),this.M=this,this.F=null}pr(vn,Qr),vn.prototype[Br]=!0,vn.prototype.removeEventListener=function(fr,_r,Ir,Mr){an(this,fr,_r,Ir,Mr)};function _n(fr,_r){var Ir,Mr=fr.F;if(Mr)for(Ir=[];Mr;Mr=Mr.F)Ir.push(Mr);if(fr=fr.M,Mr=_r.type||_r,typeof _r=="string")_r=new pn(_r,fr);else if(_r instanceof pn)_r.target=_r.target||fr;else{var Fr=_r;_r=new pn(Mr,fr),Cr(_r,Fr)}if(Fr=!0,Ir)for(var Ur=Ir.length-1;0<=Ur;Ur--){var on=_r.g=Ir[Ur];Fr=xn(on,Mr,!0,_r)&&Fr}if(on=_r.g=fr,Fr=xn(on,Mr,!0,_r)&&Fr,Fr=xn(on,Mr,!1,_r)&&Fr,Ir)for(Ur=0;Ur<Ir.length;Ur++)on=_r.g=Ir[Ur],Fr=xn(on,Mr,!1,_r)&&Fr}vn.prototype.N=function(){if(vn.aa.N.call(this),this.i){var fr=this.i,_r;for(_r in fr.g){for(var Ir=fr.g[_r],Mr=0;Mr<Ir.length;Mr++)Zr(Ir[Mr]);delete fr.g[_r],fr.h--}}this.F=null},vn.prototype.K=function(fr,_r,Ir,Mr){return this.i.add(String(fr),_r,!1,Ir,Mr)},vn.prototype.L=function(fr,_r,Ir,Mr){return this.i.add(String(fr),_r,!0,Ir,Mr)};function xn(fr,_r,Ir,Mr){if(_r=fr.i.g[String(_r)],!_r)return!0;_r=_r.concat();for(var Fr=!0,Ur=0;Ur<_r.length;++Ur){var on=_r[Ur];if(on&&!on.da&&on.capture==Ir){var En=on.listener,Rn=on.ha||on.src;on.fa&&Or(fr.i,on),Fr=En.call(Rn,Mr)!==!1&&Fr}}return Fr&&!Mr.defaultPrevented}function Cn(fr,_r,Ir){if(typeof fr=="function")Ir&&(fr=dr(fr,Ir));else if(fr&&typeof fr.handleEvent=="function")fr=dr(fr.handleEvent,fr);else throw Error("Invalid listener argument");return 2147483647<Number(_r)?-1:or.setTimeout(fr,_r||0)}function Pn(fr){fr.g=Cn(()=>{fr.g=null,fr.i&&(fr.i=!1,Pn(fr))},fr.l);const _r=fr.h;fr.h=null,fr.m.apply(null,_r)}class Nn extends Qr{constructor(_r,Ir){super(),this.m=_r,this.l=Ir,this.h=null,this.i=!1,this.g=null}j(_r){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(or.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(fr){Qr.call(this),this.h=fr,this.g={}}pr(kn,Qr);var Hn=[];function Zn(fr){Vr(fr.g,function(_r,Ir){this.g.hasOwnProperty(Ir)&&nn(_r)},fr),fr.g={}}kn.prototype.N=function(){kn.aa.N.call(this),Zn(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=or.JSON.stringify,Dn=or.JSON.parse,Ts=class{stringify(fr){return or.JSON.stringify(fr,void 0)}parse(fr){return or.JSON.parse(fr,void 0)}};function Hs(){}Hs.prototype.h=null;function io(fr){return fr.h||(fr.h=fr.i())}function ro(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $s(){pn.call(this,"d")}pr($s,pn);function Us(){pn.call(this,"c")}pr(Us,pn);var jn={},no=null;function Is(){return no=no||new vn}jn.La="serverreachability";function so(fr){pn.call(this,jn.La,fr)}pr(so,pn);function gs(fr){const _r=Is();_n(_r,new so(_r))}jn.STAT_EVENT="statevent";function ao(fr,_r){pn.call(this,jn.STAT_EVENT,fr),this.stat=_r}pr(ao,pn);function On(fr){const _r=Is();_n(_r,new ao(_r,fr))}jn.Ma="timingevent";function oo(fr,_r){pn.call(this,jn.Ma,fr),this.size=_r}pr(oo,pn);function ps(fr,_r){if(typeof fr!="function")throw Error("Fn must not be null and must be a function");return or.setTimeout(function(){fr()},_r)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function qo(fr,_r,Ir,Mr,Fr,Ur){fr.info(function(){if(fr.g)if(Ur)for(var on="",En=Ur.split("&"),Rn=0;Rn<En.length;Rn++){var wn=En[Rn].split("=");if(1<wn.length){var Vn=wn[0];wn=wn[1];var Mn=Vn.split("_");on=2<=Mn.length&&Mn[1]=="type"?on+(Vn+"="+wn+"&"):on+(Vn+"=redacted&")}}else on=null;else on=Ur;return"XMLHTTP REQ ("+Mr+") [attempt "+Fr+"]: "+_r+`
`+Ir+`
`+on})}function Ko(fr,_r,Ir,Mr,Fr,Ur,on){fr.info(function(){return"XMLHTTP RESP ("+Mr+") [ attempt "+Fr+"]: "+_r+`
`+Ir+`
`+Ur+" "+on})}function qn(fr,_r,Ir,Mr){fr.info(function(){return"XMLHTTP TEXT ("+_r+"): "+Jo(fr,Ir)+(Mr?" "+Mr:"")})}function Qo(fr,_r){fr.info(function(){return"TIMEOUT: "+_r})}ms.prototype.info=function(){};function Jo(fr,_r){if(!fr.g)return _r;if(!_r)return null;try{var Ir=JSON.parse(_r);if(Ir){for(fr=0;fr<Ir.length;fr++)if(Array.isArray(Ir[fr])){var Mr=Ir[fr];if(!(2>Mr.length)){var Fr=Mr[1];if(Array.isArray(Fr)&&!(1>Fr.length)){var Ur=Fr[0];if(Ur!="noop"&&Ur!="stop"&&Ur!="close")for(var on=1;on<Fr.length;on++)Fr[on]=""}}}}return Sn(Ir)}catch{return _r}}var Ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ws;function Ss(){}pr(Ss,Hs),Ss.prototype.g=function(){return new XMLHttpRequest},Ss.prototype.i=function(){return{}},Ws=new Ss;function $n(fr,_r,Ir,Mr){this.j=fr,this.i=_r,this.l=Ir,this.R=Mr||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new co}function co(){this.i=null,this.g="",this.h=!1}var uo={},js={};function Ys(fr,_r,Ir){fr.L=1,fr.v=Vs(Bn(_r)),fr.m=Ir,fr.P=!0,ho(fr,null)}function ho(fr,_r){fr.F=Date.now(),Rs(fr),fr.A=Bn(fr.v);var Ir=fr.A,Mr=fr.R;Array.isArray(Mr)||(Mr=[String(Mr)]),Po(Ir.i,"t",Mr),fr.C=0,Ir=fr.j.J,fr.h=new co,fr.g=jo(fr.j,Ir?_r:null,!fr.m),0<fr.O&&(fr.M=new Nn(dr(fr.Y,fr,fr.g),fr.O)),_r=fr.U,Ir=fr.g,Mr=fr.ca;var Fr="readystatechange";Array.isArray(Fr)||(Fr&&(Hn[0]=Fr.toString()),Fr=Hn);for(var Ur=0;Ur<Fr.length;Ur++){var on=Xr(Ir,Fr[Ur],Mr||_r.handleEvent,!1,_r.h||_r);if(!on)break;_r.g[on.key]=on}_r=fr.H?xr(fr.H):{},fr.m?(fr.u||(fr.u="POST"),_r["Content-Type"]="application/x-www-form-urlencoded",fr.g.ea(fr.A,fr.u,fr.m,_r)):(fr.u="GET",fr.g.ea(fr.A,fr.u,null,_r)),gs(),qo(fr.i,fr.u,fr.A,fr.l,fr.R,fr.m)}$n.prototype.ca=function(fr){fr=fr.target;const _r=this.M;_r&&zn(fr)==3?_r.j():this.Y(fr)},$n.prototype.Y=function(fr){try{if(fr==this.g)e:{const Mn=zn(this.g);var _r=this.g.Ba();const Jn=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||Oo(this.g)))){this.J||Mn!=4||_r==7||(_r==8||0>=Jn?gs(3):gs(2)),Xs(this);var Ir=this.g.Z();this.X=Ir;t:if(fo(this)){var Mr=Oo(this.g);fr="";var Fr=Mr.length,Ur=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),vs(this);var on="";break t}this.h.i=new or.TextDecoder}for(_r=0;_r<Fr;_r++)this.h.h=!0,fr+=this.h.i.decode(Mr[_r],{stream:!(Ur&&_r==Fr-1)});Mr.length=0,this.h.g+=fr,this.C=0,on=this.h.g}else on=this.g.oa();if(this.o=Ir==200,Ko(this.i,this.u,this.A,this.l,this.R,Mn,Ir),this.o){if(this.T&&!this.K){t:{if(this.g){var En,Rn=this.g;if((En=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!br(En)){var wn=En;break t}}wn=null}if(Ir=wn)qn(this.i,this.l,Ir,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gs(this,Ir);else{this.o=!1,this.s=3,On(12),Yn(this),vs(this);break e}}if(this.P){Ir=!0;let Fn;for(;!this.J&&this.C<on.length;)if(Fn=Zo(this,on),Fn==js){Mn==4&&(this.s=4,On(14),Ir=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==uo){this.s=4,On(15),qn(this.i,this.l,on,"[Invalid Chunk]"),Ir=!1;break}else qn(this.i,this.l,Fn,null),Gs(this,Fn);if(fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||on.length!=0||this.h.h||(this.s=1,On(16),Ir=!1),this.o=this.o&&Ir,!Ir)qn(this.i,this.l,on,"[Invalid Chunked Response]"),Yn(this),vs(this);else if(0<on.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+on.length),eo(Vn),Vn.M=!0,On(11))}}else qn(this.i,this.l,on,null),Gs(this,on);Mn==4&&Yn(this),this.o&&!this.J&&(Mn==4?Ho(this.j,this):(this.o=!1,Rs(this)))}else ml(this.g),Ir==400&&0<on.indexOf("Unknown SID")?(this.s=3,On(12)):(this.s=0,On(13)),Yn(this),vs(this)}}}catch{}finally{}};function fo(fr){return fr.g?fr.u=="GET"&&fr.L!=2&&fr.j.Ca:!1}function Zo(fr,_r){var Ir=fr.C,Mr=_r.indexOf(`
`,Ir);return Mr==-1?js:(Ir=Number(_r.substring(Ir,Mr)),isNaN(Ir)?uo:(Mr+=1,Mr+Ir>_r.length?js:(_r=_r.slice(Mr,Mr+Ir),fr.C=Mr+Ir,_r)))}$n.prototype.cancel=function(){this.J=!0,Yn(this)};function Rs(fr){fr.S=Date.now()+fr.I,go(fr,fr.I)}function go(fr,_r){if(fr.B!=null)throw Error("WatchDog timer not null");fr.B=ps(dr(fr.ba,fr),_r)}function Xs(fr){fr.B&&(or.clearTimeout(fr.B),fr.B=null)}$n.prototype.ba=function(){this.B=null;const fr=Date.now();0<=fr-this.S?(Qo(this.i,this.A),this.L!=2&&(gs(),On(17)),Yn(this),this.s=2,vs(this)):go(this,this.S-fr)};function vs(fr){fr.j.G==0||fr.J||Ho(fr.j,fr)}function Yn(fr){Xs(fr);var _r=fr.M;_r&&typeof _r.ma=="function"&&_r.ma(),fr.M=null,Zn(fr.U),fr.g&&(_r=fr.g,fr.g=null,_r.abort(),_r.ma())}function Gs(fr,_r){try{var Ir=fr.j;if(Ir.G!=0&&(Ir.g==fr||qs(Ir.h,fr))){if(!fr.K&&qs(Ir.h,fr)&&Ir.G==3){try{var Mr=Ir.Da.g.parse(_r)}catch{Mr=null}if(Array.isArray(Mr)&&Mr.length==3){var Fr=Mr;if(Fr[0]==0){e:if(!Ir.u){if(Ir.g)if(Ir.g.F+3e3<fr.F)Fs(Ir),Ns(Ir);else break e;Zs(Ir),On(18)}}else Ir.za=Fr[1],0<Ir.za-Ir.T&&37500>Fr[2]&&Ir.F&&Ir.v==0&&!Ir.C&&(Ir.C=ps(dr(Ir.Za,Ir),6e3));if(1>=yo(Ir.h)&&Ir.ca){try{Ir.ca()}catch{}Ir.ca=void 0}}else Gn(Ir,11)}else if((fr.K||Ir.g==fr)&&Fs(Ir),!br(_r))for(Fr=Ir.Da.g.parse(_r),_r=0;_r<Fr.length;_r++){let wn=Fr[_r];if(Ir.T=wn[0],wn=wn[1],Ir.G==2)if(wn[0]=="c"){Ir.K=wn[1],Ir.ia=wn[2];const Vn=wn[3];Vn!=null&&(Ir.la=Vn,Ir.j.info("VER="+Ir.la));const Mn=wn[4];Mn!=null&&(Ir.Aa=Mn,Ir.j.info("SVER="+Ir.Aa));const Jn=wn[5];Jn!=null&&typeof Jn=="number"&&0<Jn&&(Mr=1.5*Jn,Ir.L=Mr,Ir.j.info("backChannelRequestTimeoutMs_="+Mr)),Mr=Ir;const Fn=fr.g;if(Fn){const zs=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var Ur=Mr.h;Ur.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(Ur.j=Ur.l,Ur.g=new Set,Ur.h&&(Ks(Ur,Ur.h),Ur.h=null))}if(Mr.D){const to=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(Mr.ya=to,Tn(Mr.I,Mr.D,to))}}Ir.G=3,Ir.l&&Ir.l.ua(),Ir.ba&&(Ir.R=Date.now()-fr.F,Ir.j.info("Handshake RTT: "+Ir.R+"ms")),Mr=Ir;var on=fr;if(Mr.qa=Wo(Mr,Mr.J?Mr.ia:null,Mr.W),on.K){bo(Mr.h,on);var En=on,Rn=Mr.L;Rn&&(En.I=Rn),En.B&&(Xs(En),Rs(En)),Mr.g=on}else Bo(Mr);0<Ir.i.length&&Ds(Ir)}else wn[0]!="stop"&&wn[0]!="close"||Gn(Ir,7);else Ir.G==3&&(wn[0]=="stop"||wn[0]=="close"?wn[0]=="stop"?Gn(Ir,7):Js(Ir):wn[0]!="noop"&&Ir.l&&Ir.l.ta(wn),Ir.v=0)}}gs(4)}catch{}}var el=class{constructor(fr,_r){this.g=fr,this.map=_r}};function po(fr){this.l=fr||10,or.PerformanceNavigationTiming?(fr=or.performance.getEntriesByType("navigation"),fr=0<fr.length&&(fr[0].nextHopProtocol=="hq"||fr[0].nextHopProtocol=="h2")):fr=!!(or.chrome&&or.chrome.loadTimes&&or.chrome.loadTimes()&&or.chrome.loadTimes().wasFetchedViaSpdy),this.j=fr?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vo(fr){return fr.h?!0:fr.g?fr.g.size>=fr.j:!1}function yo(fr){return fr.h?1:fr.g?fr.g.size:0}function qs(fr,_r){return fr.h?fr.h==_r:fr.g?fr.g.has(_r):!1}function Ks(fr,_r){fr.g?fr.g.add(_r):fr.h=_r}function bo(fr,_r){fr.h&&fr.h==_r?fr.h=null:fr.g&&fr.g.has(_r)&&fr.g.delete(_r)}po.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const fr of this.g.values())fr.cancel();this.g.clear()}};function _o(fr){if(fr.h!=null)return fr.i.concat(fr.h.D);if(fr.g!=null&&fr.g.size!==0){let _r=fr.i;for(const Ir of fr.g.values())_r=_r.concat(Ir.D);return _r}return mr(fr.i)}function tl(fr){if(fr.V&&typeof fr.V=="function")return fr.V();if(typeof Map<"u"&&fr instanceof Map||typeof Set<"u"&&fr instanceof Set)return Array.from(fr.values());if(typeof fr=="string")return fr.split("");if(lr(fr)){for(var _r=[],Ir=fr.length,Mr=0;Mr<Ir;Mr++)_r.push(fr[Mr]);return _r}_r=[],Ir=0;for(Mr in fr)_r[Ir++]=fr[Mr];return _r}function il(fr){if(fr.na&&typeof fr.na=="function")return fr.na();if(!fr.V||typeof fr.V!="function"){if(typeof Map<"u"&&fr instanceof Map)return Array.from(fr.keys());if(!(typeof Set<"u"&&fr instanceof Set)){if(lr(fr)||typeof fr=="string"){var _r=[];fr=fr.length;for(var Ir=0;Ir<fr;Ir++)_r.push(Ir);return _r}_r=[],Ir=0;for(const Mr in fr)_r[Ir++]=Mr;return _r}}}function xo(fr,_r){if(fr.forEach&&typeof fr.forEach=="function")fr.forEach(_r,void 0);else if(lr(fr)||typeof fr=="string")Array.prototype.forEach.call(fr,_r,void 0);else for(var Ir=il(fr),Mr=tl(fr),Fr=Mr.length,Ur=0;Ur<Fr;Ur++)_r.call(void 0,Mr[Ur],Ir&&Ir[Ur],fr)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rl(fr,_r){if(fr){fr=fr.split("&");for(var Ir=0;Ir<fr.length;Ir++){var Mr=fr[Ir].indexOf("="),Fr=null;if(0<=Mr){var Ur=fr[Ir].substring(0,Mr);Fr=fr[Ir].substring(Mr+1)}else Ur=fr[Ir];_r(Ur,Fr?decodeURIComponent(Fr.replace(/\+/g," ")):"")}}}function Xn(fr){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,fr instanceof Xn){this.h=fr.h,Cs(this,fr.j),this.o=fr.o,this.g=fr.g,ks(this,fr.s),this.l=fr.l;var _r=fr.i,Ir=new _s;Ir.i=_r.i,_r.g&&(Ir.g=new Map(_r.g),Ir.h=_r.h),wo(this,Ir),this.m=fr.m}else fr&&(_r=String(fr).match(Ao))?(this.h=!1,Cs(this,_r[1]||"",!0),this.o=ys(_r[2]||""),this.g=ys(_r[3]||"",!0),ks(this,_r[4]),this.l=ys(_r[5]||"",!0),wo(this,_r[6]||"",!0),this.m=ys(_r[7]||"")):(this.h=!1,this.i=new _s(null,this.h))}Xn.prototype.toString=function(){var fr=[],_r=this.j;_r&&fr.push(bs(_r,Eo,!0),":");var Ir=this.g;return(Ir||_r=="file")&&(fr.push("//"),(_r=this.o)&&fr.push(bs(_r,Eo,!0),"@"),fr.push(encodeURIComponent(String(Ir)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Ir=this.s,Ir!=null&&fr.push(":",String(Ir))),(Ir=this.l)&&(this.g&&Ir.charAt(0)!="/"&&fr.push("/"),fr.push(bs(Ir,Ir.charAt(0)=="/"?al:sl,!0))),(Ir=this.i.toString())&&fr.push("?",Ir),(Ir=this.m)&&fr.push("#",bs(Ir,ll)),fr.join("")};function Bn(fr){return new Xn(fr)}function Cs(fr,_r,Ir){fr.j=Ir?ys(_r,!0):_r,fr.j&&(fr.j=fr.j.replace(/:$/,""))}function ks(fr,_r){if(_r){if(_r=Number(_r),isNaN(_r)||0>_r)throw Error("Bad port number "+_r);fr.s=_r}else fr.s=null}function wo(fr,_r,Ir){_r instanceof _s?(fr.i=_r,cl(fr.i,fr.h)):(Ir||(_r=bs(_r,ol)),fr.i=new _s(_r,fr.h))}function Tn(fr,_r,Ir){fr.i.set(_r,Ir)}function Vs(fr){return Tn(fr,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),fr}function ys(fr,_r){return fr?_r?decodeURI(fr.replace(/%25/g,"%2525")):decodeURIComponent(fr):""}function bs(fr,_r,Ir){return typeof fr=="string"?(fr=encodeURI(fr).replace(_r,nl),Ir&&(fr=fr.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),fr):null}function nl(fr){return fr=fr.charCodeAt(0),"%"+(fr>>4&15).toString(16)+(fr&15).toString(16)}var Eo=/[#\/\?@]/g,sl=/[#\?:]/g,al=/[#\?]/g,ol=/[#\?@]/g,ll=/#/g;function _s(fr,_r){this.h=this.g=null,this.i=fr||null,this.j=!!_r}function Un(fr){fr.g||(fr.g=new Map,fr.h=0,fr.i&&rl(fr.i,function(_r,Ir){fr.add(decodeURIComponent(_r.replace(/\+/g," ")),Ir)}))}rr=_s.prototype,rr.add=function(fr,_r){Un(this),this.i=null,fr=Kn(this,fr);var Ir=this.g.get(fr);return Ir||this.g.set(fr,Ir=[]),Ir.push(_r),this.h+=1,this};function To(fr,_r){Un(fr),_r=Kn(fr,_r),fr.g.has(_r)&&(fr.i=null,fr.h-=fr.g.get(_r).length,fr.g.delete(_r))}function Io(fr,_r){return Un(fr),_r=Kn(fr,_r),fr.g.has(_r)}rr.forEach=function(fr,_r){Un(this),this.g.forEach(function(Ir,Mr){Ir.forEach(function(Fr){fr.call(_r,Fr,Mr,this)},this)},this)},rr.na=function(){Un(this);const fr=Array.from(this.g.values()),_r=Array.from(this.g.keys()),Ir=[];for(let Mr=0;Mr<_r.length;Mr++){const Fr=fr[Mr];for(let Ur=0;Ur<Fr.length;Ur++)Ir.push(_r[Mr])}return Ir},rr.V=function(fr){Un(this);let _r=[];if(typeof fr=="string")Io(this,fr)&&(_r=_r.concat(this.g.get(Kn(this,fr))));else{fr=Array.from(this.g.values());for(let Ir=0;Ir<fr.length;Ir++)_r=_r.concat(fr[Ir])}return _r},rr.set=function(fr,_r){return Un(this),this.i=null,fr=Kn(this,fr),Io(this,fr)&&(this.h-=this.g.get(fr).length),this.g.set(fr,[_r]),this.h+=1,this},rr.get=function(fr,_r){return fr?(fr=this.V(fr),0<fr.length?String(fr[0]):_r):_r};function Po(fr,_r,Ir){To(fr,_r),0<Ir.length&&(fr.i=null,fr.g.set(Kn(fr,_r),mr(Ir)),fr.h+=Ir.length)}rr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const fr=[],_r=Array.from(this.g.keys());for(var Ir=0;Ir<_r.length;Ir++){var Mr=_r[Ir];const Ur=encodeURIComponent(String(Mr)),on=this.V(Mr);for(Mr=0;Mr<on.length;Mr++){var Fr=Ur;on[Mr]!==""&&(Fr+="="+encodeURIComponent(String(on[Mr]))),fr.push(Fr)}}return this.i=fr.join("&")};function Kn(fr,_r){return _r=String(_r),fr.j&&(_r=_r.toLowerCase()),_r}function cl(fr,_r){_r&&!fr.j&&(Un(fr),fr.i=null,fr.g.forEach(function(Ir,Mr){var Fr=Mr.toLowerCase();Mr!=Fr&&(To(this,Mr),Po(this,Fr,Ir))},fr)),fr.j=_r}function ul(fr,_r){const Ir=new ms;if(or.Image){const Mr=new Image;Mr.onload=gr(Wn,Ir,"TestLoadImage: loaded",!0,_r,Mr),Mr.onerror=gr(Wn,Ir,"TestLoadImage: error",!1,_r,Mr),Mr.onabort=gr(Wn,Ir,"TestLoadImage: abort",!1,_r,Mr),Mr.ontimeout=gr(Wn,Ir,"TestLoadImage: timeout",!1,_r,Mr),or.setTimeout(function(){Mr.ontimeout&&Mr.ontimeout()},1e4),Mr.src=fr}else _r(!1)}function hl(fr,_r){const Ir=new ms,Mr=new AbortController,Fr=setTimeout(()=>{Mr.abort(),Wn(Ir,"TestPingServer: timeout",!1,_r)},1e4);fetch(fr,{signal:Mr.signal}).then(Ur=>{clearTimeout(Fr),Ur.ok?Wn(Ir,"TestPingServer: ok",!0,_r):Wn(Ir,"TestPingServer: server error",!1,_r)}).catch(()=>{clearTimeout(Fr),Wn(Ir,"TestPingServer: error",!1,_r)})}function Wn(fr,_r,Ir,Mr,Fr){try{Fr&&(Fr.onload=null,Fr.onerror=null,Fr.onabort=null,Fr.ontimeout=null),Mr(Ir)}catch{}}function dl(){this.g=new Ts}function fl(fr,_r,Ir){const Mr=Ir||"";try{xo(fr,function(Fr,Ur){let on=Fr;cr(Fr)&&(on=Sn(Fr)),_r.push(Mr+Ur+"="+encodeURIComponent(on))})}catch(Fr){throw _r.push(Mr+"type="+encodeURIComponent("_badmap")),Fr}}function Ms(fr){this.l=fr.Ub||null,this.j=fr.eb||!1}pr(Ms,Hs),Ms.prototype.g=function(){return new Os(this.l,this.j)},Ms.prototype.i=function(fr){return function(){return fr}}({});function Os(fr,_r){vn.call(this),this.D=fr,this.o=_r,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}pr(Os,vn),rr=Os.prototype,rr.open=function(fr,_r){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=fr,this.A=_r,this.readyState=1,As(this)},rr.send=function(fr){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _r={headers:this.u,method:this.B,credentials:this.m,cache:void 0};fr&&(_r.body=fr),(this.D||or).fetch(new Request(this.A,_r)).then(this.Sa.bind(this),this.ga.bind(this))},rr.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},rr.Sa=function(fr){if(this.g&&(this.l=fr,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=fr.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if(this.responseType==="arraybuffer")fr.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof or.ReadableStream<"u"&&"body"in fr){if(this.j=fr.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else fr.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(fr){fr.j.read().then(fr.Pa.bind(fr)).catch(fr.ga.bind(fr))}rr.Pa=function(fr){if(this.g){if(this.o&&fr.value)this.response.push(fr.value);else if(!this.o){var _r=fr.value?fr.value:new Uint8Array(0);(_r=this.v.decode(_r,{stream:!fr.done}))&&(this.response=this.responseText+=_r)}fr.done?xs(this):As(this),this.readyState==3&&So(this)}},rr.Ra=function(fr){this.g&&(this.response=this.responseText=fr,xs(this))},rr.Qa=function(fr){this.g&&(this.response=fr,xs(this))},rr.ga=function(){this.g&&xs(this)};function xs(fr){fr.readyState=4,fr.l=null,fr.j=null,fr.v=null,As(fr)}rr.setRequestHeader=function(fr,_r){this.u.append(fr,_r)},rr.getResponseHeader=function(fr){return this.h&&this.h.get(fr.toLowerCase())||""},rr.getAllResponseHeaders=function(){if(!this.h)return"";const fr=[],_r=this.h.entries();for(var Ir=_r.next();!Ir.done;)Ir=Ir.value,fr.push(Ir[0]+": "+Ir[1]),Ir=_r.next();return fr.join(`\r
`)};function As(fr){fr.onreadystatechange&&fr.onreadystatechange.call(fr)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(fr){this.m=fr?"include":"same-origin"}});function Ro(fr){let _r="";return Vr(fr,function(Ir,Mr){_r+=Mr,_r+=":",_r+=Ir,_r+=`\r
`}),_r}function Qs(fr,_r,Ir){e:{for(Mr in Ir){var Mr=!1;break e}Mr=!0}Mr||(Ir=Ro(Ir),typeof fr=="string"?Ir!=null&&encodeURIComponent(String(Ir)):Tn(fr,_r,Ir))}function In(fr){vn.call(this),this.headers=new Map,this.o=fr||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}pr(In,vn);var gl=/^https?$/i,pl=["POST","PUT"];rr=In.prototype,rr.Ha=function(fr){this.J=fr},rr.ea=function(fr,_r,Ir,Mr){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+fr);_r=_r?_r.toUpperCase():"GET",this.D=fr,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ws.g(),this.v=this.o?io(this.o):io(Ws),this.g.onreadystatechange=dr(this.Ea,this);try{this.B=!0,this.g.open(_r,String(fr),!0),this.B=!1}catch(Ur){Co(this,Ur);return}if(fr=Ir||"",Ir=new Map(this.headers),Mr)if(Object.getPrototypeOf(Mr)===Object.prototype)for(var Fr in Mr)Ir.set(Fr,Mr[Fr]);else if(typeof Mr.keys=="function"&&typeof Mr.get=="function")for(const Ur of Mr.keys())Ir.set(Ur,Mr.get(Ur));else throw Error("Unknown input type for opt_headers: "+String(Mr));Mr=Array.from(Ir.keys()).find(Ur=>Ur.toLowerCase()=="content-type"),Fr=or.FormData&&fr instanceof or.FormData,!(0<=Array.prototype.indexOf.call(pl,_r,void 0))||Mr||Fr||Ir.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ur,on]of Ir)this.g.setRequestHeader(Ur,on);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(fr),this.u=!1}catch(Ur){Co(this,Ur)}};function Co(fr,_r){fr.h=!1,fr.g&&(fr.j=!0,fr.g.abort(),fr.j=!1),fr.l=_r,fr.m=5,ko(fr),Ls(fr)}function ko(fr){fr.A||(fr.A=!0,_n(fr,"complete"),_n(fr,"error"))}rr.abort=function(fr){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=fr||7,_n(this,"complete"),_n(this,"abort"),Ls(this))},rr.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),In.aa.N.call(this)},rr.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},rr.bb=function(){Vo(this)};function Vo(fr){if(fr.h&&typeof ar<"u"&&(!fr.v[1]||zn(fr)!=4||fr.Z()!=2)){if(fr.u&&zn(fr)==4)Cn(fr.Ea,0,fr);else if(_n(fr,"readystatechange"),zn(fr)==4){fr.h=!1;try{const on=fr.Z();e:switch(on){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _r=!0;break e;default:_r=!1}var Ir;if(!(Ir=_r)){var Mr;if(Mr=on===0){var Fr=String(fr.D).match(Ao)[1]||null;!Fr&&or.self&&or.self.location&&(Fr=or.self.location.protocol.slice(0,-1)),Mr=!gl.test(Fr?Fr.toLowerCase():"")}Ir=Mr}if(Ir)_n(fr,"complete"),_n(fr,"success");else{fr.m=6;try{var Ur=2<zn(fr)?fr.g.statusText:""}catch{Ur=""}fr.l=Ur+" ["+fr.Z()+"]",ko(fr)}}finally{Ls(fr)}}}}function Ls(fr,_r){if(fr.g){Mo(fr);const Ir=fr.g,Mr=fr.v[0]?()=>{}:null;fr.g=null,fr.v=null,_r||_n(fr,"ready");try{Ir.onreadystatechange=Mr}catch{}}}function Mo(fr){fr.I&&(or.clearTimeout(fr.I),fr.I=null)}rr.isActive=function(){return!!this.g};function zn(fr){return fr.g?fr.g.readyState:0}rr.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},rr.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},rr.Oa=function(fr){if(this.g){var _r=this.g.responseText;return fr&&_r.indexOf(fr)==0&&(_r=_r.substring(fr.length)),Dn(_r)}};function Oo(fr){try{if(!fr.g)return null;if("response"in fr.g)return fr.g.response;switch(fr.H){case"":case"text":return fr.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in fr.g)return fr.g.mozResponseArrayBuffer}return null}catch{return null}}function ml(fr){const _r={};fr=(fr.g&&2<=zn(fr)&&fr.g.getAllResponseHeaders()||"").split(`\r
`);for(let Mr=0;Mr<fr.length;Mr++){if(br(fr[Mr]))continue;var Ir=Rr(fr[Mr]);const Fr=Ir[0];if(Ir=Ir[1],typeof Ir!="string")continue;Ir=Ir.trim();const Ur=_r[Fr]||[];_r[Fr]=Ur,Ur.push(Ir)}Ar(_r,function(Mr){return Mr.join(", ")})}rr.Ba=function(){return this.m},rr.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(fr,_r,Ir){return Ir&&Ir.internalChannelParams&&Ir.internalChannelParams[fr]||_r}function Lo(fr){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,fr),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,fr),this.cb=ws("retryDelaySeedMs",1e4,fr),this.Wa=ws("forwardChannelMaxRetries",2,fr),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,fr),this.pa=fr&&fr.xmlHttpFactory||void 0,this.Xa=fr&&fr.Tb||void 0,this.Ca=fr&&fr.useFetchStreams||!1,this.L=void 0,this.J=fr&&fr.supportsCrossDomainXhr||!1,this.K="",this.h=new po(fr&&fr.concurrentRequestLimit),this.Da=new dl,this.P=fr&&fr.fastHandshake||!1,this.O=fr&&fr.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=fr&&fr.Rb||!1,fr&&fr.xa&&this.j.xa(),fr&&fr.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&fr&&fr.detectBufferingProxy||!1,this.ja=void 0,fr&&fr.longPollingTimeout&&0<fr.longPollingTimeout&&(this.ja=fr.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}rr=Lo.prototype,rr.la=8,rr.G=1,rr.connect=function(fr,_r,Ir,Mr){On(0),this.W=fr,this.H=_r||{},Ir&&Mr!==void 0&&(this.H.OSID=Ir,this.H.OAID=Mr),this.F=this.X,this.I=Wo(this,null,this.W),Ds(this)};function Js(fr){if(No(fr),fr.G==3){var _r=fr.U++,Ir=Bn(fr.I);if(Tn(Ir,"SID",fr.K),Tn(Ir,"RID",_r),Tn(Ir,"TYPE","terminate"),Es(fr,Ir),_r=new $n(fr,fr.j,_r),_r.L=2,_r.v=Vs(Bn(Ir)),Ir=!1,or.navigator&&or.navigator.sendBeacon)try{Ir=or.navigator.sendBeacon(_r.v.toString(),"")}catch{}!Ir&&or.Image&&(new Image().src=_r.v,Ir=!0),Ir||(_r.g=jo(_r.j,null),_r.g.ea(_r.v)),_r.F=Date.now(),Rs(_r)}Uo(fr)}function Ns(fr){fr.g&&(eo(fr),fr.g.cancel(),fr.g=null)}function No(fr){Ns(fr),fr.u&&(or.clearTimeout(fr.u),fr.u=null),Fs(fr),fr.h.cancel(),fr.s&&(typeof fr.s=="number"&&or.clearTimeout(fr.s),fr.s=null)}function Ds(fr){if(!vo(fr.h)&&!fr.s){fr.s=!0;var _r=fr.Ga;$r||ln(),jr||($r(),jr=!0),Jr.add(_r,fr),fr.B=0}}function vl(fr,_r){return yo(fr.h)>=fr.h.j-(fr.s?1:0)?!1:fr.s?(fr.i=_r.D.concat(fr.i),!0):fr.G==1||fr.G==2||fr.B>=(fr.Va?0:fr.Wa)?!1:(fr.s=ps(dr(fr.Ga,fr,_r),$o(fr,fr.B)),fr.B++,!0)}rr.Ga=function(fr){if(this.s)if(this.s=null,this.G==1){if(!fr){this.U=Math.floor(1e5*Math.random()),fr=this.U++;const Fr=new $n(this,this.j,fr);let Ur=this.o;if(this.S&&(Ur?(Ur=xr(Ur),Cr(Ur,this.S)):Ur=this.S),this.m!==null||this.O||(Fr.H=Ur,Ur=null),this.P)e:{for(var _r=0,Ir=0;Ir<this.i.length;Ir++){t:{var Mr=this.i[Ir];if("__data__"in Mr.map&&(Mr=Mr.map.__data__,typeof Mr=="string")){Mr=Mr.length;break t}Mr=void 0}if(Mr===void 0)break;if(_r+=Mr,4096<_r){_r=Ir;break e}if(_r===4096||Ir===this.i.length-1){_r=Ir+1;break e}}_r=1e3}else _r=1e3;_r=Fo(this,Fr,_r),Ir=Bn(this.I),Tn(Ir,"RID",fr),Tn(Ir,"CVER",22),this.D&&Tn(Ir,"X-HTTP-Session-Id",this.D),Es(this,Ir),Ur&&(this.O?_r="headers="+encodeURIComponent(String(Ro(Ur)))+"&"+_r:this.m&&Qs(Ir,this.m,Ur)),Ks(this.h,Fr),this.Ua&&Tn(Ir,"TYPE","init"),this.P?(Tn(Ir,"$req",_r),Tn(Ir,"SID","null"),Fr.T=!0,Ys(Fr,Ir,null)):Ys(Fr,Ir,_r),this.G=2}}else this.G==3&&(fr?Do(this,fr):this.i.length==0||vo(this.h)||Do(this))};function Do(fr,_r){var Ir;_r?Ir=_r.l:Ir=fr.U++;const Mr=Bn(fr.I);Tn(Mr,"SID",fr.K),Tn(Mr,"RID",Ir),Tn(Mr,"AID",fr.T),Es(fr,Mr),fr.m&&fr.o&&Qs(Mr,fr.m,fr.o),Ir=new $n(fr,fr.j,Ir,fr.B+1),fr.m===null&&(Ir.H=fr.o),_r&&(fr.i=_r.D.concat(fr.i)),_r=Fo(fr,Ir,1e3),Ir.I=Math.round(.5*fr.wa)+Math.round(.5*fr.wa*Math.random()),Ks(fr.h,Ir),Ys(Ir,Mr,_r)}function Es(fr,_r){fr.H&&Vr(fr.H,function(Ir,Mr){Tn(_r,Mr,Ir)}),fr.l&&xo({},function(Ir,Mr){Tn(_r,Mr,Ir)})}function Fo(fr,_r,Ir){Ir=Math.min(fr.i.length,Ir);var Mr=fr.l?dr(fr.l.Na,fr.l,fr):null;e:{var Fr=fr.i;let Ur=-1;for(;;){const on=["count="+Ir];Ur==-1?0<Ir?(Ur=Fr[0].g,on.push("ofs="+Ur)):Ur=0:on.push("ofs="+Ur);let En=!0;for(let Rn=0;Rn<Ir;Rn++){let wn=Fr[Rn].g;const Vn=Fr[Rn].map;if(wn-=Ur,0>wn)Ur=Math.max(0,Fr[Rn].g-100),En=!1;else try{fl(Vn,on,"req"+wn+"_")}catch{Mr&&Mr(Vn)}}if(En){Mr=on.join("&");break e}}}return fr=fr.i.splice(0,Ir),_r.D=fr,Mr}function Bo(fr){if(!fr.g&&!fr.u){fr.Y=1;var _r=fr.Fa;$r||ln(),jr||($r(),jr=!0),Jr.add(_r,fr),fr.v=0}}function Zs(fr){return fr.g||fr.u||3<=fr.v?!1:(fr.Y++,fr.u=ps(dr(fr.Fa,fr),$o(fr,fr.v)),fr.v++,!0)}rr.Fa=function(){if(this.u=null,zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var fr=2*this.R;this.j.info("BP detection timer enabled: "+fr),this.A=ps(dr(this.ab,this),fr)}},rr.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,On(10),Ns(this),zo(this))};function eo(fr){fr.A!=null&&(or.clearTimeout(fr.A),fr.A=null)}function zo(fr){fr.g=new $n(fr,fr.j,"rpc",fr.Y),fr.m===null&&(fr.g.H=fr.o),fr.g.O=0;var _r=Bn(fr.qa);Tn(_r,"RID","rpc"),Tn(_r,"SID",fr.K),Tn(_r,"AID",fr.T),Tn(_r,"CI",fr.F?"0":"1"),!fr.F&&fr.ja&&Tn(_r,"TO",fr.ja),Tn(_r,"TYPE","xmlhttp"),Es(fr,_r),fr.m&&fr.o&&Qs(_r,fr.m,fr.o),fr.L&&(fr.g.I=fr.L);var Ir=fr.g;fr=fr.ia,Ir.L=1,Ir.v=Vs(Bn(_r)),Ir.m=null,Ir.P=!0,ho(Ir,fr)}rr.Za=function(){this.C!=null&&(this.C=null,Ns(this),Zs(this),On(19))};function Fs(fr){fr.C!=null&&(or.clearTimeout(fr.C),fr.C=null)}function Ho(fr,_r){var Ir=null;if(fr.g==_r){Fs(fr),eo(fr),fr.g=null;var Mr=2}else if(qs(fr.h,_r))Ir=_r.D,bo(fr.h,_r),Mr=1;else return;if(fr.G!=0){if(_r.o)if(Mr==1){Ir=_r.m?_r.m.length:0,_r=Date.now()-_r.F;var Fr=fr.B;Mr=Is(),_n(Mr,new oo(Mr,Ir)),Ds(fr)}else Bo(fr);else if(Fr=_r.s,Fr==3||Fr==0&&0<_r.X||!(Mr==1&&vl(fr,_r)||Mr==2&&Zs(fr)))switch(Ir&&0<Ir.length&&(_r=fr.h,_r.i=_r.i.concat(Ir)),Fr){case 1:Gn(fr,5);break;case 4:Gn(fr,10);break;case 3:Gn(fr,6);break;default:Gn(fr,2)}}}function $o(fr,_r){let Ir=fr.Ta+Math.floor(Math.random()*fr.cb);return fr.isActive()||(Ir*=2),Ir*_r}function Gn(fr,_r){if(fr.j.info("Error code "+_r),_r==2){var Ir=dr(fr.fb,fr),Mr=fr.Xa;const Fr=!Mr;Mr=new Xn(Mr||"//www.google.com/images/cleardot.gif"),or.location&&or.location.protocol=="http"||Cs(Mr,"https"),Vs(Mr),Fr?ul(Mr.toString(),Ir):hl(Mr.toString(),Ir)}else On(2);fr.G=0,fr.l&&fr.l.sa(_r),Uo(fr),No(fr)}rr.fb=function(fr){fr?(this.j.info("Successfully pinged google.com"),On(2)):(this.j.info("Failed to ping google.com"),On(1))};function Uo(fr){if(fr.G=0,fr.ka=[],fr.l){const _r=_o(fr.h);(_r.length!=0||fr.i.length!=0)&&(vr(fr.ka,_r),vr(fr.ka,fr.i),fr.h.i.length=0,mr(fr.i),fr.i.length=0),fr.l.ra()}}function Wo(fr,_r,Ir){var Mr=Ir instanceof Xn?Bn(Ir):new Xn(Ir);if(Mr.g!="")_r&&(Mr.g=_r+"."+Mr.g),ks(Mr,Mr.s);else{var Fr=or.location;Mr=Fr.protocol,_r=_r?_r+"."+Fr.hostname:Fr.hostname,Fr=+Fr.port;var Ur=new Xn(null);Mr&&Cs(Ur,Mr),_r&&(Ur.g=_r),Fr&&ks(Ur,Fr),Ir&&(Ur.l=Ir),Mr=Ur}return Ir=fr.D,_r=fr.ya,Ir&&_r&&Tn(Mr,Ir,_r),Tn(Mr,"VER",fr.la),Es(fr,Mr),Mr}function jo(fr,_r,Ir){if(_r&&!fr.J)throw Error("Can't create secondary domain capable XhrIo object.");return _r=fr.Ca&&!fr.pa?new In(new Ms({eb:Ir})):new In(fr.pa),_r.Ha(fr.J),_r}rr.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}rr=Yo.prototype,rr.ua=function(){},rr.ta=function(){},rr.sa=function(){},rr.ra=function(){},rr.isActive=function(){return!0},rr.Na=function(){};function Bs(){}Bs.prototype.g=function(fr,_r){return new Ln(fr,_r)};function Ln(fr,_r){vn.call(this),this.g=new Lo(_r),this.l=fr,this.h=_r&&_r.messageUrlParams||null,fr=_r&&_r.messageHeaders||null,_r&&_r.clientProtocolHeaderRequired&&(fr?fr["X-Client-Protocol"]="webchannel":fr={"X-Client-Protocol":"webchannel"}),this.g.o=fr,fr=_r&&_r.initMessageHeaders||null,_r&&_r.messageContentType&&(fr?fr["X-WebChannel-Content-Type"]=_r.messageContentType:fr={"X-WebChannel-Content-Type":_r.messageContentType}),_r&&_r.va&&(fr?fr["X-WebChannel-Client-Profile"]=_r.va:fr={"X-WebChannel-Client-Profile":_r.va}),this.g.S=fr,(fr=_r&&_r.Sb)&&!br(fr)&&(this.g.m=fr),this.v=_r&&_r.supportsCrossDomainXhr||!1,this.u=_r&&_r.sendRawJson||!1,(_r=_r&&_r.httpSessionIdParam)&&!br(_r)&&(this.g.D=_r,fr=this.h,fr!==null&&_r in fr&&(fr=this.h,_r in fr&&delete fr[_r])),this.j=new Qn(this)}pr(Ln,vn),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Js(this.g)},Ln.prototype.o=function(fr){var _r=this.g;if(typeof fr=="string"){var Ir={};Ir.__data__=fr,fr=Ir}else this.u&&(Ir={},Ir.__data__=Sn(fr),fr=Ir);_r.i.push(new el(_r.Ya++,fr)),_r.G==3&&Ds(_r)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,Ln.aa.N.call(this)};function Xo(fr){$s.call(this),fr.__headers__&&(this.headers=fr.__headers__,this.statusCode=fr.__status__,delete fr.__headers__,delete fr.__status__);var _r=fr.__sm__;if(_r){e:{for(const Ir in _r){fr=Ir;break e}fr=void 0}(this.i=fr)&&(fr=this.i,_r=_r!==null&&fr in _r?_r[fr]:void 0),this.data=_r}else this.data=fr}pr(Xo,$s);function Go(){Us.call(this),this.status=1}pr(Go,Us);function Qn(fr){this.g=fr}pr(Qn,Yo),Qn.prototype.ua=function(){_n(this.g,"a")},Qn.prototype.ta=function(fr){_n(this.g,new Xo(fr))},Qn.prototype.sa=function(fr){_n(this.g,new Go)},Qn.prototype.ra=function(){_n(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,createWebChannelTransport=function(){return new Bs},getStatEventTarget=function(){return Is()},Event=jn,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,ErrorCode=Ps,lo.COMPLETE="complete",EventType=lo,ro.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",vn.prototype.listen=vn.prototype.K,WebChannel=ro,In.prototype.listenOnce=In.prototype.L,In.prototype.getLastError=In.prototype.Ka,In.prototype.getLastErrorCode=In.prototype.Ba,In.prototype.getStatus=In.prototype.Z,In.prototype.getResponseJson=In.prototype.Oa,In.prototype.getResponseText=In.prototype.oa,In.prototype.send=In.prototype.ea,In.prototype.setWithCredentials=In.prototype.Ha,XhrIo=In}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});const S$2="@firebase/firestore",b$1="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(er){this.uid=er}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(er){return er.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D$1="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return v$1.logLevel}function __PRIVATE_logDebug(rr,...er){if(v$1.logLevel<=LogLevel.DEBUG){const tr=er.map(__PRIVATE_argToString);v$1.debug(`Firestore (${D$1}): ${rr}`,...tr)}}function __PRIVATE_logError(rr,...er){if(v$1.logLevel<=LogLevel.ERROR){const tr=er.map(__PRIVATE_argToString);v$1.error(`Firestore (${D$1}): ${rr}`,...tr)}}function __PRIVATE_logWarn(rr,...er){if(v$1.logLevel<=LogLevel.WARN){const tr=er.map(__PRIVATE_argToString);v$1.warn(`Firestore (${D$1}): ${rr}`,...tr)}}function __PRIVATE_argToString(rr){if(typeof rr=="string")return rr;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(tr){return JSON.stringify(tr)}(rr)}catch{return rr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(rr="Unexpected state"){const er=`FIRESTORE (${D$1}) INTERNAL ASSERTION FAILED: `+rr;throw __PRIVATE_logError(er),new Error(er)}function __PRIVATE_hardAssert(rr,er){rr||fail()}function __PRIVATE_debugCast(rr,er){return rr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(er,tr){super(er,tr),this.code=er,this.message=tr,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((er,tr)=>{this.resolve=er,this.reject=tr})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(er,tr){this.user=tr,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${er}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(er,tr){er.enqueueRetryable(()=>tr(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(er){this.token=er,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(er,tr){this.changeListener=tr,er.enqueueRetryable(()=>tr(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(er){this.t=er,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(er,tr){__PRIVATE_hardAssert(this.o===void 0);let ir=this.i;const nr=lr=>this.i!==ir?(ir=this.i,tr(lr)):Promise.resolve();let sr=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),sr.resolve(),sr=new __PRIVATE_Deferred,er.enqueueRetryable(()=>nr(this.currentUser))};const ar=()=>{const lr=sr;er.enqueueRetryable(async()=>{await lr.promise,await nr(this.currentUser)})},or=lr=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=lr,this.o&&(this.auth.addAuthTokenListener(this.o),ar())};this.t.onInit(lr=>or(lr)),setTimeout(()=>{if(!this.auth){const lr=this.t.getImmediate({optional:!0});lr?or(lr):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),sr.resolve(),sr=new __PRIVATE_Deferred)}},0),ar()}getToken(){const er=this.i,tr=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(tr).then(ir=>this.i!==er?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):ir?(__PRIVATE_hardAssert(typeof ir.accessToken=="string"),new __PRIVATE_OAuthToken(ir.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const er=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(er===null||typeof er=="string"),new User(er)}}class __PRIVATE_FirstPartyToken{constructor(er,tr,ir){this.l=er,this.h=tr,this.P=ir,this.type="FirstParty",this.user=User.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const er=this.I();return er&&this.T.set("Authorization",er),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(er,tr,ir){this.l=er,this.h=tr,this.P=ir}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(er,tr){er.enqueueRetryable(()=>tr(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(er){this.value=er,this.type="AppCheck",this.headers=new Map,er&&er.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(er,tr){this.A=tr,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_isFirebaseServerApp(er)&&er.settings.appCheckToken&&(this.V=er.settings.appCheckToken)}start(er,tr){__PRIVATE_hardAssert(this.o===void 0);const ir=sr=>{sr.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${sr.error.message}`);const ar=sr.token!==this.R;return this.R=sr.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${ar?"new":"existing"} token.`),ar?tr(sr.token):Promise.resolve()};this.o=sr=>{er.enqueueRetryable(()=>ir(sr))};const nr=sr=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=sr,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(sr=>nr(sr)),setTimeout(()=>{if(!this.appCheck){const sr=this.A.getImmediate({optional:!0});sr?nr(sr):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new AppCheckToken(this.V));const er=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(er).then(tr=>tr?(__PRIVATE_hardAssert(typeof tr.token=="string"),this.R=tr.token,new AppCheckToken(tr.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(rr){const er=typeof self<"u"&&(self.crypto||self.msCrypto),tr=new Uint8Array(rr);if(er&&typeof er.getRandomValues=="function")er.getRandomValues(tr);else for(let ir=0;ir<rr;ir++)tr[ir]=Math.floor(256*Math.random());return tr}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",tr=62*Math.floor(4.129032258064516);let ir="";for(;ir.length<20;){const nr=__PRIVATE_randomBytes(40);for(let sr=0;sr<nr.length;++sr)ir.length<20&&nr[sr]<tr&&(ir+=er.charAt(nr[sr]%62))}return ir}}function __PRIVATE_primitiveComparator(rr,er){return rr<er?-1:rr>er?1:0}function __PRIVATE_compareUtf8Strings(rr,er){let tr=0;for(;tr<rr.length&&tr<er.length;){const ir=rr.codePointAt(tr),nr=er.codePointAt(tr);if(ir!==nr){if(ir<128&&nr<128)return __PRIVATE_primitiveComparator(ir,nr);{const sr=__PRIVATE_newTextEncoder(),ar=__PRIVATE_compareByteArrays$1(sr.encode(__PRIVATE_getUtf8SafeSubstring(rr,tr)),sr.encode(__PRIVATE_getUtf8SafeSubstring(er,tr)));return ar!==0?ar:__PRIVATE_primitiveComparator(ir,nr)}}tr+=ir>65535?2:1}return __PRIVATE_primitiveComparator(rr.length,er.length)}function __PRIVATE_getUtf8SafeSubstring(rr,er){return rr.codePointAt(er)>65535?rr.substring(er,er+2):rr.substring(er,er+1)}function __PRIVATE_compareByteArrays$1(rr,er){for(let tr=0;tr<rr.length&&tr<er.length;++tr)if(rr[tr]!==er[tr])return __PRIVATE_primitiveComparator(rr[tr],er[tr]);return __PRIVATE_primitiveComparator(rr.length,er.length)}function __PRIVATE_arrayEquals(rr,er,tr){return rr.length===er.length&&rr.every((ir,nr)=>tr(ir,er[nr]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$2=-62135596800,M$1=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(er){return Timestamp.fromMillis(er.getTime())}static fromMillis(er){const tr=Math.floor(er/1e3),ir=Math.floor((er-1e3*tr)*M$1);return new Timestamp(tr,ir)}constructor(er,tr){if(this.seconds=er,this.nanoseconds=tr,tr<0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+tr);if(tr>=1e9)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+tr);if(er<F$2)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+er);if(er>=253402300800)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+er)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M$1}_compareTo(er){return this.seconds===er.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,er.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,er.seconds)}isEqual(er){return er.seconds===this.seconds&&er.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const er=this.seconds-F$2;return String(er).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(er){return new SnapshotVersion(er)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(er){this.timestamp=er}compareTo(er){return this.timestamp._compareTo(er.timestamp)}isEqual(er){return this.timestamp.isEqual(er.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$2="__name__";class BasePath{constructor(er,tr,ir){tr===void 0?tr=0:tr>er.length&&fail(),ir===void 0?ir=er.length-tr:ir>er.length-tr&&fail(),this.segments=er,this.offset=tr,this.len=ir}get length(){return this.len}isEqual(er){return BasePath.comparator(this,er)===0}child(er){const tr=this.segments.slice(this.offset,this.limit());return er instanceof BasePath?er.forEach(ir=>{tr.push(ir)}):tr.push(er),this.construct(tr)}limit(){return this.offset+this.length}popFirst(er){return er=er===void 0?1:er,this.construct(this.segments,this.offset+er,this.length-er)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(er){return this.segments[this.offset+er]}isEmpty(){return this.length===0}isPrefixOf(er){if(er.length<this.length)return!1;for(let tr=0;tr<this.length;tr++)if(this.get(tr)!==er.get(tr))return!1;return!0}isImmediateParentOf(er){if(this.length+1!==er.length)return!1;for(let tr=0;tr<this.length;tr++)if(this.get(tr)!==er.get(tr))return!1;return!0}forEach(er){for(let tr=this.offset,ir=this.limit();tr<ir;tr++)er(this.segments[tr])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(er,tr){const ir=Math.min(er.length,tr.length);for(let nr=0;nr<ir;nr++){const sr=BasePath.compareSegments(er.get(nr),tr.get(nr));if(sr!==0)return sr}return __PRIVATE_primitiveComparator(er.length,tr.length)}static compareSegments(er,tr){const ir=BasePath.isNumericId(er),nr=BasePath.isNumericId(tr);return ir&&!nr?-1:!ir&&nr?1:ir&&nr?BasePath.extractNumericId(er).compare(BasePath.extractNumericId(tr)):__PRIVATE_compareUtf8Strings(er,tr)}static isNumericId(er){return er.startsWith("__id")&&er.endsWith("__")}static extractNumericId(er){return Integer.fromString(er.substring(4,er.length-2))}}class ResourcePath extends BasePath{construct(er,tr,ir){return new ResourcePath(er,tr,ir)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...er){const tr=[];for(const ir of er){if(ir.indexOf("//")>=0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid segment (${ir}). Paths must not contain // in them.`);tr.push(...ir.split("/").filter(nr=>nr.length>0))}return new ResourcePath(tr)}static emptyPath(){return new ResourcePath([])}}const O$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(er,tr,ir){return new FieldPath$1(er,tr,ir)}static isValidIdentifier(er){return O$1.test(er)}canonicalString(){return this.toArray().map(er=>(er=er.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(er)||(er="`"+er+"`"),er)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x$2}static keyField(){return new FieldPath$1([x$2])}static fromServerFormat(er){const tr=[];let ir="",nr=0;const sr=()=>{if(ir.length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid field path (${er}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);tr.push(ir),ir=""};let ar=!1;for(;nr<er.length;){const or=er[nr];if(or==="\\"){if(nr+1===er.length)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Path has trailing escape character: "+er);const lr=er[nr+1];if(lr!=="\\"&&lr!=="."&&lr!=="`")throw new FirestoreError(C$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+er);ir+=lr,nr+=2}else or==="`"?(ar=!ar,nr++):or!=="."||ar?(ir+=or,nr++):(sr(),nr++)}if(sr(),ar)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Unterminated ` in path: "+er);return new FieldPath$1(tr)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(er){this.path=er}static fromPath(er){return new DocumentKey(ResourcePath.fromString(er))}static fromName(er){return new DocumentKey(ResourcePath.fromString(er).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(er){return this.path.length>=2&&this.path.get(this.path.length-2)===er}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(er){return er!==null&&ResourcePath.comparator(this.path,er.path)===0}toString(){return this.path.toString()}static comparator(er,tr){return ResourcePath.comparator(er.path,tr.path)}static isDocumentKey(er){return er.length%2==0}static fromSegments(er){return new DocumentKey(new ResourcePath(er.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$1=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(rr,er){const tr=rr.toTimestamp().seconds,ir=rr.toTimestamp().nanoseconds+1,nr=SnapshotVersion.fromTimestamp(ir===1e9?new Timestamp(tr+1,0):new Timestamp(tr,ir));return new IndexOffset(nr,DocumentKey.empty(),er)}function __PRIVATE_newIndexOffsetFromDocument(rr){return new IndexOffset(rr.readTime,rr.key,N$1)}class IndexOffset{constructor(er,tr,ir){this.readTime=er,this.documentKey=tr,this.largestBatchId=ir}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),N$1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),N$1)}}function __PRIVATE_indexOffsetComparator(rr,er){let tr=rr.readTime.compareTo(er.readTime);return tr!==0?tr:(tr=DocumentKey.comparator(rr.documentKey,er.documentKey),tr!==0?tr:__PRIVATE_primitiveComparator(rr.largestBatchId,er.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(er){this.onCommittedListeners.push(er)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(er=>er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(rr){if(rr.code!==C$1.FAILED_PRECONDITION||rr.message!==B$1)throw rr;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(er){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,er(tr=>{this.isDone=!0,this.result=tr,this.nextCallback&&this.nextCallback(tr)},tr=>{this.isDone=!0,this.error=tr,this.catchCallback&&this.catchCallback(tr)})}catch(er){return this.next(void 0,er)}next(er,tr){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(tr,this.error):this.wrapSuccess(er,this.result):new PersistencePromise((ir,nr)=>{this.nextCallback=sr=>{this.wrapSuccess(er,sr).next(ir,nr)},this.catchCallback=sr=>{this.wrapFailure(tr,sr).next(ir,nr)}})}toPromise(){return new Promise((er,tr)=>{this.next(er,tr)})}wrapUserFunction(er){try{const tr=er();return tr instanceof PersistencePromise?tr:PersistencePromise.resolve(tr)}catch(tr){return PersistencePromise.reject(tr)}}wrapSuccess(er,tr){return er?this.wrapUserFunction(()=>er(tr)):PersistencePromise.resolve(tr)}wrapFailure(er,tr){return er?this.wrapUserFunction(()=>er(tr)):PersistencePromise.reject(tr)}static resolve(er){return new PersistencePromise((tr,ir)=>{tr(er)})}static reject(er){return new PersistencePromise((tr,ir)=>{ir(er)})}static waitFor(er){return new PersistencePromise((tr,ir)=>{let nr=0,sr=0,ar=!1;er.forEach(or=>{++nr,or.next(()=>{++sr,ar&&sr===nr&&tr()},lr=>ir(lr))}),ar=!0,sr===nr&&tr()})}static or(er){let tr=PersistencePromise.resolve(!1);for(const ir of er)tr=tr.next(nr=>nr?PersistencePromise.resolve(nr):ir());return tr}static forEach(er,tr){const ir=[];return er.forEach((nr,sr)=>{ir.push(tr.call(this,nr,sr))}),this.waitFor(ir)}static mapArray(er,tr){return new PersistencePromise((ir,nr)=>{const sr=er.length,ar=new Array(sr);let or=0;for(let lr=0;lr<sr;lr++){const cr=lr;tr(er[cr]).next(ur=>{ar[cr]=ur,++or,or===sr&&ir(ar)},ur=>nr(ur))}})}static doWhile(er,tr){return new PersistencePromise((ir,nr)=>{const sr=()=>{er()===!0?tr().next(()=>{sr()},nr):ir()};sr()})}}function __PRIVATE_getAndroidVersion(rr){const er=rr.match(/Android ([\d.]+)/i),tr=er?er[1].split(".").slice(0,2).join("."):"-1";return Number(tr)}function __PRIVATE_isIndexedDbTransactionError(rr){return rr.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(er,tr){this.previousValue=er,tr&&(tr.sequenceNumberHandler=ir=>this.oe(ir),this._e=ir=>tr.writeSequenceNumber(ir))}oe(er){return this.previousValue=Math.max(er,this.previousValue),this.previousValue}next(){const er=++this.previousValue;return this._e&&this._e(er),er}}__PRIVATE_ListenSequence.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$1=-1;function __PRIVATE_isNullOrUndefined(rr){return rr==null}function __PRIVATE_isNegativeZero(rr){return rr===0&&1/rr==-1/0}function isSafeInteger(rr){return typeof rr=="number"&&Number.isInteger(rr)&&!__PRIVATE_isNegativeZero(rr)&&rr<=Number.MAX_SAFE_INTEGER&&rr>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$1="";function __PRIVATE_encodeResourcePath(rr){let er="";for(let tr=0;tr<rr.length;tr++)er.length>0&&(er=__PRIVATE_encodeSeparator(er)),er=__PRIVATE_encodeSegment(rr.get(tr),er);return __PRIVATE_encodeSeparator(er)}function __PRIVATE_encodeSegment(rr,er){let tr=er;const ir=rr.length;for(let nr=0;nr<ir;nr++){const sr=rr.charAt(nr);switch(sr){case"\0":tr+="";break;case $$1:tr+="";break;default:tr+=sr}}return tr}function __PRIVATE_encodeSeparator(rr){return rr+$$1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(rr){let er=0;for(const tr in rr)Object.prototype.hasOwnProperty.call(rr,tr)&&er++;return er}function forEach(rr,er){for(const tr in rr)Object.prototype.hasOwnProperty.call(rr,tr)&&er(tr,rr[tr])}function isEmpty(rr){for(const er in rr)if(Object.prototype.hasOwnProperty.call(rr,er))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(er,tr){this.comparator=er,this.root=tr||LLRBNode.EMPTY}insert(er,tr){return new SortedMap(this.comparator,this.root.insert(er,tr,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(er){return new SortedMap(this.comparator,this.root.remove(er,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(er){let tr=this.root;for(;!tr.isEmpty();){const ir=this.comparator(er,tr.key);if(ir===0)return tr.value;ir<0?tr=tr.left:ir>0&&(tr=tr.right)}return null}indexOf(er){let tr=0,ir=this.root;for(;!ir.isEmpty();){const nr=this.comparator(er,ir.key);if(nr===0)return tr+ir.left.size;nr<0?ir=ir.left:(tr+=ir.left.size+1,ir=ir.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(er){return this.root.inorderTraversal(er)}forEach(er){this.inorderTraversal((tr,ir)=>(er(tr,ir),!1))}toString(){const er=[];return this.inorderTraversal((tr,ir)=>(er.push(`${tr}:${ir}`),!1)),`{${er.join(", ")}}`}reverseTraversal(er){return this.root.reverseTraversal(er)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(er){return new SortedMapIterator(this.root,er,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(er){return new SortedMapIterator(this.root,er,this.comparator,!0)}}class SortedMapIterator{constructor(er,tr,ir,nr){this.isReverse=nr,this.nodeStack=[];let sr=1;for(;!er.isEmpty();)if(sr=tr?ir(er.key,tr):1,tr&&nr&&(sr*=-1),sr<0)er=this.isReverse?er.left:er.right;else{if(sr===0){this.nodeStack.push(er);break}this.nodeStack.push(er),er=this.isReverse?er.right:er.left}}getNext(){let er=this.nodeStack.pop();const tr={key:er.key,value:er.value};if(this.isReverse)for(er=er.left;!er.isEmpty();)this.nodeStack.push(er),er=er.right;else for(er=er.right;!er.isEmpty();)this.nodeStack.push(er),er=er.left;return tr}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const er=this.nodeStack[this.nodeStack.length-1];return{key:er.key,value:er.value}}}class LLRBNode{constructor(er,tr,ir,nr,sr){this.key=er,this.value=tr,this.color=ir??LLRBNode.RED,this.left=nr??LLRBNode.EMPTY,this.right=sr??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(er,tr,ir,nr,sr){return new LLRBNode(er??this.key,tr??this.value,ir??this.color,nr??this.left,sr??this.right)}isEmpty(){return!1}inorderTraversal(er){return this.left.inorderTraversal(er)||er(this.key,this.value)||this.right.inorderTraversal(er)}reverseTraversal(er){return this.right.reverseTraversal(er)||er(this.key,this.value)||this.left.reverseTraversal(er)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(er,tr,ir){let nr=this;const sr=ir(er,nr.key);return nr=sr<0?nr.copy(null,null,null,nr.left.insert(er,tr,ir),null):sr===0?nr.copy(null,tr,null,null,null):nr.copy(null,null,null,null,nr.right.insert(er,tr,ir)),nr.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let er=this;return er.left.isRed()||er.left.left.isRed()||(er=er.moveRedLeft()),er=er.copy(null,null,null,er.left.removeMin(),null),er.fixUp()}remove(er,tr){let ir,nr=this;if(tr(er,nr.key)<0)nr.left.isEmpty()||nr.left.isRed()||nr.left.left.isRed()||(nr=nr.moveRedLeft()),nr=nr.copy(null,null,null,nr.left.remove(er,tr),null);else{if(nr.left.isRed()&&(nr=nr.rotateRight()),nr.right.isEmpty()||nr.right.isRed()||nr.right.left.isRed()||(nr=nr.moveRedRight()),tr(er,nr.key)===0){if(nr.right.isEmpty())return LLRBNode.EMPTY;ir=nr.right.min(),nr=nr.copy(ir.key,ir.value,null,null,nr.right.removeMin())}nr=nr.copy(null,null,null,null,nr.right.remove(er,tr))}return nr.fixUp()}isRed(){return this.color}fixUp(){let er=this;return er.right.isRed()&&!er.left.isRed()&&(er=er.rotateLeft()),er.left.isRed()&&er.left.left.isRed()&&(er=er.rotateRight()),er.left.isRed()&&er.right.isRed()&&(er=er.colorFlip()),er}moveRedLeft(){let er=this.colorFlip();return er.right.left.isRed()&&(er=er.copy(null,null,null,null,er.right.rotateRight()),er=er.rotateLeft(),er=er.colorFlip()),er}moveRedRight(){let er=this.colorFlip();return er.left.left.isRed()&&(er=er.rotateRight(),er=er.colorFlip()),er}rotateLeft(){const er=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,er,null)}rotateRight(){const er=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,er)}colorFlip(){const er=this.left.copy(null,null,!this.left.color,null,null),tr=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,er,tr)}checkMaxDepth(){const er=this.check();return Math.pow(2,er)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const er=this.left.check();if(er!==this.right.check())throw fail();return er+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(er,tr,ir,nr,sr){return this}insert(er,tr,ir){return new LLRBNode(er,tr)}remove(er,tr){return this}isEmpty(){return!0}inorderTraversal(er){return!1}reverseTraversal(er){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(er){this.comparator=er,this.data=new SortedMap(this.comparator)}has(er){return this.data.get(er)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(er){return this.data.indexOf(er)}forEach(er){this.data.inorderTraversal((tr,ir)=>(er(tr),!1))}forEachInRange(er,tr){const ir=this.data.getIteratorFrom(er[0]);for(;ir.hasNext();){const nr=ir.getNext();if(this.comparator(nr.key,er[1])>=0)return;tr(nr.key)}}forEachWhile(er,tr){let ir;for(ir=tr!==void 0?this.data.getIteratorFrom(tr):this.data.getIterator();ir.hasNext();)if(!er(ir.getNext().key))return}firstAfterOrEqual(er){const tr=this.data.getIteratorFrom(er);return tr.hasNext()?tr.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(er){return new SortedSetIterator(this.data.getIteratorFrom(er))}add(er){return this.copy(this.data.remove(er).insert(er,!0))}delete(er){return this.has(er)?this.copy(this.data.remove(er)):this}isEmpty(){return this.data.isEmpty()}unionWith(er){let tr=this;return tr.size<er.size&&(tr=er,er=this),er.forEach(ir=>{tr=tr.add(ir)}),tr}isEqual(er){if(!(er instanceof SortedSet)||this.size!==er.size)return!1;const tr=this.data.getIterator(),ir=er.data.getIterator();for(;tr.hasNext();){const nr=tr.getNext().key,sr=ir.getNext().key;if(this.comparator(nr,sr)!==0)return!1}return!0}toArray(){const er=[];return this.forEach(tr=>{er.push(tr)}),er}toString(){const er=[];return this.forEach(tr=>er.push(tr)),"SortedSet("+er.toString()+")"}copy(er){const tr=new SortedSet(this.comparator);return tr.data=er,tr}}class SortedSetIterator{constructor(er){this.iter=er}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(er){this.fields=er,er.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(er){let tr=new SortedSet(FieldPath$1.comparator);for(const ir of this.fields)tr=tr.add(ir);for(const ir of er)tr=tr.add(ir);return new FieldMask(tr.toArray())}covers(er){for(const tr of this.fields)if(tr.isPrefixOf(er))return!0;return!1}isEqual(er){return __PRIVATE_arrayEquals(this.fields,er.fields,(tr,ir)=>tr.isEqual(ir))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(er){this.binaryString=er}static fromBase64String(er){const tr=function(nr){try{return atob(nr)}catch(sr){throw typeof DOMException<"u"&&sr instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+sr):sr}}(er);return new ByteString(tr)}static fromUint8Array(er){const tr=function(nr){let sr="";for(let ar=0;ar<nr.length;++ar)sr+=String.fromCharCode(nr[ar]);return sr}(er);return new ByteString(tr)}[Symbol.iterator](){let er=0;return{next:()=>er<this.binaryString.length?{value:this.binaryString.charCodeAt(er++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(tr){return btoa(tr)}(this.binaryString)}toUint8Array(){return function(tr){const ir=new Uint8Array(tr.length);for(let nr=0;nr<tr.length;nr++)ir[nr]=tr.charCodeAt(nr);return ir}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(er){return __PRIVATE_primitiveComparator(this.binaryString,er.binaryString)}isEqual(er){return this.binaryString===er.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const Ze$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(rr){if(__PRIVATE_hardAssert(!!rr),typeof rr=="string"){let er=0;const tr=Ze$1.exec(rr);if(__PRIVATE_hardAssert(!!tr),tr[1]){let nr=tr[1];nr=(nr+"000000000").substr(0,9),er=Number(nr)}const ir=new Date(rr);return{seconds:Math.floor(ir.getTime()/1e3),nanos:er}}return{seconds:__PRIVATE_normalizeNumber(rr.seconds),nanos:__PRIVATE_normalizeNumber(rr.nanos)}}function __PRIVATE_normalizeNumber(rr){return typeof rr=="number"?rr:typeof rr=="string"?Number(rr):0}function __PRIVATE_normalizeByteString(rr){return typeof rr=="string"?ByteString.fromBase64String(rr):ByteString.fromUint8Array(rr)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe$1="server_timestamp",et$1="__type__",tt$1="__previous_value__",nt$1="__local_write_time__";function __PRIVATE_isServerTimestamp(rr){var er,tr;return((tr=(((er=rr==null?void 0:rr.mapValue)===null||er===void 0?void 0:er.fields)||{})[et$1])===null||tr===void 0?void 0:tr.stringValue)===Xe$1}function __PRIVATE_getPreviousValue(rr){const er=rr.mapValue.fields[tt$1];return __PRIVATE_isServerTimestamp(er)?__PRIVATE_getPreviousValue(er):er}function __PRIVATE_getLocalWriteTime(rr){const er=__PRIVATE_normalizeTimestamp(rr.mapValue.fields[nt$1].timestampValue);return new Timestamp(er.seconds,er.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(er,tr,ir,nr,sr,ar,or,lr,cr){this.databaseId=er,this.appId=tr,this.persistenceKey=ir,this.host=nr,this.ssl=sr,this.forceLongPolling=ar,this.autoDetectLongPolling=or,this.longPollingOptions=lr,this.useFetchStreams=cr}}const rt$1="(default)";class DatabaseId{constructor(er,tr){this.projectId=er,this.database=tr||rt$1}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===rt$1}isEqual(er){return er instanceof DatabaseId&&er.projectId===this.projectId&&er.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it$1="__type__",st$1="__max__",ot$1={mapValue:{}},_t$1="__vector__",at$1="value";function __PRIVATE_typeOrder(rr){return"nullValue"in rr?0:"booleanValue"in rr?1:"integerValue"in rr||"doubleValue"in rr?2:"timestampValue"in rr?3:"stringValue"in rr?5:"bytesValue"in rr?6:"referenceValue"in rr?7:"geoPointValue"in rr?8:"arrayValue"in rr?9:"mapValue"in rr?__PRIVATE_isServerTimestamp(rr)?4:__PRIVATE_isMaxValue(rr)?9007199254740991:__PRIVATE_isVectorValue(rr)?10:11:fail()}function __PRIVATE_valueEquals(rr,er){if(rr===er)return!0;const tr=__PRIVATE_typeOrder(rr);if(tr!==__PRIVATE_typeOrder(er))return!1;switch(tr){case 0:case 9007199254740991:return!0;case 1:return rr.booleanValue===er.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(rr).isEqual(__PRIVATE_getLocalWriteTime(er));case 3:return function(nr,sr){if(typeof nr.timestampValue=="string"&&typeof sr.timestampValue=="string"&&nr.timestampValue.length===sr.timestampValue.length)return nr.timestampValue===sr.timestampValue;const ar=__PRIVATE_normalizeTimestamp(nr.timestampValue),or=__PRIVATE_normalizeTimestamp(sr.timestampValue);return ar.seconds===or.seconds&&ar.nanos===or.nanos}(rr,er);case 5:return rr.stringValue===er.stringValue;case 6:return function(nr,sr){return __PRIVATE_normalizeByteString(nr.bytesValue).isEqual(__PRIVATE_normalizeByteString(sr.bytesValue))}(rr,er);case 7:return rr.referenceValue===er.referenceValue;case 8:return function(nr,sr){return __PRIVATE_normalizeNumber(nr.geoPointValue.latitude)===__PRIVATE_normalizeNumber(sr.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(nr.geoPointValue.longitude)===__PRIVATE_normalizeNumber(sr.geoPointValue.longitude)}(rr,er);case 2:return function(nr,sr){if("integerValue"in nr&&"integerValue"in sr)return __PRIVATE_normalizeNumber(nr.integerValue)===__PRIVATE_normalizeNumber(sr.integerValue);if("doubleValue"in nr&&"doubleValue"in sr){const ar=__PRIVATE_normalizeNumber(nr.doubleValue),or=__PRIVATE_normalizeNumber(sr.doubleValue);return ar===or?__PRIVATE_isNegativeZero(ar)===__PRIVATE_isNegativeZero(or):isNaN(ar)&&isNaN(or)}return!1}(rr,er);case 9:return __PRIVATE_arrayEquals(rr.arrayValue.values||[],er.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(nr,sr){const ar=nr.mapValue.fields||{},or=sr.mapValue.fields||{};if(__PRIVATE_objectSize(ar)!==__PRIVATE_objectSize(or))return!1;for(const lr in ar)if(ar.hasOwnProperty(lr)&&(or[lr]===void 0||!__PRIVATE_valueEquals(ar[lr],or[lr])))return!1;return!0}(rr,er);default:return fail()}}function __PRIVATE_arrayValueContains(rr,er){return(rr.values||[]).find(tr=>__PRIVATE_valueEquals(tr,er))!==void 0}function __PRIVATE_valueCompare(rr,er){if(rr===er)return 0;const tr=__PRIVATE_typeOrder(rr),ir=__PRIVATE_typeOrder(er);if(tr!==ir)return __PRIVATE_primitiveComparator(tr,ir);switch(tr){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(rr.booleanValue,er.booleanValue);case 2:return function(sr,ar){const or=__PRIVATE_normalizeNumber(sr.integerValue||sr.doubleValue),lr=__PRIVATE_normalizeNumber(ar.integerValue||ar.doubleValue);return or<lr?-1:or>lr?1:or===lr?0:isNaN(or)?isNaN(lr)?0:-1:1}(rr,er);case 3:return __PRIVATE_compareTimestamps(rr.timestampValue,er.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(rr),__PRIVATE_getLocalWriteTime(er));case 5:return __PRIVATE_compareUtf8Strings(rr.stringValue,er.stringValue);case 6:return function(sr,ar){const or=__PRIVATE_normalizeByteString(sr),lr=__PRIVATE_normalizeByteString(ar);return or.compareTo(lr)}(rr.bytesValue,er.bytesValue);case 7:return function(sr,ar){const or=sr.split("/"),lr=ar.split("/");for(let cr=0;cr<or.length&&cr<lr.length;cr++){const ur=__PRIVATE_primitiveComparator(or[cr],lr[cr]);if(ur!==0)return ur}return __PRIVATE_primitiveComparator(or.length,lr.length)}(rr.referenceValue,er.referenceValue);case 8:return function(sr,ar){const or=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(sr.latitude),__PRIVATE_normalizeNumber(ar.latitude));return or!==0?or:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(sr.longitude),__PRIVATE_normalizeNumber(ar.longitude))}(rr.geoPointValue,er.geoPointValue);case 9:return __PRIVATE_compareArrays(rr.arrayValue,er.arrayValue);case 10:return function(sr,ar){var or,lr,cr,ur;const hr=sr.fields||{},dr=ar.fields||{},gr=(or=hr[at$1])===null||or===void 0?void 0:or.arrayValue,pr=(lr=dr[at$1])===null||lr===void 0?void 0:lr.arrayValue,mr=__PRIVATE_primitiveComparator(((cr=gr==null?void 0:gr.values)===null||cr===void 0?void 0:cr.length)||0,((ur=pr==null?void 0:pr.values)===null||ur===void 0?void 0:ur.length)||0);return mr!==0?mr:__PRIVATE_compareArrays(gr,pr)}(rr.mapValue,er.mapValue);case 11:return function(sr,ar){if(sr===ot$1.mapValue&&ar===ot$1.mapValue)return 0;if(sr===ot$1.mapValue)return 1;if(ar===ot$1.mapValue)return-1;const or=sr.fields||{},lr=Object.keys(or),cr=ar.fields||{},ur=Object.keys(cr);lr.sort(),ur.sort();for(let hr=0;hr<lr.length&&hr<ur.length;++hr){const dr=__PRIVATE_compareUtf8Strings(lr[hr],ur[hr]);if(dr!==0)return dr;const gr=__PRIVATE_valueCompare(or[lr[hr]],cr[ur[hr]]);if(gr!==0)return gr}return __PRIVATE_primitiveComparator(lr.length,ur.length)}(rr.mapValue,er.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(rr,er){if(typeof rr=="string"&&typeof er=="string"&&rr.length===er.length)return __PRIVATE_primitiveComparator(rr,er);const tr=__PRIVATE_normalizeTimestamp(rr),ir=__PRIVATE_normalizeTimestamp(er),nr=__PRIVATE_primitiveComparator(tr.seconds,ir.seconds);return nr!==0?nr:__PRIVATE_primitiveComparator(tr.nanos,ir.nanos)}function __PRIVATE_compareArrays(rr,er){const tr=rr.values||[],ir=er.values||[];for(let nr=0;nr<tr.length&&nr<ir.length;++nr){const sr=__PRIVATE_valueCompare(tr[nr],ir[nr]);if(sr)return sr}return __PRIVATE_primitiveComparator(tr.length,ir.length)}function canonicalId(rr){return __PRIVATE_canonifyValue(rr)}function __PRIVATE_canonifyValue(rr){return"nullValue"in rr?"null":"booleanValue"in rr?""+rr.booleanValue:"integerValue"in rr?""+rr.integerValue:"doubleValue"in rr?""+rr.doubleValue:"timestampValue"in rr?function(tr){const ir=__PRIVATE_normalizeTimestamp(tr);return`time(${ir.seconds},${ir.nanos})`}(rr.timestampValue):"stringValue"in rr?rr.stringValue:"bytesValue"in rr?function(tr){return __PRIVATE_normalizeByteString(tr).toBase64()}(rr.bytesValue):"referenceValue"in rr?function(tr){return DocumentKey.fromName(tr).toString()}(rr.referenceValue):"geoPointValue"in rr?function(tr){return`geo(${tr.latitude},${tr.longitude})`}(rr.geoPointValue):"arrayValue"in rr?function(tr){let ir="[",nr=!0;for(const sr of tr.values||[])nr?nr=!1:ir+=",",ir+=__PRIVATE_canonifyValue(sr);return ir+"]"}(rr.arrayValue):"mapValue"in rr?function(tr){const ir=Object.keys(tr.fields||{}).sort();let nr="{",sr=!0;for(const ar of ir)sr?sr=!1:nr+=",",nr+=`${ar}:${__PRIVATE_canonifyValue(tr.fields[ar])}`;return nr+"}"}(rr.mapValue):fail()}function __PRIVATE_estimateByteSize(rr){switch(__PRIVATE_typeOrder(rr)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const er=__PRIVATE_getPreviousValue(rr);return er?16+__PRIVATE_estimateByteSize(er):16;case 5:return 2*rr.stringValue.length;case 6:return __PRIVATE_normalizeByteString(rr.bytesValue).approximateByteSize();case 7:return rr.referenceValue.length;case 9:return function(ir){return(ir.values||[]).reduce((nr,sr)=>nr+__PRIVATE_estimateByteSize(sr),0)}(rr.arrayValue);case 10:case 11:return function(ir){let nr=0;return forEach(ir.fields,(sr,ar)=>{nr+=sr.length+__PRIVATE_estimateByteSize(ar)}),nr}(rr.mapValue);default:throw fail()}}function isInteger(rr){return!!rr&&"integerValue"in rr}function isArray(rr){return!!rr&&"arrayValue"in rr}function __PRIVATE_isNullValue(rr){return!!rr&&"nullValue"in rr}function __PRIVATE_isNanValue(rr){return!!rr&&"doubleValue"in rr&&isNaN(Number(rr.doubleValue))}function __PRIVATE_isMapValue(rr){return!!rr&&"mapValue"in rr}function __PRIVATE_isVectorValue(rr){var er,tr;return((tr=(((er=rr==null?void 0:rr.mapValue)===null||er===void 0?void 0:er.fields)||{})[it$1])===null||tr===void 0?void 0:tr.stringValue)===_t$1}function __PRIVATE_deepClone(rr){if(rr.geoPointValue)return{geoPointValue:Object.assign({},rr.geoPointValue)};if(rr.timestampValue&&typeof rr.timestampValue=="object")return{timestampValue:Object.assign({},rr.timestampValue)};if(rr.mapValue){const er={mapValue:{fields:{}}};return forEach(rr.mapValue.fields,(tr,ir)=>er.mapValue.fields[tr]=__PRIVATE_deepClone(ir)),er}if(rr.arrayValue){const er={arrayValue:{values:[]}};for(let tr=0;tr<(rr.arrayValue.values||[]).length;++tr)er.arrayValue.values[tr]=__PRIVATE_deepClone(rr.arrayValue.values[tr]);return er}return Object.assign({},rr)}function __PRIVATE_isMaxValue(rr){return(((rr.mapValue||{}).fields||{}).__type__||{}).stringValue===st$1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(er){this.value=er}static empty(){return new ObjectValue({mapValue:{}})}field(er){if(er.isEmpty())return this.value;{let tr=this.value;for(let ir=0;ir<er.length-1;++ir)if(tr=(tr.mapValue.fields||{})[er.get(ir)],!__PRIVATE_isMapValue(tr))return null;return tr=(tr.mapValue.fields||{})[er.lastSegment()],tr||null}}set(er,tr){this.getFieldsMap(er.popLast())[er.lastSegment()]=__PRIVATE_deepClone(tr)}setAll(er){let tr=FieldPath$1.emptyPath(),ir={},nr=[];er.forEach((ar,or)=>{if(!tr.isImmediateParentOf(or)){const lr=this.getFieldsMap(tr);this.applyChanges(lr,ir,nr),ir={},nr=[],tr=or.popLast()}ar?ir[or.lastSegment()]=__PRIVATE_deepClone(ar):nr.push(or.lastSegment())});const sr=this.getFieldsMap(tr);this.applyChanges(sr,ir,nr)}delete(er){const tr=this.field(er.popLast());__PRIVATE_isMapValue(tr)&&tr.mapValue.fields&&delete tr.mapValue.fields[er.lastSegment()]}isEqual(er){return __PRIVATE_valueEquals(this.value,er.value)}getFieldsMap(er){let tr=this.value;tr.mapValue.fields||(tr.mapValue={fields:{}});for(let ir=0;ir<er.length;++ir){let nr=tr.mapValue.fields[er.get(ir)];__PRIVATE_isMapValue(nr)&&nr.mapValue.fields||(nr={mapValue:{fields:{}}},tr.mapValue.fields[er.get(ir)]=nr),tr=nr}return tr.mapValue.fields}applyChanges(er,tr,ir){forEach(tr,(nr,sr)=>er[nr]=sr);for(const nr of ir)delete er[nr]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(rr){const er=[];return forEach(rr.fields,(tr,ir)=>{const nr=new FieldPath$1([tr]);if(__PRIVATE_isMapValue(ir)){const sr=__PRIVATE_extractFieldMask(ir.mapValue).fields;if(sr.length===0)er.push(nr);else for(const ar of sr)er.push(nr.child(ar))}else er.push(nr)}),new FieldMask(er)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(er,tr,ir,nr,sr,ar,or){this.key=er,this.documentType=tr,this.version=ir,this.readTime=nr,this.createTime=sr,this.data=ar,this.documentState=or}static newInvalidDocument(er){return new MutableDocument(er,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(er,tr,ir,nr){return new MutableDocument(er,1,tr,SnapshotVersion.min(),ir,nr,0)}static newNoDocument(er,tr){return new MutableDocument(er,2,tr,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(er,tr){return new MutableDocument(er,3,tr,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(er,tr){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=er),this.version=er,this.documentType=1,this.data=tr,this.documentState=0,this}convertToNoDocument(er){return this.version=er,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(er){return this.version=er,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(er){return this.readTime=er,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(er){return er instanceof MutableDocument&&this.key.isEqual(er.key)&&this.version.isEqual(er.version)&&this.documentType===er.documentType&&this.documentState===er.documentState&&this.data.isEqual(er.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(er,tr){this.position=er,this.inclusive=tr}}function __PRIVATE_boundCompareToDocument(rr,er,tr){let ir=0;for(let nr=0;nr<rr.position.length;nr++){const sr=er[nr],ar=rr.position[nr];if(sr.field.isKeyField()?ir=DocumentKey.comparator(DocumentKey.fromName(ar.referenceValue),tr.key):ir=__PRIVATE_valueCompare(ar,tr.data.field(sr.field)),sr.dir==="desc"&&(ir*=-1),ir!==0)break}return ir}function __PRIVATE_boundEquals(rr,er){if(rr===null)return er===null;if(er===null||rr.inclusive!==er.inclusive||rr.position.length!==er.position.length)return!1;for(let tr=0;tr<rr.position.length;tr++)if(!__PRIVATE_valueEquals(rr.position[tr],er.position[tr]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(er,tr="asc"){this.field=er,this.dir=tr}}function __PRIVATE_orderByEquals(rr,er){return rr.dir===er.dir&&rr.field.isEqual(er.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(er,tr,ir){super(),this.field=er,this.op=tr,this.value=ir}static create(er,tr,ir){return er.isKeyField()?tr==="in"||tr==="not-in"?this.createKeyFieldInFilter(er,tr,ir):new __PRIVATE_KeyFieldFilter(er,tr,ir):tr==="array-contains"?new __PRIVATE_ArrayContainsFilter(er,ir):tr==="in"?new __PRIVATE_InFilter(er,ir):tr==="not-in"?new __PRIVATE_NotInFilter(er,ir):tr==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(er,ir):new FieldFilter(er,tr,ir)}static createKeyFieldInFilter(er,tr,ir){return tr==="in"?new __PRIVATE_KeyFieldInFilter(er,ir):new __PRIVATE_KeyFieldNotInFilter(er,ir)}matches(er){const tr=er.data.field(this.field);return this.op==="!="?tr!==null&&this.matchesComparison(__PRIVATE_valueCompare(tr,this.value)):tr!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(tr)&&this.matchesComparison(__PRIVATE_valueCompare(tr,this.value))}matchesComparison(er){switch(this.op){case"<":return er<0;case"<=":return er<=0;case"==":return er===0;case"!=":return er!==0;case">":return er>0;case">=":return er>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(er,tr){super(),this.filters=er,this.op=tr,this.ce=null}static create(er,tr){return new CompositeFilter(er,tr)}matches(er){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(tr=>!tr.matches(er))===void 0:this.filters.find(tr=>tr.matches(er))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((er,tr)=>er.concat(tr.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(rr){return rr.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(rr){return __PRIVATE_compositeFilterIsFlat(rr)&&__PRIVATE_compositeFilterIsConjunction(rr)}function __PRIVATE_compositeFilterIsFlat(rr){for(const er of rr.filters)if(er instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(rr){if(rr instanceof FieldFilter)return rr.field.canonicalString()+rr.op.toString()+canonicalId(rr.value);if(__PRIVATE_compositeFilterIsFlatConjunction(rr))return rr.filters.map(er=>__PRIVATE_canonifyFilter(er)).join(",");{const er=rr.filters.map(tr=>__PRIVATE_canonifyFilter(tr)).join(",");return`${rr.op}(${er})`}}function __PRIVATE_filterEquals(rr,er){return rr instanceof FieldFilter?function(ir,nr){return nr instanceof FieldFilter&&ir.op===nr.op&&ir.field.isEqual(nr.field)&&__PRIVATE_valueEquals(ir.value,nr.value)}(rr,er):rr instanceof CompositeFilter?function(ir,nr){return nr instanceof CompositeFilter&&ir.op===nr.op&&ir.filters.length===nr.filters.length?ir.filters.reduce((sr,ar,or)=>sr&&__PRIVATE_filterEquals(ar,nr.filters[or]),!0):!1}(rr,er):void fail()}function __PRIVATE_stringifyFilter(rr){return rr instanceof FieldFilter?function(tr){return`${tr.field.canonicalString()} ${tr.op} ${canonicalId(tr.value)}`}(rr):rr instanceof CompositeFilter?function(tr){return tr.op.toString()+" {"+tr.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(rr):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(er,tr,ir){super(er,tr,ir),this.key=DocumentKey.fromName(ir.referenceValue)}matches(er){const tr=DocumentKey.comparator(er.key,this.key);return this.matchesComparison(tr)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(er,tr){super(er,"in",tr),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",tr)}matches(er){return this.keys.some(tr=>tr.isEqual(er.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(er,tr){super(er,"not-in",tr),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",tr)}matches(er){return!this.keys.some(tr=>tr.isEqual(er.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(rr,er){var tr;return(((tr=er.arrayValue)===null||tr===void 0?void 0:tr.values)||[]).map(ir=>DocumentKey.fromName(ir.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(er,tr){super(er,"array-contains",tr)}matches(er){const tr=er.data.field(this.field);return isArray(tr)&&__PRIVATE_arrayValueContains(tr.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(er,tr){super(er,"in",tr)}matches(er){const tr=er.data.field(this.field);return tr!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,tr)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(er,tr){super(er,"not-in",tr)}matches(er){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const tr=er.data.field(this.field);return tr!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,tr)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(er,tr){super(er,"array-contains-any",tr)}matches(er){const tr=er.data.field(this.field);return!(!isArray(tr)||!tr.arrayValue.values)&&tr.arrayValue.values.some(ir=>__PRIVATE_arrayValueContains(this.value.arrayValue,ir))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(er,tr=null,ir=[],nr=[],sr=null,ar=null,or=null){this.path=er,this.collectionGroup=tr,this.orderBy=ir,this.filters=nr,this.limit=sr,this.startAt=ar,this.endAt=or,this.le=null}}function __PRIVATE_newTarget(rr,er=null,tr=[],ir=[],nr=null,sr=null,ar=null){return new __PRIVATE_TargetImpl(rr,er,tr,ir,nr,sr,ar)}function __PRIVATE_canonifyTarget(rr){const er=__PRIVATE_debugCast(rr);if(er.le===null){let tr=er.path.canonicalString();er.collectionGroup!==null&&(tr+="|cg:"+er.collectionGroup),tr+="|f:",tr+=er.filters.map(ir=>__PRIVATE_canonifyFilter(ir)).join(","),tr+="|ob:",tr+=er.orderBy.map(ir=>function(sr){return sr.field.canonicalString()+sr.dir}(ir)).join(","),__PRIVATE_isNullOrUndefined(er.limit)||(tr+="|l:",tr+=er.limit),er.startAt&&(tr+="|lb:",tr+=er.startAt.inclusive?"b:":"a:",tr+=er.startAt.position.map(ir=>canonicalId(ir)).join(",")),er.endAt&&(tr+="|ub:",tr+=er.endAt.inclusive?"a:":"b:",tr+=er.endAt.position.map(ir=>canonicalId(ir)).join(",")),er.le=tr}return er.le}function __PRIVATE_targetEquals(rr,er){if(rr.limit!==er.limit||rr.orderBy.length!==er.orderBy.length)return!1;for(let tr=0;tr<rr.orderBy.length;tr++)if(!__PRIVATE_orderByEquals(rr.orderBy[tr],er.orderBy[tr]))return!1;if(rr.filters.length!==er.filters.length)return!1;for(let tr=0;tr<rr.filters.length;tr++)if(!__PRIVATE_filterEquals(rr.filters[tr],er.filters[tr]))return!1;return rr.collectionGroup===er.collectionGroup&&!!rr.path.isEqual(er.path)&&!!__PRIVATE_boundEquals(rr.startAt,er.startAt)&&__PRIVATE_boundEquals(rr.endAt,er.endAt)}function __PRIVATE_targetIsDocumentTarget(rr){return DocumentKey.isDocumentKey(rr.path)&&rr.collectionGroup===null&&rr.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(er,tr=null,ir=[],nr=[],sr=null,ar="F",or=null,lr=null){this.path=er,this.collectionGroup=tr,this.explicitOrderBy=ir,this.filters=nr,this.limit=sr,this.limitType=ar,this.startAt=or,this.endAt=lr,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(rr,er,tr,ir,nr,sr,ar,or){return new __PRIVATE_QueryImpl(rr,er,tr,ir,nr,sr,ar,or)}function __PRIVATE_newQueryForPath(rr){return new __PRIVATE_QueryImpl(rr)}function __PRIVATE_queryMatchesAllDocuments(rr){return rr.filters.length===0&&rr.limit===null&&rr.startAt==null&&rr.endAt==null&&(rr.explicitOrderBy.length===0||rr.explicitOrderBy.length===1&&rr.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(rr){return rr.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(rr){const er=__PRIVATE_debugCast(rr);if(er.he===null){er.he=[];const tr=new Set;for(const sr of er.explicitOrderBy)er.he.push(sr),tr.add(sr.field.canonicalString());const ir=er.explicitOrderBy.length>0?er.explicitOrderBy[er.explicitOrderBy.length-1].dir:"asc";(function(ar){let or=new SortedSet(FieldPath$1.comparator);return ar.filters.forEach(lr=>{lr.getFlattenedFilters().forEach(cr=>{cr.isInequality()&&(or=or.add(cr.field))})}),or})(er).forEach(sr=>{tr.has(sr.canonicalString())||sr.isKeyField()||er.he.push(new OrderBy(sr,ir))}),tr.has(FieldPath$1.keyField().canonicalString())||er.he.push(new OrderBy(FieldPath$1.keyField(),ir))}return er.he}function __PRIVATE_queryToTarget(rr){const er=__PRIVATE_debugCast(rr);return er.Pe||(er.Pe=__PRIVATE__queryToTarget(er,__PRIVATE_queryNormalizedOrderBy(rr))),er.Pe}function __PRIVATE__queryToTarget(rr,er){if(rr.limitType==="F")return __PRIVATE_newTarget(rr.path,rr.collectionGroup,er,rr.filters,rr.limit,rr.startAt,rr.endAt);{er=er.map(nr=>{const sr=nr.dir==="desc"?"asc":"desc";return new OrderBy(nr.field,sr)});const tr=rr.endAt?new Bound(rr.endAt.position,rr.endAt.inclusive):null,ir=rr.startAt?new Bound(rr.startAt.position,rr.startAt.inclusive):null;return __PRIVATE_newTarget(rr.path,rr.collectionGroup,er,rr.filters,rr.limit,tr,ir)}}function __PRIVATE_queryWithLimit(rr,er,tr){return new __PRIVATE_QueryImpl(rr.path,rr.collectionGroup,rr.explicitOrderBy.slice(),rr.filters.slice(),er,tr,rr.startAt,rr.endAt)}function __PRIVATE_queryEquals(rr,er){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(rr),__PRIVATE_queryToTarget(er))&&rr.limitType===er.limitType}function __PRIVATE_canonifyQuery(rr){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(rr))}|lt:${rr.limitType}`}function __PRIVATE_stringifyQuery(rr){return`Query(target=${function(tr){let ir=tr.path.canonicalString();return tr.collectionGroup!==null&&(ir+=" collectionGroup="+tr.collectionGroup),tr.filters.length>0&&(ir+=`, filters: [${tr.filters.map(nr=>__PRIVATE_stringifyFilter(nr)).join(", ")}]`),__PRIVATE_isNullOrUndefined(tr.limit)||(ir+=", limit: "+tr.limit),tr.orderBy.length>0&&(ir+=`, orderBy: [${tr.orderBy.map(nr=>function(ar){return`${ar.field.canonicalString()} (${ar.dir})`}(nr)).join(", ")}]`),tr.startAt&&(ir+=", startAt: ",ir+=tr.startAt.inclusive?"b:":"a:",ir+=tr.startAt.position.map(nr=>canonicalId(nr)).join(",")),tr.endAt&&(ir+=", endAt: ",ir+=tr.endAt.inclusive?"a:":"b:",ir+=tr.endAt.position.map(nr=>canonicalId(nr)).join(",")),`Target(${ir})`}(__PRIVATE_queryToTarget(rr))}; limitType=${rr.limitType})`}function __PRIVATE_queryMatches(rr,er){return er.isFoundDocument()&&function(ir,nr){const sr=nr.key.path;return ir.collectionGroup!==null?nr.key.hasCollectionId(ir.collectionGroup)&&ir.path.isPrefixOf(sr):DocumentKey.isDocumentKey(ir.path)?ir.path.isEqual(sr):ir.path.isImmediateParentOf(sr)}(rr,er)&&function(ir,nr){for(const sr of __PRIVATE_queryNormalizedOrderBy(ir))if(!sr.field.isKeyField()&&nr.data.field(sr.field)===null)return!1;return!0}(rr,er)&&function(ir,nr){for(const sr of ir.filters)if(!sr.matches(nr))return!1;return!0}(rr,er)&&function(ir,nr){return!(ir.startAt&&!function(ar,or,lr){const cr=__PRIVATE_boundCompareToDocument(ar,or,lr);return ar.inclusive?cr<=0:cr<0}(ir.startAt,__PRIVATE_queryNormalizedOrderBy(ir),nr)||ir.endAt&&!function(ar,or,lr){const cr=__PRIVATE_boundCompareToDocument(ar,or,lr);return ar.inclusive?cr>=0:cr>0}(ir.endAt,__PRIVATE_queryNormalizedOrderBy(ir),nr))}(rr,er)}function __PRIVATE_queryCollectionGroup(rr){return rr.collectionGroup||(rr.path.length%2==1?rr.path.lastSegment():rr.path.get(rr.path.length-2))}function __PRIVATE_newQueryComparator(rr){return(er,tr)=>{let ir=!1;for(const nr of __PRIVATE_queryNormalizedOrderBy(rr)){const sr=__PRIVATE_compareDocs(nr,er,tr);if(sr!==0)return sr;ir=ir||nr.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(rr,er,tr){const ir=rr.field.isKeyField()?DocumentKey.comparator(er.key,tr.key):function(sr,ar,or){const lr=ar.data.field(sr),cr=or.data.field(sr);return lr!==null&&cr!==null?__PRIVATE_valueCompare(lr,cr):fail()}(rr.field,er,tr);switch(rr.dir){case"asc":return ir;case"desc":return-1*ir;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(er,tr){this.mapKeyFn=er,this.equalsFn=tr,this.inner={},this.innerSize=0}get(er){const tr=this.mapKeyFn(er),ir=this.inner[tr];if(ir!==void 0){for(const[nr,sr]of ir)if(this.equalsFn(nr,er))return sr}}has(er){return this.get(er)!==void 0}set(er,tr){const ir=this.mapKeyFn(er),nr=this.inner[ir];if(nr===void 0)return this.inner[ir]=[[er,tr]],void this.innerSize++;for(let sr=0;sr<nr.length;sr++)if(this.equalsFn(nr[sr][0],er))return void(nr[sr]=[er,tr]);nr.push([er,tr]),this.innerSize++}delete(er){const tr=this.mapKeyFn(er),ir=this.inner[tr];if(ir===void 0)return!1;for(let nr=0;nr<ir.length;nr++)if(this.equalsFn(ir[nr][0],er))return ir.length===1?delete this.inner[tr]:ir.splice(nr,1),this.innerSize--,!0;return!1}forEach(er){forEach(this.inner,(tr,ir)=>{for(const[nr,sr]of ir)er(nr,sr)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt$2=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return lt$2}const ht$1=new SortedMap(DocumentKey.comparator);function documentMap(...rr){let er=ht$1;for(const tr of rr)er=er.insert(tr.key,tr);return er}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(rr){let er=ht$1;return rr.forEach((tr,ir)=>er=er.insert(tr,ir.overlayedDocument)),er}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(rr=>rr.toString(),(rr,er)=>rr.isEqual(er))}const Pt$1=new SortedMap(DocumentKey.comparator),Tt$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...rr){let er=Tt$1;for(const tr of rr)er=er.add(tr);return er}const It$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return It$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(rr,er){if(rr.useProto3Json){if(isNaN(er))return{doubleValue:"NaN"};if(er===1/0)return{doubleValue:"Infinity"};if(er===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(er)?"-0":er}}function __PRIVATE_toInteger(rr){return{integerValue:""+rr}}function toNumber(rr,er){return isSafeInteger(er)?__PRIVATE_toInteger(er):__PRIVATE_toDouble(rr,er)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(rr,er,tr){return rr instanceof __PRIVATE_ServerTimestampTransform?function(nr,sr){const ar={fields:{[et$1]:{stringValue:Xe$1},[nt$1]:{timestampValue:{seconds:nr.seconds,nanos:nr.nanoseconds}}}};return sr&&__PRIVATE_isServerTimestamp(sr)&&(sr=__PRIVATE_getPreviousValue(sr)),sr&&(ar.fields[tt$1]=sr),{mapValue:ar}}(tr,er):rr instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(rr,er):rr instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(rr,er):function(nr,sr){const ar=__PRIVATE_computeTransformOperationBaseValue(nr,sr),or=asNumber(ar)+asNumber(nr.Ie);return isInteger(ar)&&isInteger(nr.Ie)?__PRIVATE_toInteger(or):__PRIVATE_toDouble(nr.serializer,or)}(rr,er)}function __PRIVATE_applyTransformOperationToRemoteDocument(rr,er,tr){return rr instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(rr,er):rr instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(rr,er):tr}function __PRIVATE_computeTransformOperationBaseValue(rr,er){return rr instanceof __PRIVATE_NumericIncrementTransformOperation?function(ir){return isInteger(ir)||function(sr){return!!sr&&"doubleValue"in sr}(ir)}(er)?er:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(er){super(),this.elements=er}}function __PRIVATE_applyArrayUnionTransformOperation(rr,er){const tr=__PRIVATE_coercedFieldValuesArray(er);for(const ir of rr.elements)tr.some(nr=>__PRIVATE_valueEquals(nr,ir))||tr.push(ir);return{arrayValue:{values:tr}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(er){super(),this.elements=er}}function __PRIVATE_applyArrayRemoveTransformOperation(rr,er){let tr=__PRIVATE_coercedFieldValuesArray(er);for(const ir of rr.elements)tr=tr.filter(nr=>!__PRIVATE_valueEquals(nr,ir));return{arrayValue:{values:tr}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(er,tr){super(),this.serializer=er,this.Ie=tr}}function asNumber(rr){return __PRIVATE_normalizeNumber(rr.integerValue||rr.doubleValue)}function __PRIVATE_coercedFieldValuesArray(rr){return isArray(rr)&&rr.arrayValue.values?rr.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(er,tr){this.field=er,this.transform=tr}}function __PRIVATE_fieldTransformEquals(rr,er){return rr.field.isEqual(er.field)&&function(ir,nr){return ir instanceof __PRIVATE_ArrayUnionTransformOperation&&nr instanceof __PRIVATE_ArrayUnionTransformOperation||ir instanceof __PRIVATE_ArrayRemoveTransformOperation&&nr instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(ir.elements,nr.elements,__PRIVATE_valueEquals):ir instanceof __PRIVATE_NumericIncrementTransformOperation&&nr instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(ir.Ie,nr.Ie):ir instanceof __PRIVATE_ServerTimestampTransform&&nr instanceof __PRIVATE_ServerTimestampTransform}(rr.transform,er.transform)}class MutationResult{constructor(er,tr){this.version=er,this.transformResults=tr}}class Precondition{constructor(er,tr){this.updateTime=er,this.exists=tr}static none(){return new Precondition}static exists(er){return new Precondition(void 0,er)}static updateTime(er){return new Precondition(er)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(er){return this.exists===er.exists&&(this.updateTime?!!er.updateTime&&this.updateTime.isEqual(er.updateTime):!er.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(rr,er){return rr.updateTime!==void 0?er.isFoundDocument()&&er.version.isEqual(rr.updateTime):rr.exists===void 0||rr.exists===er.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(rr,er){if(!rr.hasLocalMutations||er&&er.fields.length===0)return null;if(er===null)return rr.isNoDocument()?new __PRIVATE_DeleteMutation(rr.key,Precondition.none()):new __PRIVATE_SetMutation(rr.key,rr.data,Precondition.none());{const tr=rr.data,ir=ObjectValue.empty();let nr=new SortedSet(FieldPath$1.comparator);for(let sr of er.fields)if(!nr.has(sr)){let ar=tr.field(sr);ar===null&&sr.length>1&&(sr=sr.popLast(),ar=tr.field(sr)),ar===null?ir.delete(sr):ir.set(sr,ar),nr=nr.add(sr)}return new __PRIVATE_PatchMutation(rr.key,ir,new FieldMask(nr.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(rr,er,tr){rr instanceof __PRIVATE_SetMutation?function(nr,sr,ar){const or=nr.value.clone(),lr=__PRIVATE_serverTransformResults(nr.fieldTransforms,sr,ar.transformResults);or.setAll(lr),sr.convertToFoundDocument(ar.version,or).setHasCommittedMutations()}(rr,er,tr):rr instanceof __PRIVATE_PatchMutation?function(nr,sr,ar){if(!__PRIVATE_preconditionIsValidForDocument(nr.precondition,sr))return void sr.convertToUnknownDocument(ar.version);const or=__PRIVATE_serverTransformResults(nr.fieldTransforms,sr,ar.transformResults),lr=sr.data;lr.setAll(__PRIVATE_getPatch(nr)),lr.setAll(or),sr.convertToFoundDocument(ar.version,lr).setHasCommittedMutations()}(rr,er,tr):function(nr,sr,ar){sr.convertToNoDocument(ar.version).setHasCommittedMutations()}(0,er,tr)}function __PRIVATE_mutationApplyToLocalView(rr,er,tr,ir){return rr instanceof __PRIVATE_SetMutation?function(sr,ar,or,lr){if(!__PRIVATE_preconditionIsValidForDocument(sr.precondition,ar))return or;const cr=sr.value.clone(),ur=__PRIVATE_localTransformResults(sr.fieldTransforms,lr,ar);return cr.setAll(ur),ar.convertToFoundDocument(ar.version,cr).setHasLocalMutations(),null}(rr,er,tr,ir):rr instanceof __PRIVATE_PatchMutation?function(sr,ar,or,lr){if(!__PRIVATE_preconditionIsValidForDocument(sr.precondition,ar))return or;const cr=__PRIVATE_localTransformResults(sr.fieldTransforms,lr,ar),ur=ar.data;return ur.setAll(__PRIVATE_getPatch(sr)),ur.setAll(cr),ar.convertToFoundDocument(ar.version,ur).setHasLocalMutations(),or===null?null:or.unionWith(sr.fieldMask.fields).unionWith(sr.fieldTransforms.map(hr=>hr.field))}(rr,er,tr,ir):function(sr,ar,or){return __PRIVATE_preconditionIsValidForDocument(sr.precondition,ar)?(ar.convertToNoDocument(ar.version).setHasLocalMutations(),null):or}(rr,er,tr)}function __PRIVATE_mutationExtractBaseValue(rr,er){let tr=null;for(const ir of rr.fieldTransforms){const nr=er.data.field(ir.field),sr=__PRIVATE_computeTransformOperationBaseValue(ir.transform,nr||null);sr!=null&&(tr===null&&(tr=ObjectValue.empty()),tr.set(ir.field,sr))}return tr||null}function __PRIVATE_mutationEquals(rr,er){return rr.type===er.type&&!!rr.key.isEqual(er.key)&&!!rr.precondition.isEqual(er.precondition)&&!!function(ir,nr){return ir===void 0&&nr===void 0||!(!ir||!nr)&&__PRIVATE_arrayEquals(ir,nr,(sr,ar)=>__PRIVATE_fieldTransformEquals(sr,ar))}(rr.fieldTransforms,er.fieldTransforms)&&(rr.type===0?rr.value.isEqual(er.value):rr.type!==1||rr.data.isEqual(er.data)&&rr.fieldMask.isEqual(er.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(er,tr,ir,nr=[]){super(),this.key=er,this.value=tr,this.precondition=ir,this.fieldTransforms=nr,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(er,tr,ir,nr,sr=[]){super(),this.key=er,this.data=tr,this.fieldMask=ir,this.precondition=nr,this.fieldTransforms=sr,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(rr){const er=new Map;return rr.fieldMask.fields.forEach(tr=>{if(!tr.isEmpty()){const ir=rr.data.field(tr);er.set(tr,ir)}}),er}function __PRIVATE_serverTransformResults(rr,er,tr){const ir=new Map;__PRIVATE_hardAssert(rr.length===tr.length);for(let nr=0;nr<tr.length;nr++){const sr=rr[nr],ar=sr.transform,or=er.data.field(sr.field);ir.set(sr.field,__PRIVATE_applyTransformOperationToRemoteDocument(ar,or,tr[nr]))}return ir}function __PRIVATE_localTransformResults(rr,er,tr){const ir=new Map;for(const nr of rr){const sr=nr.transform,ar=tr.data.field(nr.field);ir.set(nr.field,__PRIVATE_applyTransformOperationToLocalView(sr,ar,er))}return ir}class __PRIVATE_DeleteMutation extends Mutation{constructor(er,tr){super(),this.key=er,this.precondition=tr,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(er,tr){super(),this.key=er,this.precondition=tr,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(er,tr,ir,nr){this.batchId=er,this.localWriteTime=tr,this.baseMutations=ir,this.mutations=nr}applyToRemoteDocument(er,tr){const ir=tr.mutationResults;for(let nr=0;nr<this.mutations.length;nr++){const sr=this.mutations[nr];sr.key.isEqual(er.key)&&__PRIVATE_mutationApplyToRemoteDocument(sr,er,ir[nr])}}applyToLocalView(er,tr){for(const ir of this.baseMutations)ir.key.isEqual(er.key)&&(tr=__PRIVATE_mutationApplyToLocalView(ir,er,tr,this.localWriteTime));for(const ir of this.mutations)ir.key.isEqual(er.key)&&(tr=__PRIVATE_mutationApplyToLocalView(ir,er,tr,this.localWriteTime));return tr}applyToLocalDocumentSet(er,tr){const ir=__PRIVATE_newMutationMap();return this.mutations.forEach(nr=>{const sr=er.get(nr.key),ar=sr.overlayedDocument;let or=this.applyToLocalView(ar,sr.mutatedFields);or=tr.has(nr.key)?null:or;const lr=__PRIVATE_calculateOverlayMutation(ar,or);lr!==null&&ir.set(nr.key,lr),ar.isValidDocument()||ar.convertToNoDocument(SnapshotVersion.min())}),ir}keys(){return this.mutations.reduce((er,tr)=>er.add(tr.key),__PRIVATE_documentKeySet())}isEqual(er){return this.batchId===er.batchId&&__PRIVATE_arrayEquals(this.mutations,er.mutations,(tr,ir)=>__PRIVATE_mutationEquals(tr,ir))&&__PRIVATE_arrayEquals(this.baseMutations,er.baseMutations,(tr,ir)=>__PRIVATE_mutationEquals(tr,ir))}}class MutationBatchResult{constructor(er,tr,ir,nr){this.batch=er,this.commitVersion=tr,this.mutationResults=ir,this.docVersions=nr}static from(er,tr,ir){__PRIVATE_hardAssert(er.mutations.length===ir.length);let nr=function(){return Pt$1}();const sr=er.mutations;for(let ar=0;ar<sr.length;ar++)nr=nr.insert(sr[ar].key,ir[ar].version);return new MutationBatchResult(er,tr,ir,nr)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(er,tr){this.largestBatchId=er,this.mutation=tr}getKey(){return this.mutation.key}isEqual(er){return er!==null&&this.mutation===er.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(er,tr){this.count=er,this.unchangedNames=tr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et$2,dt$1;function __PRIVATE_isPermanentError(rr){switch(rr){case C$1.OK:return fail();case C$1.CANCELLED:case C$1.UNKNOWN:case C$1.DEADLINE_EXCEEDED:case C$1.RESOURCE_EXHAUSTED:case C$1.INTERNAL:case C$1.UNAVAILABLE:case C$1.UNAUTHENTICATED:return!1;case C$1.INVALID_ARGUMENT:case C$1.NOT_FOUND:case C$1.ALREADY_EXISTS:case C$1.PERMISSION_DENIED:case C$1.FAILED_PRECONDITION:case C$1.ABORTED:case C$1.OUT_OF_RANGE:case C$1.UNIMPLEMENTED:case C$1.DATA_LOSS:return!0;default:return fail()}}function __PRIVATE_mapCodeFromRpcCode(rr){if(rr===void 0)return __PRIVATE_logError("GRPC error has no .code"),C$1.UNKNOWN;switch(rr){case Et$2.OK:return C$1.OK;case Et$2.CANCELLED:return C$1.CANCELLED;case Et$2.UNKNOWN:return C$1.UNKNOWN;case Et$2.DEADLINE_EXCEEDED:return C$1.DEADLINE_EXCEEDED;case Et$2.RESOURCE_EXHAUSTED:return C$1.RESOURCE_EXHAUSTED;case Et$2.INTERNAL:return C$1.INTERNAL;case Et$2.UNAVAILABLE:return C$1.UNAVAILABLE;case Et$2.UNAUTHENTICATED:return C$1.UNAUTHENTICATED;case Et$2.INVALID_ARGUMENT:return C$1.INVALID_ARGUMENT;case Et$2.NOT_FOUND:return C$1.NOT_FOUND;case Et$2.ALREADY_EXISTS:return C$1.ALREADY_EXISTS;case Et$2.PERMISSION_DENIED:return C$1.PERMISSION_DENIED;case Et$2.FAILED_PRECONDITION:return C$1.FAILED_PRECONDITION;case Et$2.ABORTED:return C$1.ABORTED;case Et$2.OUT_OF_RANGE:return C$1.OUT_OF_RANGE;case Et$2.UNIMPLEMENTED:return C$1.UNIMPLEMENTED;case Et$2.DATA_LOSS:return C$1.DATA_LOSS;default:return fail()}}(dt$1=Et$2||(Et$2={}))[dt$1.OK=0]="OK",dt$1[dt$1.CANCELLED=1]="CANCELLED",dt$1[dt$1.UNKNOWN=2]="UNKNOWN",dt$1[dt$1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt$1[dt$1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt$1[dt$1.NOT_FOUND=5]="NOT_FOUND",dt$1[dt$1.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt$1[dt$1.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt$1[dt$1.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt$1[dt$1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt$1[dt$1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt$1[dt$1.ABORTED=10]="ABORTED",dt$1[dt$1.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt$1[dt$1.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt$1[dt$1.INTERNAL=13]="INTERNAL",dt$1[dt$1.UNAVAILABLE=14]="UNAVAILABLE",dt$1[dt$1.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt$1=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(rr){const er=__PRIVATE_newTextEncoder().encode(rr),tr=new Md5;return tr.update(er),new Uint8Array(tr.digest())}function __PRIVATE_get64BitUints(rr){const er=new DataView(rr.buffer),tr=er.getUint32(0,!0),ir=er.getUint32(4,!0),nr=er.getUint32(8,!0),sr=er.getUint32(12,!0);return[new Integer([tr,ir],0),new Integer([nr,sr],0)]}class BloomFilter{constructor(er,tr,ir){if(this.bitmap=er,this.padding=tr,this.hashCount=ir,tr<0||tr>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${tr}`);if(ir<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${ir}`);if(er.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${ir}`);if(er.length===0&&tr!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${tr}`);this.Ee=8*er.length-tr,this.de=Integer.fromNumber(this.Ee)}Ae(er,tr,ir){let nr=er.add(tr.multiply(Integer.fromNumber(ir)));return nr.compare(Rt$1)===1&&(nr=new Integer([nr.getBits(0),nr.getBits(1)],0)),nr.modulo(this.de).toNumber()}Re(er){return!!(this.bitmap[Math.floor(er/8)]&1<<er%8)}mightContain(er){if(this.Ee===0)return!1;const tr=__PRIVATE_getMd5HashValue(er),[ir,nr]=__PRIVATE_get64BitUints(tr);for(let sr=0;sr<this.hashCount;sr++){const ar=this.Ae(ir,nr,sr);if(!this.Re(ar))return!1}return!0}static create(er,tr,ir){const nr=er%8==0?0:8-er%8,sr=new Uint8Array(Math.ceil(er/8)),ar=new BloomFilter(sr,nr,tr);return ir.forEach(or=>ar.insert(or)),ar}insert(er){if(this.Ee===0)return;const tr=__PRIVATE_getMd5HashValue(er),[ir,nr]=__PRIVATE_get64BitUints(tr);for(let sr=0;sr<this.hashCount;sr++){const ar=this.Ae(ir,nr,sr);this.Ve(ar)}}Ve(er){const tr=Math.floor(er/8),ir=er%8;this.bitmap[tr]|=1<<ir}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(er,tr,ir,nr,sr){this.snapshotVersion=er,this.targetChanges=tr,this.targetMismatches=ir,this.documentUpdates=nr,this.resolvedLimboDocuments=sr}static createSynthesizedRemoteEventForCurrentChange(er,tr,ir){const nr=new Map;return nr.set(er,TargetChange.createSynthesizedTargetChangeForCurrentChange(er,tr,ir)),new RemoteEvent(SnapshotVersion.min(),nr,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(er,tr,ir,nr,sr){this.resumeToken=er,this.current=tr,this.addedDocuments=ir,this.modifiedDocuments=nr,this.removedDocuments=sr}static createSynthesizedTargetChangeForCurrentChange(er,tr,ir){return new TargetChange(ir,tr,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(er,tr,ir,nr){this.me=er,this.removedTargetIds=tr,this.key=ir,this.fe=nr}}class __PRIVATE_ExistenceFilterChange{constructor(er,tr){this.targetId=er,this.ge=tr}}class __PRIVATE_WatchTargetChange{constructor(er,tr,ir=ByteString.EMPTY_BYTE_STRING,nr=null){this.state=er,this.targetIds=tr,this.resumeToken=ir,this.cause=nr}}class __PRIVATE_TargetState{constructor(){this.pe=0,this.ye=__PRIVATE_snapshotChangesMap(),this.we=ByteString.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(er){er.approximateByteSize()>0&&(this.be=!0,this.we=er)}Fe(){let er=__PRIVATE_documentKeySet(),tr=__PRIVATE_documentKeySet(),ir=__PRIVATE_documentKeySet();return this.ye.forEach((nr,sr)=>{switch(sr){case 0:er=er.add(nr);break;case 2:tr=tr.add(nr);break;case 1:ir=ir.add(nr);break;default:fail()}}),new TargetChange(this.we,this.Se,er,tr,ir)}Me(){this.be=!1,this.ye=__PRIVATE_snapshotChangesMap()}xe(er,tr){this.be=!0,this.ye=this.ye.insert(er,tr)}Oe(er){this.be=!0,this.ye=this.ye.remove(er)}Ne(){this.pe+=1}Be(){this.pe-=1,__PRIVATE_hardAssert(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class __PRIVATE_WatchChangeAggregator{constructor(er){this.ke=er,this.qe=new Map,this.Qe=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ue=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator)}We(er){for(const tr of er.me)er.fe&&er.fe.isFoundDocument()?this.Ge(tr,er.fe):this.ze(tr,er.key,er.fe);for(const tr of er.removedTargetIds)this.ze(tr,er.key,er.fe)}je(er){this.forEachTarget(er,tr=>{const ir=this.He(tr);switch(er.state){case 0:this.Je(tr)&&ir.Ce(er.resumeToken);break;case 1:ir.Be(),ir.De||ir.Me(),ir.Ce(er.resumeToken);break;case 2:ir.Be(),ir.De||this.removeTarget(tr);break;case 3:this.Je(tr)&&(ir.Le(),ir.Ce(er.resumeToken));break;case 4:this.Je(tr)&&(this.Ye(tr),ir.Ce(er.resumeToken));break;default:fail()}})}forEachTarget(er,tr){er.targetIds.length>0?er.targetIds.forEach(tr):this.qe.forEach((ir,nr)=>{this.Je(nr)&&tr(nr)})}Ze(er){const tr=er.targetId,ir=er.ge.count,nr=this.Xe(tr);if(nr){const sr=nr.target;if(__PRIVATE_targetIsDocumentTarget(sr))if(ir===0){const ar=new DocumentKey(sr.path);this.ze(tr,ar,MutableDocument.newNoDocument(ar,SnapshotVersion.min()))}else __PRIVATE_hardAssert(ir===1);else{const ar=this.et(tr);if(ar!==ir){const or=this.tt(er),lr=or?this.nt(or,er,ar):1;if(lr!==0){this.Ye(tr);const cr=lr===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(tr,cr)}}}}}tt(er){const tr=er.ge.unchangedNames;if(!tr||!tr.bits)return null;const{bits:{bitmap:ir="",padding:nr=0},hashCount:sr=0}=tr;let ar,or;try{ar=__PRIVATE_normalizeByteString(ir).toUint8Array()}catch(lr){if(lr instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+lr.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw lr}try{or=new BloomFilter(ar,nr,sr)}catch(lr){return __PRIVATE_logWarn(lr instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",lr),null}return or.Ee===0?null:or}nt(er,tr,ir){return tr.ge.count===ir-this.st(er,tr.targetId)?0:2}st(er,tr){const ir=this.ke.getRemoteKeysForTarget(tr);let nr=0;return ir.forEach(sr=>{const ar=this.ke.it(),or=`projects/${ar.projectId}/databases/${ar.database}/documents/${sr.path.canonicalString()}`;er.mightContain(or)||(this.ze(tr,sr,null),nr++)}),nr}ot(er){const tr=new Map;this.qe.forEach((sr,ar)=>{const or=this.Xe(ar);if(or){if(sr.current&&__PRIVATE_targetIsDocumentTarget(or.target)){const lr=new DocumentKey(or.target.path);this._t(lr).has(ar)||this.ut(ar,lr)||this.ze(ar,lr,MutableDocument.newNoDocument(lr,er))}sr.ve&&(tr.set(ar,sr.Fe()),sr.Me())}});let ir=__PRIVATE_documentKeySet();this.Ue.forEach((sr,ar)=>{let or=!0;ar.forEachWhile(lr=>{const cr=this.Xe(lr);return!cr||cr.purpose==="TargetPurposeLimboResolution"||(or=!1,!1)}),or&&(ir=ir.add(sr))}),this.Qe.forEach((sr,ar)=>ar.setReadTime(er));const nr=new RemoteEvent(er,tr,this.Ke,this.Qe,ir);return this.Qe=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ue=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator),nr}Ge(er,tr){if(!this.Je(er))return;const ir=this.ut(er,tr.key)?2:0;this.He(er).xe(tr.key,ir),this.Qe=this.Qe.insert(tr.key,tr),this.$e=this.$e.insert(tr.key,this._t(tr.key).add(er)),this.Ue=this.Ue.insert(tr.key,this.ct(tr.key).add(er))}ze(er,tr,ir){if(!this.Je(er))return;const nr=this.He(er);this.ut(er,tr)?nr.xe(tr,1):nr.Oe(tr),this.Ue=this.Ue.insert(tr,this.ct(tr).delete(er)),this.Ue=this.Ue.insert(tr,this.ct(tr).add(er)),ir&&(this.Qe=this.Qe.insert(tr,ir))}removeTarget(er){this.qe.delete(er)}et(er){const tr=this.He(er).Fe();return this.ke.getRemoteKeysForTarget(er).size+tr.addedDocuments.size-tr.removedDocuments.size}Ne(er){this.He(er).Ne()}He(er){let tr=this.qe.get(er);return tr||(tr=new __PRIVATE_TargetState,this.qe.set(er,tr)),tr}ct(er){let tr=this.Ue.get(er);return tr||(tr=new SortedSet(__PRIVATE_primitiveComparator),this.Ue=this.Ue.insert(er,tr)),tr}_t(er){let tr=this.$e.get(er);return tr||(tr=new SortedSet(__PRIVATE_primitiveComparator),this.$e=this.$e.insert(er,tr)),tr}Je(er){const tr=this.Xe(er)!==null;return tr||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",er),tr}Xe(er){const tr=this.qe.get(er);return tr&&tr.De?null:this.ke.lt(er)}Ye(er){this.qe.set(er,new __PRIVATE_TargetState),this.ke.getRemoteKeysForTarget(er).forEach(tr=>{this.ze(er,tr,null)})}ut(er,tr){return this.ke.getRemoteKeysForTarget(er).has(tr)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Vt$1={asc:"ASCENDING",desc:"DESCENDING"},mt$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ft$1={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(er,tr){this.databaseId=er,this.useProto3Json=tr}}function __PRIVATE_toInt32Proto(rr,er){return rr.useProto3Json||__PRIVATE_isNullOrUndefined(er)?er:{value:er}}function toTimestamp(rr,er){return rr.useProto3Json?`${new Date(1e3*er.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+er.nanoseconds).slice(-9)}Z`:{seconds:""+er.seconds,nanos:er.nanoseconds}}function __PRIVATE_toBytes(rr,er){return rr.useProto3Json?er.toBase64():er.toUint8Array()}function __PRIVATE_toVersion(rr,er){return toTimestamp(rr,er.toTimestamp())}function __PRIVATE_fromVersion(rr){return __PRIVATE_hardAssert(!!rr),SnapshotVersion.fromTimestamp(function(tr){const ir=__PRIVATE_normalizeTimestamp(tr);return new Timestamp(ir.seconds,ir.nanos)}(rr))}function __PRIVATE_toResourceName(rr,er){return __PRIVATE_toResourcePath(rr,er).canonicalString()}function __PRIVATE_toResourcePath(rr,er){const tr=function(nr){return new ResourcePath(["projects",nr.projectId,"databases",nr.database])}(rr).child("documents");return er===void 0?tr:tr.child(er)}function __PRIVATE_fromResourceName(rr){const er=ResourcePath.fromString(rr);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(er)),er}function __PRIVATE_toName(rr,er){return __PRIVATE_toResourceName(rr.databaseId,er.path)}function fromName(rr,er){const tr=__PRIVATE_fromResourceName(er);if(tr.get(1)!==rr.databaseId.projectId)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+tr.get(1)+" vs "+rr.databaseId.projectId);if(tr.get(3)!==rr.databaseId.database)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+tr.get(3)+" vs "+rr.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(tr))}function __PRIVATE_toQueryPath(rr,er){return __PRIVATE_toResourceName(rr.databaseId,er)}function __PRIVATE_fromQueryPath(rr){const er=__PRIVATE_fromResourceName(rr);return er.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(er)}function __PRIVATE_getEncodedDatabaseId(rr){return new ResourcePath(["projects",rr.databaseId.projectId,"databases",rr.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(rr){return __PRIVATE_hardAssert(rr.length>4&&rr.get(4)==="documents"),rr.popFirst(5)}function __PRIVATE_toMutationDocument(rr,er,tr){return{name:__PRIVATE_toName(rr,er),fields:tr.value.mapValue.fields}}function __PRIVATE_fromWatchChange(rr,er){let tr;if("targetChange"in er){er.targetChange;const ir=function(cr){return cr==="NO_CHANGE"?0:cr==="ADD"?1:cr==="REMOVE"?2:cr==="CURRENT"?3:cr==="RESET"?4:fail()}(er.targetChange.targetChangeType||"NO_CHANGE"),nr=er.targetChange.targetIds||[],sr=function(cr,ur){return cr.useProto3Json?(__PRIVATE_hardAssert(ur===void 0||typeof ur=="string"),ByteString.fromBase64String(ur||"")):(__PRIVATE_hardAssert(ur===void 0||ur instanceof Buffer||ur instanceof Uint8Array),ByteString.fromUint8Array(ur||new Uint8Array))}(rr,er.targetChange.resumeToken),ar=er.targetChange.cause,or=ar&&function(cr){const ur=cr.code===void 0?C$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(cr.code);return new FirestoreError(ur,cr.message||"")}(ar);tr=new __PRIVATE_WatchTargetChange(ir,nr,sr,or||null)}else if("documentChange"in er){er.documentChange;const ir=er.documentChange;ir.document,ir.document.name,ir.document.updateTime;const nr=fromName(rr,ir.document.name),sr=__PRIVATE_fromVersion(ir.document.updateTime),ar=ir.document.createTime?__PRIVATE_fromVersion(ir.document.createTime):SnapshotVersion.min(),or=new ObjectValue({mapValue:{fields:ir.document.fields}}),lr=MutableDocument.newFoundDocument(nr,sr,ar,or),cr=ir.targetIds||[],ur=ir.removedTargetIds||[];tr=new __PRIVATE_DocumentWatchChange(cr,ur,lr.key,lr)}else if("documentDelete"in er){er.documentDelete;const ir=er.documentDelete;ir.document;const nr=fromName(rr,ir.document),sr=ir.readTime?__PRIVATE_fromVersion(ir.readTime):SnapshotVersion.min(),ar=MutableDocument.newNoDocument(nr,sr),or=ir.removedTargetIds||[];tr=new __PRIVATE_DocumentWatchChange([],or,ar.key,ar)}else if("documentRemove"in er){er.documentRemove;const ir=er.documentRemove;ir.document;const nr=fromName(rr,ir.document),sr=ir.removedTargetIds||[];tr=new __PRIVATE_DocumentWatchChange([],sr,nr,null)}else{if(!("filter"in er))return fail();{er.filter;const ir=er.filter;ir.targetId;const{count:nr=0,unchangedNames:sr}=ir,ar=new ExistenceFilter(nr,sr),or=ir.targetId;tr=new __PRIVATE_ExistenceFilterChange(or,ar)}}return tr}function toMutation(rr,er){let tr;if(er instanceof __PRIVATE_SetMutation)tr={update:__PRIVATE_toMutationDocument(rr,er.key,er.value)};else if(er instanceof __PRIVATE_DeleteMutation)tr={delete:__PRIVATE_toName(rr,er.key)};else if(er instanceof __PRIVATE_PatchMutation)tr={update:__PRIVATE_toMutationDocument(rr,er.key,er.data),updateMask:__PRIVATE_toDocumentMask(er.fieldMask)};else{if(!(er instanceof __PRIVATE_VerifyMutation))return fail();tr={verify:__PRIVATE_toName(rr,er.key)}}return er.fieldTransforms.length>0&&(tr.updateTransforms=er.fieldTransforms.map(ir=>function(sr,ar){const or=ar.transform;if(or instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:ar.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(or instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:ar.field.canonicalString(),appendMissingElements:{values:or.elements}};if(or instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:ar.field.canonicalString(),removeAllFromArray:{values:or.elements}};if(or instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:ar.field.canonicalString(),increment:or.Ie};throw fail()}(0,ir))),er.precondition.isNone||(tr.currentDocument=function(nr,sr){return sr.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(nr,sr.updateTime)}:sr.exists!==void 0?{exists:sr.exists}:fail()}(rr,er.precondition)),tr}function __PRIVATE_fromWriteResults(rr,er){return rr&&rr.length>0?(__PRIVATE_hardAssert(er!==void 0),rr.map(tr=>function(nr,sr){let ar=nr.updateTime?__PRIVATE_fromVersion(nr.updateTime):__PRIVATE_fromVersion(sr);return ar.isEqual(SnapshotVersion.min())&&(ar=__PRIVATE_fromVersion(sr)),new MutationResult(ar,nr.transformResults||[])}(tr,er))):[]}function __PRIVATE_toDocumentsTarget(rr,er){return{documents:[__PRIVATE_toQueryPath(rr,er.path)]}}function __PRIVATE_toQueryTarget(rr,er){const tr={structuredQuery:{}},ir=er.path;let nr;er.collectionGroup!==null?(nr=ir,tr.structuredQuery.from=[{collectionId:er.collectionGroup,allDescendants:!0}]):(nr=ir.popLast(),tr.structuredQuery.from=[{collectionId:ir.lastSegment()}]),tr.parent=__PRIVATE_toQueryPath(rr,nr);const sr=function(cr){if(cr.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(cr,"and"))}(er.filters);sr&&(tr.structuredQuery.where=sr);const ar=function(cr){if(cr.length!==0)return cr.map(ur=>function(dr){return{field:__PRIVATE_toFieldPathReference(dr.field),direction:__PRIVATE_toDirection(dr.dir)}}(ur))}(er.orderBy);ar&&(tr.structuredQuery.orderBy=ar);const or=__PRIVATE_toInt32Proto(rr,er.limit);return or!==null&&(tr.structuredQuery.limit=or),er.startAt&&(tr.structuredQuery.startAt=function(cr){return{before:cr.inclusive,values:cr.position}}(er.startAt)),er.endAt&&(tr.structuredQuery.endAt=function(cr){return{before:!cr.inclusive,values:cr.position}}(er.endAt)),{ht:tr,parent:nr}}function __PRIVATE_convertQueryTargetToQuery(rr){let er=__PRIVATE_fromQueryPath(rr.parent);const tr=rr.structuredQuery,ir=tr.from?tr.from.length:0;let nr=null;if(ir>0){__PRIVATE_hardAssert(ir===1);const ur=tr.from[0];ur.allDescendants?nr=ur.collectionId:er=er.child(ur.collectionId)}let sr=[];tr.where&&(sr=function(hr){const dr=__PRIVATE_fromFilter(hr);return dr instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(dr)?dr.getFilters():[dr]}(tr.where));let ar=[];tr.orderBy&&(ar=function(hr){return hr.map(dr=>function(pr){return new OrderBy(__PRIVATE_fromFieldPathReference(pr.field),function(vr){switch(vr){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pr.direction))}(dr))}(tr.orderBy));let or=null;tr.limit&&(or=function(hr){let dr;return dr=typeof hr=="object"?hr.value:hr,__PRIVATE_isNullOrUndefined(dr)?null:dr}(tr.limit));let lr=null;tr.startAt&&(lr=function(hr){const dr=!!hr.before,gr=hr.values||[];return new Bound(gr,dr)}(tr.startAt));let cr=null;return tr.endAt&&(cr=function(hr){const dr=!hr.before,gr=hr.values||[];return new Bound(gr,dr)}(tr.endAt)),__PRIVATE_newQuery(er,nr,ar,sr,or,"F",lr,cr)}function __PRIVATE_toListenRequestLabels(rr,er){const tr=function(nr){switch(nr){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(er.purpose);return tr==null?null:{"goog-listen-tags":tr}}function __PRIVATE_fromFilter(rr){return rr.unaryFilter!==void 0?function(tr){switch(tr.unaryFilter.op){case"IS_NAN":const ir=__PRIVATE_fromFieldPathReference(tr.unaryFilter.field);return FieldFilter.create(ir,"==",{doubleValue:NaN});case"IS_NULL":const nr=__PRIVATE_fromFieldPathReference(tr.unaryFilter.field);return FieldFilter.create(nr,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const sr=__PRIVATE_fromFieldPathReference(tr.unaryFilter.field);return FieldFilter.create(sr,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const ar=__PRIVATE_fromFieldPathReference(tr.unaryFilter.field);return FieldFilter.create(ar,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(rr):rr.fieldFilter!==void 0?function(tr){return FieldFilter.create(__PRIVATE_fromFieldPathReference(tr.fieldFilter.field),function(nr){switch(nr){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(tr.fieldFilter.op),tr.fieldFilter.value)}(rr):rr.compositeFilter!==void 0?function(tr){return CompositeFilter.create(tr.compositeFilter.filters.map(ir=>__PRIVATE_fromFilter(ir)),function(nr){switch(nr){case"AND":return"and";case"OR":return"or";default:return fail()}}(tr.compositeFilter.op))}(rr):fail()}function __PRIVATE_toDirection(rr){return Vt$1[rr]}function __PRIVATE_toOperatorName(rr){return mt$1[rr]}function __PRIVATE_toCompositeOperatorName(rr){return ft$1[rr]}function __PRIVATE_toFieldPathReference(rr){return{fieldPath:rr.canonicalString()}}function __PRIVATE_fromFieldPathReference(rr){return FieldPath$1.fromServerFormat(rr.fieldPath)}function __PRIVATE_toFilter(rr){return rr instanceof FieldFilter?function(tr){if(tr.op==="=="){if(__PRIVATE_isNanValue(tr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(tr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:"IS_NULL"}}}else if(tr.op==="!="){if(__PRIVATE_isNanValue(tr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(tr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:__PRIVATE_toOperatorName(tr.op),value:tr.value}}}(rr):rr instanceof CompositeFilter?function(tr){const ir=tr.getFilters().map(nr=>__PRIVATE_toFilter(nr));return ir.length===1?ir[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(tr.op),filters:ir}}}(rr):fail()}function __PRIVATE_toDocumentMask(rr){const er=[];return rr.fields.forEach(tr=>er.push(tr.canonicalString())),{fieldPaths:er}}function __PRIVATE_isValidResourceName(rr){return rr.length>=4&&rr.get(0)==="projects"&&rr.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(er,tr,ir,nr,sr=SnapshotVersion.min(),ar=SnapshotVersion.min(),or=ByteString.EMPTY_BYTE_STRING,lr=null){this.target=er,this.targetId=tr,this.purpose=ir,this.sequenceNumber=nr,this.snapshotVersion=sr,this.lastLimboFreeSnapshotVersion=ar,this.resumeToken=or,this.expectedCount=lr}withSequenceNumber(er){return new TargetData(this.target,this.targetId,this.purpose,er,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(er,tr){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,tr,this.lastLimboFreeSnapshotVersion,er,null)}withExpectedCount(er){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,er)}withLastLimboFreeSnapshotVersion(er){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,er,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(er){this.Tt=er}}function __PRIVATE_fromBundledQuery(rr){const er=__PRIVATE_convertQueryTargetToQuery({parent:rr.parent,structuredQuery:rr.structuredQuery});return rr.limitType==="LAST"?__PRIVATE_queryWithLimit(er,er.limit,"L"):er}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Tn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(er,tr){return this.Tn.add(tr),PersistencePromise.resolve()}getCollectionParents(er,tr){return PersistencePromise.resolve(this.Tn.getEntries(tr))}addFieldIndex(er,tr){return PersistencePromise.resolve()}deleteFieldIndex(er,tr){return PersistencePromise.resolve()}deleteAllFieldIndexes(er){return PersistencePromise.resolve()}createTargetIndexes(er,tr){return PersistencePromise.resolve()}getDocumentsMatchingTarget(er,tr){return PersistencePromise.resolve(null)}getIndexType(er,tr){return PersistencePromise.resolve(0)}getFieldIndexes(er,tr){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(er){return PersistencePromise.resolve(null)}getMinOffset(er,tr){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(er,tr){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(er,tr,ir){return PersistencePromise.resolve()}updateIndexEntries(er,tr){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(er){const tr=er.lastSegment(),ir=er.popLast(),nr=this.index[tr]||new SortedSet(ResourcePath.comparator),sr=!nr.has(ir);return this.index[tr]=nr.add(ir),sr}has(er){const tr=er.lastSegment(),ir=er.popLast(),nr=this.index[tr];return nr&&nr.has(ir)}getEntries(er){return(this.index[er]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt$1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},St$2=41943040;class LruParams{static withCacheSize(er){return new LruParams(er,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(er,tr,ir){this.cacheSizeCollectionThreshold=er,this.percentileToCollect=tr,this.maximumSequenceNumbersToCollect=ir}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(St$2,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(er){this.$n=er}next(){return this.$n+=2,this.$n}static Un(){return new __PRIVATE_TargetIdGenerator(0)}static Kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt$2="LruGarbageCollector",Dt$1=1048576;function __PRIVATE_bufferEntryComparator([rr,er],[tr,ir]){const nr=__PRIVATE_primitiveComparator(rr,tr);return nr===0?__PRIVATE_primitiveComparator(er,ir):nr}class __PRIVATE_RollingSequenceNumberBuffer{constructor(er){this.Hn=er,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.Jn=0}Yn(){return++this.Jn}Zn(er){const tr=[er,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(tr);else{const ir=this.buffer.last();__PRIVATE_bufferEntryComparator(tr,ir)<0&&(this.buffer=this.buffer.delete(ir).add(tr))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(er,tr,ir){this.garbageCollector=er,this.asyncQueue=tr,this.localStore=ir,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(er){__PRIVATE_logDebug(bt$2,`Garbage collection scheduled in ${er}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",er,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(tr){__PRIVATE_isIndexedDbTransactionError(tr)?__PRIVATE_logDebug(bt$2,"Ignoring IndexedDB error during garbage collection: ",tr):await __PRIVATE_ignoreIfPrimaryLeaseLoss(tr)}await this.er(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(er,tr){this.tr=er,this.params=tr}calculateTargetCount(er,tr){return this.tr.nr(er).next(ir=>Math.floor(tr/100*ir))}nthSequenceNumber(er,tr){if(tr===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.ae);const ir=new __PRIVATE_RollingSequenceNumberBuffer(tr);return this.tr.forEachTarget(er,nr=>ir.Zn(nr.sequenceNumber)).next(()=>this.tr.rr(er,nr=>ir.Zn(nr))).next(()=>ir.maxValue)}removeTargets(er,tr,ir){return this.tr.removeTargets(er,tr,ir)}removeOrphanedDocuments(er,tr){return this.tr.removeOrphanedDocuments(er,tr)}collect(er,tr){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(wt$1)):this.getCacheSize(er).next(ir=>ir<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${ir} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wt$1):this.ir(er,tr))}getCacheSize(er){return this.tr.getCacheSize(er)}ir(er,tr){let ir,nr,sr,ar,or,lr,cr;const ur=Date.now();return this.calculateTargetCount(er,this.params.percentileToCollect).next(hr=>(hr>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${hr}`),nr=this.params.maximumSequenceNumbersToCollect):nr=hr,ar=Date.now(),this.nthSequenceNumber(er,nr))).next(hr=>(ir=hr,or=Date.now(),this.removeTargets(er,ir,tr))).next(hr=>(sr=hr,lr=Date.now(),this.removeOrphanedDocuments(er,ir))).next(hr=>(cr=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${ar-ur}ms
	Determined least recently used ${nr} in `+(or-ar)+`ms
	Removed ${sr} targets in `+(lr-or)+`ms
	Removed ${hr} documents in `+(cr-lr)+`ms
Total Duration: ${cr-ur}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:nr,targetsRemoved:sr,documentsRemoved:hr})))}}function __PRIVATE_newLruGarbageCollector(rr,er){return new __PRIVATE_LruGarbageCollectorImpl(rr,er)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(er=>er.toString(),(er,tr)=>er.isEqual(tr)),this.changesApplied=!1}addEntry(er){this.assertNotApplied(),this.changes.set(er.key,er)}removeEntry(er,tr){this.assertNotApplied(),this.changes.set(er,MutableDocument.newInvalidDocument(er).setReadTime(tr))}getEntry(er,tr){this.assertNotApplied();const ir=this.changes.get(tr);return ir!==void 0?PersistencePromise.resolve(ir):this.getFromCache(er,tr)}getEntries(er,tr){return this.getAllFromCache(er,tr)}apply(er){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(er)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(er,tr){this.overlayedDocument=er,this.mutatedFields=tr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(er,tr,ir,nr){this.remoteDocumentCache=er,this.mutationQueue=tr,this.documentOverlayCache=ir,this.indexManager=nr}getDocument(er,tr){let ir=null;return this.documentOverlayCache.getOverlay(er,tr).next(nr=>(ir=nr,this.remoteDocumentCache.getEntry(er,tr))).next(nr=>(ir!==null&&__PRIVATE_mutationApplyToLocalView(ir.mutation,nr,FieldMask.empty(),Timestamp.now()),nr))}getDocuments(er,tr){return this.remoteDocumentCache.getEntries(er,tr).next(ir=>this.getLocalViewOfDocuments(er,ir,__PRIVATE_documentKeySet()).next(()=>ir))}getLocalViewOfDocuments(er,tr,ir=__PRIVATE_documentKeySet()){const nr=__PRIVATE_newOverlayMap();return this.populateOverlays(er,nr,tr).next(()=>this.computeViews(er,tr,nr,ir).next(sr=>{let ar=documentMap();return sr.forEach((or,lr)=>{ar=ar.insert(or,lr.overlayedDocument)}),ar}))}getOverlayedDocuments(er,tr){const ir=__PRIVATE_newOverlayMap();return this.populateOverlays(er,ir,tr).next(()=>this.computeViews(er,tr,ir,__PRIVATE_documentKeySet()))}populateOverlays(er,tr,ir){const nr=[];return ir.forEach(sr=>{tr.has(sr)||nr.push(sr)}),this.documentOverlayCache.getOverlays(er,nr).next(sr=>{sr.forEach((ar,or)=>{tr.set(ar,or)})})}computeViews(er,tr,ir,nr){let sr=__PRIVATE_mutableDocumentMap();const ar=__PRIVATE_newDocumentKeyMap(),or=function(){return __PRIVATE_newDocumentKeyMap()}();return tr.forEach((lr,cr)=>{const ur=ir.get(cr.key);nr.has(cr.key)&&(ur===void 0||ur.mutation instanceof __PRIVATE_PatchMutation)?sr=sr.insert(cr.key,cr):ur!==void 0?(ar.set(cr.key,ur.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(ur.mutation,cr,ur.mutation.getFieldMask(),Timestamp.now())):ar.set(cr.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(er,sr).next(lr=>(lr.forEach((cr,ur)=>ar.set(cr,ur)),tr.forEach((cr,ur)=>{var hr;return or.set(cr,new OverlayedDocument(ur,(hr=ar.get(cr))!==null&&hr!==void 0?hr:null))}),or))}recalculateAndSaveOverlays(er,tr){const ir=__PRIVATE_newDocumentKeyMap();let nr=new SortedMap((ar,or)=>ar-or),sr=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(er,tr).next(ar=>{for(const or of ar)or.keys().forEach(lr=>{const cr=tr.get(lr);if(cr===null)return;let ur=ir.get(lr)||FieldMask.empty();ur=or.applyToLocalView(cr,ur),ir.set(lr,ur);const hr=(nr.get(or.batchId)||__PRIVATE_documentKeySet()).add(lr);nr=nr.insert(or.batchId,hr)})}).next(()=>{const ar=[],or=nr.getReverseIterator();for(;or.hasNext();){const lr=or.getNext(),cr=lr.key,ur=lr.value,hr=__PRIVATE_newMutationMap();ur.forEach(dr=>{if(!sr.has(dr)){const gr=__PRIVATE_calculateOverlayMutation(tr.get(dr),ir.get(dr));gr!==null&&hr.set(dr,gr),sr=sr.add(dr)}}),ar.push(this.documentOverlayCache.saveOverlays(er,cr,hr))}return PersistencePromise.waitFor(ar)}).next(()=>ir)}recalculateAndSaveOverlaysForDocumentKeys(er,tr){return this.remoteDocumentCache.getEntries(er,tr).next(ir=>this.recalculateAndSaveOverlays(er,ir))}getDocumentsMatchingQuery(er,tr,ir,nr){return function(ar){return DocumentKey.isDocumentKey(ar.path)&&ar.collectionGroup===null&&ar.filters.length===0}(tr)?this.getDocumentsMatchingDocumentQuery(er,tr.path):__PRIVATE_isCollectionGroupQuery(tr)?this.getDocumentsMatchingCollectionGroupQuery(er,tr,ir,nr):this.getDocumentsMatchingCollectionQuery(er,tr,ir,nr)}getNextDocuments(er,tr,ir,nr){return this.remoteDocumentCache.getAllFromCollectionGroup(er,tr,ir,nr).next(sr=>{const ar=nr-sr.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(er,tr,ir.largestBatchId,nr-sr.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let or=N$1,lr=sr;return ar.next(cr=>PersistencePromise.forEach(cr,(ur,hr)=>(or<hr.largestBatchId&&(or=hr.largestBatchId),sr.get(ur)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(er,ur).next(dr=>{lr=lr.insert(ur,dr)}))).next(()=>this.populateOverlays(er,cr,sr)).next(()=>this.computeViews(er,lr,cr,__PRIVATE_documentKeySet())).next(ur=>({batchId:or,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ur)})))})}getDocumentsMatchingDocumentQuery(er,tr){return this.getDocument(er,new DocumentKey(tr)).next(ir=>{let nr=documentMap();return ir.isFoundDocument()&&(nr=nr.insert(ir.key,ir)),nr})}getDocumentsMatchingCollectionGroupQuery(er,tr,ir,nr){const sr=tr.collectionGroup;let ar=documentMap();return this.indexManager.getCollectionParents(er,sr).next(or=>PersistencePromise.forEach(or,lr=>{const cr=function(hr,dr){return new __PRIVATE_QueryImpl(dr,null,hr.explicitOrderBy.slice(),hr.filters.slice(),hr.limit,hr.limitType,hr.startAt,hr.endAt)}(tr,lr.child(sr));return this.getDocumentsMatchingCollectionQuery(er,cr,ir,nr).next(ur=>{ur.forEach((hr,dr)=>{ar=ar.insert(hr,dr)})})}).next(()=>ar))}getDocumentsMatchingCollectionQuery(er,tr,ir,nr){let sr;return this.documentOverlayCache.getOverlaysForCollection(er,tr.path,ir.largestBatchId).next(ar=>(sr=ar,this.remoteDocumentCache.getDocumentsMatchingQuery(er,tr,ir,sr,nr))).next(ar=>{sr.forEach((lr,cr)=>{const ur=cr.getKey();ar.get(ur)===null&&(ar=ar.insert(ur,MutableDocument.newInvalidDocument(ur)))});let or=documentMap();return ar.forEach((lr,cr)=>{const ur=sr.get(lr);ur!==void 0&&__PRIVATE_mutationApplyToLocalView(ur.mutation,cr,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(tr,cr)&&(or=or.insert(lr,cr))}),or})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(er){this.serializer=er,this.dr=new Map,this.Ar=new Map}getBundleMetadata(er,tr){return PersistencePromise.resolve(this.dr.get(tr))}saveBundleMetadata(er,tr){return this.dr.set(tr.id,function(nr){return{id:nr.id,version:nr.version,createTime:__PRIVATE_fromVersion(nr.createTime)}}(tr)),PersistencePromise.resolve()}getNamedQuery(er,tr){return PersistencePromise.resolve(this.Ar.get(tr))}saveNamedQuery(er,tr){return this.Ar.set(tr.name,function(nr){return{name:nr.name,query:__PRIVATE_fromBundledQuery(nr.bundledQuery),readTime:__PRIVATE_fromVersion(nr.readTime)}}(tr)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Rr=new Map}getOverlay(er,tr){return PersistencePromise.resolve(this.overlays.get(tr))}getOverlays(er,tr){const ir=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(tr,nr=>this.getOverlay(er,nr).next(sr=>{sr!==null&&ir.set(nr,sr)})).next(()=>ir)}saveOverlays(er,tr,ir){return ir.forEach((nr,sr)=>{this.Et(er,tr,sr)}),PersistencePromise.resolve()}removeOverlaysForBatchId(er,tr,ir){const nr=this.Rr.get(ir);return nr!==void 0&&(nr.forEach(sr=>this.overlays=this.overlays.remove(sr)),this.Rr.delete(ir)),PersistencePromise.resolve()}getOverlaysForCollection(er,tr,ir){const nr=__PRIVATE_newOverlayMap(),sr=tr.length+1,ar=new DocumentKey(tr.child("")),or=this.overlays.getIteratorFrom(ar);for(;or.hasNext();){const lr=or.getNext().value,cr=lr.getKey();if(!tr.isPrefixOf(cr.path))break;cr.path.length===sr&&lr.largestBatchId>ir&&nr.set(lr.getKey(),lr)}return PersistencePromise.resolve(nr)}getOverlaysForCollectionGroup(er,tr,ir,nr){let sr=new SortedMap((cr,ur)=>cr-ur);const ar=this.overlays.getIterator();for(;ar.hasNext();){const cr=ar.getNext().value;if(cr.getKey().getCollectionGroup()===tr&&cr.largestBatchId>ir){let ur=sr.get(cr.largestBatchId);ur===null&&(ur=__PRIVATE_newOverlayMap(),sr=sr.insert(cr.largestBatchId,ur)),ur.set(cr.getKey(),cr)}}const or=__PRIVATE_newOverlayMap(),lr=sr.getIterator();for(;lr.hasNext()&&(lr.getNext().value.forEach((cr,ur)=>or.set(cr,ur)),!(or.size()>=nr)););return PersistencePromise.resolve(or)}Et(er,tr,ir){const nr=this.overlays.get(ir.key);if(nr!==null){const ar=this.Rr.get(nr.largestBatchId).delete(ir.key);this.Rr.set(nr.largestBatchId,ar)}this.overlays=this.overlays.insert(ir.key,new Overlay(tr,ir));let sr=this.Rr.get(tr);sr===void 0&&(sr=__PRIVATE_documentKeySet(),this.Rr.set(tr,sr)),this.Rr.set(tr,sr.add(ir.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(er){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(er,tr){return this.sessionToken=tr,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Vr=new SortedSet(__PRIVATE_DocReference.mr),this.gr=new SortedSet(__PRIVATE_DocReference.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(er,tr){const ir=new __PRIVATE_DocReference(er,tr);this.Vr=this.Vr.add(ir),this.gr=this.gr.add(ir)}yr(er,tr){er.forEach(ir=>this.addReference(ir,tr))}removeReference(er,tr){this.wr(new __PRIVATE_DocReference(er,tr))}Sr(er,tr){er.forEach(ir=>this.removeReference(ir,tr))}br(er){const tr=new DocumentKey(new ResourcePath([])),ir=new __PRIVATE_DocReference(tr,er),nr=new __PRIVATE_DocReference(tr,er+1),sr=[];return this.gr.forEachInRange([ir,nr],ar=>{this.wr(ar),sr.push(ar.key)}),sr}Dr(){this.Vr.forEach(er=>this.wr(er))}wr(er){this.Vr=this.Vr.delete(er),this.gr=this.gr.delete(er)}vr(er){const tr=new DocumentKey(new ResourcePath([])),ir=new __PRIVATE_DocReference(tr,er),nr=new __PRIVATE_DocReference(tr,er+1);let sr=__PRIVATE_documentKeySet();return this.gr.forEachInRange([ir,nr],ar=>{sr=sr.add(ar.key)}),sr}containsKey(er){const tr=new __PRIVATE_DocReference(er,0),ir=this.Vr.firstAfterOrEqual(tr);return ir!==null&&er.isEqual(ir.key)}}class __PRIVATE_DocReference{constructor(er,tr){this.key=er,this.Cr=tr}static mr(er,tr){return DocumentKey.comparator(er.key,tr.key)||__PRIVATE_primitiveComparator(er.Cr,tr.Cr)}static pr(er,tr){return __PRIVATE_primitiveComparator(er.Cr,tr.Cr)||DocumentKey.comparator(er.key,tr.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(er,tr){this.indexManager=er,this.referenceDelegate=tr,this.mutationQueue=[],this.Fr=1,this.Mr=new SortedSet(__PRIVATE_DocReference.mr)}checkEmpty(er){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(er,tr,ir,nr){const sr=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const ar=new MutationBatch(sr,tr,ir,nr);this.mutationQueue.push(ar);for(const or of nr)this.Mr=this.Mr.add(new __PRIVATE_DocReference(or.key,sr)),this.indexManager.addToCollectionParentIndex(er,or.key.path.popLast());return PersistencePromise.resolve(ar)}lookupMutationBatch(er,tr){return PersistencePromise.resolve(this.Or(tr))}getNextMutationBatchAfterBatchId(er,tr){const ir=tr+1,nr=this.Nr(ir),sr=nr<0?0:nr;return PersistencePromise.resolve(this.mutationQueue.length>sr?this.mutationQueue[sr]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?Q$1:this.Fr-1)}getAllMutationBatches(er){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(er,tr){const ir=new __PRIVATE_DocReference(tr,0),nr=new __PRIVATE_DocReference(tr,Number.POSITIVE_INFINITY),sr=[];return this.Mr.forEachInRange([ir,nr],ar=>{const or=this.Or(ar.Cr);sr.push(or)}),PersistencePromise.resolve(sr)}getAllMutationBatchesAffectingDocumentKeys(er,tr){let ir=new SortedSet(__PRIVATE_primitiveComparator);return tr.forEach(nr=>{const sr=new __PRIVATE_DocReference(nr,0),ar=new __PRIVATE_DocReference(nr,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([sr,ar],or=>{ir=ir.add(or.Cr)})}),PersistencePromise.resolve(this.Br(ir))}getAllMutationBatchesAffectingQuery(er,tr){const ir=tr.path,nr=ir.length+1;let sr=ir;DocumentKey.isDocumentKey(sr)||(sr=sr.child(""));const ar=new __PRIVATE_DocReference(new DocumentKey(sr),0);let or=new SortedSet(__PRIVATE_primitiveComparator);return this.Mr.forEachWhile(lr=>{const cr=lr.key.path;return!!ir.isPrefixOf(cr)&&(cr.length===nr&&(or=or.add(lr.Cr)),!0)},ar),PersistencePromise.resolve(this.Br(or))}Br(er){const tr=[];return er.forEach(ir=>{const nr=this.Or(ir);nr!==null&&tr.push(nr)}),tr}removeMutationBatch(er,tr){__PRIVATE_hardAssert(this.Lr(tr.batchId,"removed")===0),this.mutationQueue.shift();let ir=this.Mr;return PersistencePromise.forEach(tr.mutations,nr=>{const sr=new __PRIVATE_DocReference(nr.key,tr.batchId);return ir=ir.delete(sr),this.referenceDelegate.markPotentiallyOrphaned(er,nr.key)}).next(()=>{this.Mr=ir})}qn(er){}containsKey(er,tr){const ir=new __PRIVATE_DocReference(tr,0),nr=this.Mr.firstAfterOrEqual(ir);return PersistencePromise.resolve(tr.isEqual(nr&&nr.key))}performConsistencyCheck(er){return this.mutationQueue.length,PersistencePromise.resolve()}Lr(er,tr){return this.Nr(er)}Nr(er){return this.mutationQueue.length===0?0:er-this.mutationQueue[0].batchId}Or(er){const tr=this.Nr(er);return tr<0||tr>=this.mutationQueue.length?null:this.mutationQueue[tr]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(er){this.kr=er,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(er){this.indexManager=er}addEntry(er,tr){const ir=tr.key,nr=this.docs.get(ir),sr=nr?nr.size:0,ar=this.kr(tr);return this.docs=this.docs.insert(ir,{document:tr.mutableCopy(),size:ar}),this.size+=ar-sr,this.indexManager.addToCollectionParentIndex(er,ir.path.popLast())}removeEntry(er){const tr=this.docs.get(er);tr&&(this.docs=this.docs.remove(er),this.size-=tr.size)}getEntry(er,tr){const ir=this.docs.get(tr);return PersistencePromise.resolve(ir?ir.document.mutableCopy():MutableDocument.newInvalidDocument(tr))}getEntries(er,tr){let ir=__PRIVATE_mutableDocumentMap();return tr.forEach(nr=>{const sr=this.docs.get(nr);ir=ir.insert(nr,sr?sr.document.mutableCopy():MutableDocument.newInvalidDocument(nr))}),PersistencePromise.resolve(ir)}getDocumentsMatchingQuery(er,tr,ir,nr){let sr=__PRIVATE_mutableDocumentMap();const ar=tr.path,or=new DocumentKey(ar.child("__id-9223372036854775808__")),lr=this.docs.getIteratorFrom(or);for(;lr.hasNext();){const{key:cr,value:{document:ur}}=lr.getNext();if(!ar.isPrefixOf(cr.path))break;cr.path.length>ar.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(ur),ir)<=0||(nr.has(ur.key)||__PRIVATE_queryMatches(tr,ur))&&(sr=sr.insert(ur.key,ur.mutableCopy()))}return PersistencePromise.resolve(sr)}getAllFromCollectionGroup(er,tr,ir,nr){fail()}qr(er,tr){return PersistencePromise.forEach(this.docs,ir=>tr(ir))}newChangeBuffer(er){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(er){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(er){super(),this.Ir=er}applyChanges(er){const tr=[];return this.changes.forEach((ir,nr)=>{nr.isValidDocument()?tr.push(this.Ir.addEntry(er,nr)):this.Ir.removeEntry(ir)}),PersistencePromise.waitFor(tr)}getFromCache(er,tr){return this.Ir.getEntry(er,tr)}getAllFromCache(er,tr){return this.Ir.getEntries(er,tr)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(er){this.persistence=er,this.Qr=new ObjectMap(tr=>__PRIVATE_canonifyTarget(tr),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.$r=0,this.Ur=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Kr=__PRIVATE_TargetIdGenerator.Un()}forEachTarget(er,tr){return this.Qr.forEach((ir,nr)=>tr(nr)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(er){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(er){return PersistencePromise.resolve(this.$r)}allocateTargetId(er){return this.highestTargetId=this.Kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(er,tr,ir){return ir&&(this.lastRemoteSnapshotVersion=ir),tr>this.$r&&(this.$r=tr),PersistencePromise.resolve()}zn(er){this.Qr.set(er.target,er);const tr=er.targetId;tr>this.highestTargetId&&(this.Kr=new __PRIVATE_TargetIdGenerator(tr),this.highestTargetId=tr),er.sequenceNumber>this.$r&&(this.$r=er.sequenceNumber)}addTargetData(er,tr){return this.zn(tr),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(er,tr){return this.zn(tr),PersistencePromise.resolve()}removeTargetData(er,tr){return this.Qr.delete(tr.target),this.Ur.br(tr.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(er,tr,ir){let nr=0;const sr=[];return this.Qr.forEach((ar,or)=>{or.sequenceNumber<=tr&&ir.get(or.targetId)===null&&(this.Qr.delete(ar),sr.push(this.removeMatchingKeysForTargetId(er,or.targetId)),nr++)}),PersistencePromise.waitFor(sr).next(()=>nr)}getTargetCount(er){return PersistencePromise.resolve(this.targetCount)}getTargetData(er,tr){const ir=this.Qr.get(tr)||null;return PersistencePromise.resolve(ir)}addMatchingKeys(er,tr,ir){return this.Ur.yr(tr,ir),PersistencePromise.resolve()}removeMatchingKeys(er,tr,ir){this.Ur.Sr(tr,ir);const nr=this.persistence.referenceDelegate,sr=[];return nr&&tr.forEach(ar=>{sr.push(nr.markPotentiallyOrphaned(er,ar))}),PersistencePromise.waitFor(sr)}removeMatchingKeysForTargetId(er,tr){return this.Ur.br(tr),PersistencePromise.resolve()}getMatchingKeysForTargetId(er,tr){const ir=this.Ur.vr(tr);return PersistencePromise.resolve(ir)}containsKey(er,tr){return PersistencePromise.resolve(this.Ur.containsKey(tr))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(er,tr){this.Wr={},this.overlays={},this.Gr=new __PRIVATE_ListenSequence(0),this.zr=!1,this.zr=!0,this.jr=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=er(this),this.Hr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(nr){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(nr)}(ir=>this.referenceDelegate.Jr(ir)),this.serializer=new __PRIVATE_LocalSerializer(tr),this.Yr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(er){return this.indexManager}getDocumentOverlayCache(er){let tr=this.overlays[er.toKey()];return tr||(tr=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[er.toKey()]=tr),tr}getMutationQueue(er,tr){let ir=this.Wr[er.toKey()];return ir||(ir=new __PRIVATE_MemoryMutationQueue(tr,this.referenceDelegate),this.Wr[er.toKey()]=ir),ir}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(er,tr,ir){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",er);const nr=new __PRIVATE_MemoryTransaction(this.Gr.next());return this.referenceDelegate.Zr(),ir(nr).next(sr=>this.referenceDelegate.Xr(nr).next(()=>sr)).toPromise().then(sr=>(nr.raiseOnCommittedEvent(),sr))}ei(er,tr){return PersistencePromise.or(Object.values(this.Wr).map(ir=>()=>ir.containsKey(er,tr)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(er){super(),this.currentSequenceNumber=er}}class __PRIVATE_MemoryEagerDelegate{constructor(er){this.persistence=er,this.ti=new __PRIVATE_ReferenceSet,this.ni=null}static ri(er){return new __PRIVATE_MemoryEagerDelegate(er)}get ii(){if(this.ni)return this.ni;throw fail()}addReference(er,tr,ir){return this.ti.addReference(ir,tr),this.ii.delete(ir.toString()),PersistencePromise.resolve()}removeReference(er,tr,ir){return this.ti.removeReference(ir,tr),this.ii.add(ir.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(er,tr){return this.ii.add(tr.toString()),PersistencePromise.resolve()}removeTarget(er,tr){this.ti.br(tr.targetId).forEach(nr=>this.ii.add(nr.toString()));const ir=this.persistence.getTargetCache();return ir.getMatchingKeysForTargetId(er,tr.targetId).next(nr=>{nr.forEach(sr=>this.ii.add(sr.toString()))}).next(()=>ir.removeTargetData(er,tr))}Zr(){this.ni=new Set}Xr(er){const tr=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.ii,ir=>{const nr=DocumentKey.fromPath(ir);return this.si(er,nr).next(sr=>{sr||tr.removeEntry(nr,SnapshotVersion.min())})}).next(()=>(this.ni=null,tr.apply(er)))}updateLimboDocument(er,tr){return this.si(er,tr).next(ir=>{ir?this.ii.delete(tr.toString()):this.ii.add(tr.toString())})}Jr(er){return 0}si(er,tr){return PersistencePromise.or([()=>PersistencePromise.resolve(this.ti.containsKey(tr)),()=>this.persistence.getTargetCache().containsKey(er,tr),()=>this.persistence.ei(er,tr)])}}class __PRIVATE_MemoryLruDelegate{constructor(er,tr){this.persistence=er,this.oi=new ObjectMap(ir=>__PRIVATE_encodeResourcePath(ir.path),(ir,nr)=>ir.isEqual(nr)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,tr)}static ri(er,tr){return new __PRIVATE_MemoryLruDelegate(er,tr)}Zr(){}Xr(er){return PersistencePromise.resolve()}forEachTarget(er,tr){return this.persistence.getTargetCache().forEachTarget(er,tr)}nr(er){const tr=this.sr(er);return this.persistence.getTargetCache().getTargetCount(er).next(ir=>tr.next(nr=>ir+nr))}sr(er){let tr=0;return this.rr(er,ir=>{tr++}).next(()=>tr)}rr(er,tr){return PersistencePromise.forEach(this.oi,(ir,nr)=>this.ar(er,ir,nr).next(sr=>sr?PersistencePromise.resolve():tr(nr)))}removeTargets(er,tr,ir){return this.persistence.getTargetCache().removeTargets(er,tr,ir)}removeOrphanedDocuments(er,tr){let ir=0;const nr=this.persistence.getRemoteDocumentCache(),sr=nr.newChangeBuffer();return nr.qr(er,ar=>this.ar(er,ar,tr).next(or=>{or||(ir++,sr.removeEntry(ar,SnapshotVersion.min()))})).next(()=>sr.apply(er)).next(()=>ir)}markPotentiallyOrphaned(er,tr){return this.oi.set(tr,er.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(er,tr){const ir=tr.withSequenceNumber(er.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(er,ir)}addReference(er,tr,ir){return this.oi.set(ir,er.currentSequenceNumber),PersistencePromise.resolve()}removeReference(er,tr,ir){return this.oi.set(ir,er.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(er,tr){return this.oi.set(tr,er.currentSequenceNumber),PersistencePromise.resolve()}Jr(er){let tr=er.key.toString().length;return er.isFoundDocument()&&(tr+=__PRIVATE_estimateByteSize(er.data.value)),tr}ar(er,tr,ir){return PersistencePromise.or([()=>this.persistence.ei(er,tr),()=>this.persistence.getTargetCache().containsKey(er,tr),()=>{const nr=this.oi.get(tr);return PersistencePromise.resolve(nr!==void 0&&nr>ir)}])}getCacheSize(er){return this.persistence.getRemoteDocumentCache().getSize(er)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(er,tr,ir,nr){this.targetId=er,this.fromCache=tr,this.Hi=ir,this.Ji=nr}static Yi(er,tr){let ir=__PRIVATE_documentKeySet(),nr=__PRIVATE_documentKeySet();for(const sr of tr.docChanges)switch(sr.type){case 0:ir=ir.add(sr.doc.key);break;case 1:nr=nr.add(sr.doc.key)}return new __PRIVATE_LocalViewChanges(er,tr.fromCache,ir,nr)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(er){this._documentReadCount+=er}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(er,tr){this.ns=er,this.indexManager=tr,this.Zi=!0}getDocumentsMatchingQuery(er,tr,ir,nr){const sr={result:null};return this.rs(er,tr).next(ar=>{sr.result=ar}).next(()=>{if(!sr.result)return this.ss(er,tr,nr,ir).next(ar=>{sr.result=ar})}).next(()=>{if(sr.result)return;const ar=new QueryContext;return this._s(er,tr,ar).next(or=>{if(sr.result=or,this.Xi)return this.us(er,tr,ar,or.size)})}).next(()=>sr.result)}us(er,tr,ir,nr){return ir.documentReadCount<this.es?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(tr),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(tr),"scans",ir.documentReadCount,"local documents and returns",nr,"documents as results."),ir.documentReadCount>this.ts*nr?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(tr),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(er,__PRIVATE_queryToTarget(tr))):PersistencePromise.resolve())}rs(er,tr){if(__PRIVATE_queryMatchesAllDocuments(tr))return PersistencePromise.resolve(null);let ir=__PRIVATE_queryToTarget(tr);return this.indexManager.getIndexType(er,ir).next(nr=>nr===0?null:(tr.limit!==null&&nr===1&&(tr=__PRIVATE_queryWithLimit(tr,null,"F"),ir=__PRIVATE_queryToTarget(tr)),this.indexManager.getDocumentsMatchingTarget(er,ir).next(sr=>{const ar=__PRIVATE_documentKeySet(...sr);return this.ns.getDocuments(er,ar).next(or=>this.indexManager.getMinOffset(er,ir).next(lr=>{const cr=this.cs(tr,or);return this.ls(tr,cr,ar,lr.readTime)?this.rs(er,__PRIVATE_queryWithLimit(tr,null,"F")):this.hs(er,cr,tr,lr)}))})))}ss(er,tr,ir,nr){return __PRIVATE_queryMatchesAllDocuments(tr)||nr.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.ns.getDocuments(er,ir).next(sr=>{const ar=this.cs(tr,sr);return this.ls(tr,ar,ir,nr)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",nr.toString(),__PRIVATE_stringifyQuery(tr)),this.hs(er,ar,tr,__PRIVATE_newIndexOffsetSuccessorFromReadTime(nr,N$1)).next(or=>or))})}cs(er,tr){let ir=new SortedSet(__PRIVATE_newQueryComparator(er));return tr.forEach((nr,sr)=>{__PRIVATE_queryMatches(er,sr)&&(ir=ir.add(sr))}),ir}ls(er,tr,ir,nr){if(er.limit===null)return!1;if(ir.size!==tr.size)return!0;const sr=er.limitType==="F"?tr.last():tr.first();return!!sr&&(sr.hasPendingWrites||sr.version.compareTo(nr)>0)}_s(er,tr,ir){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(tr)),this.ns.getDocumentsMatchingQuery(er,tr,IndexOffset.min(),ir)}hs(er,tr,ir,nr){return this.ns.getDocumentsMatchingQuery(er,ir,nr).next(sr=>(tr.forEach(ar=>{sr=sr.insert(ar.key,ar)}),sr))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot$1="LocalStore",Nt$1=3e8;class __PRIVATE_LocalStoreImpl{constructor(er,tr,ir,nr){this.persistence=er,this.Ps=tr,this.serializer=nr,this.Ts=new SortedMap(__PRIVATE_primitiveComparator),this.Is=new ObjectMap(sr=>__PRIVATE_canonifyTarget(sr),__PRIVATE_targetEquals),this.Es=new Map,this.ds=er.getRemoteDocumentCache(),this.Hr=er.getTargetCache(),this.Yr=er.getBundleCache(),this.As(ir)}As(er){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(er),this.indexManager=this.persistence.getIndexManager(er),this.mutationQueue=this.persistence.getMutationQueue(er,this.indexManager),this.localDocuments=new LocalDocumentsView(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(er){return this.persistence.runTransaction("Collect garbage","readwrite-primary",tr=>er.collect(tr,this.Ts))}}function __PRIVATE_newLocalStore(rr,er,tr,ir){return new __PRIVATE_LocalStoreImpl(rr,er,tr,ir)}async function __PRIVATE_localStoreHandleUserChange(rr,er){const tr=__PRIVATE_debugCast(rr);return await tr.persistence.runTransaction("Handle user change","readonly",ir=>{let nr;return tr.mutationQueue.getAllMutationBatches(ir).next(sr=>(nr=sr,tr.As(er),tr.mutationQueue.getAllMutationBatches(ir))).next(sr=>{const ar=[],or=[];let lr=__PRIVATE_documentKeySet();for(const cr of nr){ar.push(cr.batchId);for(const ur of cr.mutations)lr=lr.add(ur.key)}for(const cr of sr){or.push(cr.batchId);for(const ur of cr.mutations)lr=lr.add(ur.key)}return tr.localDocuments.getDocuments(ir,lr).next(cr=>({Rs:cr,removedBatchIds:ar,addedBatchIds:or}))})})}function __PRIVATE_localStoreAcknowledgeBatch(rr,er){const tr=__PRIVATE_debugCast(rr);return tr.persistence.runTransaction("Acknowledge batch","readwrite-primary",ir=>{const nr=er.batch.keys(),sr=tr.ds.newChangeBuffer({trackRemovals:!0});return function(or,lr,cr,ur){const hr=cr.batch,dr=hr.keys();let gr=PersistencePromise.resolve();return dr.forEach(pr=>{gr=gr.next(()=>ur.getEntry(lr,pr)).next(mr=>{const vr=cr.docVersions.get(pr);__PRIVATE_hardAssert(vr!==null),mr.version.compareTo(vr)<0&&(hr.applyToRemoteDocument(mr,cr),mr.isValidDocument()&&(mr.setReadTime(cr.commitVersion),ur.addEntry(mr)))})}),gr.next(()=>or.mutationQueue.removeMutationBatch(lr,hr))}(tr,ir,er,sr).next(()=>sr.apply(ir)).next(()=>tr.mutationQueue.performConsistencyCheck(ir)).next(()=>tr.documentOverlayCache.removeOverlaysForBatchId(ir,nr,er.batch.batchId)).next(()=>tr.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ir,function(or){let lr=__PRIVATE_documentKeySet();for(let cr=0;cr<or.mutationResults.length;++cr)or.mutationResults[cr].transformResults.length>0&&(lr=lr.add(or.batch.mutations[cr].key));return lr}(er))).next(()=>tr.localDocuments.getDocuments(ir,nr))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(rr){const er=__PRIVATE_debugCast(rr);return er.persistence.runTransaction("Get last remote snapshot version","readonly",tr=>er.Hr.getLastRemoteSnapshotVersion(tr))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(rr,er){const tr=__PRIVATE_debugCast(rr),ir=er.snapshotVersion;let nr=tr.Ts;return tr.persistence.runTransaction("Apply remote event","readwrite-primary",sr=>{const ar=tr.ds.newChangeBuffer({trackRemovals:!0});nr=tr.Ts;const or=[];er.targetChanges.forEach((ur,hr)=>{const dr=nr.get(hr);if(!dr)return;or.push(tr.Hr.removeMatchingKeys(sr,ur.removedDocuments,hr).next(()=>tr.Hr.addMatchingKeys(sr,ur.addedDocuments,hr)));let gr=dr.withSequenceNumber(sr.currentSequenceNumber);er.targetMismatches.get(hr)!==null?gr=gr.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):ur.resumeToken.approximateByteSize()>0&&(gr=gr.withResumeToken(ur.resumeToken,ir)),nr=nr.insert(hr,gr),function(mr,vr,yr){return mr.resumeToken.approximateByteSize()===0||vr.snapshotVersion.toMicroseconds()-mr.snapshotVersion.toMicroseconds()>=Nt$1?!0:yr.addedDocuments.size+yr.modifiedDocuments.size+yr.removedDocuments.size>0}(dr,gr,ur)&&or.push(tr.Hr.updateTargetData(sr,gr))});let lr=__PRIVATE_mutableDocumentMap(),cr=__PRIVATE_documentKeySet();if(er.documentUpdates.forEach(ur=>{er.resolvedLimboDocuments.has(ur)&&or.push(tr.persistence.referenceDelegate.updateLimboDocument(sr,ur))}),or.push(__PRIVATE_populateDocumentChangeBuffer(sr,ar,er.documentUpdates).next(ur=>{lr=ur.Vs,cr=ur.fs})),!ir.isEqual(SnapshotVersion.min())){const ur=tr.Hr.getLastRemoteSnapshotVersion(sr).next(hr=>tr.Hr.setTargetsMetadata(sr,sr.currentSequenceNumber,ir));or.push(ur)}return PersistencePromise.waitFor(or).next(()=>ar.apply(sr)).next(()=>tr.localDocuments.getLocalViewOfDocuments(sr,lr,cr)).next(()=>lr)}).then(sr=>(tr.Ts=nr,sr))}function __PRIVATE_populateDocumentChangeBuffer(rr,er,tr){let ir=__PRIVATE_documentKeySet(),nr=__PRIVATE_documentKeySet();return tr.forEach(sr=>ir=ir.add(sr)),er.getEntries(rr,ir).next(sr=>{let ar=__PRIVATE_mutableDocumentMap();return tr.forEach((or,lr)=>{const cr=sr.get(or);lr.isFoundDocument()!==cr.isFoundDocument()&&(nr=nr.add(or)),lr.isNoDocument()&&lr.version.isEqual(SnapshotVersion.min())?(er.removeEntry(or,lr.readTime),ar=ar.insert(or,lr)):!cr.isValidDocument()||lr.version.compareTo(cr.version)>0||lr.version.compareTo(cr.version)===0&&cr.hasPendingWrites?(er.addEntry(lr),ar=ar.insert(or,lr)):__PRIVATE_logDebug(Ot$1,"Ignoring outdated watch update for ",or,". Current version:",cr.version," Watch version:",lr.version)}),{Vs:ar,fs:nr}})}function __PRIVATE_localStoreGetNextMutationBatch(rr,er){const tr=__PRIVATE_debugCast(rr);return tr.persistence.runTransaction("Get next mutation batch","readonly",ir=>(er===void 0&&(er=Q$1),tr.mutationQueue.getNextMutationBatchAfterBatchId(ir,er)))}function __PRIVATE_localStoreAllocateTarget(rr,er){const tr=__PRIVATE_debugCast(rr);return tr.persistence.runTransaction("Allocate target","readwrite",ir=>{let nr;return tr.Hr.getTargetData(ir,er).next(sr=>sr?(nr=sr,PersistencePromise.resolve(nr)):tr.Hr.allocateTargetId(ir).next(ar=>(nr=new TargetData(er,ar,"TargetPurposeListen",ir.currentSequenceNumber),tr.Hr.addTargetData(ir,nr).next(()=>nr))))}).then(ir=>{const nr=tr.Ts.get(ir.targetId);return(nr===null||ir.snapshotVersion.compareTo(nr.snapshotVersion)>0)&&(tr.Ts=tr.Ts.insert(ir.targetId,ir),tr.Is.set(er,ir.targetId)),ir})}async function __PRIVATE_localStoreReleaseTarget(rr,er,tr){const ir=__PRIVATE_debugCast(rr),nr=ir.Ts.get(er),sr=tr?"readwrite":"readwrite-primary";try{tr||await ir.persistence.runTransaction("Release target",sr,ar=>ir.persistence.referenceDelegate.removeTarget(ar,nr))}catch(ar){if(!__PRIVATE_isIndexedDbTransactionError(ar))throw ar;__PRIVATE_logDebug(Ot$1,`Failed to update sequence numbers for target ${er}: ${ar}`)}ir.Ts=ir.Ts.remove(er),ir.Is.delete(nr.target)}function __PRIVATE_localStoreExecuteQuery(rr,er,tr){const ir=__PRIVATE_debugCast(rr);let nr=SnapshotVersion.min(),sr=__PRIVATE_documentKeySet();return ir.persistence.runTransaction("Execute query","readwrite",ar=>function(lr,cr,ur){const hr=__PRIVATE_debugCast(lr),dr=hr.Is.get(ur);return dr!==void 0?PersistencePromise.resolve(hr.Ts.get(dr)):hr.Hr.getTargetData(cr,ur)}(ir,ar,__PRIVATE_queryToTarget(er)).next(or=>{if(or)return nr=or.lastLimboFreeSnapshotVersion,ir.Hr.getMatchingKeysForTargetId(ar,or.targetId).next(lr=>{sr=lr})}).next(()=>ir.Ps.getDocumentsMatchingQuery(ar,er,tr?nr:SnapshotVersion.min(),tr?sr:__PRIVATE_documentKeySet())).next(or=>(__PRIVATE_setMaxReadTime(ir,__PRIVATE_queryCollectionGroup(er),or),{documents:or,gs:sr})))}function __PRIVATE_setMaxReadTime(rr,er,tr){let ir=rr.Es.get(er)||SnapshotVersion.min();tr.forEach((nr,sr)=>{sr.readTime.compareTo(ir)>0&&(ir=sr.readTime)}),rr.Es.set(er,ir)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}Ds(er){this.activeTargetIds=this.activeTargetIds.add(er)}vs(er){this.activeTargetIds=this.activeTargetIds.delete(er)}bs(){const er={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(er)}}class __PRIVATE_MemorySharedClientState{constructor(){this.ho=new __PRIVATE_LocalClientState,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(er){}updateMutationState(er,tr,ir){}addLocalQueryTarget(er,tr=!0){return tr&&this.ho.Ds(er),this.Po[er]||"not-current"}updateQueryState(er,tr,ir){this.Po[er]=tr}removeLocalQueryTarget(er){this.ho.vs(er)}isLocalQueryTarget(er){return this.ho.activeTargetIds.has(er)}clearQueryState(er){delete this.Po[er]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(er){return this.ho.activeTargetIds.has(er)}start(){return this.ho=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(er,tr,ir){}setOnlineState(er){}shutdown(){}writeSequenceNumber(er){}notifyBundleLoaded(er){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{To(er){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt$1="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(er){this.Vo.push(er)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){__PRIVATE_logDebug(Qt$1,"Network connectivity changed: AVAILABLE");for(const er of this.Vo)er(0)}Ro(){__PRIVATE_logDebug(Qt$1,"Network connectivity changed: UNAVAILABLE");for(const er of this.Vo)er(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t$1=null;function __PRIVATE_generateUniqueDebugId(){return $t$1===null?$t$1=function(){return 268435456+Math.round(2147483648*Math.random())}():$t$1++,"0x"+$t$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut$1="RestConnection",Kt$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get fo(){return!1}constructor(er){this.databaseInfo=er,this.databaseId=er.databaseId;const tr=er.ssl?"https":"http",ir=encodeURIComponent(this.databaseId.projectId),nr=encodeURIComponent(this.databaseId.database);this.po=tr+"://"+er.host,this.yo=`projects/${ir}/databases/${nr}`,this.wo=this.databaseId.database===rt$1?`project_id=${ir}`:`project_id=${ir}&database_id=${nr}`}So(er,tr,ir,nr,sr){const ar=__PRIVATE_generateUniqueDebugId(),or=this.bo(er,tr.toUriEncodedString());__PRIVATE_logDebug(Ut$1,`Sending RPC '${er}' ${ar}:`,or,ir);const lr={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(lr,nr,sr),this.vo(er,or,lr,ir).then(cr=>(__PRIVATE_logDebug(Ut$1,`Received RPC '${er}' ${ar}: `,cr),cr),cr=>{throw __PRIVATE_logWarn(Ut$1,`RPC '${er}' ${ar} failed with error: `,cr,"url: ",or,"request:",ir),cr})}Co(er,tr,ir,nr,sr,ar){return this.So(er,tr,ir,nr,sr)}Do(er,tr,ir){er["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+D$1}(),er["Content-Type"]="text/plain",this.databaseInfo.appId&&(er["X-Firebase-GMPID"]=this.databaseInfo.appId),tr&&tr.headers.forEach((nr,sr)=>er[sr]=nr),ir&&ir.headers.forEach((nr,sr)=>er[sr]=nr)}bo(er,tr){const ir=Kt$1[er];return`${this.po}/v1/${tr}:${ir}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(er){this.Fo=er.Fo,this.Mo=er.Mo}xo(er){this.Oo=er}No(er){this.Bo=er}Lo(er){this.ko=er}onMessage(er){this.qo=er}close(){this.Mo()}send(er){this.Fo(er)}Qo(){this.Oo()}$o(){this.Bo()}Uo(er){this.ko(er)}Ko(er){this.qo(er)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt$2="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(er){super(er),this.forceLongPolling=er.forceLongPolling,this.autoDetectLongPolling=er.autoDetectLongPolling,this.useFetchStreams=er.useFetchStreams,this.longPollingOptions=er.longPollingOptions}vo(er,tr,ir,nr){const sr=__PRIVATE_generateUniqueDebugId();return new Promise((ar,or)=>{const lr=new XhrIo;lr.setWithCredentials(!0),lr.listenOnce(EventType.COMPLETE,()=>{try{switch(lr.getLastErrorCode()){case ErrorCode.NO_ERROR:const ur=lr.getResponseJson();__PRIVATE_logDebug(Wt$2,`XHR for RPC '${er}' ${sr} received:`,JSON.stringify(ur)),ar(ur);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(Wt$2,`RPC '${er}' ${sr} timed out`),or(new FirestoreError(C$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const hr=lr.getStatus();if(__PRIVATE_logDebug(Wt$2,`RPC '${er}' ${sr} failed with status:`,hr,"response text:",lr.getResponseText()),hr>0){let dr=lr.getResponseJson();Array.isArray(dr)&&(dr=dr[0]);const gr=dr==null?void 0:dr.error;if(gr&&gr.status&&gr.message){const pr=function(vr){const yr=vr.toLowerCase().replace(/_/g,"-");return Object.values(C$1).indexOf(yr)>=0?yr:C$1.UNKNOWN}(gr.status);or(new FirestoreError(pr,gr.message))}else or(new FirestoreError(C$1.UNKNOWN,"Server responded with status "+lr.getStatus()))}else or(new FirestoreError(C$1.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(Wt$2,`RPC '${er}' ${sr} completed.`)}});const cr=JSON.stringify(nr);__PRIVATE_logDebug(Wt$2,`RPC '${er}' ${sr} sending request:`,nr),lr.send(tr,"POST",cr,ir,15)})}Wo(er,tr,ir){const nr=__PRIVATE_generateUniqueDebugId(),sr=[this.po,"/","google.firestore.v1.Firestore","/",er,"/channel"],ar=createWebChannelTransport(),or=getStatEventTarget(),lr={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},cr=this.longPollingOptions.timeoutSeconds;cr!==void 0&&(lr.longPollingTimeout=Math.round(1e3*cr)),this.useFetchStreams&&(lr.useFetchStreams=!0),this.Do(lr.initMessageHeaders,tr,ir),lr.encodeInitMessageHeaders=!0;const ur=sr.join("");__PRIVATE_logDebug(Wt$2,`Creating RPC '${er}' stream ${nr}: ${ur}`,lr);const hr=ar.createWebChannel(ur,lr);let dr=!1,gr=!1;const pr=new __PRIVATE_StreamBridge({Fo:vr=>{gr?__PRIVATE_logDebug(Wt$2,`Not sending because RPC '${er}' stream ${nr} is closed:`,vr):(dr||(__PRIVATE_logDebug(Wt$2,`Opening RPC '${er}' stream ${nr} transport.`),hr.open(),dr=!0),__PRIVATE_logDebug(Wt$2,`RPC '${er}' stream ${nr} sending:`,vr),hr.send(vr))},Mo:()=>hr.close()}),mr=(vr,yr,br)=>{vr.listen(yr,wr=>{try{br(wr)}catch(Pr){setTimeout(()=>{throw Pr},0)}})};return mr(hr,WebChannel.EventType.OPEN,()=>{gr||(__PRIVATE_logDebug(Wt$2,`RPC '${er}' stream ${nr} transport opened.`),pr.Qo())}),mr(hr,WebChannel.EventType.CLOSE,()=>{gr||(gr=!0,__PRIVATE_logDebug(Wt$2,`RPC '${er}' stream ${nr} transport closed`),pr.Uo())}),mr(hr,WebChannel.EventType.ERROR,vr=>{gr||(gr=!0,__PRIVATE_logWarn(Wt$2,`RPC '${er}' stream ${nr} transport errored:`,vr),pr.Uo(new FirestoreError(C$1.UNAVAILABLE,"The operation could not be completed")))}),mr(hr,WebChannel.EventType.MESSAGE,vr=>{var yr;if(!gr){const br=vr.data[0];__PRIVATE_hardAssert(!!br);const wr=br,Pr=(wr==null?void 0:wr.error)||((yr=wr[0])===null||yr===void 0?void 0:yr.error);if(Pr){__PRIVATE_logDebug(Wt$2,`RPC '${er}' stream ${nr} received error:`,Pr);const Tr=Pr.status;let Vr=function(Er){const Cr=Et$2[Er];if(Cr!==void 0)return __PRIVATE_mapCodeFromRpcCode(Cr)}(Tr),Ar=Pr.message;Vr===void 0&&(Vr=C$1.INTERNAL,Ar="Unknown error status: "+Tr+" with message "+Pr.message),gr=!0,pr.Uo(new FirestoreError(Vr,Ar)),hr.close()}else __PRIVATE_logDebug(Wt$2,`RPC '${er}' stream ${nr} received:`,br),pr.Ko(br)}}),mr(or,Event.STAT_EVENT,vr=>{vr.stat===Stat.PROXY?__PRIVATE_logDebug(Wt$2,`RPC '${er}' stream ${nr} detected buffering proxy`):vr.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Wt$2,`RPC '${er}' stream ${nr} detected no buffering proxy`)}),setTimeout(()=>{pr.$o()},0),pr}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(rr){return new JsonProtoSerializer(rr,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(er,tr,ir=1e3,nr=1.5,sr=6e4){this.Ti=er,this.timerId=tr,this.Go=ir,this.zo=nr,this.jo=sr,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(er){this.cancel();const tr=Math.floor(this.Ho+this.e_()),ir=Math.max(0,Date.now()-this.Yo),nr=Math.max(0,tr-ir);nr>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${nr} ms (base delay: ${this.Ho} ms, delay with jitter: ${tr} ms, last attempt: ${ir} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,nr,()=>(this.Yo=Date.now(),er())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt$1="PersistentStream";class __PRIVATE_PersistentStream{constructor(er,tr,ir,nr,sr,ar,or,lr){this.Ti=er,this.n_=ir,this.r_=nr,this.connection=sr,this.authCredentialsProvider=ar,this.appCheckCredentialsProvider=or,this.listener=lr,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new __PRIVATE_ExponentialBackoff(er,tr)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(er){this.E_(),this.stream.send(er)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(er,tr){this.E_(),this.d_(),this.a_.cancel(),this.i_++,er!==4?this.a_.reset():tr&&tr.code===C$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(tr.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):tr&&tr.code===C$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=er,await this.listener.Lo(tr)}A_(){}auth(){this.state=1;const er=this.R_(this.i_),tr=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([ir,nr])=>{this.i_===tr&&this.V_(ir,nr)},ir=>{er(()=>{const nr=new FirestoreError(C$1.UNKNOWN,"Fetching auth token failed: "+ir.message);return this.m_(nr)})})}V_(er,tr){const ir=this.R_(this.i_);this.stream=this.f_(er,tr),this.stream.xo(()=>{ir(()=>this.listener.xo())}),this.stream.No(()=>{ir(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(nr=>{ir(()=>this.m_(nr))}),this.stream.onMessage(nr=>{ir(()=>++this.__==1?this.g_(nr):this.onNext(nr))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(er){return __PRIVATE_logDebug(Gt$1,`close with error: ${er}`),this.stream=null,this.close(4,er)}R_(er){return tr=>{this.Ti.enqueueAndForget(()=>this.i_===er?tr():(__PRIVATE_logDebug(Gt$1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(er,tr,ir,nr,sr,ar){super(er,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",tr,ir,nr,ar),this.serializer=sr}f_(er,tr){return this.connection.Wo("Listen",er,tr)}g_(er){return this.onNext(er)}onNext(er){this.a_.reset();const tr=__PRIVATE_fromWatchChange(this.serializer,er),ir=function(sr){if(!("targetChange"in sr))return SnapshotVersion.min();const ar=sr.targetChange;return ar.targetIds&&ar.targetIds.length?SnapshotVersion.min():ar.readTime?__PRIVATE_fromVersion(ar.readTime):SnapshotVersion.min()}(er);return this.listener.p_(tr,ir)}y_(er){const tr={};tr.database=__PRIVATE_getEncodedDatabaseId(this.serializer),tr.addTarget=function(sr,ar){let or;const lr=ar.target;if(or=__PRIVATE_targetIsDocumentTarget(lr)?{documents:__PRIVATE_toDocumentsTarget(sr,lr)}:{query:__PRIVATE_toQueryTarget(sr,lr).ht},or.targetId=ar.targetId,ar.resumeToken.approximateByteSize()>0){or.resumeToken=__PRIVATE_toBytes(sr,ar.resumeToken);const cr=__PRIVATE_toInt32Proto(sr,ar.expectedCount);cr!==null&&(or.expectedCount=cr)}else if(ar.snapshotVersion.compareTo(SnapshotVersion.min())>0){or.readTime=toTimestamp(sr,ar.snapshotVersion.toTimestamp());const cr=__PRIVATE_toInt32Proto(sr,ar.expectedCount);cr!==null&&(or.expectedCount=cr)}return or}(this.serializer,er);const ir=__PRIVATE_toListenRequestLabels(this.serializer,er);ir&&(tr.labels=ir),this.I_(tr)}w_(er){const tr={};tr.database=__PRIVATE_getEncodedDatabaseId(this.serializer),tr.removeTarget=er,this.I_(tr)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(er,tr,ir,nr,sr,ar){super(er,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",tr,ir,nr,ar),this.serializer=sr}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(er,tr){return this.connection.Wo("Write",er,tr)}g_(er){return __PRIVATE_hardAssert(!!er.streamToken),this.lastStreamToken=er.streamToken,__PRIVATE_hardAssert(!er.writeResults||er.writeResults.length===0),this.listener.D_()}onNext(er){__PRIVATE_hardAssert(!!er.streamToken),this.lastStreamToken=er.streamToken,this.a_.reset();const tr=__PRIVATE_fromWriteResults(er.writeResults,er.commitTime),ir=__PRIVATE_fromVersion(er.commitTime);return this.listener.v_(ir,tr)}C_(){const er={};er.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.I_(er)}b_(er){const tr={streamToken:this.lastStreamToken,writes:er.map(ir=>toMutation(this.serializer,ir))};this.I_(tr)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(er,tr,ir,nr){super(),this.authCredentials=er,this.appCheckCredentials=tr,this.connection=ir,this.serializer=nr,this.F_=!1}M_(){if(this.F_)throw new FirestoreError(C$1.FAILED_PRECONDITION,"The client has already been terminated.")}So(er,tr,ir,nr){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([sr,ar])=>this.connection.So(er,__PRIVATE_toResourcePath(tr,ir),nr,sr,ar)).catch(sr=>{throw sr.name==="FirebaseError"?(sr.code===C$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),sr):new FirestoreError(C$1.UNKNOWN,sr.toString())})}Co(er,tr,ir,nr,sr){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ar,or])=>this.connection.Co(er,__PRIVATE_toResourcePath(tr,ir),nr,ar,or,sr)).catch(ar=>{throw ar.name==="FirebaseError"?(ar.code===C$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),ar):new FirestoreError(C$1.UNKNOWN,ar.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(er,tr){this.asyncQueue=er,this.onlineStateHandler=tr,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(er){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${er.toString()}`),this.L_("Offline")))}set(er){this.Q_(),this.x_=0,er==="Online"&&(this.N_=!1),this.L_(er)}L_(er){er!==this.state&&(this.state=er,this.onlineStateHandler(er))}k_(er){const tr=`Could not reach Cloud Firestore backend. ${er}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(__PRIVATE_logError(tr),this.N_=!1):__PRIVATE_logDebug("OnlineStateTracker",tr)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt$1="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(er,tr,ir,nr,sr){this.localStore=er,this.datastore=tr,this.asyncQueue=ir,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=sr,this.z_.To(ar=>{ir.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(zt$1,"Restarting streams for network reachability change."),await async function(lr){const cr=__PRIVATE_debugCast(lr);cr.W_.add(4),await __PRIVATE_disableNetworkInternal(cr),cr.j_.set("Unknown"),cr.W_.delete(4),await __PRIVATE_enableNetworkInternal(cr)}(this))})}),this.j_=new __PRIVATE_OnlineStateTracker(ir,nr)}}async function __PRIVATE_enableNetworkInternal(rr){if(__PRIVATE_canUseNetwork(rr))for(const er of rr.G_)await er(!0)}async function __PRIVATE_disableNetworkInternal(rr){for(const er of rr.G_)await er(!1)}function __PRIVATE_remoteStoreListen(rr,er){const tr=__PRIVATE_debugCast(rr);tr.K_.has(er.targetId)||(tr.K_.set(er.targetId,er),__PRIVATE_shouldStartWatchStream(tr)?__PRIVATE_startWatchStream(tr):__PRIVATE_ensureWatchStream(tr).c_()&&__PRIVATE_sendWatchRequest(tr,er))}function __PRIVATE_remoteStoreUnlisten(rr,er){const tr=__PRIVATE_debugCast(rr),ir=__PRIVATE_ensureWatchStream(tr);tr.K_.delete(er),ir.c_()&&__PRIVATE_sendUnwatchRequest(tr,er),tr.K_.size===0&&(ir.c_()?ir.P_():__PRIVATE_canUseNetwork(tr)&&tr.j_.set("Unknown"))}function __PRIVATE_sendWatchRequest(rr,er){if(rr.H_.Ne(er.targetId),er.resumeToken.approximateByteSize()>0||er.snapshotVersion.compareTo(SnapshotVersion.min())>0){const tr=rr.remoteSyncer.getRemoteKeysForTarget(er.targetId).size;er=er.withExpectedCount(tr)}__PRIVATE_ensureWatchStream(rr).y_(er)}function __PRIVATE_sendUnwatchRequest(rr,er){rr.H_.Ne(er),__PRIVATE_ensureWatchStream(rr).w_(er)}function __PRIVATE_startWatchStream(rr){rr.H_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:er=>rr.remoteSyncer.getRemoteKeysForTarget(er),lt:er=>rr.K_.get(er)||null,it:()=>rr.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(rr).start(),rr.j_.B_()}function __PRIVATE_shouldStartWatchStream(rr){return __PRIVATE_canUseNetwork(rr)&&!__PRIVATE_ensureWatchStream(rr).u_()&&rr.K_.size>0}function __PRIVATE_canUseNetwork(rr){return __PRIVATE_debugCast(rr).W_.size===0}function __PRIVATE_cleanUpWatchStreamState(rr){rr.H_=void 0}async function __PRIVATE_onWatchStreamConnected(rr){rr.j_.set("Online")}async function __PRIVATE_onWatchStreamOpen(rr){rr.K_.forEach((er,tr)=>{__PRIVATE_sendWatchRequest(rr,er)})}async function __PRIVATE_onWatchStreamClose(rr,er){__PRIVATE_cleanUpWatchStreamState(rr),__PRIVATE_shouldStartWatchStream(rr)?(rr.j_.q_(er),__PRIVATE_startWatchStream(rr)):rr.j_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(rr,er,tr){if(rr.j_.set("Online"),er instanceof __PRIVATE_WatchTargetChange&&er.state===2&&er.cause)try{await async function(nr,sr){const ar=sr.cause;for(const or of sr.targetIds)nr.K_.has(or)&&(await nr.remoteSyncer.rejectListen(or,ar),nr.K_.delete(or),nr.H_.removeTarget(or))}(rr,er)}catch(ir){__PRIVATE_logDebug(zt$1,"Failed to remove targets %s: %s ",er.targetIds.join(","),ir),await __PRIVATE_disableNetworkUntilRecovery(rr,ir)}else if(er instanceof __PRIVATE_DocumentWatchChange?rr.H_.We(er):er instanceof __PRIVATE_ExistenceFilterChange?rr.H_.Ze(er):rr.H_.je(er),!tr.isEqual(SnapshotVersion.min()))try{const ir=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(rr.localStore);tr.compareTo(ir)>=0&&await function(sr,ar){const or=sr.H_.ot(ar);return or.targetChanges.forEach((lr,cr)=>{if(lr.resumeToken.approximateByteSize()>0){const ur=sr.K_.get(cr);ur&&sr.K_.set(cr,ur.withResumeToken(lr.resumeToken,ar))}}),or.targetMismatches.forEach((lr,cr)=>{const ur=sr.K_.get(lr);if(!ur)return;sr.K_.set(lr,ur.withResumeToken(ByteString.EMPTY_BYTE_STRING,ur.snapshotVersion)),__PRIVATE_sendUnwatchRequest(sr,lr);const hr=new TargetData(ur.target,lr,cr,ur.sequenceNumber);__PRIVATE_sendWatchRequest(sr,hr)}),sr.remoteSyncer.applyRemoteEvent(or)}(rr,tr)}catch(ir){__PRIVATE_logDebug(zt$1,"Failed to raise snapshot:",ir),await __PRIVATE_disableNetworkUntilRecovery(rr,ir)}}async function __PRIVATE_disableNetworkUntilRecovery(rr,er,tr){if(!__PRIVATE_isIndexedDbTransactionError(er))throw er;rr.W_.add(1),await __PRIVATE_disableNetworkInternal(rr),rr.j_.set("Offline"),tr||(tr=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(rr.localStore)),rr.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(zt$1,"Retrying IndexedDB access"),await tr(),rr.W_.delete(1),await __PRIVATE_enableNetworkInternal(rr)})}function __PRIVATE_executeWithRecovery(rr,er){return er().catch(tr=>__PRIVATE_disableNetworkUntilRecovery(rr,tr,er))}async function __PRIVATE_fillWritePipeline(rr){const er=__PRIVATE_debugCast(rr),tr=__PRIVATE_ensureWriteStream(er);let ir=er.U_.length>0?er.U_[er.U_.length-1].batchId:Q$1;for(;__PRIVATE_canAddToWritePipeline(er);)try{const nr=await __PRIVATE_localStoreGetNextMutationBatch(er.localStore,ir);if(nr===null){er.U_.length===0&&tr.P_();break}ir=nr.batchId,__PRIVATE_addToWritePipeline(er,nr)}catch(nr){await __PRIVATE_disableNetworkUntilRecovery(er,nr)}__PRIVATE_shouldStartWriteStream(er)&&__PRIVATE_startWriteStream(er)}function __PRIVATE_canAddToWritePipeline(rr){return __PRIVATE_canUseNetwork(rr)&&rr.U_.length<10}function __PRIVATE_addToWritePipeline(rr,er){rr.U_.push(er);const tr=__PRIVATE_ensureWriteStream(rr);tr.c_()&&tr.S_&&tr.b_(er.mutations)}function __PRIVATE_shouldStartWriteStream(rr){return __PRIVATE_canUseNetwork(rr)&&!__PRIVATE_ensureWriteStream(rr).u_()&&rr.U_.length>0}function __PRIVATE_startWriteStream(rr){__PRIVATE_ensureWriteStream(rr).start()}async function __PRIVATE_onWriteStreamOpen(rr){__PRIVATE_ensureWriteStream(rr).C_()}async function __PRIVATE_onWriteHandshakeComplete(rr){const er=__PRIVATE_ensureWriteStream(rr);for(const tr of rr.U_)er.b_(tr.mutations)}async function __PRIVATE_onMutationResult(rr,er,tr){const ir=rr.U_.shift(),nr=MutationBatchResult.from(ir,er,tr);await __PRIVATE_executeWithRecovery(rr,()=>rr.remoteSyncer.applySuccessfulWrite(nr)),await __PRIVATE_fillWritePipeline(rr)}async function __PRIVATE_onWriteStreamClose(rr,er){er&&__PRIVATE_ensureWriteStream(rr).S_&&await async function(ir,nr){if(function(ar){return __PRIVATE_isPermanentError(ar)&&ar!==C$1.ABORTED}(nr.code)){const sr=ir.U_.shift();__PRIVATE_ensureWriteStream(ir).h_(),await __PRIVATE_executeWithRecovery(ir,()=>ir.remoteSyncer.rejectFailedWrite(sr.batchId,nr)),await __PRIVATE_fillWritePipeline(ir)}}(rr,er),__PRIVATE_shouldStartWriteStream(rr)&&__PRIVATE_startWriteStream(rr)}async function __PRIVATE_remoteStoreHandleCredentialChange(rr,er){const tr=__PRIVATE_debugCast(rr);tr.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(zt$1,"RemoteStore received new credentials");const ir=__PRIVATE_canUseNetwork(tr);tr.W_.add(3),await __PRIVATE_disableNetworkInternal(tr),ir&&tr.j_.set("Unknown"),await tr.remoteSyncer.handleCredentialChange(er),tr.W_.delete(3),await __PRIVATE_enableNetworkInternal(tr)}async function __PRIVATE_remoteStoreApplyPrimaryState(rr,er){const tr=__PRIVATE_debugCast(rr);er?(tr.W_.delete(2),await __PRIVATE_enableNetworkInternal(tr)):er||(tr.W_.add(2),await __PRIVATE_disableNetworkInternal(tr),tr.j_.set("Unknown"))}function __PRIVATE_ensureWatchStream(rr){return rr.J_||(rr.J_=function(tr,ir,nr){const sr=__PRIVATE_debugCast(tr);return sr.M_(),new __PRIVATE_PersistentListenStream(ir,sr.connection,sr.authCredentials,sr.appCheckCredentials,sr.serializer,nr)}(rr.datastore,rr.asyncQueue,{xo:__PRIVATE_onWatchStreamConnected.bind(null,rr),No:__PRIVATE_onWatchStreamOpen.bind(null,rr),Lo:__PRIVATE_onWatchStreamClose.bind(null,rr),p_:__PRIVATE_onWatchStreamChange.bind(null,rr)}),rr.G_.push(async er=>{er?(rr.J_.h_(),__PRIVATE_shouldStartWatchStream(rr)?__PRIVATE_startWatchStream(rr):rr.j_.set("Unknown")):(await rr.J_.stop(),__PRIVATE_cleanUpWatchStreamState(rr))})),rr.J_}function __PRIVATE_ensureWriteStream(rr){return rr.Y_||(rr.Y_=function(tr,ir,nr){const sr=__PRIVATE_debugCast(tr);return sr.M_(),new __PRIVATE_PersistentWriteStream(ir,sr.connection,sr.authCredentials,sr.appCheckCredentials,sr.serializer,nr)}(rr.datastore,rr.asyncQueue,{xo:()=>Promise.resolve(),No:__PRIVATE_onWriteStreamOpen.bind(null,rr),Lo:__PRIVATE_onWriteStreamClose.bind(null,rr),D_:__PRIVATE_onWriteHandshakeComplete.bind(null,rr),v_:__PRIVATE_onMutationResult.bind(null,rr)}),rr.G_.push(async er=>{er?(rr.Y_.h_(),await __PRIVATE_fillWritePipeline(rr)):(await rr.Y_.stop(),rr.U_.length>0&&(__PRIVATE_logDebug(zt$1,`Stopping write stream with ${rr.U_.length} pending writes`),rr.U_=[]))})),rr.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(er,tr,ir,nr,sr){this.asyncQueue=er,this.timerId=tr,this.targetTimeMs=ir,this.op=nr,this.removalCallback=sr,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(ar=>{})}get promise(){return this.deferred.promise}static createAndSchedule(er,tr,ir,nr,sr){const ar=Date.now()+ir,or=new DelayedOperation(er,tr,ar,nr,sr);return or.start(ir),or}start(er){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),er)}skipDelay(){return this.handleDelayElapsed()}cancel(er){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C$1.CANCELLED,"Operation cancelled"+(er?": "+er:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(er=>this.deferred.resolve(er))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(rr,er){if(__PRIVATE_logError("AsyncQueue",`${er}: ${rr}`),__PRIVATE_isIndexedDbTransactionError(rr))return new FirestoreError(C$1.UNAVAILABLE,`${er}: ${rr}`);throw rr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(er){return new DocumentSet(er.comparator)}constructor(er){this.comparator=er?(tr,ir)=>er(tr,ir)||DocumentKey.comparator(tr.key,ir.key):(tr,ir)=>DocumentKey.comparator(tr.key,ir.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(er){return this.keyedMap.get(er)!=null}get(er){return this.keyedMap.get(er)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(er){const tr=this.keyedMap.get(er);return tr?this.sortedSet.indexOf(tr):-1}get size(){return this.sortedSet.size}forEach(er){this.sortedSet.inorderTraversal((tr,ir)=>(er(tr),!1))}add(er){const tr=this.delete(er.key);return tr.copy(tr.keyedMap.insert(er.key,er),tr.sortedSet.insert(er,null))}delete(er){const tr=this.get(er);return tr?this.copy(this.keyedMap.remove(er),this.sortedSet.remove(tr)):this}isEqual(er){if(!(er instanceof DocumentSet)||this.size!==er.size)return!1;const tr=this.sortedSet.getIterator(),ir=er.sortedSet.getIterator();for(;tr.hasNext();){const nr=tr.getNext().key,sr=ir.getNext().key;if(!nr.isEqual(sr))return!1}return!0}toString(){const er=[];return this.forEach(tr=>{er.push(tr.toString())}),er.length===0?"DocumentSet ()":`DocumentSet (
  `+er.join(`  
`)+`
)`}copy(er,tr){const ir=new DocumentSet;return ir.comparator=this.comparator,ir.keyedMap=er,ir.sortedSet=tr,ir}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.Z_=new SortedMap(DocumentKey.comparator)}track(er){const tr=er.doc.key,ir=this.Z_.get(tr);ir?er.type!==0&&ir.type===3?this.Z_=this.Z_.insert(tr,er):er.type===3&&ir.type!==1?this.Z_=this.Z_.insert(tr,{type:ir.type,doc:er.doc}):er.type===2&&ir.type===2?this.Z_=this.Z_.insert(tr,{type:2,doc:er.doc}):er.type===2&&ir.type===0?this.Z_=this.Z_.insert(tr,{type:0,doc:er.doc}):er.type===1&&ir.type===0?this.Z_=this.Z_.remove(tr):er.type===1&&ir.type===2?this.Z_=this.Z_.insert(tr,{type:1,doc:ir.doc}):er.type===0&&ir.type===1?this.Z_=this.Z_.insert(tr,{type:2,doc:er.doc}):fail():this.Z_=this.Z_.insert(tr,er)}X_(){const er=[];return this.Z_.inorderTraversal((tr,ir)=>{er.push(ir)}),er}}class ViewSnapshot{constructor(er,tr,ir,nr,sr,ar,or,lr,cr){this.query=er,this.docs=tr,this.oldDocs=ir,this.docChanges=nr,this.mutatedKeys=sr,this.fromCache=ar,this.syncStateChanged=or,this.excludesMetadataChanges=lr,this.hasCachedResults=cr}static fromInitialDocuments(er,tr,ir,nr,sr){const ar=[];return tr.forEach(or=>{ar.push({type:0,doc:or})}),new ViewSnapshot(er,tr,DocumentSet.emptySet(tr),ar,ir,nr,!0,!1,sr)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(er){if(!(this.fromCache===er.fromCache&&this.hasCachedResults===er.hasCachedResults&&this.syncStateChanged===er.syncStateChanged&&this.mutatedKeys.isEqual(er.mutatedKeys)&&__PRIVATE_queryEquals(this.query,er.query)&&this.docs.isEqual(er.docs)&&this.oldDocs.isEqual(er.oldDocs)))return!1;const tr=this.docChanges,ir=er.docChanges;if(tr.length!==ir.length)return!1;for(let nr=0;nr<tr.length;nr++)if(tr[nr].type!==ir[nr].type||!tr[nr].doc.isEqual(ir[nr].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(er=>er.ra())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(tr,ir){const nr=__PRIVATE_debugCast(tr),sr=nr.queries;nr.queries=__PRIVATE_newQueriesObjectMap(),sr.forEach((ar,or)=>{for(const lr of or.ta)lr.onError(ir)})})(this,new FirestoreError(C$1.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(rr=>__PRIVATE_canonifyQuery(rr),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(rr,er){const tr=__PRIVATE_debugCast(rr);let ir=3;const nr=er.query;let sr=tr.queries.get(nr);sr?!sr.na()&&er.ra()&&(ir=2):(sr=new __PRIVATE_QueryListenersInfo,ir=er.ra()?0:1);try{switch(ir){case 0:sr.ea=await tr.onListen(nr,!0);break;case 1:sr.ea=await tr.onListen(nr,!1);break;case 2:await tr.onFirstRemoteStoreListen(nr)}}catch(ar){const or=__PRIVATE_wrapInUserErrorIfRecoverable(ar,`Initialization of query '${__PRIVATE_stringifyQuery(er.query)}' failed`);return void er.onError(or)}tr.queries.set(nr,sr),sr.ta.push(er),er.sa(tr.onlineState),sr.ea&&er.oa(sr.ea)&&__PRIVATE_raiseSnapshotsInSyncEvent(tr)}async function __PRIVATE_eventManagerUnlisten(rr,er){const tr=__PRIVATE_debugCast(rr),ir=er.query;let nr=3;const sr=tr.queries.get(ir);if(sr){const ar=sr.ta.indexOf(er);ar>=0&&(sr.ta.splice(ar,1),sr.ta.length===0?nr=er.ra()?0:1:!sr.na()&&er.ra()&&(nr=2))}switch(nr){case 0:return tr.queries.delete(ir),tr.onUnlisten(ir,!0);case 1:return tr.queries.delete(ir),tr.onUnlisten(ir,!1);case 2:return tr.onLastRemoteStoreUnlisten(ir);default:return}}function __PRIVATE_eventManagerOnWatchChange(rr,er){const tr=__PRIVATE_debugCast(rr);let ir=!1;for(const nr of er){const sr=nr.query,ar=tr.queries.get(sr);if(ar){for(const or of ar.ta)or.oa(nr)&&(ir=!0);ar.ea=nr}}ir&&__PRIVATE_raiseSnapshotsInSyncEvent(tr)}function __PRIVATE_eventManagerOnWatchError(rr,er,tr){const ir=__PRIVATE_debugCast(rr),nr=ir.queries.get(er);if(nr)for(const sr of nr.ta)sr.onError(tr);ir.queries.delete(er)}function __PRIVATE_raiseSnapshotsInSyncEvent(rr){rr.ia.forEach(er=>{er.next()})}var jt$1,Ht$1;(Ht$1=jt$1||(jt$1={}))._a="default",Ht$1.Cache="cache";class __PRIVATE_QueryListener{constructor(er,tr,ir){this.query=er,this.aa=tr,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=ir||{}}oa(er){if(!this.options.includeMetadataChanges){const ir=[];for(const nr of er.docChanges)nr.type!==3&&ir.push(nr);er=new ViewSnapshot(er.query,er.docs,er.oldDocs,ir,er.mutatedKeys,er.fromCache,er.syncStateChanged,!0,er.hasCachedResults)}let tr=!1;return this.ua?this.la(er)&&(this.aa.next(er),tr=!0):this.ha(er,this.onlineState)&&(this.Pa(er),tr=!0),this.ca=er,tr}onError(er){this.aa.error(er)}sa(er){this.onlineState=er;let tr=!1;return this.ca&&!this.ua&&this.ha(this.ca,er)&&(this.Pa(this.ca),tr=!0),tr}ha(er,tr){if(!er.fromCache||!this.ra())return!0;const ir=tr!=="Offline";return(!this.options.Ta||!ir)&&(!er.docs.isEmpty()||er.hasCachedResults||tr==="Offline")}la(er){if(er.docChanges.length>0)return!0;const tr=this.ca&&this.ca.hasPendingWrites!==er.hasPendingWrites;return!(!er.syncStateChanged&&!tr)&&this.options.includeMetadataChanges===!0}Pa(er){er=ViewSnapshot.fromInitialDocuments(er.query,er.docs,er.mutatedKeys,er.fromCache,er.hasCachedResults),this.ua=!0,this.aa.next(er)}ra(){return this.options.source!==jt$1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(er){this.key=er}}class __PRIVATE_RemovedLimboDocument{constructor(er){this.key=er}}class __PRIVATE_View{constructor(er,tr){this.query=er,this.fa=tr,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ya=__PRIVATE_newQueryComparator(er),this.wa=new DocumentSet(this.ya)}get Sa(){return this.fa}ba(er,tr){const ir=tr?tr.Da:new __PRIVATE_DocumentChangeSet,nr=tr?tr.wa:this.wa;let sr=tr?tr.mutatedKeys:this.mutatedKeys,ar=nr,or=!1;const lr=this.query.limitType==="F"&&nr.size===this.query.limit?nr.last():null,cr=this.query.limitType==="L"&&nr.size===this.query.limit?nr.first():null;if(er.inorderTraversal((ur,hr)=>{const dr=nr.get(ur),gr=__PRIVATE_queryMatches(this.query,hr)?hr:null,pr=!!dr&&this.mutatedKeys.has(dr.key),mr=!!gr&&(gr.hasLocalMutations||this.mutatedKeys.has(gr.key)&&gr.hasCommittedMutations);let vr=!1;dr&&gr?dr.data.isEqual(gr.data)?pr!==mr&&(ir.track({type:3,doc:gr}),vr=!0):this.va(dr,gr)||(ir.track({type:2,doc:gr}),vr=!0,(lr&&this.ya(gr,lr)>0||cr&&this.ya(gr,cr)<0)&&(or=!0)):!dr&&gr?(ir.track({type:0,doc:gr}),vr=!0):dr&&!gr&&(ir.track({type:1,doc:dr}),vr=!0,(lr||cr)&&(or=!0)),vr&&(gr?(ar=ar.add(gr),sr=mr?sr.add(ur):sr.delete(ur)):(ar=ar.delete(ur),sr=sr.delete(ur)))}),this.query.limit!==null)for(;ar.size>this.query.limit;){const ur=this.query.limitType==="F"?ar.last():ar.first();ar=ar.delete(ur.key),sr=sr.delete(ur.key),ir.track({type:1,doc:ur})}return{wa:ar,Da:ir,ls:or,mutatedKeys:sr}}va(er,tr){return er.hasLocalMutations&&tr.hasCommittedMutations&&!tr.hasLocalMutations}applyChanges(er,tr,ir,nr){const sr=this.wa;this.wa=er.wa,this.mutatedKeys=er.mutatedKeys;const ar=er.Da.X_();ar.sort((ur,hr)=>function(gr,pr){const mr=vr=>{switch(vr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return mr(gr)-mr(pr)}(ur.type,hr.type)||this.ya(ur.doc,hr.doc)),this.Ca(ir),nr=nr!=null&&nr;const or=tr&&!nr?this.Fa():[],lr=this.pa.size===0&&this.current&&!nr?1:0,cr=lr!==this.ga;return this.ga=lr,ar.length!==0||cr?{snapshot:new ViewSnapshot(this.query,er.wa,sr,ar,er.mutatedKeys,lr===0,cr,!1,!!ir&&ir.resumeToken.approximateByteSize()>0),Ma:or}:{Ma:or}}sa(er){return this.current&&er==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(er){return!this.fa.has(er)&&!!this.wa.has(er)&&!this.wa.get(er).hasLocalMutations}Ca(er){er&&(er.addedDocuments.forEach(tr=>this.fa=this.fa.add(tr)),er.modifiedDocuments.forEach(tr=>{}),er.removedDocuments.forEach(tr=>this.fa=this.fa.delete(tr)),this.current=er.current)}Fa(){if(!this.current)return[];const er=this.pa;this.pa=__PRIVATE_documentKeySet(),this.wa.forEach(ir=>{this.xa(ir.key)&&(this.pa=this.pa.add(ir.key))});const tr=[];return er.forEach(ir=>{this.pa.has(ir)||tr.push(new __PRIVATE_RemovedLimboDocument(ir))}),this.pa.forEach(ir=>{er.has(ir)||tr.push(new __PRIVATE_AddedLimboDocument(ir))}),tr}Oa(er){this.fa=er.gs,this.pa=__PRIVATE_documentKeySet();const tr=this.ba(er.documents);return this.applyChanges(tr,!0)}Na(){return ViewSnapshot.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jt$1="SyncEngine";class __PRIVATE_QueryView{constructor(er,tr,ir){this.query=er,this.targetId=tr,this.view=ir}}class LimboResolution{constructor(er){this.key=er,this.Ba=!1}}class __PRIVATE_SyncEngineImpl{constructor(er,tr,ir,nr,sr,ar){this.localStore=er,this.remoteStore=tr,this.eventManager=ir,this.sharedClientState=nr,this.currentUser=sr,this.maxConcurrentLimboResolutions=ar,this.La={},this.ka=new ObjectMap(or=>__PRIVATE_canonifyQuery(or),__PRIVATE_queryEquals),this.qa=new Map,this.Qa=new Set,this.$a=new SortedMap(DocumentKey.comparator),this.Ua=new Map,this.Ka=new __PRIVATE_ReferenceSet,this.Wa={},this.Ga=new Map,this.za=__PRIVATE_TargetIdGenerator.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function __PRIVATE_syncEngineListen(rr,er,tr=!0){const ir=__PRIVATE_ensureWatchCallbacks(rr);let nr;const sr=ir.ka.get(er);return sr?(ir.sharedClientState.addLocalQueryTarget(sr.targetId),nr=sr.view.Na()):nr=await __PRIVATE_allocateTargetAndMaybeListen(ir,er,tr,!0),nr}async function __PRIVATE_triggerRemoteStoreListen(rr,er){const tr=__PRIVATE_ensureWatchCallbacks(rr);await __PRIVATE_allocateTargetAndMaybeListen(tr,er,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(rr,er,tr,ir){const nr=await __PRIVATE_localStoreAllocateTarget(rr.localStore,__PRIVATE_queryToTarget(er)),sr=nr.targetId,ar=rr.sharedClientState.addLocalQueryTarget(sr,tr);let or;return ir&&(or=await __PRIVATE_initializeViewAndComputeSnapshot(rr,er,sr,ar==="current",nr.resumeToken)),rr.isPrimaryClient&&tr&&__PRIVATE_remoteStoreListen(rr.remoteStore,nr),or}async function __PRIVATE_initializeViewAndComputeSnapshot(rr,er,tr,ir,nr){rr.Ha=(hr,dr,gr)=>async function(mr,vr,yr,br){let wr=vr.view.ba(yr);wr.ls&&(wr=await __PRIVATE_localStoreExecuteQuery(mr.localStore,vr.query,!1).then(({documents:Ar})=>vr.view.ba(Ar,wr)));const Pr=br&&br.targetChanges.get(vr.targetId),Tr=br&&br.targetMismatches.get(vr.targetId)!=null,Vr=vr.view.applyChanges(wr,mr.isPrimaryClient,Pr,Tr);return __PRIVATE_updateTrackedLimbos(mr,vr.targetId,Vr.Ma),Vr.snapshot}(rr,hr,dr,gr);const sr=await __PRIVATE_localStoreExecuteQuery(rr.localStore,er,!0),ar=new __PRIVATE_View(er,sr.gs),or=ar.ba(sr.documents),lr=TargetChange.createSynthesizedTargetChangeForCurrentChange(tr,ir&&rr.onlineState!=="Offline",nr),cr=ar.applyChanges(or,rr.isPrimaryClient,lr);__PRIVATE_updateTrackedLimbos(rr,tr,cr.Ma);const ur=new __PRIVATE_QueryView(er,tr,ar);return rr.ka.set(er,ur),rr.qa.has(tr)?rr.qa.get(tr).push(er):rr.qa.set(tr,[er]),cr.snapshot}async function __PRIVATE_syncEngineUnlisten(rr,er,tr){const ir=__PRIVATE_debugCast(rr),nr=ir.ka.get(er),sr=ir.qa.get(nr.targetId);if(sr.length>1)return ir.qa.set(nr.targetId,sr.filter(ar=>!__PRIVATE_queryEquals(ar,er))),void ir.ka.delete(er);ir.isPrimaryClient?(ir.sharedClientState.removeLocalQueryTarget(nr.targetId),ir.sharedClientState.isActiveQueryTarget(nr.targetId)||await __PRIVATE_localStoreReleaseTarget(ir.localStore,nr.targetId,!1).then(()=>{ir.sharedClientState.clearQueryState(nr.targetId),tr&&__PRIVATE_remoteStoreUnlisten(ir.remoteStore,nr.targetId),__PRIVATE_removeAndCleanupTarget(ir,nr.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(ir,nr.targetId),await __PRIVATE_localStoreReleaseTarget(ir.localStore,nr.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(rr,er){const tr=__PRIVATE_debugCast(rr),ir=tr.ka.get(er),nr=tr.qa.get(ir.targetId);tr.isPrimaryClient&&nr.length===1&&(tr.sharedClientState.removeLocalQueryTarget(ir.targetId),__PRIVATE_remoteStoreUnlisten(tr.remoteStore,ir.targetId))}async function __PRIVATE_syncEngineWrite(rr,er,tr){const ir=__PRIVATE_syncEngineEnsureWriteCallbacks(rr);try{const nr=await function(ar,or){const lr=__PRIVATE_debugCast(ar),cr=Timestamp.now(),ur=or.reduce((gr,pr)=>gr.add(pr.key),__PRIVATE_documentKeySet());let hr,dr;return lr.persistence.runTransaction("Locally write mutations","readwrite",gr=>{let pr=__PRIVATE_mutableDocumentMap(),mr=__PRIVATE_documentKeySet();return lr.ds.getEntries(gr,ur).next(vr=>{pr=vr,pr.forEach((yr,br)=>{br.isValidDocument()||(mr=mr.add(yr))})}).next(()=>lr.localDocuments.getOverlayedDocuments(gr,pr)).next(vr=>{hr=vr;const yr=[];for(const br of or){const wr=__PRIVATE_mutationExtractBaseValue(br,hr.get(br.key).overlayedDocument);wr!=null&&yr.push(new __PRIVATE_PatchMutation(br.key,wr,__PRIVATE_extractFieldMask(wr.value.mapValue),Precondition.exists(!0)))}return lr.mutationQueue.addMutationBatch(gr,cr,yr,or)}).next(vr=>{dr=vr;const yr=vr.applyToLocalDocumentSet(hr,mr);return lr.documentOverlayCache.saveOverlays(gr,vr.batchId,yr)})}).then(()=>({batchId:dr.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(hr)}))}(ir.localStore,er);ir.sharedClientState.addPendingMutation(nr.batchId),function(ar,or,lr){let cr=ar.Wa[ar.currentUser.toKey()];cr||(cr=new SortedMap(__PRIVATE_primitiveComparator)),cr=cr.insert(or,lr),ar.Wa[ar.currentUser.toKey()]=cr}(ir,nr.batchId,tr),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(ir,nr.changes),await __PRIVATE_fillWritePipeline(ir.remoteStore)}catch(nr){const sr=__PRIVATE_wrapInUserErrorIfRecoverable(nr,"Failed to persist write");tr.reject(sr)}}async function __PRIVATE_syncEngineApplyRemoteEvent(rr,er){const tr=__PRIVATE_debugCast(rr);try{const ir=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(tr.localStore,er);er.targetChanges.forEach((nr,sr)=>{const ar=tr.Ua.get(sr);ar&&(__PRIVATE_hardAssert(nr.addedDocuments.size+nr.modifiedDocuments.size+nr.removedDocuments.size<=1),nr.addedDocuments.size>0?ar.Ba=!0:nr.modifiedDocuments.size>0?__PRIVATE_hardAssert(ar.Ba):nr.removedDocuments.size>0&&(__PRIVATE_hardAssert(ar.Ba),ar.Ba=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tr,ir,er)}catch(ir){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ir)}}function __PRIVATE_syncEngineApplyOnlineStateChange(rr,er,tr){const ir=__PRIVATE_debugCast(rr);if(ir.isPrimaryClient&&tr===0||!ir.isPrimaryClient&&tr===1){const nr=[];ir.ka.forEach((sr,ar)=>{const or=ar.view.sa(er);or.snapshot&&nr.push(or.snapshot)}),function(ar,or){const lr=__PRIVATE_debugCast(ar);lr.onlineState=or;let cr=!1;lr.queries.forEach((ur,hr)=>{for(const dr of hr.ta)dr.sa(or)&&(cr=!0)}),cr&&__PRIVATE_raiseSnapshotsInSyncEvent(lr)}(ir.eventManager,er),nr.length&&ir.La.p_(nr),ir.onlineState=er,ir.isPrimaryClient&&ir.sharedClientState.setOnlineState(er)}}async function __PRIVATE_syncEngineRejectListen(rr,er,tr){const ir=__PRIVATE_debugCast(rr);ir.sharedClientState.updateQueryState(er,"rejected",tr);const nr=ir.Ua.get(er),sr=nr&&nr.key;if(sr){let ar=new SortedMap(DocumentKey.comparator);ar=ar.insert(sr,MutableDocument.newNoDocument(sr,SnapshotVersion.min()));const or=__PRIVATE_documentKeySet().add(sr),lr=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),ar,or);await __PRIVATE_syncEngineApplyRemoteEvent(ir,lr),ir.$a=ir.$a.remove(sr),ir.Ua.delete(er),__PRIVATE_pumpEnqueuedLimboResolutions(ir)}else await __PRIVATE_localStoreReleaseTarget(ir.localStore,er,!1).then(()=>__PRIVATE_removeAndCleanupTarget(ir,er,tr)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(rr,er){const tr=__PRIVATE_debugCast(rr),ir=er.batch.batchId;try{const nr=await __PRIVATE_localStoreAcknowledgeBatch(tr.localStore,er);__PRIVATE_processUserCallback(tr,ir,null),__PRIVATE_triggerPendingWritesCallbacks(tr,ir),tr.sharedClientState.updateMutationState(ir,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tr,nr)}catch(nr){await __PRIVATE_ignoreIfPrimaryLeaseLoss(nr)}}async function __PRIVATE_syncEngineRejectFailedWrite(rr,er,tr){const ir=__PRIVATE_debugCast(rr);try{const nr=await function(ar,or){const lr=__PRIVATE_debugCast(ar);return lr.persistence.runTransaction("Reject batch","readwrite-primary",cr=>{let ur;return lr.mutationQueue.lookupMutationBatch(cr,or).next(hr=>(__PRIVATE_hardAssert(hr!==null),ur=hr.keys(),lr.mutationQueue.removeMutationBatch(cr,hr))).next(()=>lr.mutationQueue.performConsistencyCheck(cr)).next(()=>lr.documentOverlayCache.removeOverlaysForBatchId(cr,ur,or)).next(()=>lr.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(cr,ur)).next(()=>lr.localDocuments.getDocuments(cr,ur))})}(ir.localStore,er);__PRIVATE_processUserCallback(ir,er,tr),__PRIVATE_triggerPendingWritesCallbacks(ir,er),ir.sharedClientState.updateMutationState(er,"rejected",tr),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(ir,nr)}catch(nr){await __PRIVATE_ignoreIfPrimaryLeaseLoss(nr)}}function __PRIVATE_triggerPendingWritesCallbacks(rr,er){(rr.Ga.get(er)||[]).forEach(tr=>{tr.resolve()}),rr.Ga.delete(er)}function __PRIVATE_processUserCallback(rr,er,tr){const ir=__PRIVATE_debugCast(rr);let nr=ir.Wa[ir.currentUser.toKey()];if(nr){const sr=nr.get(er);sr&&(tr?sr.reject(tr):sr.resolve(),nr=nr.remove(er)),ir.Wa[ir.currentUser.toKey()]=nr}}function __PRIVATE_removeAndCleanupTarget(rr,er,tr=null){rr.sharedClientState.removeLocalQueryTarget(er);for(const ir of rr.qa.get(er))rr.ka.delete(ir),tr&&rr.La.Ja(ir,tr);rr.qa.delete(er),rr.isPrimaryClient&&rr.Ka.br(er).forEach(ir=>{rr.Ka.containsKey(ir)||__PRIVATE_removeLimboTarget(rr,ir)})}function __PRIVATE_removeLimboTarget(rr,er){rr.Qa.delete(er.path.canonicalString());const tr=rr.$a.get(er);tr!==null&&(__PRIVATE_remoteStoreUnlisten(rr.remoteStore,tr),rr.$a=rr.$a.remove(er),rr.Ua.delete(tr),__PRIVATE_pumpEnqueuedLimboResolutions(rr))}function __PRIVATE_updateTrackedLimbos(rr,er,tr){for(const ir of tr)ir instanceof __PRIVATE_AddedLimboDocument?(rr.Ka.addReference(ir.key,er),__PRIVATE_trackLimboChange(rr,ir)):ir instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(Jt$1,"Document no longer in limbo: "+ir.key),rr.Ka.removeReference(ir.key,er),rr.Ka.containsKey(ir.key)||__PRIVATE_removeLimboTarget(rr,ir.key)):fail()}function __PRIVATE_trackLimboChange(rr,er){const tr=er.key,ir=tr.path.canonicalString();rr.$a.get(tr)||rr.Qa.has(ir)||(__PRIVATE_logDebug(Jt$1,"New document in limbo: "+tr),rr.Qa.add(ir),__PRIVATE_pumpEnqueuedLimboResolutions(rr))}function __PRIVATE_pumpEnqueuedLimboResolutions(rr){for(;rr.Qa.size>0&&rr.$a.size<rr.maxConcurrentLimboResolutions;){const er=rr.Qa.values().next().value;rr.Qa.delete(er);const tr=new DocumentKey(ResourcePath.fromString(er)),ir=rr.za.next();rr.Ua.set(ir,new LimboResolution(tr)),rr.$a=rr.$a.insert(tr,ir),__PRIVATE_remoteStoreListen(rr.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(tr.path)),ir,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ae))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rr,er,tr){const ir=__PRIVATE_debugCast(rr),nr=[],sr=[],ar=[];ir.ka.isEmpty()||(ir.ka.forEach((or,lr)=>{ar.push(ir.Ha(lr,er,tr).then(cr=>{var ur;if((cr||tr)&&ir.isPrimaryClient){const hr=cr?!cr.fromCache:(ur=tr==null?void 0:tr.targetChanges.get(lr.targetId))===null||ur===void 0?void 0:ur.current;ir.sharedClientState.updateQueryState(lr.targetId,hr?"current":"not-current")}if(cr){nr.push(cr);const hr=__PRIVATE_LocalViewChanges.Yi(lr.targetId,cr);sr.push(hr)}}))}),await Promise.all(ar),ir.La.p_(nr),await async function(lr,cr){const ur=__PRIVATE_debugCast(lr);try{await ur.persistence.runTransaction("notifyLocalViewChanges","readwrite",hr=>PersistencePromise.forEach(cr,dr=>PersistencePromise.forEach(dr.Hi,gr=>ur.persistence.referenceDelegate.addReference(hr,dr.targetId,gr)).next(()=>PersistencePromise.forEach(dr.Ji,gr=>ur.persistence.referenceDelegate.removeReference(hr,dr.targetId,gr)))))}catch(hr){if(!__PRIVATE_isIndexedDbTransactionError(hr))throw hr;__PRIVATE_logDebug(Ot$1,"Failed to update sequence numbers: "+hr)}for(const hr of cr){const dr=hr.targetId;if(!hr.fromCache){const gr=ur.Ts.get(dr),pr=gr.snapshotVersion,mr=gr.withLastLimboFreeSnapshotVersion(pr);ur.Ts=ur.Ts.insert(dr,mr)}}}(ir.localStore,sr))}async function __PRIVATE_syncEngineHandleCredentialChange(rr,er){const tr=__PRIVATE_debugCast(rr);if(!tr.currentUser.isEqual(er)){__PRIVATE_logDebug(Jt$1,"User change. New user:",er.toKey());const ir=await __PRIVATE_localStoreHandleUserChange(tr.localStore,er);tr.currentUser=er,function(sr,ar){sr.Ga.forEach(or=>{or.forEach(lr=>{lr.reject(new FirestoreError(C$1.CANCELLED,ar))})}),sr.Ga.clear()}(tr,"'waitForPendingWrites' promise is rejected due to a user change."),tr.sharedClientState.handleUserChange(er,ir.removedBatchIds,ir.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tr,ir.Rs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(rr,er){const tr=__PRIVATE_debugCast(rr),ir=tr.Ua.get(er);if(ir&&ir.Ba)return __PRIVATE_documentKeySet().add(ir.key);{let nr=__PRIVATE_documentKeySet();const sr=tr.qa.get(er);if(!sr)return nr;for(const ar of sr){const or=tr.ka.get(ar);nr=nr.unionWith(or.view.Sa)}return nr}}function __PRIVATE_ensureWatchCallbacks(rr){const er=__PRIVATE_debugCast(rr);return er.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,er),er.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,er),er.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,er),er.La.p_=__PRIVATE_eventManagerOnWatchChange.bind(null,er.eventManager),er.La.Ja=__PRIVATE_eventManagerOnWatchError.bind(null,er.eventManager),er}function __PRIVATE_syncEngineEnsureWriteCallbacks(rr){const er=__PRIVATE_debugCast(rr);return er.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,er),er.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,er),er}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(er){this.serializer=__PRIVATE_newSerializer(er.databaseInfo.databaseId),this.sharedClientState=this.Za(er),this.persistence=this.Xa(er),await this.persistence.start(),this.localStore=this.eu(er),this.gcScheduler=this.tu(er,this.localStore),this.indexBackfillerScheduler=this.nu(er,this.localStore)}tu(er,tr){return null}nu(er,tr){return null}eu(er){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,er.initialUser,this.serializer)}Xa(er){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.ri,this.serializer)}Za(er){return new __PRIVATE_MemorySharedClientState}async terminate(){var er,tr;(er=this.gcScheduler)===null||er===void 0||er.stop(),(tr=this.indexBackfillerScheduler)===null||tr===void 0||tr.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(er){super(),this.cacheSizeBytes=er}tu(er,tr){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate);const ir=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(ir,er.asyncQueue,tr)}Xa(er){const tr=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(ir=>__PRIVATE_MemoryLruDelegate.ri(ir,tr),this.serializer)}}class OnlineComponentProvider{async initialize(er,tr){this.localStore||(this.localStore=er.localStore,this.sharedClientState=er.sharedClientState,this.datastore=this.createDatastore(tr),this.remoteStore=this.createRemoteStore(tr),this.eventManager=this.createEventManager(tr),this.syncEngine=this.createSyncEngine(tr,!er.synchronizeTabs),this.sharedClientState.onlineStateHandler=ir=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,ir,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(er){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(er){const tr=__PRIVATE_newSerializer(er.databaseInfo.databaseId),ir=function(sr){return new __PRIVATE_WebChannelConnection(sr)}(er.databaseInfo);return function(sr,ar,or,lr){return new __PRIVATE_DatastoreImpl(sr,ar,or,lr)}(er.authCredentials,er.appCheckCredentials,ir,tr)}createRemoteStore(er){return function(ir,nr,sr,ar,or){return new __PRIVATE_RemoteStoreImpl(ir,nr,sr,ar,or)}(this.localStore,this.datastore,er.asyncQueue,tr=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,tr,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(er,tr){return function(nr,sr,ar,or,lr,cr,ur){const hr=new __PRIVATE_SyncEngineImpl(nr,sr,ar,or,lr,cr);return ur&&(hr.ja=!0),hr}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,er.initialUser,er.maxConcurrentLimboResolutions,tr)}async terminate(){var er,tr;await async function(nr){const sr=__PRIVATE_debugCast(nr);__PRIVATE_logDebug(zt$1,"RemoteStore shutting down."),sr.W_.add(5),await __PRIVATE_disableNetworkInternal(sr),sr.z_.shutdown(),sr.j_.set("Unknown")}(this.remoteStore),(er=this.datastore)===null||er===void 0||er.terminate(),(tr=this.eventManager)===null||tr===void 0||tr.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(er){this.observer=er,this.muted=!1}next(er){this.muted||this.observer.next&&this.iu(this.observer.next,er)}error(er){this.muted||(this.observer.error?this.iu(this.observer.error,er):__PRIVATE_logError("Uncaught Error in snapshot listener:",er.toString()))}su(){this.muted=!0}iu(er,tr){setTimeout(()=>{this.muted||er(tr)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt$2="FirestoreClient";class FirestoreClient{constructor(er,tr,ir,nr,sr){this.authCredentials=er,this.appCheckCredentials=tr,this.asyncQueue=ir,this.databaseInfo=nr,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=sr,this.authCredentials.start(ir,async ar=>{__PRIVATE_logDebug(Yt$2,"Received user=",ar.uid),await this.authCredentialListener(ar),this.user=ar}),this.appCheckCredentials.start(ir,ar=>(__PRIVATE_logDebug(Yt$2,"Received new app check token=",ar),this.appCheckCredentialListener(ar,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(er){this.authCredentialListener=er}setAppCheckTokenChangeListener(er){this.appCheckCredentialListener=er}terminate(){this.asyncQueue.enterRestrictedMode();const er=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),er.resolve()}catch(tr){const ir=__PRIVATE_wrapInUserErrorIfRecoverable(tr,"Failed to shutdown persistence");er.reject(ir)}}),er.promise}}async function __PRIVATE_setOfflineComponentProvider(rr,er){rr.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Yt$2,"Initializing OfflineComponentProvider");const tr=rr.configuration;await er.initialize(tr);let ir=tr.initialUser;rr.setCredentialChangeListener(async nr=>{ir.isEqual(nr)||(await __PRIVATE_localStoreHandleUserChange(er.localStore,nr),ir=nr)}),er.persistence.setDatabaseDeletedListener(()=>rr.terminate()),rr._offlineComponents=er}async function __PRIVATE_setOnlineComponentProvider(rr,er){rr.asyncQueue.verifyOperationInProgress();const tr=await __PRIVATE_ensureOfflineComponents(rr);__PRIVATE_logDebug(Yt$2,"Initializing OnlineComponentProvider"),await er.initialize(tr,rr.configuration),rr.setCredentialChangeListener(ir=>__PRIVATE_remoteStoreHandleCredentialChange(er.remoteStore,ir)),rr.setAppCheckTokenChangeListener((ir,nr)=>__PRIVATE_remoteStoreHandleCredentialChange(er.remoteStore,nr)),rr._onlineComponents=er}async function __PRIVATE_ensureOfflineComponents(rr){if(!rr._offlineComponents)if(rr._uninitializedComponentsProvider){__PRIVATE_logDebug(Yt$2,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(rr,rr._uninitializedComponentsProvider._offline)}catch(er){const tr=er;if(!function(nr){return nr.name==="FirebaseError"?nr.code===C$1.FAILED_PRECONDITION||nr.code===C$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&nr instanceof DOMException)||nr.code===22||nr.code===20||nr.code===11}(tr))throw tr;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+tr),await __PRIVATE_setOfflineComponentProvider(rr,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(Yt$2,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(rr,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return rr._offlineComponents}async function __PRIVATE_ensureOnlineComponents(rr){return rr._onlineComponents||(rr._uninitializedComponentsProvider?(__PRIVATE_logDebug(Yt$2,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(rr,rr._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(Yt$2,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(rr,new OnlineComponentProvider))),rr._onlineComponents}function __PRIVATE_getSyncEngine(rr){return __PRIVATE_ensureOnlineComponents(rr).then(er=>er.syncEngine)}async function __PRIVATE_getEventManager(rr){const er=await __PRIVATE_ensureOnlineComponents(rr),tr=er.eventManager;return tr.onListen=__PRIVATE_syncEngineListen.bind(null,er.syncEngine),tr.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,er.syncEngine),tr.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,er.syncEngine),tr.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,er.syncEngine),tr}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(rr,er,tr={}){const ir=new __PRIVATE_Deferred;return rr.asyncQueue.enqueueAndForget(async()=>function(sr,ar,or,lr,cr){const ur=new __PRIVATE_AsyncObserver({next:dr=>{ur.su(),ar.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(sr,hr));const gr=dr.docs.has(or);!gr&&dr.fromCache?cr.reject(new FirestoreError(C$1.UNAVAILABLE,"Failed to get document because the client is offline.")):gr&&dr.fromCache&&lr&&lr.source==="server"?cr.reject(new FirestoreError(C$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):cr.resolve(dr)},error:dr=>cr.reject(dr)}),hr=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(or.path),ur,{includeMetadataChanges:!0,Ta:!0});return __PRIVATE_eventManagerListen(sr,hr)}(await __PRIVATE_getEventManager(rr),rr.asyncQueue,er,tr,ir)),ir.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(rr){const er={};return rr.timeoutSeconds!==void 0&&(er.timeoutSeconds=rr.timeoutSeconds),er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt$1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(rr,er,tr){if(!tr)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Function ${rr}() cannot be called with an empty ${er}.`)}function __PRIVATE_validateIsNotUsedTogether(rr,er,tr,ir){if(er===!0&&ir===!0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`${rr} and ${tr} cannot be used together.`)}function __PRIVATE_validateDocumentPath(rr){if(!DocumentKey.isDocumentKey(rr))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${rr} has ${rr.length}.`)}function __PRIVATE_valueDescription(rr){if(rr===void 0)return"undefined";if(rr===null)return"null";if(typeof rr=="string")return rr.length>20&&(rr=`${rr.substring(0,20)}...`),JSON.stringify(rr);if(typeof rr=="number"||typeof rr=="boolean")return""+rr;if(typeof rr=="object"){if(rr instanceof Array)return"an array";{const er=function(ir){return ir.constructor?ir.constructor.name:null}(rr);return er?`a custom ${er} object`:"an object"}}return typeof rr=="function"?"a function":fail()}function __PRIVATE_cast(rr,er){if("_delegate"in rr&&(rr=rr._delegate),!(rr instanceof er)){if(er.name===rr.constructor.name)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const tr=__PRIVATE_valueDescription(rr);throw new FirestoreError(C$1.INVALID_ARGUMENT,`Expected type '${er.name}', but it was: ${tr}`)}}return rr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt$1="firestore.googleapis.com",en=!0;class FirestoreSettingsImpl{constructor(er){var tr,ir;if(er.host===void 0){if(er.ssl!==void 0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xt$1,this.ssl=en}else this.host=er.host,this.ssl=(tr=er.ssl)!==null&&tr!==void 0?tr:en;if(this.credentials=er.credentials,this.ignoreUndefinedProperties=!!er.ignoreUndefinedProperties,this.localCache=er.localCache,er.cacheSizeBytes===void 0)this.cacheSizeBytes=St$2;else{if(er.cacheSizeBytes!==-1&&er.cacheSizeBytes<Dt$1)throw new FirestoreError(C$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=er.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",er.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",er.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!er.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:er.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!er.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((ir=er.experimentalLongPollingOptions)!==null&&ir!==void 0?ir:{}),function(sr){if(sr.timeoutSeconds!==void 0){if(isNaN(sr.timeoutSeconds))throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${sr.timeoutSeconds} (must not be NaN)`);if(sr.timeoutSeconds<5)throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${sr.timeoutSeconds} (minimum allowed value is 5)`);if(sr.timeoutSeconds>30)throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${sr.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!er.useFetchStreams}isEqual(er){return this.host===er.host&&this.ssl===er.ssl&&this.credentials===er.credentials&&this.cacheSizeBytes===er.cacheSizeBytes&&this.experimentalForceLongPolling===er.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===er.experimentalAutoDetectLongPolling&&function(ir,nr){return ir.timeoutSeconds===nr.timeoutSeconds}(this.experimentalLongPollingOptions,er.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===er.ignoreUndefinedProperties&&this.useFetchStreams===er.useFetchStreams}}class Firestore$1{constructor(er,tr,ir,nr){this._authCredentials=er,this._appCheckCredentials=tr,this._databaseId=ir,this._app=nr,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(C$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(er){if(this._settingsFrozen)throw new FirestoreError(C$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(er),this._emulatorOptions=er.emulatorOptions||{},er.credentials!==void 0&&(this._authCredentials=function(ir){if(!ir)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(ir.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(ir.sessionIndex||"0",ir.iamToken||null,ir.authTokenFactory||null);case"provider":return ir.client;default:throw new FirestoreError(C$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(er.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(tr){const ir=Zt$1.get(tr);ir&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),Zt$1.delete(tr),ir.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(rr,er,tr,ir={}){var nr;const sr=(rr=__PRIVATE_cast(rr,Firestore$1))._getSettings(),ar=Object.assign(Object.assign({},sr),{emulatorOptions:rr._getEmulatorOptions()}),or=`${er}:${tr}`;sr.host!==Xt$1&&sr.host!==or&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const lr=Object.assign(Object.assign({},sr),{host:or,ssl:!1,emulatorOptions:ir});if(!deepEqual(lr,ar)&&(rr._setSettings(lr),ir.mockUserToken)){let cr,ur;if(typeof ir.mockUserToken=="string")cr=ir.mockUserToken,ur=User.MOCK_USER;else{cr=createMockUserToken(ir.mockUserToken,(nr=rr._app)===null||nr===void 0?void 0:nr.options.projectId);const hr=ir.mockUserToken.sub||ir.mockUserToken.user_id;if(!hr)throw new FirestoreError(C$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ur=new User(hr)}rr._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(cr,ur))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(er,tr,ir){this.converter=tr,this._query=ir,this.type="query",this.firestore=er}withConverter(er){return new Query(this.firestore,er,this._query)}}class DocumentReference{constructor(er,tr,ir){this.converter=tr,this._key=ir,this.type="document",this.firestore=er}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(er){return new DocumentReference(this.firestore,er,this._key)}}class CollectionReference extends Query{constructor(er,tr,ir){super(er,tr,__PRIVATE_newQueryForPath(ir)),this._path=ir,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const er=this._path.popLast();return er.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(er))}withConverter(er){return new CollectionReference(this.firestore,er,this._path)}}function doc(rr,er,...tr){if(rr=getModularInstance(rr),arguments.length===1&&(er=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",er),rr instanceof Firestore$1){const ir=ResourcePath.fromString(er,...tr);return __PRIVATE_validateDocumentPath(ir),new DocumentReference(rr,null,new DocumentKey(ir))}{if(!(rr instanceof DocumentReference||rr instanceof CollectionReference))throw new FirestoreError(C$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const ir=rr._path.child(ResourcePath.fromString(er,...tr));return __PRIVATE_validateDocumentPath(ir),new DocumentReference(rr.firestore,rr instanceof CollectionReference?rr.converter:null,new DocumentKey(ir))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(er=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Su=()=>{const ir=getDocument();ir&&__PRIVATE_logDebug(tn,"Visibility state changed to "+ir.visibilityState),this.a_.t_()},this.bu=er;const tr=getDocument();tr&&typeof tr.addEventListener=="function"&&tr.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(er){this.enqueue(er)}enqueueAndForgetEvenWhileRestricted(er){this.Du(),this.vu(er)}enterRestrictedMode(er){if(!this.mu){this.mu=!0,this.yu=er||!1;const tr=getDocument();tr&&typeof tr.removeEventListener=="function"&&tr.removeEventListener("visibilitychange",this.Su)}}enqueue(er){if(this.Du(),this.mu)return new Promise(()=>{});const tr=new __PRIVATE_Deferred;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(er().then(tr.resolve,tr.reject),tr.promise)).then(()=>tr.promise)}enqueueRetryable(er){this.enqueueAndForget(()=>(this.Vu.push(er),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(er){if(!__PRIVATE_isIndexedDbTransactionError(er))throw er;__PRIVATE_logDebug(tn,"Operation failed with retryable error: "+er)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(er){const tr=this.bu.then(()=>(this.pu=!0,er().catch(ir=>{this.gu=ir,this.pu=!1;const nr=function(ar){let or=ar.message||"";return ar.stack&&(or=ar.stack.includes(ar.message)?ar.stack:ar.message+`
`+ar.stack),or}(ir);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",nr),ir}).then(ir=>(this.pu=!1,ir))));return this.bu=tr,tr}enqueueAfterDelay(er,tr,ir){this.Du(),this.wu.indexOf(er)>-1&&(tr=0);const nr=DelayedOperation.createAndSchedule(this,er,tr,ir,sr=>this.Fu(sr));return this.fu.push(nr),nr}Du(){this.gu&&fail()}verifyOperationInProgress(){}async Mu(){let er;do er=this.bu,await er;while(er!==this.bu)}xu(er){for(const tr of this.fu)if(tr.timerId===er)return!0;return!1}Ou(er){return this.Mu().then(()=>{this.fu.sort((tr,ir)=>tr.targetTimeMs-ir.targetTimeMs);for(const tr of this.fu)if(tr.skipDelay(),er!=="all"&&tr.timerId===er)break;return this.Mu()})}Nu(er){this.wu.push(er)}Fu(er){const tr=this.fu.indexOf(er);this.fu.splice(tr,1)}}class Firestore extends Firestore$1{constructor(er,tr,ir,nr){super(er,tr,ir,nr),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(nr==null?void 0:nr.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const er=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(er),this._firestoreClient=void 0,await er}}}function getFirestore(rr,er){const tr=typeof rr=="object"?rr:getApp(),ir=typeof rr=="string"?rr:rt$1,nr=_getProvider(tr,"firestore").getImmediate({identifier:ir});if(!nr._initialized){const sr=getDefaultEmulatorHostnameAndPort("firestore");sr&&connectFirestoreEmulator(nr,...sr)}return nr}function ensureFirestoreConfigured(rr){if(rr._terminated)throw new FirestoreError(C$1.FAILED_PRECONDITION,"The client has already been terminated.");return rr._firestoreClient||__PRIVATE_configureFirestore(rr),rr._firestoreClient}function __PRIVATE_configureFirestore(rr){var er,tr,ir;const nr=rr._freezeSettings(),sr=function(or,lr,cr,ur){return new DatabaseInfo(or,lr,cr,ur.host,ur.ssl,ur.experimentalForceLongPolling,ur.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(ur.experimentalLongPollingOptions),ur.useFetchStreams)}(rr._databaseId,((er=rr._app)===null||er===void 0?void 0:er.options.appId)||"",rr._persistenceKey,nr);rr._componentsProvider||!((tr=nr.localCache)===null||tr===void 0)&&tr._offlineComponentProvider&&(!((ir=nr.localCache)===null||ir===void 0)&&ir._onlineComponentProvider)&&(rr._componentsProvider={_offline:nr.localCache._offlineComponentProvider,_online:nr.localCache._onlineComponentProvider}),rr._firestoreClient=new FirestoreClient(rr._authCredentials,rr._appCheckCredentials,rr._queue,sr,rr._componentsProvider&&function(or){const lr=or==null?void 0:or._online.build();return{_offline:or==null?void 0:or._offline.build(lr),_online:lr}}(rr._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(er){this._byteString=er}static fromBase64String(er){try{return new Bytes(ByteString.fromBase64String(er))}catch(tr){throw new FirestoreError(C$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+tr)}}static fromUint8Array(er){return new Bytes(ByteString.fromUint8Array(er))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(er){return this._byteString.isEqual(er._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...er){for(let tr=0;tr<er.length;++tr)if(er[tr].length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(er)}isEqual(er){return this._internalPath.isEqual(er._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(er){this._methodName=er}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(er,tr){if(!isFinite(er)||er<-90||er>90)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+er);if(!isFinite(tr)||tr<-180||tr>180)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+tr);this._lat=er,this._long=tr}get latitude(){return this._lat}get longitude(){return this._long}isEqual(er){return this._lat===er._lat&&this._long===er._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(er){return __PRIVATE_primitiveComparator(this._lat,er._lat)||__PRIVATE_primitiveComparator(this._long,er._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(er){this._values=(er||[]).map(tr=>tr)}toArray(){return this._values.map(er=>er)}isEqual(er){return function(ir,nr){if(ir.length!==nr.length)return!1;for(let sr=0;sr<ir.length;++sr)if(ir[sr]!==nr[sr])return!1;return!0}(this._values,er._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=/^__.*__$/;class ParsedUpdateData{constructor(er,tr,ir){this.data=er,this.fieldMask=tr,this.fieldTransforms=ir}toMutation(er,tr){return new __PRIVATE_PatchMutation(er,this.data,this.fieldMask,tr,this.fieldTransforms)}}function __PRIVATE_isWrite(rr){switch(rr){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(er,tr,ir,nr,sr,ar){this.settings=er,this.databaseId=tr,this.serializer=ir,this.ignoreUndefinedProperties=nr,sr===void 0&&this.Bu(),this.fieldTransforms=sr||[],this.fieldMask=ar||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(er){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),er),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(er){var tr;const ir=(tr=this.path)===null||tr===void 0?void 0:tr.child(er),nr=this.ku({path:ir,Qu:!1});return nr.$u(er),nr}Uu(er){var tr;const ir=(tr=this.path)===null||tr===void 0?void 0:tr.child(er),nr=this.ku({path:ir,Qu:!1});return nr.Bu(),nr}Ku(er){return this.ku({path:void 0,Qu:!0})}Wu(er){return __PRIVATE_createError(er,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(er){return this.fieldMask.find(tr=>er.isPrefixOf(tr))!==void 0||this.fieldTransforms.find(tr=>er.isPrefixOf(tr.field))!==void 0}Bu(){if(this.path)for(let er=0;er<this.path.length;er++)this.$u(this.path.get(er))}$u(er){if(er.length===0)throw this.Wu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Lu)&&rn.test(er))throw this.Wu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(er,tr,ir){this.databaseId=er,this.ignoreUndefinedProperties=tr,this.serializer=ir||__PRIVATE_newSerializer(er)}ju(er,tr,ir,nr=!1){return new __PRIVATE_ParseContextImpl({Lu:er,methodName:tr,zu:ir,path:FieldPath$1.emptyPath(),Qu:!1,Gu:nr},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(rr){const er=rr._freezeSettings(),tr=__PRIVATE_newSerializer(rr._databaseId);return new __PRIVATE_UserDataReader(rr._databaseId,!!er.ignoreUndefinedProperties,tr)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(er){if(er.Lu!==2)throw er.Lu===1?er.Wu(`${this._methodName}() can only appear at the top level of your update data`):er.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return er.fieldMask.push(er.path),null}isEqual(er){return er instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_NumericIncrementFieldValueImpl extends FieldValue{constructor(er,tr){super(er),this.Ju=tr}_toFieldTransform(er){const tr=new __PRIVATE_NumericIncrementTransformOperation(er.serializer,toNumber(er.serializer,this.Ju));return new FieldTransform(er.path,tr)}isEqual(er){return er instanceof __PRIVATE_NumericIncrementFieldValueImpl&&this.Ju===er.Ju}}function __PRIVATE_parseUpdateData(rr,er,tr,ir){const nr=rr.ju(1,er,tr);__PRIVATE_validatePlainObject("Data must be an object, but it was:",nr,ir);const sr=[],ar=ObjectValue.empty();forEach(ir,(lr,cr)=>{const ur=__PRIVATE_fieldPathFromDotSeparatedString(er,lr,tr);cr=getModularInstance(cr);const hr=nr.Uu(ur);if(cr instanceof __PRIVATE_DeleteFieldValueImpl)sr.push(ur);else{const dr=__PRIVATE_parseData(cr,hr);dr!=null&&(sr.push(ur),ar.set(ur,dr))}});const or=new FieldMask(sr);return new ParsedUpdateData(ar,or,nr.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(rr,er,tr,ir,nr,sr){const ar=rr.ju(1,er,tr),or=[__PRIVATE_fieldPathFromArgument$1(er,ir,tr)],lr=[nr];if(sr.length%2!=0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Function ${er}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let dr=0;dr<sr.length;dr+=2)or.push(__PRIVATE_fieldPathFromArgument$1(er,sr[dr])),lr.push(sr[dr+1]);const cr=[],ur=ObjectValue.empty();for(let dr=or.length-1;dr>=0;--dr)if(!__PRIVATE_fieldMaskContains(cr,or[dr])){const gr=or[dr];let pr=lr[dr];pr=getModularInstance(pr);const mr=ar.Uu(gr);if(pr instanceof __PRIVATE_DeleteFieldValueImpl)cr.push(gr);else{const vr=__PRIVATE_parseData(pr,mr);vr!=null&&(cr.push(gr),ur.set(gr,vr))}}const hr=new FieldMask(cr);return new ParsedUpdateData(ur,hr,ar.fieldTransforms)}function __PRIVATE_parseData(rr,er){if(__PRIVATE_looksLikeJsonObject(rr=getModularInstance(rr)))return __PRIVATE_validatePlainObject("Unsupported field value:",er,rr),__PRIVATE_parseObject(rr,er);if(rr instanceof FieldValue)return function(ir,nr){if(!__PRIVATE_isWrite(nr.Lu))throw nr.Wu(`${ir._methodName}() can only be used with update() and set()`);if(!nr.path)throw nr.Wu(`${ir._methodName}() is not currently supported inside arrays`);const sr=ir._toFieldTransform(nr);sr&&nr.fieldTransforms.push(sr)}(rr,er),null;if(rr===void 0&&er.ignoreUndefinedProperties)return null;if(er.path&&er.fieldMask.push(er.path),rr instanceof Array){if(er.settings.Qu&&er.Lu!==4)throw er.Wu("Nested arrays are not supported");return function(ir,nr){const sr=[];let ar=0;for(const or of ir){let lr=__PRIVATE_parseData(or,nr.Ku(ar));lr==null&&(lr={nullValue:"NULL_VALUE"}),sr.push(lr),ar++}return{arrayValue:{values:sr}}}(rr,er)}return function(ir,nr){if((ir=getModularInstance(ir))===null)return{nullValue:"NULL_VALUE"};if(typeof ir=="number")return toNumber(nr.serializer,ir);if(typeof ir=="boolean")return{booleanValue:ir};if(typeof ir=="string")return{stringValue:ir};if(ir instanceof Date){const sr=Timestamp.fromDate(ir);return{timestampValue:toTimestamp(nr.serializer,sr)}}if(ir instanceof Timestamp){const sr=new Timestamp(ir.seconds,1e3*Math.floor(ir.nanoseconds/1e3));return{timestampValue:toTimestamp(nr.serializer,sr)}}if(ir instanceof GeoPoint)return{geoPointValue:{latitude:ir.latitude,longitude:ir.longitude}};if(ir instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(nr.serializer,ir._byteString)};if(ir instanceof DocumentReference){const sr=nr.databaseId,ar=ir.firestore._databaseId;if(!ar.isEqual(sr))throw nr.Wu(`Document reference is for database ${ar.projectId}/${ar.database} but should be for database ${sr.projectId}/${sr.database}`);return{referenceValue:__PRIVATE_toResourceName(ir.firestore._databaseId||nr.databaseId,ir._key.path)}}if(ir instanceof VectorValue)return function(ar,or){return{mapValue:{fields:{[it$1]:{stringValue:_t$1},[at$1]:{arrayValue:{values:ar.toArray().map(cr=>{if(typeof cr!="number")throw or.Wu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(or.serializer,cr)})}}}}}}(ir,nr);throw nr.Wu(`Unsupported field value: ${__PRIVATE_valueDescription(ir)}`)}(rr,er)}function __PRIVATE_parseObject(rr,er){const tr={};return isEmpty(rr)?er.path&&er.path.length>0&&er.fieldMask.push(er.path):forEach(rr,(ir,nr)=>{const sr=__PRIVATE_parseData(nr,er.qu(ir));sr!=null&&(tr[ir]=sr)}),{mapValue:{fields:tr}}}function __PRIVATE_looksLikeJsonObject(rr){return!(typeof rr!="object"||rr===null||rr instanceof Array||rr instanceof Date||rr instanceof Timestamp||rr instanceof GeoPoint||rr instanceof Bytes||rr instanceof DocumentReference||rr instanceof FieldValue||rr instanceof VectorValue)}function __PRIVATE_validatePlainObject(rr,er,tr){if(!__PRIVATE_looksLikeJsonObject(tr)||!function(nr){return typeof nr=="object"&&nr!==null&&(Object.getPrototypeOf(nr)===Object.prototype||Object.getPrototypeOf(nr)===null)}(tr)){const ir=__PRIVATE_valueDescription(tr);throw ir==="an object"?er.Wu(rr+" a custom object"):er.Wu(rr+" "+ir)}}function __PRIVATE_fieldPathFromArgument$1(rr,er,tr){if((er=getModularInstance(er))instanceof FieldPath)return er._internalPath;if(typeof er=="string")return __PRIVATE_fieldPathFromDotSeparatedString(rr,er);throw __PRIVATE_createError("Field path arguments must be of type string or ",rr,!1,void 0,tr)}const sn=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(rr,er,tr){if(er.search(sn)>=0)throw __PRIVATE_createError(`Invalid field path (${er}). Paths must not contain '~', '*', '/', '[', or ']'`,rr,!1,void 0,tr);try{return new FieldPath(...er.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${er}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,rr,!1,void 0,tr)}}function __PRIVATE_createError(rr,er,tr,ir,nr){const sr=ir&&!ir.isEmpty(),ar=nr!==void 0;let or=`Function ${er}() called with invalid data`;tr&&(or+=" (via `toFirestore()`)"),or+=". ";let lr="";return(sr||ar)&&(lr+=" (found",sr&&(lr+=` in field ${ir}`),ar&&(lr+=` in document ${nr}`),lr+=")"),new FirestoreError(C$1.INVALID_ARGUMENT,or+rr+lr)}function __PRIVATE_fieldMaskContains(rr,er){return rr.some(tr=>tr.isEqual(er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(er,tr,ir,nr,sr){this._firestore=er,this._userDataWriter=tr,this._key=ir,this._document=nr,this._converter=sr}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const er=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(er)}return this._userDataWriter.convertValue(this._document.data.value)}}get(er){if(this._document){const tr=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",er));if(tr!==null)return this._userDataWriter.convertValue(tr)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(rr,er){return typeof er=="string"?__PRIVATE_fieldPathFromDotSeparatedString(rr,er):er instanceof FieldPath?er._internalPath:er._delegate._internalPath}class AbstractUserDataWriter{convertValue(er,tr="none"){switch(__PRIVATE_typeOrder(er)){case 0:return null;case 1:return er.booleanValue;case 2:return __PRIVATE_normalizeNumber(er.integerValue||er.doubleValue);case 3:return this.convertTimestamp(er.timestampValue);case 4:return this.convertServerTimestamp(er,tr);case 5:return er.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(er.bytesValue));case 7:return this.convertReference(er.referenceValue);case 8:return this.convertGeoPoint(er.geoPointValue);case 9:return this.convertArray(er.arrayValue,tr);case 11:return this.convertObject(er.mapValue,tr);case 10:return this.convertVectorValue(er.mapValue);default:throw fail()}}convertObject(er,tr){return this.convertObjectMap(er.fields,tr)}convertObjectMap(er,tr="none"){const ir={};return forEach(er,(nr,sr)=>{ir[nr]=this.convertValue(sr,tr)}),ir}convertVectorValue(er){var tr,ir,nr;const sr=(nr=(ir=(tr=er.fields)===null||tr===void 0?void 0:tr[at$1].arrayValue)===null||ir===void 0?void 0:ir.values)===null||nr===void 0?void 0:nr.map(ar=>__PRIVATE_normalizeNumber(ar.doubleValue));return new VectorValue(sr)}convertGeoPoint(er){return new GeoPoint(__PRIVATE_normalizeNumber(er.latitude),__PRIVATE_normalizeNumber(er.longitude))}convertArray(er,tr){return(er.values||[]).map(ir=>this.convertValue(ir,tr))}convertServerTimestamp(er,tr){switch(tr){case"previous":const ir=__PRIVATE_getPreviousValue(er);return ir==null?null:this.convertValue(ir,tr);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(er));default:return null}}convertTimestamp(er){const tr=__PRIVATE_normalizeTimestamp(er);return new Timestamp(tr.seconds,tr.nanos)}convertDocumentKey(er,tr){const ir=ResourcePath.fromString(er);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(ir));const nr=new DatabaseId(ir.get(1),ir.get(3)),sr=new DocumentKey(ir.popFirst(5));return nr.isEqual(tr)||__PRIVATE_logError(`Document ${sr} contains a document reference within a different database (${nr.projectId}/${nr.database}) which is not supported. It will be treated as a reference in the current database (${tr.projectId}/${tr.database}) instead.`),sr}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(er,tr){this.hasPendingWrites=er,this.fromCache=tr}isEqual(er){return this.hasPendingWrites===er.hasPendingWrites&&this.fromCache===er.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(er,tr,ir,nr,sr,ar){super(er,tr,ir,nr,ar),this._firestore=er,this._firestoreImpl=er,this.metadata=sr}exists(){return super.exists()}data(er={}){if(this._document){if(this._converter){const tr=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(tr,er)}return this._userDataWriter.convertValue(this._document.data.value,er.serverTimestamps)}}get(er,tr={}){if(this._document){const ir=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",er));if(ir!==null)return this._userDataWriter.convertValue(ir,tr.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(er={}){return super.data(er)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(rr){rr=__PRIVATE_cast(rr,DocumentReference);const er=__PRIVATE_cast(rr.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(er),rr._key).then(tr=>__PRIVATE_convertToDocSnapshot(er,rr,tr))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(er){super(),this.firestore=er}convertBytes(er){return new Bytes(er)}convertReference(er){const tr=this.convertDocumentKey(er,this.firestore._databaseId);return new DocumentReference(this.firestore,null,tr)}}function updateDoc(rr,er,tr,...ir){rr=__PRIVATE_cast(rr,DocumentReference);const nr=__PRIVATE_cast(rr.firestore,Firestore),sr=__PRIVATE_newUserDataReader(nr);let ar;return ar=typeof(er=getModularInstance(er))=="string"||er instanceof FieldPath?__PRIVATE_parseUpdateVarargs(sr,"updateDoc",rr._key,er,tr,ir):__PRIVATE_parseUpdateData(sr,"updateDoc",rr._key,er),executeWrite(nr,[ar.toMutation(rr._key,Precondition.exists(!0))])}function executeWrite(rr,er){return function(ir,nr){const sr=new __PRIVATE_Deferred;return ir.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(ir),nr,sr)),sr.promise}(ensureFirestoreConfigured(rr),er)}function __PRIVATE_convertToDocSnapshot(rr,er,tr){const ir=tr.docs.get(er._key),nr=new __PRIVATE_ExpUserDataWriter(rr);return new DocumentSnapshot(rr,nr,er._key,ir,new SnapshotMetadata(tr.hasPendingWrites,tr.fromCache),er.converter)}function increment(rr){return new __PRIVATE_NumericIncrementFieldValueImpl("increment",rr)}(function rr(er,tr=!0){(function(nr){D$1=nr})(SDK_VERSION),_registerComponent(new Component("firestore",(ir,{instanceIdentifier:nr,options:sr})=>{const ar=ir.getProvider("app").getImmediate(),or=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(ir.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(ar,ir.getProvider("app-check-internal")),function(cr,ur){if(!Object.prototype.hasOwnProperty.apply(cr.options,["projectId"]))throw new FirestoreError(C$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(cr.options.projectId,ur)}(ar,nr),ar);return sr=Object.assign({useFetchStreams:tr},sr),or._setSettings(sr),or},"PUBLIC").setMultipleInstances(!0)),registerVersion(S$2,b$1,er),registerVersion(S$2,b$1,"esm2017")})();function __rest(rr,er){var tr={};for(var ir in rr)Object.prototype.hasOwnProperty.call(rr,ir)&&er.indexOf(ir)<0&&(tr[ir]=rr[ir]);if(rr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,ir=Object.getOwnPropertySymbols(rr);nr<ir.length;nr++)er.indexOf(ir[nr])<0&&Object.prototype.propertyIsEnumerable.call(rr,ir[nr])&&(tr[ir[nr]]=rr[ir[nr]]);return tr}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(rr,...er){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${rr}`,...er)}function _logError(rr,...er){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${rr}`,...er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(rr,...er){throw createErrorInternal(rr,...er)}function _createError(rr,...er){return createErrorInternal(rr,...er)}function _errorWithCustomMessage(rr,er,tr){const ir=Object.assign(Object.assign({},prodErrorMap()),{[er]:tr});return new ErrorFactory("auth","Firebase",ir).create(er,{appName:rr.name})}function _serverAppCurrentUserOperationNotSupportedError(rr){return _errorWithCustomMessage(rr,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(rr,...er){if(typeof rr!="string"){const tr=er[0],ir=[...er.slice(1)];return ir[0]&&(ir[0].appName=rr.name),rr._errorFactory.create(tr,...ir)}return _DEFAULT_AUTH_ERROR_FACTORY.create(rr,...er)}function _assert(rr,er,...tr){if(!rr)throw createErrorInternal(er,...tr)}function debugFail(rr){const er="INTERNAL ASSERTION FAILED: "+rr;throw _logError(er),new Error(er)}function debugAssert(rr,er){rr||debugFail(er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var rr;return typeof self<"u"&&((rr=self.location)===null||rr===void 0?void 0:rr.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var rr;return typeof self<"u"&&((rr=self.location)===null||rr===void 0?void 0:rr.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const rr=navigator;return rr.languages&&rr.languages[0]||rr.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(er,tr){this.shortDelay=er,this.longDelay=tr,debugAssert(tr>er,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(rr,er){debugAssert(rr.emulator,"Emulator should always be set here");const{url:tr}=rr.emulator;return er?`${tr}${er.startsWith("/")?er.slice(1):er}`:tr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(er,tr,ir){this.fetchImpl=er,tr&&(this.headersImpl=tr),ir&&(this.responseImpl=ir)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(rr,er){return rr.tenantId&&!er.tenantId?Object.assign(Object.assign({},er),{tenantId:rr.tenantId}):er}async function _performApiRequest(rr,er,tr,ir,nr={}){return _performFetchWithErrorHandling(rr,nr,async()=>{let sr={},ar={};ir&&(er==="GET"?ar=ir:sr={body:JSON.stringify(ir)});const or=querystring(Object.assign({key:rr.config.apiKey},ar)).slice(1),lr=await rr._getAdditionalHeaders();lr["Content-Type"]="application/json",rr.languageCode&&(lr["X-Firebase-Locale"]=rr.languageCode);const cr=Object.assign({method:er,headers:lr},sr);return isCloudflareWorker()||(cr.referrerPolicy="no-referrer"),FetchProvider.fetch()(await _getFinalTarget(rr,rr.config.apiHost,tr,or),cr)})}async function _performFetchWithErrorHandling(rr,er,tr){rr._canInitEmulator=!1;const ir=Object.assign(Object.assign({},SERVER_ERROR_MAP),er);try{const nr=new NetworkTimeout(rr),sr=await Promise.race([tr(),nr.promise]);nr.clearNetworkTimeout();const ar=await sr.json();if("needConfirmation"in ar)throw _makeTaggedError(rr,"account-exists-with-different-credential",ar);if(sr.ok&&!("errorMessage"in ar))return ar;{const or=sr.ok?ar.errorMessage:ar.error.message,[lr,cr]=or.split(" : ");if(lr==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(rr,"credential-already-in-use",ar);if(lr==="EMAIL_EXISTS")throw _makeTaggedError(rr,"email-already-in-use",ar);if(lr==="USER_DISABLED")throw _makeTaggedError(rr,"user-disabled",ar);const ur=ir[lr]||lr.toLowerCase().replace(/[_\s]+/g,"-");if(cr)throw _errorWithCustomMessage(rr,ur,cr);_fail(rr,ur)}}catch(nr){if(nr instanceof FirebaseError)throw nr;_fail(rr,"network-request-failed",{message:String(nr)})}}async function _performSignInRequest(rr,er,tr,ir,nr={}){const sr=await _performApiRequest(rr,er,tr,ir,nr);return"mfaPendingCredential"in sr&&_fail(rr,"multi-factor-auth-required",{_serverResponse:sr}),sr}async function _getFinalTarget(rr,er,tr,ir){const nr=`${er}${tr}?${ir}`,sr=rr,ar=sr.config.emulator?_emulatorUrl(rr.config,nr):`${rr.config.apiScheme}://${nr}`;return CookieAuthProxiedEndpoints.includes(tr)&&(await sr._persistenceManagerAvailable,sr._getPersistenceType()==="COOKIE")?sr._getPersistence()._getFinalTarget(ar).toString():ar}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(er){this.auth=er,this.timer=null,this.promise=new Promise((tr,ir)=>{this.timer=setTimeout(()=>ir(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(rr,er,tr){const ir={appName:rr.name};tr.email&&(ir.email=tr.email),tr.phoneNumber&&(ir.phoneNumber=tr.phoneNumber);const nr=_createError(rr,er,ir);return nr.customData._tokenResponse=tr,nr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(rr,er){return _performApiRequest(rr,"POST","/v1/accounts:delete",er)}async function getAccountInfo(rr,er){return _performApiRequest(rr,"POST","/v1/accounts:lookup",er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(rr){if(rr)try{const er=new Date(Number(rr));if(!isNaN(er.getTime()))return er.toUTCString()}catch{}}async function getIdTokenResult(rr,er=!1){const tr=getModularInstance(rr),ir=await tr.getIdToken(er),nr=_parseToken(ir);_assert(nr&&nr.exp&&nr.auth_time&&nr.iat,tr.auth,"internal-error");const sr=typeof nr.firebase=="object"?nr.firebase:void 0,ar=sr==null?void 0:sr.sign_in_provider;return{claims:nr,token:ir,authTime:utcTimestampToDateString(secondsStringToMilliseconds(nr.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(nr.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(nr.exp)),signInProvider:ar||null,signInSecondFactor:(sr==null?void 0:sr.sign_in_second_factor)||null}}function secondsStringToMilliseconds(rr){return Number(rr)*1e3}function _parseToken(rr){const[er,tr,ir]=rr.split(".");if(er===void 0||tr===void 0||ir===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const nr=base64Decode(tr);return nr?JSON.parse(nr):(_logError("Failed to decode base64 JWT payload"),null)}catch(nr){return _logError("Caught error parsing JWT payload as JSON",nr==null?void 0:nr.toString()),null}}function _tokenExpiresIn(rr){const er=_parseToken(rr);return _assert(er,"internal-error"),_assert(typeof er.exp<"u","internal-error"),_assert(typeof er.iat<"u","internal-error"),Number(er.exp)-Number(er.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(rr,er,tr=!1){if(tr)return er;try{return await er}catch(ir){throw ir instanceof FirebaseError&&isUserInvalidated(ir)&&rr.auth.currentUser===rr&&await rr.auth.signOut(),ir}}function isUserInvalidated({code:rr}){return rr==="auth/user-disabled"||rr==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(er){this.user=er,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(er){var tr;if(er){const ir=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),ir}else{this.errorBackoff=3e4;const nr=((tr=this.user.stsTokenManager.expirationTime)!==null&&tr!==void 0?tr:0)-Date.now()-3e5;return Math.max(0,nr)}}schedule(er=!1){if(!this.isRunning)return;const tr=this.getInterval(er);this.timerId=setTimeout(async()=>{await this.iteration()},tr)}async iteration(){try{await this.user.getIdToken(!0)}catch(er){(er==null?void 0:er.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(er,tr){this.createdAt=er,this.lastLoginAt=tr,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(er){this.createdAt=er.createdAt,this.lastLoginAt=er.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(rr){var er;const tr=rr.auth,ir=await rr.getIdToken(),nr=await _logoutIfInvalidated(rr,getAccountInfo(tr,{idToken:ir}));_assert(nr==null?void 0:nr.users.length,tr,"internal-error");const sr=nr.users[0];rr._notifyReloadListener(sr);const ar=!((er=sr.providerUserInfo)===null||er===void 0)&&er.length?extractProviderData(sr.providerUserInfo):[],or=mergeProviderData(rr.providerData,ar),lr=rr.isAnonymous,cr=!(rr.email&&sr.passwordHash)&&!(or!=null&&or.length),ur=lr?cr:!1,hr={uid:sr.localId,displayName:sr.displayName||null,photoURL:sr.photoUrl||null,email:sr.email||null,emailVerified:sr.emailVerified||!1,phoneNumber:sr.phoneNumber||null,tenantId:sr.tenantId||null,providerData:or,metadata:new UserMetadata(sr.createdAt,sr.lastLoginAt),isAnonymous:ur};Object.assign(rr,hr)}async function reload(rr){const er=getModularInstance(rr);await _reloadWithoutSaving(er),await er.auth._persistUserIfCurrent(er),er.auth._notifyListenersIfCurrent(er)}function mergeProviderData(rr,er){return[...rr.filter(ir=>!er.some(nr=>nr.providerId===ir.providerId)),...er]}function extractProviderData(rr){return rr.map(er=>{var{providerId:tr}=er,ir=__rest(er,["providerId"]);return{providerId:tr,uid:ir.rawId||"",displayName:ir.displayName||null,email:ir.email||null,phoneNumber:ir.phoneNumber||null,photoURL:ir.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(rr,er){const tr=await _performFetchWithErrorHandling(rr,{},async()=>{const ir=querystring({grant_type:"refresh_token",refresh_token:er}).slice(1),{tokenApiHost:nr,apiKey:sr}=rr.config,ar=await _getFinalTarget(rr,nr,"/v1/token",`key=${sr}`),or=await rr._getAdditionalHeaders();return or["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(ar,{method:"POST",headers:or,body:ir})});return{accessToken:tr.access_token,expiresIn:tr.expires_in,refreshToken:tr.refresh_token}}async function revokeToken(rr,er){return _performApiRequest(rr,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(rr,er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(er){_assert(er.idToken,"internal-error"),_assert(typeof er.idToken<"u","internal-error"),_assert(typeof er.refreshToken<"u","internal-error");const tr="expiresIn"in er&&typeof er.expiresIn<"u"?Number(er.expiresIn):_tokenExpiresIn(er.idToken);this.updateTokensAndExpiration(er.idToken,er.refreshToken,tr)}updateFromIdToken(er){_assert(er.length!==0,"internal-error");const tr=_tokenExpiresIn(er);this.updateTokensAndExpiration(er,null,tr)}async getToken(er,tr=!1){return!tr&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,er,"user-token-expired"),this.refreshToken?(await this.refresh(er,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(er,tr){const{accessToken:ir,refreshToken:nr,expiresIn:sr}=await requestStsToken(er,tr);this.updateTokensAndExpiration(ir,nr,Number(sr))}updateTokensAndExpiration(er,tr,ir){this.refreshToken=tr||null,this.accessToken=er||null,this.expirationTime=Date.now()+ir*1e3}static fromJSON(er,tr){const{refreshToken:ir,accessToken:nr,expirationTime:sr}=tr,ar=new StsTokenManager;return ir&&(_assert(typeof ir=="string","internal-error",{appName:er}),ar.refreshToken=ir),nr&&(_assert(typeof nr=="string","internal-error",{appName:er}),ar.accessToken=nr),sr&&(_assert(typeof sr=="number","internal-error",{appName:er}),ar.expirationTime=sr),ar}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(er){this.accessToken=er.accessToken,this.refreshToken=er.refreshToken,this.expirationTime=er.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(rr,er){_assert(typeof rr=="string"||typeof rr>"u","internal-error",{appName:er})}class UserImpl{constructor(er){var{uid:tr,auth:ir,stsTokenManager:nr}=er,sr=__rest(er,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=tr,this.auth=ir,this.stsTokenManager=nr,this.accessToken=nr.accessToken,this.displayName=sr.displayName||null,this.email=sr.email||null,this.emailVerified=sr.emailVerified||!1,this.phoneNumber=sr.phoneNumber||null,this.photoURL=sr.photoURL||null,this.isAnonymous=sr.isAnonymous||!1,this.tenantId=sr.tenantId||null,this.providerData=sr.providerData?[...sr.providerData]:[],this.metadata=new UserMetadata(sr.createdAt||void 0,sr.lastLoginAt||void 0)}async getIdToken(er){const tr=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,er));return _assert(tr,this.auth,"internal-error"),this.accessToken!==tr&&(this.accessToken=tr,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),tr}getIdTokenResult(er){return getIdTokenResult(this,er)}reload(){return reload(this)}_assign(er){this!==er&&(_assert(this.uid===er.uid,this.auth,"internal-error"),this.displayName=er.displayName,this.photoURL=er.photoURL,this.email=er.email,this.emailVerified=er.emailVerified,this.phoneNumber=er.phoneNumber,this.isAnonymous=er.isAnonymous,this.tenantId=er.tenantId,this.providerData=er.providerData.map(tr=>Object.assign({},tr)),this.metadata._copy(er.metadata),this.stsTokenManager._assign(er.stsTokenManager))}_clone(er){const tr=new UserImpl(Object.assign(Object.assign({},this),{auth:er,stsTokenManager:this.stsTokenManager._clone()}));return tr.metadata._copy(this.metadata),tr}_onReload(er){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=er,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(er){this.reloadListener?this.reloadListener(er):this.reloadUserInfo=er}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(er,tr=!1){let ir=!1;er.idToken&&er.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(er),ir=!0),tr&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),ir&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const er=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:er})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(er=>Object.assign({},er)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(er,tr){var ir,nr,sr,ar,or,lr,cr,ur;const hr=(ir=tr.displayName)!==null&&ir!==void 0?ir:void 0,dr=(nr=tr.email)!==null&&nr!==void 0?nr:void 0,gr=(sr=tr.phoneNumber)!==null&&sr!==void 0?sr:void 0,pr=(ar=tr.photoURL)!==null&&ar!==void 0?ar:void 0,mr=(or=tr.tenantId)!==null&&or!==void 0?or:void 0,vr=(lr=tr._redirectEventId)!==null&&lr!==void 0?lr:void 0,yr=(cr=tr.createdAt)!==null&&cr!==void 0?cr:void 0,br=(ur=tr.lastLoginAt)!==null&&ur!==void 0?ur:void 0,{uid:wr,emailVerified:Pr,isAnonymous:Tr,providerData:Vr,stsTokenManager:Ar}=tr;_assert(wr&&Ar,er,"internal-error");const xr=StsTokenManager.fromJSON(this.name,Ar);_assert(typeof wr=="string",er,"internal-error"),assertStringOrUndefined(hr,er.name),assertStringOrUndefined(dr,er.name),_assert(typeof Pr=="boolean",er,"internal-error"),_assert(typeof Tr=="boolean",er,"internal-error"),assertStringOrUndefined(gr,er.name),assertStringOrUndefined(pr,er.name),assertStringOrUndefined(mr,er.name),assertStringOrUndefined(vr,er.name),assertStringOrUndefined(yr,er.name),assertStringOrUndefined(br,er.name);const Er=new UserImpl({uid:wr,auth:er,email:dr,emailVerified:Pr,displayName:hr,isAnonymous:Tr,photoURL:pr,phoneNumber:gr,tenantId:mr,stsTokenManager:xr,createdAt:yr,lastLoginAt:br});return Vr&&Array.isArray(Vr)&&(Er.providerData=Vr.map(Cr=>Object.assign({},Cr))),vr&&(Er._redirectEventId=vr),Er}static async _fromIdTokenResponse(er,tr,ir=!1){const nr=new StsTokenManager;nr.updateFromServerResponse(tr);const sr=new UserImpl({uid:tr.localId,auth:er,stsTokenManager:nr,isAnonymous:ir});return await _reloadWithoutSaving(sr),sr}static async _fromGetAccountInfoResponse(er,tr,ir){const nr=tr.users[0];_assert(nr.localId!==void 0,"internal-error");const sr=nr.providerUserInfo!==void 0?extractProviderData(nr.providerUserInfo):[],ar=!(nr.email&&nr.passwordHash)&&!(sr!=null&&sr.length),or=new StsTokenManager;or.updateFromIdToken(ir);const lr=new UserImpl({uid:nr.localId,auth:er,stsTokenManager:or,isAnonymous:ar}),cr={uid:nr.localId,displayName:nr.displayName||null,photoURL:nr.photoUrl||null,email:nr.email||null,emailVerified:nr.emailVerified||!1,phoneNumber:nr.phoneNumber||null,tenantId:nr.tenantId||null,providerData:sr,metadata:new UserMetadata(nr.createdAt,nr.lastLoginAt),isAnonymous:!(nr.email&&nr.passwordHash)&&!(sr!=null&&sr.length)};return Object.assign(lr,cr),lr}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(rr){debugAssert(rr instanceof Function,"Expected a class definition");let er=instanceCache.get(rr);return er?(debugAssert(er instanceof rr,"Instance stored in cache mismatched with class"),er):(er=new rr,instanceCache.set(rr,er),er)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(er,tr){this.storage[er]=tr}async _get(er){const tr=this.storage[er];return tr===void 0?null:tr}async _remove(er){delete this.storage[er]}_addListener(er,tr){}_removeListener(er,tr){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(rr,er,tr){return`firebase:${rr}:${er}:${tr}`}class PersistenceUserManager{constructor(er,tr,ir){this.persistence=er,this.auth=tr,this.userKey=ir;const{config:nr,name:sr}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,nr.apiKey,sr),this.fullPersistenceKey=_persistenceKeyName("persistence",nr.apiKey,sr),this.boundEventHandler=tr._onStorageEvent.bind(tr),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(er){return this.persistence._set(this.fullUserKey,er.toJSON())}async getCurrentUser(){const er=await this.persistence._get(this.fullUserKey);if(!er)return null;if(typeof er=="string"){const tr=await getAccountInfo(this.auth,{idToken:er}).catch(()=>{});return tr?UserImpl._fromGetAccountInfoResponse(this.auth,tr,er):null}return UserImpl._fromJSON(this.auth,er)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(er){if(this.persistence===er)return;const tr=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=er,tr)return this.setCurrentUser(tr)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(er,tr,ir="authUser"){if(!tr.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),er,ir);const nr=(await Promise.all(tr.map(async cr=>{if(await cr._isAvailable())return cr}))).filter(cr=>cr);let sr=nr[0]||_getInstance(inMemoryPersistence);const ar=_persistenceKeyName(ir,er.config.apiKey,er.name);let or=null;for(const cr of tr)try{const ur=await cr._get(ar);if(ur){let hr;if(typeof ur=="string"){const dr=await getAccountInfo(er,{idToken:ur}).catch(()=>{});if(!dr)break;hr=await UserImpl._fromGetAccountInfoResponse(er,dr,ur)}else hr=UserImpl._fromJSON(er,ur);cr!==sr&&(or=hr),sr=cr;break}}catch{}const lr=nr.filter(cr=>cr._shouldAllowMigration);return!sr._shouldAllowMigration||!lr.length?new PersistenceUserManager(sr,er,ir):(sr=lr[0],or&&await sr._set(ar,or.toJSON()),await Promise.all(tr.map(async cr=>{if(cr!==sr)try{await cr._remove(ar)}catch{}})),new PersistenceUserManager(sr,er,ir))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(rr){const er=rr.toLowerCase();if(er.includes("opera/")||er.includes("opr/")||er.includes("opios/"))return"Opera";if(_isIEMobile(er))return"IEMobile";if(er.includes("msie")||er.includes("trident/"))return"IE";if(er.includes("edge/"))return"Edge";if(_isFirefox(er))return"Firefox";if(er.includes("silk/"))return"Silk";if(_isBlackBerry(er))return"Blackberry";if(_isWebOS(er))return"Webos";if(_isSafari(er))return"Safari";if((er.includes("chrome/")||_isChromeIOS(er))&&!er.includes("edge/"))return"Chrome";if(_isAndroid(er))return"Android";{const tr=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,ir=rr.match(tr);if((ir==null?void 0:ir.length)===2)return ir[1]}return"Other"}function _isFirefox(rr=getUA()){return/firefox\//i.test(rr)}function _isSafari(rr=getUA()){const er=rr.toLowerCase();return er.includes("safari/")&&!er.includes("chrome/")&&!er.includes("crios/")&&!er.includes("android")}function _isChromeIOS(rr=getUA()){return/crios\//i.test(rr)}function _isIEMobile(rr=getUA()){return/iemobile/i.test(rr)}function _isAndroid(rr=getUA()){return/android/i.test(rr)}function _isBlackBerry(rr=getUA()){return/blackberry/i.test(rr)}function _isWebOS(rr=getUA()){return/webos/i.test(rr)}function _isIOS(rr=getUA()){return/iphone|ipad|ipod/i.test(rr)||/macintosh/i.test(rr)&&/mobile/i.test(rr)}function _isIOSStandalone(rr=getUA()){var er;return _isIOS(rr)&&!!(!((er=window.navigator)===null||er===void 0)&&er.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(rr=getUA()){return _isIOS(rr)||_isAndroid(rr)||_isWebOS(rr)||_isBlackBerry(rr)||/windows phone/i.test(rr)||_isIEMobile(rr)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(rr,er=[]){let tr;switch(rr){case"Browser":tr=_getBrowserName(getUA());break;case"Worker":tr=`${_getBrowserName(getUA())}-${rr}`;break;default:tr=rr}const ir=er.length?er.join(","):"FirebaseCore-web";return`${tr}/JsCore/${SDK_VERSION}/${ir}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(er){this.auth=er,this.queue=[]}pushCallback(er,tr){const ir=sr=>new Promise((ar,or)=>{try{const lr=er(sr);ar(lr)}catch(lr){or(lr)}});ir.onAbort=tr,this.queue.push(ir);const nr=this.queue.length-1;return()=>{this.queue[nr]=()=>Promise.resolve()}}async runMiddleware(er){if(this.auth.currentUser===er)return;const tr=[];try{for(const ir of this.queue)await ir(er),ir.onAbort&&tr.push(ir.onAbort)}catch(ir){tr.reverse();for(const nr of tr)try{nr()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:ir==null?void 0:ir.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(rr,er={}){return _performApiRequest(rr,"GET","/v2/passwordPolicy",_addTidIfNecessary(rr,er))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(er){var tr,ir,nr,sr;const ar=er.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(tr=ar.minPasswordLength)!==null&&tr!==void 0?tr:MINIMUM_MIN_PASSWORD_LENGTH,ar.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ar.maxPasswordLength),ar.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=ar.containsLowercaseCharacter),ar.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=ar.containsUppercaseCharacter),ar.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=ar.containsNumericCharacter),ar.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ar.containsNonAlphanumericCharacter),this.enforcementState=er.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(nr=(ir=er.allowedNonAlphanumericCharacters)===null||ir===void 0?void 0:ir.join(""))!==null&&nr!==void 0?nr:"",this.forceUpgradeOnSignin=(sr=er.forceUpgradeOnSignin)!==null&&sr!==void 0?sr:!1,this.schemaVersion=er.schemaVersion}validatePassword(er){var tr,ir,nr,sr,ar,or;const lr={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(er,lr),this.validatePasswordCharacterOptions(er,lr),lr.isValid&&(lr.isValid=(tr=lr.meetsMinPasswordLength)!==null&&tr!==void 0?tr:!0),lr.isValid&&(lr.isValid=(ir=lr.meetsMaxPasswordLength)!==null&&ir!==void 0?ir:!0),lr.isValid&&(lr.isValid=(nr=lr.containsLowercaseLetter)!==null&&nr!==void 0?nr:!0),lr.isValid&&(lr.isValid=(sr=lr.containsUppercaseLetter)!==null&&sr!==void 0?sr:!0),lr.isValid&&(lr.isValid=(ar=lr.containsNumericCharacter)!==null&&ar!==void 0?ar:!0),lr.isValid&&(lr.isValid=(or=lr.containsNonAlphanumericCharacter)!==null&&or!==void 0?or:!0),lr}validatePasswordLengthOptions(er,tr){const ir=this.customStrengthOptions.minPasswordLength,nr=this.customStrengthOptions.maxPasswordLength;ir&&(tr.meetsMinPasswordLength=er.length>=ir),nr&&(tr.meetsMaxPasswordLength=er.length<=nr)}validatePasswordCharacterOptions(er,tr){this.updatePasswordCharacterOptionsStatuses(tr,!1,!1,!1,!1);let ir;for(let nr=0;nr<er.length;nr++)ir=er.charAt(nr),this.updatePasswordCharacterOptionsStatuses(tr,ir>="a"&&ir<="z",ir>="A"&&ir<="Z",ir>="0"&&ir<="9",this.allowedNonAlphanumericCharacters.includes(ir))}updatePasswordCharacterOptionsStatuses(er,tr,ir,nr,sr){this.customStrengthOptions.containsLowercaseLetter&&(er.containsLowercaseLetter||(er.containsLowercaseLetter=tr)),this.customStrengthOptions.containsUppercaseLetter&&(er.containsUppercaseLetter||(er.containsUppercaseLetter=ir)),this.customStrengthOptions.containsNumericCharacter&&(er.containsNumericCharacter||(er.containsNumericCharacter=nr)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(er.containsNonAlphanumericCharacter||(er.containsNonAlphanumericCharacter=sr))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(er,tr,ir,nr){this.app=er,this.heartbeatServiceProvider=tr,this.appCheckServiceProvider=ir,this.config=nr,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=er.name,this.clientVersion=nr.sdkClientVersion,this._persistenceManagerAvailable=new Promise(sr=>this._resolvePersistenceManagerAvailable=sr)}_initializeWithPersistence(er,tr){return tr&&(this._popupRedirectResolver=_getInstance(tr)),this._initializationPromise=this.queue(async()=>{var ir,nr,sr;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,er),(ir=this._resolvePersistenceManagerAvailable)===null||ir===void 0||ir.call(this),!this._deleted)){if(!((nr=this._popupRedirectResolver)===null||nr===void 0)&&nr._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(tr),this.lastNotifiedUid=((sr=this.currentUser)===null||sr===void 0?void 0:sr.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const er=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!er)){if(this.currentUser&&er&&this.currentUser.uid===er.uid){this._currentUser._assign(er),await this.currentUser.getIdToken();return}await this._updateCurrentUser(er,!0)}}async initializeCurrentUserFromIdToken(er){try{const tr=await getAccountInfo(this,{idToken:er}),ir=await UserImpl._fromGetAccountInfoResponse(this,tr,er);await this.directlySetCurrentUser(ir)}catch(tr){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",tr),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(er){var tr;if(_isFirebaseServerApp(this.app)){const ar=this.app.settings.authIdToken;return ar?new Promise(or=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(ar).then(or,or))}):this.directlySetCurrentUser(null)}const ir=await this.assertedPersistence.getCurrentUser();let nr=ir,sr=!1;if(er&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const ar=(tr=this.redirectUser)===null||tr===void 0?void 0:tr._redirectEventId,or=nr==null?void 0:nr._redirectEventId,lr=await this.tryRedirectSignIn(er);(!ar||ar===or)&&(lr!=null&&lr.user)&&(nr=lr.user,sr=!0)}if(!nr)return this.directlySetCurrentUser(null);if(!nr._redirectEventId){if(sr)try{await this.beforeStateQueue.runMiddleware(nr)}catch(ar){nr=ir,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ar))}return nr?this.reloadAndSetCurrentUserOrClear(nr):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===nr._redirectEventId?this.directlySetCurrentUser(nr):this.reloadAndSetCurrentUserOrClear(nr)}async tryRedirectSignIn(er){let tr=null;try{tr=await this._popupRedirectResolver._completeRedirectFn(this,er,!0)}catch{await this._setRedirectUser(null)}return tr}async reloadAndSetCurrentUserOrClear(er){try{await _reloadWithoutSaving(er)}catch(tr){if((tr==null?void 0:tr.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(er)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(er){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const tr=er?getModularInstance(er):null;return tr&&_assert(tr.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(tr&&tr._clone(this))}async _updateCurrentUser(er,tr=!1){if(!this._deleted)return er&&_assert(this.tenantId===er.tenantId,this,"tenant-id-mismatch"),tr||await this.beforeStateQueue.runMiddleware(er),this.queue(async()=>{await this.directlySetCurrentUser(er),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(er){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(er))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(er){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const tr=this._getPasswordPolicyInternal();return tr.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):tr.validatePassword(er)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const er=await _getPasswordPolicy(this),tr=new PasswordPolicyImpl(er);this.tenantId===null?this._projectPasswordPolicy=tr:this._tenantPasswordPolicies[this.tenantId]=tr}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(er){this._errorFactory=new ErrorFactory("auth","Firebase",er())}onAuthStateChanged(er,tr,ir){return this.registerStateListener(this.authStateSubscription,er,tr,ir)}beforeAuthStateChanged(er,tr){return this.beforeStateQueue.pushCallback(er,tr)}onIdTokenChanged(er,tr,ir){return this.registerStateListener(this.idTokenSubscription,er,tr,ir)}authStateReady(){return new Promise((er,tr)=>{if(this.currentUser)er();else{const ir=this.onAuthStateChanged(()=>{ir(),er()},tr)}})}async revokeAccessToken(er){if(this.currentUser){const tr=await this.currentUser.getIdToken(),ir={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:er,idToken:tr};this.tenantId!=null&&(ir.tenantId=this.tenantId),await revokeToken(this,ir)}}toJSON(){var er;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(er=this._currentUser)===null||er===void 0?void 0:er.toJSON()}}async _setRedirectUser(er,tr){const ir=await this.getOrInitRedirectPersistenceManager(tr);return er===null?ir.removeCurrentUser():ir.setCurrentUser(er)}async getOrInitRedirectPersistenceManager(er){if(!this.redirectPersistenceManager){const tr=er&&_getInstance(er)||this._popupRedirectResolver;_assert(tr,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(tr._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(er){var tr,ir;return this._isInitialized&&await this.queue(async()=>{}),((tr=this._currentUser)===null||tr===void 0?void 0:tr._redirectEventId)===er?this._currentUser:((ir=this.redirectUser)===null||ir===void 0?void 0:ir._redirectEventId)===er?this.redirectUser:null}async _persistUserIfCurrent(er){if(er===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(er))}_notifyListenersIfCurrent(er){er===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var er,tr;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const ir=(tr=(er=this.currentUser)===null||er===void 0?void 0:er.uid)!==null&&tr!==void 0?tr:null;this.lastNotifiedUid!==ir&&(this.lastNotifiedUid=ir,this.authStateSubscription.next(this.currentUser))}registerStateListener(er,tr,ir,nr){if(this._deleted)return()=>{};const sr=typeof tr=="function"?tr:tr.next.bind(tr);let ar=!1;const or=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(or,this,"internal-error"),or.then(()=>{ar||sr(this.currentUser)}),typeof tr=="function"){const lr=er.addObserver(tr,ir,nr);return()=>{ar=!0,lr()}}else{const lr=er.addObserver(tr);return()=>{ar=!0,lr()}}}async directlySetCurrentUser(er){this.currentUser&&this.currentUser!==er&&this._currentUser._stopProactiveRefresh(),er&&this.isProactiveRefreshEnabled&&er._startProactiveRefresh(),this.currentUser=er,er?await this.assertedPersistence.setCurrentUser(er):await this.assertedPersistence.removeCurrentUser()}queue(er){return this.operations=this.operations.then(er,er),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(er){!er||this.frameworks.includes(er)||(this.frameworks.push(er),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var er;const tr={"X-Client-Version":this.clientVersion};this.app.options.appId&&(tr["X-Firebase-gmpid"]=this.app.options.appId);const ir=await((er=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||er===void 0?void 0:er.getHeartbeatsHeader());ir&&(tr["X-Firebase-Client"]=ir);const nr=await this._getAppCheckToken();return nr&&(tr["X-Firebase-AppCheck"]=nr),tr}async _getAppCheckToken(){var er;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const tr=await((er=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||er===void 0?void 0:er.getToken());return tr!=null&&tr.error&&_logWarn(`Error while retrieving App Check token: ${tr.error}`),tr==null?void 0:tr.token}}function _castAuth(rr){return getModularInstance(rr)}class Subscription{constructor(er){this.auth=er,this.observer=null,this.addObserver=createSubscribe(tr=>this.observer=tr)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(rr){externalJSProvider=rr}function _loadJS(rr){return externalJSProvider.loadJS(rr)}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(rr){return`__${rr}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(rr,er){const tr=_getProvider(rr,"auth");if(tr.isInitialized()){const nr=tr.getImmediate(),sr=tr.getOptions();if(deepEqual(sr,er??{}))return nr;_fail(nr,"already-initialized")}return tr.initialize({options:er})}function _initializeAuthInstance(rr,er){const tr=(er==null?void 0:er.persistence)||[],ir=(Array.isArray(tr)?tr:[tr]).map(_getInstance);er!=null&&er.errorMap&&rr._updateErrorMap(er.errorMap),rr._initializeWithPersistence(ir,er==null?void 0:er.popupRedirectResolver)}function connectAuthEmulator(rr,er,tr){const ir=_castAuth(rr);_assert(/^https?:\/\//.test(er),ir,"invalid-emulator-scheme");const nr=!1,sr=extractProtocol(er),{host:ar,port:or}=extractHostAndPort(er),lr=or===null?"":`:${or}`,cr={url:`${sr}//${ar}${lr}/`},ur=Object.freeze({host:ar,port:or,protocol:sr.replace(":",""),options:Object.freeze({disableWarnings:nr})});if(!ir._canInitEmulator){_assert(ir.config.emulator&&ir.emulatorConfig,ir,"emulator-config-failed"),_assert(deepEqual(cr,ir.config.emulator)&&deepEqual(ur,ir.emulatorConfig),ir,"emulator-config-failed");return}ir.config.emulator=cr,ir.emulatorConfig=ur,ir.settings.appVerificationDisabledForTesting=!0,emitEmulatorWarning()}function extractProtocol(rr){const er=rr.indexOf(":");return er<0?"":rr.substr(0,er+1)}function extractHostAndPort(rr){const er=extractProtocol(rr),tr=/(\/\/)?([^?#/]+)/.exec(rr.substr(er.length));if(!tr)return{host:"",port:null};const ir=tr[2].split("@").pop()||"",nr=/^(\[[^\]]+\])(:|$)/.exec(ir);if(nr){const sr=nr[1];return{host:sr,port:parsePort(ir.substr(sr.length+1))}}else{const[sr,ar]=ir.split(":");return{host:sr,port:parsePort(ar)}}}function parsePort(rr){if(!rr)return null;const er=Number(rr);return isNaN(er)?null:er}function emitEmulatorWarning(){function rr(){const er=document.createElement("p"),tr=er.style;er.innerText="Running in emulator mode. Do not use with production credentials.",tr.position="fixed",tr.width="100%",tr.backgroundColor="#ffffff",tr.border=".1em solid #000000",tr.color="#b50000",tr.bottom="0px",tr.left="0px",tr.margin="0px",tr.zIndex="10000",tr.textAlign="center",er.classList.add("firebase-emulator-warning"),document.body.appendChild(er)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",rr):rr())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(er,tr){this.providerId=er,this.signInMethod=tr}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(er){return debugFail("not implemented")}_linkToIdToken(er,tr){return debugFail("not implemented")}_getReauthenticationResolver(er){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(rr,er){return _performSignInRequest(rr,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(rr,er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(er){const tr=new OAuthCredential(er.providerId,er.signInMethod);return er.idToken||er.accessToken?(er.idToken&&(tr.idToken=er.idToken),er.accessToken&&(tr.accessToken=er.accessToken),er.nonce&&!er.pendingToken&&(tr.nonce=er.nonce),er.pendingToken&&(tr.pendingToken=er.pendingToken)):er.oauthToken&&er.oauthTokenSecret?(tr.accessToken=er.oauthToken,tr.secret=er.oauthTokenSecret):_fail("argument-error"),tr}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(er){const tr=typeof er=="string"?JSON.parse(er):er,{providerId:ir,signInMethod:nr}=tr,sr=__rest(tr,["providerId","signInMethod"]);if(!ir||!nr)return null;const ar=new OAuthCredential(ir,nr);return ar.idToken=sr.idToken||void 0,ar.accessToken=sr.accessToken||void 0,ar.secret=sr.secret,ar.nonce=sr.nonce,ar.pendingToken=sr.pendingToken||null,ar}_getIdTokenResponse(er){const tr=this.buildRequest();return signInWithIdp(er,tr)}_linkToIdToken(er,tr){const ir=this.buildRequest();return ir.idToken=tr,signInWithIdp(er,ir)}_getReauthenticationResolver(er){const tr=this.buildRequest();return tr.autoCreate=!1,signInWithIdp(er,tr)}buildRequest(){const er={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)er.pendingToken=this.pendingToken;else{const tr={};this.idToken&&(tr.id_token=this.idToken),this.accessToken&&(tr.access_token=this.accessToken),this.secret&&(tr.oauth_token_secret=this.secret),tr.providerId=this.providerId,this.nonce&&!this.pendingToken&&(tr.nonce=this.nonce),er.postBody=querystring(tr)}return er}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(er){this.providerId=er,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(er){this.defaultLanguageCode=er}setCustomParameters(er){return this.customParameters=er,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(er){return this.scopes.includes(er)||this.scopes.push(er),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(er){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:er})}static credentialFromResult(er){return FacebookAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return FacebookAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er||!("oauthAccessToken"in er)||!er.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(er.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(er,tr){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:er,accessToken:tr})}static credentialFromResult(er){return GoogleAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return GoogleAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er)return null;const{oauthIdToken:tr,oauthAccessToken:ir}=er;if(!tr&&!ir)return null;try{return GoogleAuthProvider.credential(tr,ir)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(er){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:er})}static credentialFromResult(er){return GithubAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return GithubAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er||!("oauthAccessToken"in er)||!er.oauthAccessToken)return null;try{return GithubAuthProvider.credential(er.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(er,tr){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:er,oauthTokenSecret:tr})}static credentialFromResult(er){return TwitterAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return TwitterAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er)return null;const{oauthAccessToken:tr,oauthTokenSecret:ir}=er;if(!tr||!ir)return null;try{return TwitterAuthProvider.credential(tr,ir)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(rr,er){return _performSignInRequest(rr,"POST","/v1/accounts:signUp",_addTidIfNecessary(rr,er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(er){this.user=er.user,this.providerId=er.providerId,this._tokenResponse=er._tokenResponse,this.operationType=er.operationType}static async _fromIdTokenResponse(er,tr,ir,nr=!1){const sr=await UserImpl._fromIdTokenResponse(er,ir,nr),ar=providerIdForResponse(ir);return new UserCredentialImpl({user:sr,providerId:ar,_tokenResponse:ir,operationType:tr})}static async _forOperation(er,tr,ir){await er._updateTokensIfNecessary(ir,!0);const nr=providerIdForResponse(ir);return new UserCredentialImpl({user:er,providerId:nr,_tokenResponse:ir,operationType:tr})}}function providerIdForResponse(rr){return rr.providerId?rr.providerId:"phoneNumber"in rr?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInAnonymously(rr){var er;if(_isFirebaseServerApp(rr.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(rr));const tr=_castAuth(rr);if(await tr._initializationPromise,!((er=tr.currentUser)===null||er===void 0)&&er.isAnonymous)return new UserCredentialImpl({user:tr.currentUser,providerId:null,operationType:"signIn"});const ir=await signUp(tr,{returnSecureToken:!0}),nr=await UserCredentialImpl._fromIdTokenResponse(tr,"signIn",ir,!0);return await tr._updateCurrentUser(nr.user),nr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(er,tr,ir,nr){var sr;super(tr.code,tr.message),this.operationType=ir,this.user=nr,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:er.name,tenantId:(sr=er.tenantId)!==null&&sr!==void 0?sr:void 0,_serverResponse:tr.customData._serverResponse,operationType:ir}}static _fromErrorAndOperation(er,tr,ir,nr){return new MultiFactorError(er,tr,ir,nr)}}function _processCredentialSavingMfaContextIfNecessary(rr,er,tr,ir){return(er==="reauthenticate"?tr._getReauthenticationResolver(rr):tr._getIdTokenResponse(rr)).catch(sr=>{throw sr.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(rr,sr,er,ir):sr})}async function _link$1(rr,er,tr=!1){const ir=await _logoutIfInvalidated(rr,er._linkToIdToken(rr.auth,await rr.getIdToken()),tr);return UserCredentialImpl._forOperation(rr,"link",ir)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(rr,er,tr=!1){const{auth:ir}=rr;if(_isFirebaseServerApp(ir.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(ir));const nr="reauthenticate";try{const sr=await _logoutIfInvalidated(rr,_processCredentialSavingMfaContextIfNecessary(ir,nr,er,rr),tr);_assert(sr.idToken,ir,"internal-error");const ar=_parseToken(sr.idToken);_assert(ar,ir,"internal-error");const{sub:or}=ar;return _assert(rr.uid===or,ir,"user-mismatch"),UserCredentialImpl._forOperation(rr,nr,sr)}catch(sr){throw(sr==null?void 0:sr.code)==="auth/user-not-found"&&_fail(ir,"user-mismatch"),sr}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(rr,er,tr=!1){if(_isFirebaseServerApp(rr.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(rr));const ir="signIn",nr=await _processCredentialSavingMfaContextIfNecessary(rr,ir,er),sr=await UserCredentialImpl._fromIdTokenResponse(rr,ir,nr);return tr||await rr._updateCurrentUser(sr.user),sr}function onIdTokenChanged(rr,er,tr,ir){return getModularInstance(rr).onIdTokenChanged(er,tr,ir)}function beforeAuthStateChanged(rr,er,tr){return getModularInstance(rr).beforeAuthStateChanged(er,tr)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(er,tr){this.storageRetriever=er,this.type=tr}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(er,tr){return this.storage.setItem(er,JSON.stringify(tr)),Promise.resolve()}_get(er){const tr=this.storage.getItem(er);return Promise.resolve(tr?JSON.parse(tr):null)}_remove(er){return this.storage.removeItem(er),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(er,tr)=>this.onStorageEvent(er,tr),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(er){for(const tr of Object.keys(this.listeners)){const ir=this.storage.getItem(tr),nr=this.localCache[tr];ir!==nr&&er(tr,nr,ir)}}onStorageEvent(er,tr=!1){if(!er.key){this.forAllChangedKeys((ar,or,lr)=>{this.notifyListeners(ar,lr)});return}const ir=er.key;tr?this.detachListener():this.stopPolling();const nr=()=>{const ar=this.storage.getItem(ir);!tr&&this.localCache[ir]===ar||this.notifyListeners(ir,ar)},sr=this.storage.getItem(ir);_isIE10()&&sr!==er.newValue&&er.newValue!==er.oldValue?setTimeout(nr,IE10_LOCAL_STORAGE_SYNC_DELAY):nr()}notifyListeners(er,tr){this.localCache[er]=tr;const ir=this.listeners[er];if(ir)for(const nr of Array.from(ir))nr(tr&&JSON.parse(tr))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((er,tr,ir)=>{this.onStorageEvent(new StorageEvent("storage",{key:er,oldValue:tr,newValue:ir}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(er,tr){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[er]||(this.listeners[er]=new Set,this.localCache[er]=this.storage.getItem(er)),this.listeners[er].add(tr)}_removeListener(er,tr){this.listeners[er]&&(this.listeners[er].delete(tr),this.listeners[er].size===0&&delete this.listeners[er]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(er,tr){await super._set(er,tr),this.localCache[er]=JSON.stringify(tr)}async _get(er){const tr=await super._get(er);return this.localCache[er]=JSON.stringify(tr),tr}async _remove(er){await super._remove(er),delete this.localCache[er]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(er,tr){}_removeListener(er,tr){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(rr){return Promise.all(rr.map(async er=>{try{return{fulfilled:!0,value:await er}}catch(tr){return{fulfilled:!1,reason:tr}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(er){this.eventTarget=er,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(er){const tr=this.receivers.find(nr=>nr.isListeningto(er));if(tr)return tr;const ir=new Receiver(er);return this.receivers.push(ir),ir}isListeningto(er){return this.eventTarget===er}async handleEvent(er){const tr=er,{eventId:ir,eventType:nr,data:sr}=tr.data,ar=this.handlersMap[nr];if(!(ar!=null&&ar.size))return;tr.ports[0].postMessage({status:"ack",eventId:ir,eventType:nr});const or=Array.from(ar).map(async cr=>cr(tr.origin,sr)),lr=await _allSettled(or);tr.ports[0].postMessage({status:"done",eventId:ir,eventType:nr,response:lr})}_subscribe(er,tr){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[er]||(this.handlersMap[er]=new Set),this.handlersMap[er].add(tr)}_unsubscribe(er,tr){this.handlersMap[er]&&tr&&this.handlersMap[er].delete(tr),(!tr||this.handlersMap[er].size===0)&&delete this.handlersMap[er],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(rr="",er=10){let tr="";for(let ir=0;ir<er;ir++)tr+=Math.floor(Math.random()*10);return rr+tr}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(er){this.target=er,this.handlers=new Set}removeMessageHandler(er){er.messageChannel&&(er.messageChannel.port1.removeEventListener("message",er.onMessage),er.messageChannel.port1.close()),this.handlers.delete(er)}async _send(er,tr,ir=50){const nr=typeof MessageChannel<"u"?new MessageChannel:null;if(!nr)throw new Error("connection_unavailable");let sr,ar;return new Promise((or,lr)=>{const cr=_generateEventId("",20);nr.port1.start();const ur=setTimeout(()=>{lr(new Error("unsupported_event"))},ir);ar={messageChannel:nr,onMessage(hr){const dr=hr;if(dr.data.eventId===cr)switch(dr.data.status){case"ack":clearTimeout(ur),sr=setTimeout(()=>{lr(new Error("timeout"))},3e3);break;case"done":clearTimeout(sr),or(dr.data.response);break;default:clearTimeout(ur),clearTimeout(sr),lr(new Error("invalid_response"));break}}},this.handlers.add(ar),nr.port1.addEventListener("message",ar.onMessage),this.target.postMessage({eventType:er,eventId:cr,data:tr},[nr.port2])}).finally(()=>{ar&&this.removeMessageHandler(ar)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(rr){_window().location.href=rr}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var rr;return((rr=navigator==null?void 0:navigator.serviceWorker)===null||rr===void 0?void 0:rr.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(er){this.request=er}toPromise(){return new Promise((er,tr)=>{this.request.addEventListener("success",()=>{er(this.request.result)}),this.request.addEventListener("error",()=>{tr(this.request.error)})})}}function getObjectStore(rr,er){return rr.transaction([DB_OBJECTSTORE_NAME],er?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const rr=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(rr).toPromise()}function _openDatabase(){const rr=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((er,tr)=>{rr.addEventListener("error",()=>{tr(rr.error)}),rr.addEventListener("upgradeneeded",()=>{const ir=rr.result;try{ir.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(nr){tr(nr)}}),rr.addEventListener("success",async()=>{const ir=rr.result;ir.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?er(ir):(ir.close(),await _deleteDatabase(),er(await _openDatabase()))})})}async function _putObject(rr,er,tr){const ir=getObjectStore(rr,!0).put({[DB_DATA_KEYPATH]:er,value:tr});return new DBPromise(ir).toPromise()}async function getObject(rr,er){const tr=getObjectStore(rr,!1).get(er),ir=await new DBPromise(tr).toPromise();return ir===void 0?null:ir.value}function _deleteObject(rr,er){const tr=getObjectStore(rr,!0).delete(er);return new DBPromise(tr).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(er){let tr=0;for(;;)try{const ir=await this._openDb();return await er(ir)}catch(ir){if(tr++>_TRANSACTION_RETRY_COUNT)throw ir;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(er,tr)=>({keyProcessed:(await this._poll()).includes(tr.key)})),this.receiver._subscribe("ping",async(er,tr)=>["keyChanged"])}async initializeSender(){var er,tr;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const ir=await this.sender._send("ping",{},800);ir&&!((er=ir[0])===null||er===void 0)&&er.fulfilled&&!((tr=ir[0])===null||tr===void 0)&&tr.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(er){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:er},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const er=await _openDatabase();return await _putObject(er,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(er,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(er){this.pendingWrites++;try{await er()}finally{this.pendingWrites--}}async _set(er,tr){return this._withPendingWrite(async()=>(await this._withRetries(ir=>_putObject(ir,er,tr)),this.localCache[er]=tr,this.notifyServiceWorker(er)))}async _get(er){const tr=await this._withRetries(ir=>getObject(ir,er));return this.localCache[er]=tr,tr}async _remove(er){return this._withPendingWrite(async()=>(await this._withRetries(tr=>_deleteObject(tr,er)),delete this.localCache[er],this.notifyServiceWorker(er)))}async _poll(){const er=await this._withRetries(nr=>{const sr=getObjectStore(nr,!1).getAll();return new DBPromise(sr).toPromise()});if(!er)return[];if(this.pendingWrites!==0)return[];const tr=[],ir=new Set;if(er.length!==0)for(const{fbase_key:nr,value:sr}of er)ir.add(nr),JSON.stringify(this.localCache[nr])!==JSON.stringify(sr)&&(this.notifyListeners(nr,sr),tr.push(nr));for(const nr of Object.keys(this.localCache))this.localCache[nr]&&!ir.has(nr)&&(this.notifyListeners(nr,null),tr.push(nr));return tr}notifyListeners(er,tr){this.localCache[er]=tr;const ir=this.listeners[er];if(ir)for(const nr of Array.from(ir))nr(tr)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(er,tr){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[er]||(this.listeners[er]=new Set,this._get(er)),this.listeners[er].add(tr)}_removeListener(er,tr){this.listeners[er]&&(this.listeners[er].delete(tr),this.listeners[er].size===0&&delete this.listeners[er]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(rr,er){return er?_getInstance(er):(_assert(rr._popupRedirectResolver,rr,"argument-error"),rr._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(er){super("custom","custom"),this.params=er}_getIdTokenResponse(er){return signInWithIdp(er,this._buildIdpRequest())}_linkToIdToken(er,tr){return signInWithIdp(er,this._buildIdpRequest(tr))}_getReauthenticationResolver(er){return signInWithIdp(er,this._buildIdpRequest())}_buildIdpRequest(er){const tr={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return er&&(tr.idToken=er),tr}}function _signIn(rr){return _signInWithCredential(rr.auth,new IdpCredential(rr),rr.bypassAuthState)}function _reauth(rr){const{auth:er,user:tr}=rr;return _assert(tr,er,"internal-error"),_reauthenticate(tr,new IdpCredential(rr),rr.bypassAuthState)}async function _link(rr){const{auth:er,user:tr}=rr;return _assert(tr,er,"internal-error"),_link$1(tr,new IdpCredential(rr),rr.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(er,tr,ir,nr,sr=!1){this.auth=er,this.resolver=ir,this.user=nr,this.bypassAuthState=sr,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(tr)?tr:[tr]}execute(){return new Promise(async(er,tr)=>{this.pendingPromise={resolve:er,reject:tr};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ir){this.reject(ir)}})}async onAuthEvent(er){const{urlResponse:tr,sessionId:ir,postBody:nr,tenantId:sr,error:ar,type:or}=er;if(ar){this.reject(ar);return}const lr={auth:this.auth,requestUri:tr,sessionId:ir,tenantId:sr||void 0,postBody:nr||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(or)(lr))}catch(cr){this.reject(cr)}}onError(er){this.reject(er)}getIdpTask(er){switch(er){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(er){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(er),this.unregisterAndCleanUp()}reject(er){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(er),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(er,tr,ir,nr,sr){super(er,tr,nr,sr),this.provider=ir,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const er=await this.execute();return _assert(er,this.auth,"internal-error"),er}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const er=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],er),this.authWindow.associatedEvent=er,this.resolver._originValidation(this.auth).catch(tr=>{this.reject(tr)}),this.resolver._isIframeWebStorageSupported(this.auth,tr=>{tr||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var er;return((er=this.authWindow)===null||er===void 0?void 0:er.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const er=()=>{var tr,ir;if(!((ir=(tr=this.authWindow)===null||tr===void 0?void 0:tr.window)===null||ir===void 0)&&ir.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(er,_POLL_WINDOW_CLOSE_TIMEOUT.get())};er()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(er,tr,ir=!1){super(er,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],tr,void 0,ir),this.eventId=null}async execute(){let er=redirectOutcomeMap.get(this.auth._key());if(!er){try{const ir=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;er=()=>Promise.resolve(ir)}catch(tr){er=()=>Promise.reject(tr)}redirectOutcomeMap.set(this.auth._key(),er)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),er()}async onAuthEvent(er){if(er.type==="signInViaRedirect")return super.onAuthEvent(er);if(er.type==="unknown"){this.resolve(null);return}if(er.eventId){const tr=await this.auth._redirectUserForId(er.eventId);if(tr)return this.user=tr,super.onAuthEvent(er);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(rr,er){const tr=pendingRedirectKey(er),ir=resolverPersistence(rr);if(!await ir._isAvailable())return!1;const nr=await ir._get(tr)==="true";return await ir._remove(tr),nr}function _overrideRedirectResult(rr,er){redirectOutcomeMap.set(rr._key(),er)}function resolverPersistence(rr){return _getInstance(rr._redirectPersistence)}function pendingRedirectKey(rr){return _persistenceKeyName(PENDING_REDIRECT_KEY,rr.config.apiKey,rr.name)}async function _getRedirectResult(rr,er,tr=!1){if(_isFirebaseServerApp(rr.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(rr));const ir=_castAuth(rr),nr=_withDefaultResolver(ir,er),ar=await new RedirectAction(ir,nr,tr).execute();return ar&&!tr&&(delete ar.user._redirectEventId,await ir._persistUserIfCurrent(ar.user),await ir._setRedirectUser(null,er)),ar}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(er){this.auth=er,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(er){this.consumers.add(er),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,er)&&(this.sendToConsumer(this.queuedRedirectEvent,er),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(er){this.consumers.delete(er)}onEvent(er){if(this.hasEventBeenHandled(er))return!1;let tr=!1;return this.consumers.forEach(ir=>{this.isEventForConsumer(er,ir)&&(tr=!0,this.sendToConsumer(er,ir),this.saveEventToCache(er))}),this.hasHandledPotentialRedirect||!isRedirectEvent(er)||(this.hasHandledPotentialRedirect=!0,tr||(this.queuedRedirectEvent=er,tr=!0)),tr}sendToConsumer(er,tr){var ir;if(er.error&&!isNullRedirectEvent(er)){const nr=((ir=er.error.code)===null||ir===void 0?void 0:ir.split("auth/")[1])||"internal-error";tr.onError(_createError(this.auth,nr))}else tr.onAuthEvent(er)}isEventForConsumer(er,tr){const ir=tr.eventId===null||!!er.eventId&&er.eventId===tr.eventId;return tr.filter.includes(er.type)&&ir}hasEventBeenHandled(er){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(er))}saveEventToCache(er){this.cachedEventUids.add(eventUid(er)),this.lastProcessedEventTime=Date.now()}}function eventUid(rr){return[rr.type,rr.eventId,rr.sessionId,rr.tenantId].filter(er=>er).join("-")}function isNullRedirectEvent({type:rr,error:er}){return rr==="unknown"&&(er==null?void 0:er.code)==="auth/no-auth-event"}function isRedirectEvent(rr){switch(rr.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(rr);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(rr,er={}){return _performApiRequest(rr,"GET","/v1/projects",er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(rr){if(rr.config.emulator)return;const{authorizedDomains:er}=await _getProjectConfig(rr);for(const tr of er)try{if(matchDomain(tr))return}catch{}_fail(rr,"unauthorized-domain")}function matchDomain(rr){const er=_getCurrentUrl(),{protocol:tr,hostname:ir}=new URL(er);if(rr.startsWith("chrome-extension://")){const ar=new URL(rr);return ar.hostname===""&&ir===""?tr==="chrome-extension:"&&rr.replace("chrome-extension://","")===er.replace("chrome-extension://",""):tr==="chrome-extension:"&&ar.hostname===ir}if(!HTTP_REGEX.test(tr))return!1;if(IP_ADDRESS_REGEX.test(rr))return ir===rr;const nr=rr.replace(/\./g,"\\.");return new RegExp("^(.+\\."+nr+"|"+nr+")$","i").test(ir)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const rr=_window().___jsl;if(rr!=null&&rr.H){for(const er of Object.keys(rr.H))if(rr.H[er].r=rr.H[er].r||[],rr.H[er].L=rr.H[er].L||[],rr.H[er].r=[...rr.H[er].L],rr.CP)for(let tr=0;tr<rr.CP.length;tr++)rr.CP[tr]=null}}function loadGapi(rr){return new Promise((er,tr)=>{var ir,nr,sr;function ar(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{er(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),tr(_createError(rr,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((nr=(ir=_window().gapi)===null||ir===void 0?void 0:ir.iframes)===null||nr===void 0)&&nr.Iframe)er(gapi.iframes.getContext());else if(!((sr=_window().gapi)===null||sr===void 0)&&sr.load)ar();else{const or=_generateCallbackName("iframefcb");return _window()[or]=()=>{gapi.load?ar():tr(_createError(rr,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${or}`).catch(lr=>tr(lr))}}).catch(er=>{throw cachedGApiLoader=null,er})}let cachedGApiLoader=null;function _loadGapi(rr){return cachedGApiLoader=cachedGApiLoader||loadGapi(rr),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(rr){const er=rr.config;_assert(er.authDomain,rr,"auth-domain-config-required");const tr=er.emulator?_emulatorUrl(er,EMULATED_IFRAME_PATH):`https://${rr.config.authDomain}/${IFRAME_PATH}`,ir={apiKey:er.apiKey,appName:rr.name,v:SDK_VERSION},nr=EID_FROM_APIHOST.get(rr.config.apiHost);nr&&(ir.eid=nr);const sr=rr._getFrameworks();return sr.length&&(ir.fw=sr.join(",")),`${tr}?${querystring(ir).slice(1)}`}async function _openIframe(rr){const er=await _loadGapi(rr),tr=_window().gapi;return _assert(tr,rr,"internal-error"),er.open({where:document.body,url:getIframeUrl(rr),messageHandlersFilter:tr.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},ir=>new Promise(async(nr,sr)=>{await ir.restyle({setHideOnLeave:!1});const ar=_createError(rr,"network-request-failed"),or=_window().setTimeout(()=>{sr(ar)},PING_TIMEOUT.get());function lr(){_window().clearTimeout(or),nr(ir)}ir.ping(lr).then(lr,()=>{sr(ar)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(er){this.window=er,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(rr,er,tr,ir=DEFAULT_WIDTH,nr=DEFAULT_HEIGHT){const sr=Math.max((window.screen.availHeight-nr)/2,0).toString(),ar=Math.max((window.screen.availWidth-ir)/2,0).toString();let or="";const lr=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:ir.toString(),height:nr.toString(),top:sr,left:ar}),cr=getUA().toLowerCase();tr&&(or=_isChromeIOS(cr)?TARGET_BLANK:tr),_isFirefox(cr)&&(er=er||FIREFOX_EMPTY_URL,lr.scrollbars="yes");const ur=Object.entries(lr).reduce((dr,[gr,pr])=>`${dr}${gr}=${pr},`,"");if(_isIOSStandalone(cr)&&or!=="_self")return openAsNewWindowIOS(er||"",or),new AuthPopup(null);const hr=window.open(er||"",or,ur);_assert(hr,rr,"popup-blocked");try{hr.focus()}catch{}return new AuthPopup(hr)}function openAsNewWindowIOS(rr,er){const tr=document.createElement("a");tr.href=rr,tr.target=er;const ir=document.createEvent("MouseEvent");ir.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),tr.dispatchEvent(ir)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(rr,er,tr,ir,nr,sr){_assert(rr.config.authDomain,rr,"auth-domain-config-required"),_assert(rr.config.apiKey,rr,"invalid-api-key");const ar={apiKey:rr.config.apiKey,appName:rr.name,authType:tr,redirectUrl:ir,v:SDK_VERSION,eventId:nr};if(er instanceof FederatedAuthProvider){er.setDefaultLanguage(rr.languageCode),ar.providerId=er.providerId||"",isEmpty$1(er.getCustomParameters())||(ar.customParameters=JSON.stringify(er.getCustomParameters()));for(const[ur,hr]of Object.entries({}))ar[ur]=hr}if(er instanceof BaseOAuthProvider){const ur=er.getScopes().filter(hr=>hr!=="");ur.length>0&&(ar.scopes=ur.join(","))}rr.tenantId&&(ar.tid=rr.tenantId);const or=ar;for(const ur of Object.keys(or))or[ur]===void 0&&delete or[ur];const lr=await rr._getAppCheckToken(),cr=lr?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(lr)}`:"";return`${getHandlerBase(rr)}?${querystring(or).slice(1)}${cr}`}function getHandlerBase({config:rr}){return rr.emulator?_emulatorUrl(rr,EMULATOR_WIDGET_PATH):`https://${rr.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(er,tr,ir,nr){var sr;debugAssert((sr=this.eventManagers[er._key()])===null||sr===void 0?void 0:sr.manager,"_initialize() not called before _openPopup()");const ar=await _getRedirectUrl(er,tr,ir,_getCurrentUrl(),nr);return _open(er,ar,_generateEventId())}async _openRedirect(er,tr,ir,nr){await this._originValidation(er);const sr=await _getRedirectUrl(er,tr,ir,_getCurrentUrl(),nr);return _setWindowLocation(sr),new Promise(()=>{})}_initialize(er){const tr=er._key();if(this.eventManagers[tr]){const{manager:nr,promise:sr}=this.eventManagers[tr];return nr?Promise.resolve(nr):(debugAssert(sr,"If manager is not set, promise should be"),sr)}const ir=this.initAndGetManager(er);return this.eventManagers[tr]={promise:ir},ir.catch(()=>{delete this.eventManagers[tr]}),ir}async initAndGetManager(er){const tr=await _openIframe(er),ir=new AuthEventManager(er);return tr.register("authEvent",nr=>(_assert(nr==null?void 0:nr.authEvent,er,"invalid-auth-event"),{status:ir.onEvent(nr.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[er._key()]={manager:ir},this.iframes[er._key()]=tr,ir}_isIframeWebStorageSupported(er,tr){this.iframes[er._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},nr=>{var sr;const ar=(sr=nr==null?void 0:nr[0])===null||sr===void 0?void 0:sr[WEB_STORAGE_SUPPORT_KEY];ar!==void 0&&tr(!!ar),_fail(er,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(er){const tr=er._key();return this.originValidationPromises[tr]||(this.originValidationPromises[tr]=_validateOrigin(er)),this.originValidationPromises[tr]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name="@firebase/auth",version="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(er){this.auth=er,this.internalListeners=new Map}getUid(){var er;return this.assertAuthConfigured(),((er=this.auth.currentUser)===null||er===void 0?void 0:er.uid)||null}async getToken(er){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(er)}:null}addAuthTokenListener(er){if(this.assertAuthConfigured(),this.internalListeners.has(er))return;const tr=this.auth.onIdTokenChanged(ir=>{er((ir==null?void 0:ir.stsTokenManager.accessToken)||null)});this.internalListeners.set(er,tr),this.updateProactiveRefresh()}removeAuthTokenListener(er){this.assertAuthConfigured();const tr=this.internalListeners.get(er);tr&&(this.internalListeners.delete(er),tr(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(rr){switch(rr){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(rr){_registerComponent(new Component("auth",(er,{options:tr})=>{const ir=er.getProvider("app").getImmediate(),nr=er.getProvider("heartbeat"),sr=er.getProvider("app-check-internal"),{apiKey:ar,authDomain:or}=ir.options;_assert(ar&&!ar.includes(":"),"invalid-api-key",{appName:ir.name});const lr={apiKey:ar,authDomain:or,clientPlatform:rr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(rr)},cr=new AuthImpl(ir,nr,sr,lr);return _initializeAuthInstance(cr,tr),cr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((er,tr,ir)=>{er.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",er=>{const tr=_castAuth(er.getProvider("auth").getImmediate());return(ir=>new AuthInterop(ir))(tr)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name,version,getVersionForPlatform(rr)),registerVersion(name,version,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=rr=>async er=>{const tr=er&&await er.getIdTokenResult(),ir=tr&&(new Date().getTime()-Date.parse(tr.issuedAtTime))/1e3;if(ir&&ir>authIdTokenMaxAge)return;const nr=tr==null?void 0:tr.token;lastPostedIdToken!==nr&&(lastPostedIdToken=nr,await fetch(rr,{method:nr?"POST":"DELETE",headers:nr?{Authorization:`Bearer ${nr}`}:{}}))};function getAuth(rr=getApp()){const er=_getProvider(rr,"auth");if(er.isInitialized())return er.getImmediate();const tr=initializeAuth(rr,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),ir=getExperimentalSetting("authTokenSyncURL");if(ir&&typeof isSecureContext=="boolean"&&isSecureContext){const sr=new URL(ir,location.origin);if(location.origin===sr.origin){const ar=mintCookieFactory(sr.toString());beforeAuthStateChanged(tr,ar,()=>ar(tr.currentUser)),onIdTokenChanged(tr,or=>ar(or))}}const nr=getDefaultEmulatorHost("auth");return nr&&connectAuthEmulator(tr,`http://${nr}`),tr}function getScriptParentElement(){var rr,er;return(er=(rr=document.getElementsByTagName("head"))===null||rr===void 0?void 0:rr[0])!==null&&er!==void 0?er:document}_setExternalJSProvider({loadJS(rr){return new Promise((er,tr)=>{const ir=document.createElement("script");ir.setAttribute("src",rr),ir.onload=er,ir.onerror=nr=>{const sr=_createError("internal-error");sr.customData=nr,tr(sr)},ir.type="text/javascript",ir.charset="UTF-8",getScriptParentElement().appendChild(ir)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");const firebaseConfig={apiKey:"AIzaSyDKa-1ZrDUawP6_GV2SpPmHOK7rfaGF4hI",authDomain:"jrc-portfolio-website.firebaseapp.com",projectId:"jrc-portfolio-website",storageBucket:"jrc-portfolio-website.firebasestorage.app",messagingSenderId:"186635511603",appId:"1:186635511603:web:69116d50774d1fe00f0046",measurementId:"G-VNMCWRGBSG"},app$1=initializeApp(firebaseConfig),db=getFirestore(app$1),auth=getAuth(app$1);function useTimer(rr){const er=ref(!1),tr=ref(!1),ir=ref(!1),nr=ref(0),sr=ref(""),ar=ref(!0),or=ref(null),lr=ref("");function cr(wr){const Pr=Math.floor(wr/3600),Tr=Math.floor(wr%3600/60),Vr=wr%60;return Pr>0?`${Pr}h: ${Tr}m: ${Vr}s.`:Tr>0?`${Tr}m: ${Vr}s.`:`${Vr}s.`}function ur(wr){return wr==0?"No time logged.":cr(wr)}function hr(){er.value=!0,tr.value=!1,ir.value=!1,nr.value=0,rr.reset(),rr.start()}function dr(){tr.value=!0,rr.pause(),window.focus()}function gr(){tr.value=!1,document.getElementById("mazeScreen").focus(),rr.start()}function pr(wr){rr.pause(),er.value=!1,ir.value=!0,nr.value=rr.getTime().toFixed(0),sr.value=cr(nr.value);const Pr={level:wr,time:nr.value};localStorage.removeItem("mazeBestTime");const Tr=localStorage.getItem("mazeBestTimeV2");if(!Tr)ar.value=!0,localStorage.setItem("mazeBestTimeV2",JSON.stringify(Pr)),or.value=nr.value;else{const Vr=Array.from(JSON.parse(Tr)),Ar=Vr.find(xr=>xr.level===wr);if(or.value=Ar?Ar.time:null,or.value!=null)if(parseInt(or.value)<parseInt(nr.value))ar.value=!1,lr.value=cr(or.value);else{ar.value=!0;const xr=Vr.findIndex(Er=>Er.level===wr);Vr[xr].time=nr.value,localStorage.setItem("mazeBestTimeV2",JSON.stringify(Vr))}else ar.value=!0,Vr.push(Pr),localStorage.setItem("mazeBestTimeV2",JSON.stringify(Vr)),or.value=nr.value}signInAnonymously(auth).then(mr(wr)).then(vr(wr,nr.value))}async function mr(wr){try{const Pr=doc(db,"counters","mazeCount");if((await getDoc(Pr)).exists())switch(wr){case"50":await updateDoc(Pr,{easiestCount:increment(1)});break;case"40":await updateDoc(Pr,{easyCount:increment(1)});break;case"30":await updateDoc(Pr,{mediumCount:increment(1)});break;case"20":await updateDoc(Pr,{hardCount:increment(1)});break;case"15":await updateDoc(Pr,{hardestCount:increment(1)});break}else console.log("Could not find counters.")}catch(Pr){console.error("Error updating counter:",Pr)}}async function vr(wr,Pr){try{const Tr=doc(db,"counters","mazeTopTimes"),Vr=await getDoc(Tr),Ar=ref(0);if(Vr.exists())switch(wr){case"50":Ar.value=Vr.data().easiestTime,parseInt(Pr)<Ar.value&&await updateDoc(Tr,{easiestTime:parseInt(Pr)});break;case"40":Ar.value=Vr.data().easyTime,parseInt(Pr)<Ar.value&&await updateDoc(Tr,{easyTime:parseInt(Pr)});break;case"30":Ar.value=Vr.data().mediumTime,parseInt(Pr)<Ar.value&&await updateDoc(Tr,{mediumTime:parseInt(Pr)});break;case"20":Ar.value=Vr.data().hardTime,parseInt(Pr)<Ar.value&&await updateDoc(Tr,{hardTime:parseInt(Pr)});break;case"15":Ar.value=Vr.data().hardestTime,parseInt(Pr)<Ar.value&&await updateDoc(Tr,{hardestTime:parseInt(Pr)});break}else console.log("Could not find top times.")}catch(Tr){console.error("Error updating top times:",Tr)}}function yr(){localStorage.removeItem("mazeBestTime"),localStorage.removeItem("mazeBestTimeV2"),or.value=null}function br(){ir.value=!1}return{started:er,paused:tr,completed:ir,finalTime:nr,finalTimeText:sr,bestTime:ar,prevBestTime:or,prevBestTimeText:lr,startTimer:hr,pauseTimer:dr,resumeTimer:gr,endTimer:pr,resetBestTime:yr,formatTime:cr,formatTimeNot0:ur,hideComplete:br}}function useMazeControls(rr,er,tr,ir,nr,sr,ar){const or=ref(0),lr=ref(0),cr=ref(0),ur=ref(0),hr=ref(0),dr=computed(()=>rr.value[or.value][lr.value]);function gr(){const Tr=or.value-cr.value,Vr=lr.value-ur.value,Ar=ref("");Tr==1&&(Ar.value="left"),Tr==-1&&(Ar.value="right"),Vr==1&&(Ar.value="top"),Vr==-1&&(Ar.value="bottom"),hr.value=0,Object.entries(dr.value.borders).forEach(([xr,Er])=>{xr!==Ar.value&&!Er&&hr.value++})}function pr(){cr.value=or.value,ur.value=lr.value}function mr(Tr){gr(),rr.value[cr.value][ur.value].flash=!1,rr.value[or.value][lr.value].flash=!0,(dr.value.backgroundColor=="var(--brand-purple-mid)"||dr.value.backgroundColor=="green")&&(cr.value==0&&ur.value==0||or.value==er.value-1&&lr.value==tr.value-1||(rr.value[cr.value][ur.value].backgroundColor="var(--maze-base)")),or.value==0&&lr.value==0||or.value==er.value-1&&lr.value==tr.value-1||(rr.value[or.value][lr.value].backgroundColor="var(--brand-purple-mid)"),or.value==er.value-1&&lr.value==tr.value-1&&(Pr(),ar(Tr))}function vr(Tr){ir.value&&!dr.value.borders.left&&(pr(),or.value--,mr(Tr))}function yr(Tr){ir.value&&!dr.value.borders.right&&(pr(),or.value++,mr(Tr))}function br(Tr){ir.value&&!dr.value.borders.top&&(pr(),lr.value--,mr(Tr))}function wr(Tr){ir.value&&!dr.value.borders.bottom&&(pr(),lr.value++,mr(Tr))}function Pr(){or.value=0,lr.value=0,cr.value=0,ur.value=0}return{userCurrentCol:or,userCurrentRow:lr,userLastCol:cr,userLastRow:ur,userCurrentCell:dr,otherExits:hr,moveLeft:vr,moveRight:yr,moveUp:br,moveDown:wr,resetUserLocation:Pr}}function useMazeGeneration(){const rr=ref(0),er=ref(0),tr=ref(30),ir=ref(30),nr=ref([]);let sr=!1,ar=0,or=0,lr=0,cr=0;function ur(){tr.value=ir.value,localStorage.setItem("mazeCellSize",ir.value);const vr=document.getElementById("mazeScreen").getBoundingClientRect();er.value=Math.floor(vr.width/tr.value),rr.value=Math.floor(vr.height/tr.value),rr.value<4&&(rr.value=4),nr.value=Array.from({length:er.value},(yr,br)=>Array.from({length:rr.value},(wr,Pr)=>({id:`r${Pr}-c${br}`,occupied:!1,backgroundColor:"white",borders:{top:!0,right:!0,bottom:!0,left:!0},flash:!1}))),document.getElementById("maze").style.gridTemplateColumns=`repeat(${er.value}, ${tr.value}px)`,gr(er.value,rr.value),document.getElementById("mazeScreen").focus()}function hr(){nr.value.forEach((mr,vr)=>{mr.forEach((yr,br)=>{yr.occupied||cr++})}),lr<cr&&(console.log("Checking for blanks..."),sr=!1,nr.value.forEach((mr,vr)=>{mr.forEach((yr,br)=>{sr||yr.occupied||(ar=br,or=vr,sr=!0)})}),lr++,dr())}function dr(){if(sr){let mr=!0,vr=ar,yr=or;if(mr){for(;vr>0;)if(vr--,nr.value[or][vr].occupied){ar=vr,mr=!1;break}}if(mr){for(;vr<rr.value-2;)if(vr++,nr.value[or][vr].occupied){ar=vr,mr=!1;break}}if(mr){for(;yr>0;)if(yr--,nr.value[yr][ar].occupied){or=yr,mr=!1;break}}if(mr){for(;yr<er.value-2;)if(yr++,nr.value[yr][ar].occupied){or=yr,mr=!1;break}}pr(ar,or,!0,"var(--maze-base)"),hr()}}function gr(mr,vr){let yr=0,br=0,wr;pr(yr,br,!1,"var(--maze-base)");for(let Pr=1;Pr<mr*vr-1;Pr++)wr=nr.value[br][yr],wr.occupied=="true"&&pr(yr,br,!0,"rgb(44, 43, 43)"),br==mr-1?(yr++,br=0):br++;nr.value[0][0].occupied=!0,hr(),nr.value[0][0].backgroundColor="green",nr.value[mr-1][vr-1].backgroundColor="green",nr.value[0][0].flash=!0,console.log("Done")}function pr(mr,vr,yr,br){const wr=er.value,Pr=rr.value;let Tr=mr,Vr=vr;const Ar=["right","bottom","left","top"],xr={right:wr-vr,bottom:Pr-mr,left:vr,top:mr};let Er=[],Cr=[],Rr=nr.value[Vr][Tr],kr,Sr,Nr=0;const Hr=3*wr*Pr;for(;Nr<Hr;){Nr++,Er=[];for(let zr=0;zr<Ar.length;zr++){let $r;switch(Ar[zr]){case"right":Vr+1<wr&&($r=nr.value[Vr+1][Tr]);break;case"left":Vr-1>=0&&($r=nr.value[Vr-1][Tr]);break;case"bottom":Tr+1<Pr&&($r=nr.value[Vr][Tr+1]);break;case"top":Tr-1>=0&&($r=nr.value[Vr][Tr-1]);break}if($r&&$r.occupied===!1)for(let jr=0;jr<xr[Ar[zr]];jr++)Er.push(Ar[zr])}if(Er.length===0){if(yr==!0)return!1;Cr.pop(),Cr.length>0&&(Vr=Cr[Cr.length-1][0],Tr=Cr[Cr.length-1][1],Rr=nr.value[Vr][Tr]);continue}switch(Sr=Math.floor(Math.random()*Math.floor(Er.length)),kr=Er[Sr],(yr==!1||!(kr=="right"&&Vr==wr-1&&Tr==Pr)&&!(kr=="bottom"&&Vr==wr&&Tr==Pr-1))&&(Rr.borders[kr]=!1),kr){case"right":Vr++,xr.left++,xr.right--;break;case"bottom":Tr++,xr.top++,xr.bottom--;break;case"left":Vr--,xr.left--,xr.right++;break;case"top":Tr--,xr.top--,xr.bottom++;break}switch(Cr.push([Vr,Tr]),Rr=nr.value[Vr][Tr],kr){case"right":Rr.borders.left=!1;break;case"bottom":Rr.borders.top=!1;break;case"left":Rr.borders.right=!1;break;case"top":Rr.borders.bottom=!1;break}if(Tr==Pr&&Vr==wr)break;Rr.backgroundColor=br,Rr.occupied=!0}}return{grid:nr,columns:er,rows:rr,cellSize:tr,cellSizeInput:ir,drawGrid:ur}}var JoystickComponent;(rr=>{(er=>{er.Circle="circle",er.Square="square"})(rr.Shape||(rr.Shape={})),(er=>{er.PointerDown="pointerdown",er.PointerMove="pointermove",er.PointerUp="pointerup",er.FollowStop="FOLLOW_STOP"})(rr.InteractionEvents||(rr.InteractionEvents={})),(er=>{er[er.TopRight=2.35619449]="TopRight",er[er.TopLeft=-2.35619449]="TopLeft",er[er.BottomRight=.785398163]="BottomRight",er[er.BottomLeft=-.785398163]="BottomLeft"})(rr.RadianQuadrantBinding||(rr.RadianQuadrantBinding={}))})(JoystickComponent||(JoystickComponent={}));const _hoisted_1$3=["disabled"],_sfc_main$3=defineComponent({__name:"Joystick",props:{size:{default:100},stickSize:{default:void 0},baseColor:{default:"rgb(0 0 0 / 50%)"},stickColor:{default:"mediumpurple"},throttle:{default:100},disabled:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},baseImage:{default:void 0},stickImage:{default:void 0},followCursor:{type:Boolean,default:!1},baseShape:{default:JoystickComponent.Shape.Circle},stickShape:{default:JoystickComponent.Shape.Circle},controlPlaneShape:{default:JoystickComponent.Shape.Circle},minDistance:{default:0}},emits:["move","start","stop"],setup(rr,{emit:er}){const tr=rr,ir=er,nr=reactive({dragging:!1}),sr=ref(),ar=ref(),or=ref(),lr=ref(),cr=computed(()=>tr.stickSize||tr.size/1.5),ur=computed(()=>tr.size/2),hr=typeof window<"u",dr=(Sr,Nr)=>({borderRadius:`${Sr===JoystickComponent.Shape.Square?Math.sqrt(Nr):Nr}px`}),gr=(Sr,Nr,Hr,zr,$r,jr,Jr,ln,un)=>Sr===JoystickComponent.Shape.Square?(zr=pr(Nr-un.left-ln/2,ln),$r=pr(Hr-un.top-ln/2,ln),{relativeX:zr,relativeY:$r}):(jr>Jr&&(zr*=Jr/jr,$r*=Jr/jr),{relativeX:zr,relativeY:$r}),pr=(Sr,Nr)=>{const Hr=Nr/2;return Sr>Hr?Hr:Sr<-Hr?Hr*-1:Sr},mr=(()=>{let Sr=0;return Nr=>{const Hr=Date.now(),zr=tr.throttle;if(!(Hr-Sr<zr))return Sr=Hr,ir("move",Nr)}})(),vr=()=>dr(tr.baseShape,tr.size),yr=()=>dr(tr.stickShape,tr.size),br=computed(()=>{const Sr=tr.baseColor,Nr=`${tr.size}px`,Hr={...vr(),height:Nr,width:Nr,background:Sr,display:"flex",justifyContent:"center",alignItems:"center"};return tr.baseImage&&(Hr.background=`url(${tr.baseImage})`,Hr.backgroundSize="100%"),Hr}),wr=computed(()=>{const Sr=tr.stickColor,Nr=`${cr.value}px`;let Hr={...yr(),background:Sr,cursor:"move",height:Nr,width:Nr,border:"none",flexShrink:0,touchAction:"none"};return tr.stickImage&&(Hr.background=`url(${tr.stickImage})`,Hr.backgroundSize="100%"),nr.coordinates!==void 0&&(Hr={...Hr,position:"absolute",transform:`translate3d(${nr.coordinates.relativeX}px, ${nr.coordinates.relativeY}px, 0)`}),Hr}),Pr=Sr=>{hr&&(window.requestAnimationFrame(()=>nr.coordinates=Sr),!(typeof tr.minDistance=="number"&&Sr.distance<tr.minDistance)&&mr({type:"move",x:Sr.relativeX*2/tr.size,y:-(Sr.relativeY*2/tr.size),direction:Sr.direction,distance:Sr.distance}))},Tr=Sr=>{if(!hr||tr.disabled||tr.followCursor||!sr.value||!ar.value)return;or.value=sr.value.getBoundingClientRect(),nr.dragging=!0;const Nr=JoystickComponent.InteractionEvents.PointerUp,Hr=JoystickComponent.InteractionEvents.PointerMove;window.addEventListener(Nr,zr=>Cr(zr)),window.addEventListener(Hr,zr=>Er(zr)),lr.value=Sr.pointerId,typeof ar.value.setPointerCapture=="function"&&ar.value.setPointerCapture(Sr.pointerId),ir("start",{type:"start"})},Vr=Sr=>Sr>JoystickComponent.RadianQuadrantBinding.TopRight||Sr<JoystickComponent.RadianQuadrantBinding.TopLeft?"FORWARD":Sr<JoystickComponent.RadianQuadrantBinding.TopRight&&Sr>JoystickComponent.RadianQuadrantBinding.BottomRight?"RIGHT":Sr<JoystickComponent.RadianQuadrantBinding.BottomLeft?"LEFT":"BACKWARD",Ar=(Sr,Nr)=>Math.hypot(Sr,Nr),xr=Sr=>{const Nr=Sr/(tr.size/2)*100;return Nr>100?100:Nr},Er=Sr=>{if(Sr.preventDefault(),nr.dragging){if(!or.value||!tr.followCursor&&Sr.pointerId!==lr.value)return;const Nr=Sr.clientX,Hr=Sr.clientY;let zr=Nr-or.value.left-ur.value,$r=Hr-or.value.top-ur.value;const jr=Ar(zr,$r),Jr=gr(tr.controlPlaneShape||tr.baseShape,Nr,Hr,zr,$r,jr,ur.value,tr.size,or.value);zr=Jr.relativeX,$r=Jr.relativeY;const ln=Math.atan2(zr,$r);Pr({relativeX:zr,relativeY:$r,distance:xr(jr),direction:Vr(ln),axisX:Nr-or.value.left,axisY:Hr-or.value.top})}},Cr=Sr=>{if(!hr||Sr.pointerId!==lr.value&&Sr.type!==JoystickComponent.InteractionEvents.FollowStop)return;window.requestAnimationFrame(()=>{nr.dragging=!1,tr.sticky||(nr.coordinates=void 0)}),window.removeEventListener(JoystickComponent.InteractionEvents.PointerUp,Cr),window.removeEventListener(JoystickComponent.InteractionEvents.PointerMove,Er),lr.value=void 0;let Nr={type:"stop"};tr.sticky&&nr.coordinates&&(Nr={...Nr,x:nr.coordinates.relativeX*2/tr.size,y:nr.coordinates.relativeY*2/tr.size,direction:nr.coordinates.direction,distance:nr.coordinates.distance}),ir("stop",Nr)},Rr=()=>{hr&&(sr.value&&(or.value=sr.value.getBoundingClientRect()),nr.dragging=!0,window.addEventListener(JoystickComponent.InteractionEvents.PointerMove,Er),ir("start",{type:"start"}))},kr=()=>{hr&&(window.removeEventListener(JoystickComponent.InteractionEvents.PointerMove,Er),Cr(new PointerEvent(JoystickComponent.InteractionEvents.FollowStop)))};return watch(()=>tr.followCursor,()=>tr.followCursor?Rr():kr(),{immediate:!0}),onBeforeUnmount(()=>kr()),(Sr,Nr)=>(openBlock(),createElementBlock("div",{ref_key:"baseRef",ref:sr,class:normalizeClass(["joystick",{"joystick--disabled":tr.disabled}]),style:normalizeStyle(br.value)},[createBaseVNode("button",{ref_key:"stickRef",ref:ar,disabled:tr.disabled,class:normalizeClass(["joystick__stick",{"joystick__stick--disabled":tr.disabled}]),style:normalizeStyle(wr.value),onPointerdown:Tr},null,46,_hoisted_1$3)],6))}}),_hoisted_1$2={class:"input"},_hoisted_2$2={class:"input"},_hoisted_3$2={class:"maze",id:"maze"},_hoisted_4$1=["id"],_hoisted_5$1={style:{"background-color":"var(--color-background)",width:"fit-content"}},_hoisted_6$1={key:0},_hoisted_7={key:1},_hoisted_8={class:"controls"},_hoisted_9={id:"joystick",class:"control-column"},_sfc_main$2={__name:"Maze",setup(rr){const{grid:er,columns:tr,rows:ir,cellSize:nr,cellSizeInput:sr,drawGrid:ar}=useMazeGeneration(),or=computed(()=>er.value),lr=createTimer(),{started:cr,paused:ur,completed:hr,startTimer:dr,pauseTimer:gr,resumeTimer:pr,endTimer:mr,resetBestTime:vr,bestTime:yr,finalTimeText:br,prevBestTime:wr,prevBestTimeText:Pr,hideComplete:Tr}=useTimer(lr),Vr=computed(()=>cr.value),Ar=computed(()=>ur.value),xr=computed(()=>hr.value),{otherExits:Er,moveLeft:Cr,moveRight:Rr,moveUp:kr,moveDown:Sr,resetUserLocation:Nr}=useMazeControls(er,tr,ir,cr,ur,hr,mr),Hr=computed(()=>!!(!cr.value||hr.value)),zr=computed(()=>Er.value>1?400:10);function $r(un){if(un.preventDefault(),!(ur.value||hr.value))switch(un.key){case"ArrowUp":kr(nr.value);break;case"ArrowDown":Sr(nr.value);break;case"ArrowLeft":Cr(nr.value);break;case"ArrowRight":Rr(nr.value);break}}function jr(un){switch(un.direction.toLowerCase()){case"right":Rr(nr.value);break;case"left":Cr(nr.value);break;case"forward":kr(nr.value);break;case"backward":Sr(nr.value);break}}const Jr=ref(null);function ln(){Nr(),ar(),dr()}return onMounted(()=>{var un;(un=Jr.value)==null||un.addEventListener("keydown",$r),wr.value=localStorage.getItem("mazeBestTime"),sr.value=localStorage.getItem("mazeCellSize")||"30"}),onBeforeUnmount(()=>{Jr.value.removeEventListener("keydown",$r)}),(un,Qr)=>{const pn=resolveComponent("font-awesome-icon");return openBlock(),createElementBlock("main",null,[Qr[16]||(Qr[16]=createBaseVNode("h2",null,"Generate a random maze then use the joystick or your keyboard arrows to solve it!",-1)),createBaseVNode("p",_hoisted_1$2,[Qr[7]||(Qr[7]=createBaseVNode("label",{for:"size"},"Difficulty Level: ",-1)),withDirectives(createBaseVNode("select",{name:"size","onUpdate:modelValue":Qr[0]||(Qr[0]=fn=>isRef(sr)?sr.value=fn:null)},Qr[6]||(Qr[6]=[createStaticVNode('<option value="15" data-v-6e3b756a>Hardest</option><option value="20" data-v-6e3b756a>Hard</option><option value="30" data-v-6e3b756a>Medium</option><option value="40" data-v-6e3b756a>Easy</option><option value="50" data-v-6e3b756a>Easiest</option>',5)]),512),[[vModelSelect,unref(sr)]])]),createBaseVNode("div",_hoisted_2$2,[unref(wr)!=null?(openBlock(),createElementBlock("button",{key:0,class:"button blue",onClick:Qr[1]||(Qr[1]=fn=>unref(vr)()),style:{"margin-right":"20px"}}," Forget Times ")):createCommentVNode("",!0),createBaseVNode("button",{class:"button green",onClick:Qr[2]||(Qr[2]=fn=>ln())},"Generate"),Vr.value?(openBlock(),createElementBlock("button",{key:1,class:"button blue",onClick:Qr[3]||(Qr[3]=(...fn)=>unref(gr)&&unref(gr)(...fn)),style:{"margin-left":"20px"}},[createVNode(pn,{icon:"fa-solid fa-stopwatch",style:{"margin-right":"7px"}}),Qr[8]||(Qr[8]=createTextVNode(" Pause "))])):createCommentVNode("",!0)]),createBaseVNode("div",{id:"mazeScreen",tabindex:"0",ref_key:"mazeScreen",ref:Jr},[createBaseVNode("div",_hoisted_3$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(or.value,(fn,An)=>(openBlock(),createElementBlock("div",{key:An,class:"row"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(fn,(dn,Br)=>(openBlock(),createElementBlock("div",{key:Br,class:normalizeClass({"border-top":dn.borders.top,"border-right":dn.borders.right,"border-bottom":dn.borders.bottom,"border-left":dn.borders.left,"maze-cell":!0}),style:normalizeStyle({backgroundColor:dn.backgroundColor,height:unref(nr)+"px",width:unref(nr)+"px"}),id:dn.id},[createVNode(pn,{class:normalizeClass({"fill-icon":!0,"flash-effect":dn.flash}),icon:"fa-solid fa-person-walking"},null,8,["class"])],14,_hoisted_4$1))),128))]))),128))]),createVNode(Transition,{name:"showhide"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:"complete",onClick:Qr[4]||(Qr[4]=fn=>unref(Tr)())},[createBaseVNode("div",_hoisted_5$1,[Qr[9]||(Qr[9]=createBaseVNode("br",null,null,-1)),createBaseVNode("p",null,"Well done! Your final time was: "+toDisplayString(unref(br)),1),unref(yr)?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_6$1,"Your previous best time for this difficulty was: "+toDisplayString(unref(Pr)),1)),unref(yr)?(openBlock(),createElementBlock("p",_hoisted_7,"This is your best time for this difficulty!")):createCommentVNode("",!0),Qr[10]||(Qr[10]=createBaseVNode("br",null,null,-1)),Qr[11]||(Qr[11]=createBaseVNode("p",{class:"smaller"},"(Click here to clear this message.)",-1)),Qr[12]||(Qr[12]=createBaseVNode("br",null,null,-1))])],512),[[vShow,xr.value]])]),_:1})],512),createBaseVNode("div",_hoisted_8,[Qr[13]||(Qr[13]=createBaseVNode("div",{class:"control-column"},null,-1)),createBaseVNode("div",_hoisted_9,[createVNode(unref(_sfc_main$3),{size:150,disabled:Hr.value,stickSize:100,throttle:zr.value,minDistance:40,"base-color":"radial-gradient(circle at center, rgba(105, 105, 105, 0.5) 0%, rgba(105, 105, 105, 0.5) 65% , black 100%)","stick-color":"radial-gradient(circle at center, black 0, grey, black 90%)",onMove:jr},null,8,["disabled","throttle"])]),Qr[14]||(Qr[14]=createBaseVNode("div",{class:"control-column"},null,-1))]),Qr[17]||(Qr[17]=createBaseVNode("div",{name:"thanks-to"},[createBaseVNode("br"),createTextVNode(" With thanks to "),createBaseVNode("a",{href:"https://github.com/nickyreinert/nickyreinert.github.io"},"Nicky Reinert"),createTextVNode(" for the initial maze generation code, and "),createBaseVNode("a",{href:"https://github.com/superhussain/vue-joystick-component?tab=readme-ov-file"},"Hussain Abbas"),createTextVNode(" for the joystick. ")],-1)),createVNode(Transition,{name:"showhide"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:"paused",onClick:Qr[5]||(Qr[5]=fn=>unref(pr)())},Qr[15]||(Qr[15]=[createBaseVNode("p",null,"Paused. Click to Continue.",-1)]),512),[[vShow,Ar.value]])]),_:1})])}}},Maze=_export_sfc(_sfc_main$2,[["__scopeId","data-v-6e3b756a"]]),_hoisted_1$1={class:"flex"},_hoisted_2$1={class:"flexSquare"},_hoisted_3$1={class:"flexSquare"},_hoisted_4={class:"flex"},_hoisted_5={class:"flexSquare"},_hoisted_6={class:"flexSquare"},_sfc_main$1={__name:"Stats",setup(rr){const er=ref(0),tr=ref(0),ir=ref(0),nr=computed(()=>[er.value,tr.value]),sr={labels:["Mobile Visitors","Desktop Visitors"],legend:{position:"bottom",labels:{colors:"var(--color-text)"}}},{formatTimeNot0:ar}=useTimer(),or=ref([0,0,0,0,0]),lr=ref([0,0,0,0,0]),cr=computed(()=>[{data:[{x:"Easiest",y:or.value[0]},{x:"Easy",y:or.value[1]},{x:"Medium",y:or.value[2]},{x:"Hard",y:or.value[3]},{x:"Hardest",y:or.value[4]}]}]),ur={legend:{position:"bottom"},chart:{toolbar:{show:!1}}};async function hr(){try{const gr=doc(db,"counters","visitorCount"),pr=await getDoc(gr);pr.exists()?(er.value=pr.data().mobileCount,tr.value=pr.data().desktopCount):console.log("Could not find counters.")}catch(gr){console.error("Error getting counter:",gr)}ir.value=er.value+tr.value}async function dr(){try{const gr=doc(db,"counters","mazeCount"),pr=await getDoc(gr);pr.exists()?or.value=[pr.data().easiestCount,pr.data().easyCount,pr.data().mediumCount,pr.data().hardCount,pr.data().hardestCount]:console.log("Could not find counters.")}catch(gr){console.error("Error getting counter:",gr)}try{const gr=doc(db,"counters","mazeTopTimes"),pr=await getDoc(gr);pr.exists()?lr.value=[pr.data().easiestTime,pr.data().easyTime,pr.data().mediumTime,pr.data().hardTime,pr.data().hardestTime]:console.log("Could not find top times.")}catch(gr){console.error("Error getting top times:",gr)}}return onMounted(()=>{hr(),dr()}),(gr,pr)=>{const mr=resolveComponent("apexchart");return openBlock(),createElementBlock("main",null,[pr[12]||(pr[12]=createBaseVNode("h2",null,"Website Statistics",-1)),createBaseVNode("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("p",null,[pr[0]||(pr[0]=createBaseVNode("strong",null,"Total Visitors: ",-1)),createTextVNode(toDisplayString(ir.value),1)]),createBaseVNode("p",null,[pr[1]||(pr[1]=createBaseVNode("strong",null,"Desktop Visitors: ",-1)),createTextVNode(toDisplayString(tr.value),1)]),createBaseVNode("p",null,[pr[2]||(pr[2]=createBaseVNode("strong",null,"Mobile Visitors: ",-1)),createTextVNode(toDisplayString(er.value),1)])]),createBaseVNode("div",_hoisted_3$1,[pr[3]||(pr[3]=createBaseVNode("h3",null,"User Devices",-1)),createVNode(mr,{type:"pie",options:sr,series:nr.value},null,8,["series"])])]),pr[13]||(pr[13]=createBaseVNode("h2",null,"Maze Statistics",-1)),createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[pr[9]||(pr[9]=createBaseVNode("h3",null,"Top Scores",-1)),pr[10]||(pr[10]=createBaseVNode("br",null,null,-1)),createBaseVNode("p",null,[pr[4]||(pr[4]=createBaseVNode("strong",null,"Easiest:",-1)),createTextVNode(" "+toDisplayString(unref(ar)(lr.value[0])),1)]),createBaseVNode("p",null,[pr[5]||(pr[5]=createBaseVNode("strong",null,"Easy:",-1)),createTextVNode(" "+toDisplayString(unref(ar)(lr.value[1])),1)]),createBaseVNode("p",null,[pr[6]||(pr[6]=createBaseVNode("strong",null,"Medium:",-1)),createTextVNode(" "+toDisplayString(unref(ar)(lr.value[2])),1)]),createBaseVNode("p",null,[pr[7]||(pr[7]=createBaseVNode("strong",null,"Hard:",-1)),createTextVNode(" "+toDisplayString(unref(ar)(lr.value[3])),1)]),createBaseVNode("p",null,[pr[8]||(pr[8]=createBaseVNode("strong",null,"Hardest:",-1)),createTextVNode(" "+toDisplayString(unref(ar)(lr.value[4])),1)])]),createBaseVNode("div",_hoisted_6,[pr[11]||(pr[11]=createBaseVNode("h3",null,"Level Selection",-1)),createVNode(mr,{type:"treemap",options:ur,series:cr.value},null,8,["series"])])])])}}},Stats=_export_sfc(_sfc_main$1,[["__scopeId","data-v-67e6feab"]]),router=createRouter({linkActiveClass:"active-route",history:createWebHistory("/"),routes:[{path:"/",name:"home",component:Home},{path:"/dragdrop",name:"dragdrop",component:DragAndDrop},{path:"/maze",name:"maze",component:Maze},{path:"/stats",name:"stats",component:Stats},{path:"/:pathName(.*)",name:"notFound",component:Home}]});function getUserData(){const rr=ref("");function er(){return/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Mobile":"Desktop"}function tr(){return navigator.userAgentData?navigator.userAgentData.mobile?rr.value="Mobile":rr.value="Desktop":rr.value=er(),rr.value}return{getDeviceType:tr}}const _hoisted_1={class:"wrapper"},_hoisted_2={class:"headContainer"},_hoisted_3={class:"widescreen"},_sfc_main={__name:"App",setup(rr){const er=window.location.search,tr=er.substring(1);er&&tr&&router.replace(tr);const{getDeviceType:ir}=getUserData();async function nr(){{const cr=ir();try{const ur=doc(db,"counters","visitorCount"),hr=await getDoc(ur);hr.exists()&&cr=="Mobile"?await updateDoc(ur,{mobileCount:increment(1)}):hr.exists()&&cr=="Desktop"?await updateDoc(ur,{desktopCount:increment(1)}):console.log("Could not find counters.")}catch(ur){console.error("Error updating counter:",ur)}}}const sr=ref(!1),ar=ref(null),or=ref(null);function lr(cr){sr.value&&ar.value&&!ar.value.contains(cr.target)&&or.value&&!or.value.contains(cr.target)&&(sr.value=!1)}return onMounted(()=>{document.addEventListener("click",lr),signInAnonymously(auth).then(nr())}),onBeforeUnmount(()=>{document.removeEventListener("click",lr)}),(cr,ur)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[createBaseVNode("header",null,[createBaseVNode("div",_hoisted_2,[ur[5]||(ur[5]=createBaseVNode("h1",null,[createBaseVNode("img",{src:_imports_0$1,alt:"Logo; the letters JRC within a computer screen.",class:"logo"}),createTextVNode(" JRC's Portfolio Website ")],-1)),createBaseVNode("button",{class:"burger",onClick:ur[0]||(ur[0]=hr=>sr.value=!sr.value),ref_key:"burgerRef",ref:or}," ☰ ",512)])]),createBaseVNode("nav",_hoisted_3,[createVNode(unref(RouterLink),{to:"/"},{default:withCtx(()=>ur[6]||(ur[6]=[createTextVNode("Home")])),_:1}),createVNode(unref(RouterLink),{to:"/dragdrop"},{default:withCtx(()=>ur[7]||(ur[7]=[createTextVNode("Drag 'n' Drop")])),_:1}),createVNode(unref(RouterLink),{to:"/maze"},{default:withCtx(()=>ur[8]||(ur[8]=[createTextVNode("Maze")])),_:1}),createVNode(unref(RouterLink),{to:"/stats"},{default:withCtx(()=>ur[9]||(ur[9]=[createTextVNode("Statistics")])),_:1})]),createVNode(Transition,{name:"slide-down"},{default:withCtx(()=>[sr.value?(openBlock(),createElementBlock("nav",{key:0,class:normalizeClass(["nav-links",{open:sr.value}]),ref_key:"navRef",ref:ar},[createVNode(unref(RouterLink),{to:"/",onClick:ur[1]||(ur[1]=hr=>sr.value=!1)},{default:withCtx(()=>ur[10]||(ur[10]=[createTextVNode("Home")])),_:1}),createVNode(unref(RouterLink),{to:"/dragdrop",onClick:ur[2]||(ur[2]=hr=>sr.value=!1)},{default:withCtx(()=>ur[11]||(ur[11]=[createTextVNode("Drag 'n' Drop")])),_:1}),createVNode(unref(RouterLink),{to:"/maze",onClick:ur[3]||(ur[3]=hr=>sr.value=!1)},{default:withCtx(()=>ur[12]||(ur[12]=[createTextVNode("Maze")])),_:1}),createVNode(unref(RouterLink),{to:"/stats",onClick:ur[4]||(ur[4]=hr=>sr.value=!1)},{default:withCtx(()=>ur[13]||(ur[13]=[createTextVNode("Statistics")])),_:1})],2)):createCommentVNode("",!0)]),_:1})]),createVNode(unref(RouterView)),ur[14]||(ur[14]=createBaseVNode("footer",null,[createTextVNode(" Built using Vue, Vue-Router, with vectors and icons by "),createBaseVNode("a",{href:"https://www.svgrepo.com",target:"_blank"},"SVG Repo"),createTextVNode(" and "),createBaseVNode("a",{href:"https://www.fontawesome.com",target:"_blank"},"FontAwesome"),createTextVNode(" (Copyright 2025). ")],-1))],64))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-1736d97a"]]);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function _defineProperty$1(rr,er,tr){return(er=_toPropertyKey$1(er))in rr?Object.defineProperty(rr,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):rr[er]=tr,rr}function ownKeys$1(rr,er){var tr=Object.keys(rr);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(rr);er&&(ir=ir.filter(function(nr){return Object.getOwnPropertyDescriptor(rr,nr).enumerable})),tr.push.apply(tr,ir)}return tr}function _objectSpread2$1(rr){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$1(Object(tr),!0).forEach(function(ir){_defineProperty$1(rr,ir,tr[ir])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rr,Object.getOwnPropertyDescriptors(tr)):ownKeys$1(Object(tr)).forEach(function(ir){Object.defineProperty(rr,ir,Object.getOwnPropertyDescriptor(tr,ir))})}return rr}function _toPrimitive$1(rr,er){if(typeof rr!="object"||!rr)return rr;var tr=rr[Symbol.toPrimitive];if(tr!==void 0){var ir=tr.call(rr,er);if(typeof ir!="object")return ir;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(rr)}function _toPropertyKey$1(rr){var er=_toPrimitive$1(rr,"string");return typeof er=="symbol"?er:er+""}const noop=()=>{};let _WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(rr){}const{userAgent=""}=_WINDOW.navigator||{},WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;const IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var p$1=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,g$1=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,S$1={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},A$2={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},P$1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],s$1="classic",t$1="duotone",r$1="sharp",o$1="sharp-duotone",L$1=[s$1,t$1,r$1,o$1],G$1={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},lt$1={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},pt$1=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),xt$1={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Ft$1=["fak","fa-kit","fakd","fa-kit-duotone"],St$1={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},At$1=["kit"],Ct$1={kit:{"fa-kit":"fak"}},Lt$1=["fak","fakd"],Wt$1={kit:{fak:"fa-kit"}},Et$1={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},t$1$1={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},r$1$1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],bt$1=["fak","fa-kit","fakd","fa-kit-duotone"],Yt$1={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},ua$1={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},I$1={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ga$1={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},x$1=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ia$1=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...r$1$1,...x$1],m$1$1=["solid","regular","light","thin","duotone","brands"],c$1=[1,2,3,4,5,6,7,8,9,10],F$1=c$1.concat([11,12,13,14,15,16,17,18,19,20]),ma$1=[...Object.keys(I$1),...m$1$1,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",t$1$1.GROUP,t$1$1.SWAP_OPACITY,t$1$1.PRIMARY,t$1$1.SECONDARY].concat(c$1.map(rr=>"".concat(rr,"x"))).concat(F$1.map(rr=>"w-".concat(rr))),wa$1={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=(()=>{try{return!0}catch{return!1}})();function familyProxy(rr){return new Proxy(rr,{get(er,tr){return tr in er?er[tr]:er[s$1]}})}const _PREFIX_TO_STYLE=_objectSpread2$1({},S$1);_PREFIX_TO_STYLE[s$1]=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},{"fa-duotone":"duotone"}),S$1[s$1]),St$1.kit),St$1["kit-duotone"]);const PREFIX_TO_STYLE=familyProxy(_PREFIX_TO_STYLE),_STYLE_TO_PREFIX=_objectSpread2$1({},xt$1);_STYLE_TO_PREFIX[s$1]=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},{duotone:"fad"}),_STYLE_TO_PREFIX[s$1]),Et$1.kit),Et$1["kit-duotone"]);const STYLE_TO_PREFIX=familyProxy(_STYLE_TO_PREFIX),_PREFIX_TO_LONG_STYLE=_objectSpread2$1({},ga$1);_PREFIX_TO_LONG_STYLE[s$1]=_objectSpread2$1(_objectSpread2$1({},_PREFIX_TO_LONG_STYLE[s$1]),Wt$1.kit);const PREFIX_TO_LONG_STYLE=familyProxy(_PREFIX_TO_LONG_STYLE),_LONG_STYLE_TO_PREFIX=_objectSpread2$1({},ua$1);_LONG_STYLE_TO_PREFIX[s$1]=_objectSpread2$1(_objectSpread2$1({},_LONG_STYLE_TO_PREFIX[s$1]),Ct$1.kit);familyProxy(_LONG_STYLE_TO_PREFIX);const ICON_SELECTION_SYNTAX_PATTERN=p$1,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=g$1,_FONT_WEIGHT_TO_PREFIX=_objectSpread2$1({},G$1);familyProxy(_FONT_WEIGHT_TO_PREFIX);const ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES=A$2,RESERVED_CLASSES=[...At$1,...ma$1],initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(rr){var er=DOCUMENT.querySelector("script["+rr+"]");if(er)return er.getAttribute(rr)}function coerce(rr){return rr===""?!0:rr==="false"?!1:rr==="true"?!0:rr}DOCUMENT&&typeof DOCUMENT.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(er=>{let[tr,ir]=er;const nr=coerce(getAttrConfig(tr));nr!=null&&(initial[ir]=nr)});const _default={styleDefault:"solid",familyDefault:s$1,cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);const _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);const config={};Object.keys(_default).forEach(rr=>{Object.defineProperty(config,rr,{enumerable:!0,set:function(er){_config[rr]=er,_onChangeCb.forEach(tr=>tr(config))},get:function(){return _config[rr]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function(rr){_config.cssPrefix=rr,_onChangeCb.forEach(er=>er(config))},get:function(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;const _onChangeCb=[];function onChange(rr){return _onChangeCb.push(rr),()=>{_onChangeCb.splice(_onChangeCb.indexOf(rr),1)}}const d$2=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(rr){if(!rr||!IS_DOM)return;const er=DOCUMENT.createElement("style");er.setAttribute("type","text/css"),er.innerHTML=rr;const tr=DOCUMENT.head.childNodes;let ir=null;for(let nr=tr.length-1;nr>-1;nr--){const sr=tr[nr],ar=(sr.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(ar)>-1&&(ir=sr)}return DOCUMENT.head.insertBefore(er,ir),rr}const idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){let rr=12,er="";for(;rr-- >0;)er+=idPool[Math.random()*62|0];return er}function toArray(rr){const er=[];for(let tr=(rr||[]).length>>>0;tr--;)er[tr]=rr[tr];return er}function classArray(rr){return rr.classList?toArray(rr.classList):(rr.getAttribute("class")||"").split(" ").filter(er=>er)}function htmlEscape(rr){return"".concat(rr).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(rr){return Object.keys(rr||{}).reduce((er,tr)=>er+"".concat(tr,'="').concat(htmlEscape(rr[tr]),'" '),"").trim()}function joinStyles(rr){return Object.keys(rr||{}).reduce((er,tr)=>er+"".concat(tr,": ").concat(rr[tr].trim(),";"),"")}function transformIsMeaningful(rr){return rr.size!==meaninglessTransform.size||rr.x!==meaninglessTransform.x||rr.y!==meaninglessTransform.y||rr.rotate!==meaninglessTransform.rotate||rr.flipX||rr.flipY}function transformForSvg(rr){let{transform:er,containerWidth:tr,iconWidth:ir}=rr;const nr={transform:"translate(".concat(tr/2," 256)")},sr="translate(".concat(er.x*32,", ").concat(er.y*32,") "),ar="scale(".concat(er.size/16*(er.flipX?-1:1),", ").concat(er.size/16*(er.flipY?-1:1),") "),or="rotate(".concat(er.rotate," 0 0)"),lr={transform:"".concat(sr," ").concat(ar," ").concat(or)},cr={transform:"translate(".concat(ir/2*-1," -256)")};return{outer:nr,inner:lr,path:cr}}function transformForCss(rr){let{transform:er,width:tr=UNITS_IN_GRID,height:ir=UNITS_IN_GRID,startCentered:nr=!1}=rr,sr="";return nr&&IS_IE?sr+="translate(".concat(er.x/d$2-tr/2,"em, ").concat(er.y/d$2-ir/2,"em) "):nr?sr+="translate(calc(-50% + ".concat(er.x/d$2,"em), calc(-50% + ").concat(er.y/d$2,"em)) "):sr+="translate(".concat(er.x/d$2,"em, ").concat(er.y/d$2,"em) "),sr+="scale(".concat(er.size/d$2*(er.flipX?-1:1),", ").concat(er.size/d$2*(er.flipY?-1:1),") "),sr+="rotate(".concat(er.rotate,"deg) "),sr}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function css(){const rr=DEFAULT_CSS_PREFIX,er=DEFAULT_REPLACEMENT_CLASS,tr=config.cssPrefix,ir=config.replacementClass;let nr=baseStyles;if(tr!==rr||ir!==er){const sr=new RegExp("\\.".concat(rr,"\\-"),"g"),ar=new RegExp("\\--".concat(rr,"\\-"),"g"),or=new RegExp("\\.".concat(er),"g");nr=nr.replace(sr,".".concat(tr,"-")).replace(ar,"--".concat(tr,"-")).replace(or,".".concat(ir))}return nr}let _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout(){return{dom:{css,insertCss:ensureCss}}},hooks(){return{beforeDOMElementCreation(){ensureCss()},beforeI2svg(){ensureCss()}}}};const w$1=WINDOW||{};w$1[NAMESPACE_IDENTIFIER]||(w$1[NAMESPACE_IDENTIFIER]={});w$1[NAMESPACE_IDENTIFIER].styles||(w$1[NAMESPACE_IDENTIFIER].styles={});w$1[NAMESPACE_IDENTIFIER].hooks||(w$1[NAMESPACE_IDENTIFIER].hooks={});w$1[NAMESPACE_IDENTIFIER].shims||(w$1[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w$1[NAMESPACE_IDENTIFIER];const functions=[],listener=function(){DOCUMENT.removeEventListener("DOMContentLoaded",listener),loaded=1,functions.map(rr=>rr())};let loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(rr){IS_DOM&&(loaded?setTimeout(rr,0):functions.push(rr))}function toHtml(rr){const{tag:er,attributes:tr={},children:ir=[]}=rr;return typeof rr=="string"?htmlEscape(rr):"<".concat(er," ").concat(joinAttributes(tr),">").concat(ir.map(toHtml).join(""),"</").concat(er,">")}function iconFromMapping(rr,er,tr){if(rr&&rr[er]&&rr[er][tr])return{prefix:er,iconName:tr,icon:rr[er][tr]}}var reduce=function rr(er,tr,ir,nr){var sr=Object.keys(er),ar=sr.length,or=tr,lr,cr,ur;for(ir===void 0?(lr=1,ur=er[sr[0]]):(lr=0,ur=ir);lr<ar;lr++)cr=sr[lr],ur=or(ur,er[cr],cr,er);return ur};function ucs2decode(rr){const er=[];let tr=0;const ir=rr.length;for(;tr<ir;){const nr=rr.charCodeAt(tr++);if(nr>=55296&&nr<=56319&&tr<ir){const sr=rr.charCodeAt(tr++);(sr&64512)==56320?er.push(((nr&1023)<<10)+(sr&1023)+65536):(er.push(nr),tr--)}else er.push(nr)}return er}function toHex(rr){const er=ucs2decode(rr);return er.length===1?er[0].toString(16):null}function codePointAt(rr,er){const tr=rr.length;let ir=rr.charCodeAt(er),nr;return ir>=55296&&ir<=56319&&tr>er+1&&(nr=rr.charCodeAt(er+1),nr>=56320&&nr<=57343)?(ir-55296)*1024+nr-56320+65536:ir}function normalizeIcons(rr){return Object.keys(rr).reduce((er,tr)=>{const ir=rr[tr];return!!ir.icon?er[ir.iconName]=ir.icon:er[tr]=ir,er},{})}function defineIcons(rr,er){let tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:ir=!1}=tr,nr=normalizeIcons(er);typeof namespace.hooks.addPack=="function"&&!ir?namespace.hooks.addPack(rr,normalizeIcons(er)):namespace.styles[rr]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[rr]||{}),nr),rr==="fas"&&defineIcons("fa",er)}const{styles,shims}=namespace,FAMILY_NAMES=Object.keys(PREFIX_TO_LONG_STYLE),PREFIXES_FOR_FAMILY=FAMILY_NAMES.reduce((rr,er)=>(rr[er]=Object.keys(PREFIX_TO_LONG_STYLE[er]),rr),{});let _defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={};function isReserved(rr){return~RESERVED_CLASSES.indexOf(rr)}function getIconName(rr,er){const tr=er.split("-"),ir=tr[0],nr=tr.slice(1).join("-");return ir===rr&&nr!==""&&!isReserved(nr)?nr:null}const build=()=>{const rr=ir=>reduce(styles,(nr,sr,ar)=>(nr[ar]=reduce(sr,ir,{}),nr),{});_byUnicode=rr((ir,nr,sr)=>(nr[3]&&(ir[nr[3]]=sr),nr[2]&&nr[2].filter(or=>typeof or=="number").forEach(or=>{ir[or.toString(16)]=sr}),ir)),_byLigature=rr((ir,nr,sr)=>(ir[sr]=sr,nr[2]&&nr[2].filter(or=>typeof or=="string").forEach(or=>{ir[or]=sr}),ir)),_byAlias=rr((ir,nr,sr)=>{const ar=nr[2];return ir[sr]=sr,ar.forEach(or=>{ir[or]=sr}),ir});const er="far"in styles||config.autoFetchSvg,tr=reduce(shims,(ir,nr)=>{const sr=nr[0];let ar=nr[1];const or=nr[2];return ar==="far"&&!er&&(ar="fas"),typeof sr=="string"&&(ir.names[sr]={prefix:ar,iconName:or}),typeof sr=="number"&&(ir.unicodes[sr.toString(16)]={prefix:ar,iconName:or}),ir},{names:{},unicodes:{}});_byOldName=tr.names,_byOldUnicode=tr.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(rr=>{_defaultUsablePrefix=getCanonicalPrefix(rr.styleDefault,{family:config.familyDefault})});build();function byUnicode(rr,er){return(_byUnicode[rr]||{})[er]}function byLigature(rr,er){return(_byLigature[rr]||{})[er]}function byAlias(rr,er){return(_byAlias[rr]||{})[er]}function byOldName(rr){return _byOldName[rr]||{prefix:null,iconName:null}}function byOldUnicode(rr){const er=_byOldUnicode[rr],tr=byUnicode("fas",rr);return er||(tr?{prefix:"fas",iconName:tr}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}const emptyCanonicalIcon=()=>({prefix:null,iconName:null,rest:[]});function getFamilyId(rr){let er=s$1;const tr=FAMILY_NAMES.reduce((ir,nr)=>(ir[nr]="".concat(config.cssPrefix,"-").concat(nr),ir),{});return L$1.forEach(ir=>{(rr.includes(tr[ir])||rr.some(nr=>PREFIXES_FOR_FAMILY[ir].includes(nr)))&&(er=ir)}),er}function getCanonicalPrefix(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:tr=s$1}=er,ir=PREFIX_TO_STYLE[tr][rr];if(tr===t$1&&!rr)return"fad";const nr=STYLE_TO_PREFIX[tr][rr]||STYLE_TO_PREFIX[tr][ir],sr=rr in namespace.styles?rr:null;return nr||sr||null}function moveNonFaClassesToRest(rr){let er=[],tr=null;return rr.forEach(ir=>{const nr=getIconName(config.cssPrefix,ir);nr?tr=nr:ir&&er.push(ir)}),{iconName:tr,rest:er}}function sortedUniqueValues(rr){return rr.sort().filter((er,tr,ir)=>ir.indexOf(er)===tr)}function getCanonicalIcon(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:tr=!1}=er;let ir=null;const nr=Ia$1.concat(bt$1),sr=sortedUniqueValues(rr.filter(hr=>nr.includes(hr))),ar=sortedUniqueValues(rr.filter(hr=>!Ia$1.includes(hr))),or=sr.filter(hr=>(ir=hr,!P$1.includes(hr))),[lr=null]=or,cr=getFamilyId(sr),ur=_objectSpread2$1(_objectSpread2$1({},moveNonFaClassesToRest(ar)),{},{prefix:getCanonicalPrefix(lr,{family:cr})});return _objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ur),getDefaultCanonicalPrefix({values:rr,family:cr,styles,config,canonical:ur,givenPrefix:ir})),applyShimAndAlias(tr,ir,ur))}function applyShimAndAlias(rr,er,tr){let{prefix:ir,iconName:nr}=tr;if(rr||!ir||!nr)return{prefix:ir,iconName:nr};const sr=er==="fa"?byOldName(nr):{},ar=byAlias(ir,nr);return nr=sr.iconName||ar||nr,ir=sr.prefix||ir,ir==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(ir="fas"),{prefix:ir,iconName:nr}}const newCanonicalFamilies=L$1.filter(rr=>rr!==s$1||rr!==t$1),newCanonicalStyles=Object.keys(ga$1).filter(rr=>rr!==s$1).map(rr=>Object.keys(ga$1[rr])).flat();function getDefaultCanonicalPrefix(rr){const{values:er,family:tr,canonical:ir,givenPrefix:nr="",styles:sr={},config:ar={}}=rr,or=tr===t$1,lr=er.includes("fa-duotone")||er.includes("fad"),cr=ar.familyDefault==="duotone",ur=ir.prefix==="fad"||ir.prefix==="fa-duotone";if(!or&&(lr||cr||ur)&&(ir.prefix="fad"),(er.includes("fa-brands")||er.includes("fab"))&&(ir.prefix="fab"),!ir.prefix&&newCanonicalFamilies.includes(tr)&&(Object.keys(sr).find(dr=>newCanonicalStyles.includes(dr))||ar.autoFetchSvg)){const dr=pt$1.get(tr).defaultShortPrefixId;ir.prefix=dr,ir.iconName=byAlias(ir.prefix,ir.iconName)||ir.iconName}return(ir.prefix==="fa"||nr==="fa")&&(ir.prefix=getDefaultUsablePrefix()||"fas"),ir}class Library{constructor(){this.definitions={}}add(){for(var er=arguments.length,tr=new Array(er),ir=0;ir<er;ir++)tr[ir]=arguments[ir];const nr=tr.reduce(this._pullDefinitions,{});Object.keys(nr).forEach(sr=>{this.definitions[sr]=_objectSpread2$1(_objectSpread2$1({},this.definitions[sr]||{}),nr[sr]),defineIcons(sr,nr[sr]);const ar=PREFIX_TO_LONG_STYLE[s$1][sr];ar&&defineIcons(ar,nr[sr]),build()})}reset(){this.definitions={}}_pullDefinitions(er,tr){const ir=tr.prefix&&tr.iconName&&tr.icon?{0:tr}:tr;return Object.keys(ir).map(nr=>{const{prefix:sr,iconName:ar,icon:or}=ir[nr],lr=or[2];er[sr]||(er[sr]={}),lr.length>0&&lr.forEach(cr=>{typeof cr=="string"&&(er[sr][cr]=or)}),er[sr][ar]=or}),er}}let _plugins=[],_hooks={};const providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(rr,er){let{mixoutsTo:tr}=er;return _plugins=rr,_hooks={},Object.keys(providers).forEach(ir=>{defaultProviderKeys.indexOf(ir)===-1&&delete providers[ir]}),_plugins.forEach(ir=>{const nr=ir.mixout?ir.mixout():{};if(Object.keys(nr).forEach(sr=>{typeof nr[sr]=="function"&&(tr[sr]=nr[sr]),typeof nr[sr]=="object"&&Object.keys(nr[sr]).forEach(ar=>{tr[sr]||(tr[sr]={}),tr[sr][ar]=nr[sr][ar]})}),ir.hooks){const sr=ir.hooks();Object.keys(sr).forEach(ar=>{_hooks[ar]||(_hooks[ar]=[]),_hooks[ar].push(sr[ar])})}ir.provides&&ir.provides(providers)}),tr}function chainHooks(rr,er){for(var tr=arguments.length,ir=new Array(tr>2?tr-2:0),nr=2;nr<tr;nr++)ir[nr-2]=arguments[nr];return(_hooks[rr]||[]).forEach(ar=>{er=ar.apply(null,[er,...ir])}),er}function callHooks(rr){for(var er=arguments.length,tr=new Array(er>1?er-1:0),ir=1;ir<er;ir++)tr[ir-1]=arguments[ir];(_hooks[rr]||[]).forEach(sr=>{sr.apply(null,tr)})}function callProvided(){const rr=arguments[0],er=Array.prototype.slice.call(arguments,1);return providers[rr]?providers[rr].apply(null,er):void 0}function findIconDefinition(rr){rr.prefix==="fa"&&(rr.prefix="fas");let{iconName:er}=rr;const tr=rr.prefix||getDefaultUsablePrefix();if(er)return er=byAlias(tr,er)||er,iconFromMapping(library.definitions,tr,er)||iconFromMapping(namespace.styles,tr,er)}const library=new Library,noAuto=()=>{config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function(){let rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",rr),callProvided("pseudoElements2svg",rr),callProvided("i2svg",rr)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:er}=rr;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(()=>{autoReplace({autoReplaceSvgRoot:er}),callHooks("watch",rr)})}},parse={icon:rr=>{if(rr===null)return null;if(typeof rr=="object"&&rr.prefix&&rr.iconName)return{prefix:rr.prefix,iconName:byAlias(rr.prefix,rr.iconName)||rr.iconName};if(Array.isArray(rr)&&rr.length===2){const er=rr[1].indexOf("fa-")===0?rr[1].slice(3):rr[1],tr=getCanonicalPrefix(rr[0]);return{prefix:tr,iconName:byAlias(tr,er)||er}}if(typeof rr=="string"&&(rr.indexOf("".concat(config.cssPrefix,"-"))>-1||rr.match(ICON_SELECTION_SYNTAX_PATTERN))){const er=getCanonicalIcon(rr.split(" "),{skipLookups:!0});return{prefix:er.prefix||getDefaultUsablePrefix(),iconName:byAlias(er.prefix,er.iconName)||er.iconName}}if(typeof rr=="string"){const er=getDefaultUsablePrefix();return{prefix:er,iconName:byAlias(er,rr)||rr}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function(){let rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:er=DOCUMENT}=rr;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:er})};function domVariants(rr,er){return Object.defineProperty(rr,"abstract",{get:er}),Object.defineProperty(rr,"html",{get:function(){return rr.abstract.map(tr=>toHtml(tr))}}),Object.defineProperty(rr,"node",{get:function(){if(!IS_DOM)return;const tr=DOCUMENT.createElement("div");return tr.innerHTML=rr.html,tr.children}}),rr}function asIcon(rr){let{children:er,main:tr,mask:ir,attributes:nr,styles:sr,transform:ar}=rr;if(transformIsMeaningful(ar)&&tr.found&&!ir.found){const{width:or,height:lr}=tr,cr={x:or/lr/2,y:.5};nr.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},sr),{},{"transform-origin":"".concat(cr.x+ar.x/16,"em ").concat(cr.y+ar.y/16,"em")}))}return[{tag:"svg",attributes:nr,children:er}]}function asSymbol(rr){let{prefix:er,iconName:tr,children:ir,attributes:nr,symbol:sr}=rr;const ar=sr===!0?"".concat(er,"-").concat(config.cssPrefix,"-").concat(tr):sr;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},nr),{},{id:ar}),children:ir}]}]}function makeInlineSvgAbstract(rr){const{icons:{main:er,mask:tr},prefix:ir,iconName:nr,transform:sr,symbol:ar,title:or,maskId:lr,titleId:cr,extra:ur,watchable:hr=!1}=rr,{width:dr,height:gr}=tr.found?tr:er,pr=Lt$1.includes(ir),mr=[config.replacementClass,nr?"".concat(config.cssPrefix,"-").concat(nr):""].filter(Tr=>ur.classes.indexOf(Tr)===-1).filter(Tr=>Tr!==""||!!Tr).concat(ur.classes).join(" ");let vr={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},ur.attributes),{},{"data-prefix":ir,"data-icon":nr,class:mr,role:ur.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(dr," ").concat(gr)})};const yr=pr&&!~ur.classes.indexOf("fa-fw")?{width:"".concat(dr/gr*16*.0625,"em")}:{};hr&&(vr.attributes[DATA_FA_I2SVG]=""),or&&(vr.children.push({tag:"title",attributes:{id:vr.attributes["aria-labelledby"]||"title-".concat(cr||nextUniqueId())},children:[or]}),delete vr.attributes.title);const br=_objectSpread2$1(_objectSpread2$1({},vr),{},{prefix:ir,iconName:nr,main:er,mask:tr,maskId:lr,transform:sr,symbol:ar,styles:_objectSpread2$1(_objectSpread2$1({},yr),ur.styles)}),{children:wr,attributes:Pr}=tr.found&&er.found?callProvided("generateAbstractMask",br)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",br)||{children:[],attributes:{}};return br.children=wr,br.attributes=Pr,ar?asSymbol(br):asIcon(br)}function makeLayersTextAbstract(rr){const{content:er,width:tr,height:ir,transform:nr,title:sr,extra:ar,watchable:or=!1}=rr,lr=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ar.attributes),sr?{title:sr}:{}),{},{class:ar.classes.join(" ")});or&&(lr[DATA_FA_I2SVG]="");const cr=_objectSpread2$1({},ar.styles);transformIsMeaningful(nr)&&(cr.transform=transformForCss({transform:nr,startCentered:!0,width:tr,height:ir}),cr["-webkit-transform"]=cr.transform);const ur=joinStyles(cr);ur.length>0&&(lr.style=ur);const hr=[];return hr.push({tag:"span",attributes:lr,children:[er]}),sr&&hr.push({tag:"span",attributes:{class:"sr-only"},children:[sr]}),hr}function makeLayersCounterAbstract(rr){const{content:er,title:tr,extra:ir}=rr,nr=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ir.attributes),tr?{title:tr}:{}),{},{class:ir.classes.join(" ")}),sr=joinStyles(ir.styles);sr.length>0&&(nr.style=sr);const ar=[];return ar.push({tag:"span",attributes:nr,children:[er]}),tr&&ar.push({tag:"span",attributes:{class:"sr-only"},children:[tr]}),ar}const{styles:styles$1}=namespace;function asFoundIcon(rr){const er=rr[0],tr=rr[1],[ir]=rr.slice(4);let nr=null;return Array.isArray(ir)?nr={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:ir[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:ir[1]}}]}:nr={tag:"path",attributes:{fill:"currentColor",d:ir}},{found:!0,width:er,height:tr,icon:nr}}const missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(rr,er){!PRODUCTION$1&&!config.showMissingIcons&&rr&&console.error('Icon with name "'.concat(rr,'" and prefix "').concat(er,'" is missing.'))}function findIcon(rr,er){let tr=er;return er==="fa"&&config.styleDefault!==null&&(er=getDefaultUsablePrefix()),new Promise((ir,nr)=>{if(tr==="fa"){const sr=byOldName(rr)||{};rr=sr.iconName||rr,er=sr.prefix||er}if(rr&&er&&styles$1[er]&&styles$1[er][rr]){const sr=styles$1[er][rr];return ir(asFoundIcon(sr))}maybeNotifyMissing(rr,er),ir(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&rr?callProvided("missingIconAbstract")||{}:{}}))})}const noop$1=()=>{},p$2=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1,measure:noop$1},preamble='FA "6.7.2"',begin=rr=>(p$2.mark("".concat(preamble," ").concat(rr," begins")),()=>end(rr)),end=rr=>{p$2.mark("".concat(preamble," ").concat(rr," ends")),p$2.measure("".concat(preamble," ").concat(rr),"".concat(preamble," ").concat(rr," begins"),"".concat(preamble," ").concat(rr," ends"))};var perf={begin,end};const noop$2=()=>{};function isWatched(rr){return typeof(rr.getAttribute?rr.getAttribute(DATA_FA_I2SVG):null)=="string"}function hasPrefixAndIcon(rr){const er=rr.getAttribute?rr.getAttribute(DATA_PREFIX):null,tr=rr.getAttribute?rr.getAttribute(DATA_ICON):null;return er&&tr}function hasBeenReplaced(rr){return rr&&rr.classList&&rr.classList.contains&&rr.classList.contains(config.replacementClass)}function getMutator(){return config.autoReplaceSvg===!0?mutators.replace:mutators[config.autoReplaceSvg]||mutators.replace}function createElementNS(rr){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",rr)}function createElement(rr){return DOCUMENT.createElement(rr)}function convertSVG(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:tr=rr.tag==="svg"?createElementNS:createElement}=er;if(typeof rr=="string")return DOCUMENT.createTextNode(rr);const ir=tr(rr.tag);return Object.keys(rr.attributes||[]).forEach(function(sr){ir.setAttribute(sr,rr.attributes[sr])}),(rr.children||[]).forEach(function(sr){ir.appendChild(convertSVG(sr,{ceFn:tr}))}),ir}function nodeAsComment(rr){let er=" ".concat(rr.outerHTML," ");return er="".concat(er,"Font Awesome fontawesome.com "),er}const mutators={replace:function(rr){const er=rr[0];if(er.parentNode)if(rr[1].forEach(tr=>{er.parentNode.insertBefore(convertSVG(tr),er)}),er.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){let tr=DOCUMENT.createComment(nodeAsComment(er));er.parentNode.replaceChild(tr,er)}else er.remove()},nest:function(rr){const er=rr[0],tr=rr[1];if(~classArray(er).indexOf(config.replacementClass))return mutators.replace(rr);const ir=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete tr[0].attributes.id,tr[0].attributes.class){const sr=tr[0].attributes.class.split(" ").reduce((ar,or)=>(or===config.replacementClass||or.match(ir)?ar.toSvg.push(or):ar.toNode.push(or),ar),{toNode:[],toSvg:[]});tr[0].attributes.class=sr.toSvg.join(" "),sr.toNode.length===0?er.removeAttribute("class"):er.setAttribute("class",sr.toNode.join(" "))}const nr=tr.map(sr=>toHtml(sr)).join(`
`);er.setAttribute(DATA_FA_I2SVG,""),er.innerHTML=nr}};function performOperationSync(rr){rr()}function perform(rr,er){const tr=typeof er=="function"?er:noop$2;if(rr.length===0)tr();else{let ir=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(ir=WINDOW.requestAnimationFrame||performOperationSync),ir(()=>{const nr=getMutator(),sr=perf.begin("mutate");rr.map(nr),sr(),tr()})}}let disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}let mo=null;function observe(rr){if(!MUTATION_OBSERVER||!config.observeMutations)return;const{treeCallback:er=noop$2,nodeCallback:tr=noop$2,pseudoElementsCallback:ir=noop$2,observeMutationsRoot:nr=DOCUMENT}=rr;mo=new MUTATION_OBSERVER(sr=>{if(disabled)return;const ar=getDefaultUsablePrefix();toArray(sr).forEach(or=>{if(or.type==="childList"&&or.addedNodes.length>0&&!isWatched(or.addedNodes[0])&&(config.searchPseudoElements&&ir(or.target),er(or.target)),or.type==="attributes"&&or.target.parentNode&&config.searchPseudoElements&&ir(or.target.parentNode),or.type==="attributes"&&isWatched(or.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(or.attributeName))if(or.attributeName==="class"&&hasPrefixAndIcon(or.target)){const{prefix:lr,iconName:cr}=getCanonicalIcon(classArray(or.target));or.target.setAttribute(DATA_PREFIX,lr||ar),cr&&or.target.setAttribute(DATA_ICON,cr)}else hasBeenReplaced(or.target)&&tr(or.target)})}),IS_DOM&&mo.observe(nr,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function disconnect(){mo&&mo.disconnect()}function styleParser(rr){const er=rr.getAttribute("style");let tr=[];return er&&(tr=er.split(";").reduce((ir,nr)=>{const sr=nr.split(":"),ar=sr[0],or=sr.slice(1);return ar&&or.length>0&&(ir[ar]=or.join(":").trim()),ir},{})),tr}function classParser(rr){const er=rr.getAttribute("data-prefix"),tr=rr.getAttribute("data-icon"),ir=rr.innerText!==void 0?rr.innerText.trim():"";let nr=getCanonicalIcon(classArray(rr));return nr.prefix||(nr.prefix=getDefaultUsablePrefix()),er&&tr&&(nr.prefix=er,nr.iconName=tr),nr.iconName&&nr.prefix||(nr.prefix&&ir.length>0&&(nr.iconName=byLigature(nr.prefix,rr.innerText)||byUnicode(nr.prefix,toHex(rr.innerText))),!nr.iconName&&config.autoFetchSvg&&rr.firstChild&&rr.firstChild.nodeType===Node.TEXT_NODE&&(nr.iconName=rr.firstChild.data)),nr}function attributesParser(rr){const er=toArray(rr.attributes).reduce((nr,sr)=>(nr.name!=="class"&&nr.name!=="style"&&(nr[sr.name]=sr.value),nr),{}),tr=rr.getAttribute("title"),ir=rr.getAttribute("data-fa-title-id");return config.autoA11y&&(tr?er["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(ir||nextUniqueId()):(er["aria-hidden"]="true",er.focusable="false")),er}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:tr,prefix:ir,rest:nr}=classParser(rr),sr=attributesParser(rr),ar=chainHooks("parseNodeAttributes",{},rr);let or=er.styleParser?styleParser(rr):[];return _objectSpread2$1({iconName:tr,title:rr.getAttribute("title"),titleId:rr.getAttribute("data-fa-title-id"),prefix:ir,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:nr,styles:or,attributes:sr}},ar)}const{styles:styles$2}=namespace;function generateMutation(rr){const er=config.autoReplaceSvg==="nest"?parseMeta(rr,{styleParser:!1}):parseMeta(rr);return~er.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",rr,er):callProvided("generateSvgReplacementMutation",rr,er)}function getKnownPrefixes(){return[...Ft$1,...Ia$1]}function onTree(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();const tr=DOCUMENT.documentElement.classList,ir=ur=>tr.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(ur)),nr=ur=>tr.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(ur)),sr=config.autoFetchSvg?getKnownPrefixes():P$1.concat(Object.keys(styles$2));sr.includes("fa")||sr.push("fa");const ar=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(sr.map(ur=>".".concat(ur,":not([").concat(DATA_FA_I2SVG,"])"))).join(", ");if(ar.length===0)return Promise.resolve();let or=[];try{or=toArray(rr.querySelectorAll(ar))}catch{}if(or.length>0)ir("pending"),nr("complete");else return Promise.resolve();const lr=perf.begin("onTree"),cr=or.reduce((ur,hr)=>{try{const dr=generateMutation(hr);dr&&ur.push(dr)}catch(dr){PRODUCTION$1||dr.name==="MissingIcon"&&console.error(dr)}return ur},[]);return new Promise((ur,hr)=>{Promise.all(cr).then(dr=>{perform(dr,()=>{ir("active"),ir("complete"),nr("pending"),typeof er=="function"&&er(),lr(),ur()})}).catch(dr=>{lr(),hr(dr)})})}function onNode(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(rr).then(tr=>{tr&&perform([tr],er)})}function resolveIcons(rr){return function(er){let tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const ir=(er||{}).icon?er:findIconDefinition(er||{});let{mask:nr}=tr;return nr&&(nr=(nr||{}).icon?nr:findIconDefinition(nr||{})),rr(ir,_objectSpread2$1(_objectSpread2$1({},tr),{},{mask:nr}))}}const render=function(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:tr=meaninglessTransform,symbol:ir=!1,mask:nr=null,maskId:sr=null,title:ar=null,titleId:or=null,classes:lr=[],attributes:cr={},styles:ur={}}=er;if(!rr)return;const{prefix:hr,iconName:dr,icon:gr}=rr;return domVariants(_objectSpread2$1({type:"icon"},rr),()=>(callHooks("beforeDOMElementCreation",{iconDefinition:rr,params:er}),config.autoA11y&&(ar?cr["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(or||nextUniqueId()):(cr["aria-hidden"]="true",cr.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(gr),mask:nr?asFoundIcon(nr.icon):{found:!1,width:null,height:null,icon:{}}},prefix:hr,iconName:dr,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),tr),symbol:ir,title:ar,maskId:sr,titleId:or,extra:{attributes:cr,styles:ur,classes:lr}})))};var ReplaceElements={mixout(){return{icon:resolveIcons(render)}},hooks(){return{mutationObserverCallbacks(rr){return rr.treeCallback=onTree,rr.nodeCallback=onNode,rr}}},provides(rr){rr.i2svg=function(er){const{node:tr=DOCUMENT,callback:ir=()=>{}}=er;return onTree(tr,ir)},rr.generateSvgReplacementMutation=function(er,tr){const{iconName:ir,title:nr,titleId:sr,prefix:ar,transform:or,symbol:lr,mask:cr,maskId:ur,extra:hr}=tr;return new Promise((dr,gr)=>{Promise.all([findIcon(ir,ar),cr.iconName?findIcon(cr.iconName,cr.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(pr=>{let[mr,vr]=pr;dr([er,makeInlineSvgAbstract({icons:{main:mr,mask:vr},prefix:ar,iconName:ir,transform:or,symbol:lr,maskId:ur,title:nr,titleId:sr,extra:hr,watchable:!0})])}).catch(gr)})},rr.generateAbstractIcon=function(er){let{children:tr,attributes:ir,main:nr,transform:sr,styles:ar}=er;const or=joinStyles(ar);or.length>0&&(ir.style=or);let lr;return transformIsMeaningful(sr)&&(lr=callProvided("generateAbstractTransformGrouping",{main:nr,transform:sr,containerWidth:nr.width,iconWidth:nr.width})),tr.push(lr||nr.icon),{children:tr,attributes:ir}}}},Layers={mixout(){return{layer(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:tr=[]}=er;return domVariants({type:"layer"},()=>{callHooks("beforeDOMElementCreation",{assembler:rr,params:er});let ir=[];return rr(nr=>{Array.isArray(nr)?nr.map(sr=>{ir=ir.concat(sr.abstract)}):ir=ir.concat(nr.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers"),...tr].join(" ")},children:ir}]})}}}},LayersCounter={mixout(){return{counter(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:tr=null,classes:ir=[],attributes:nr={},styles:sr={}}=er;return domVariants({type:"counter",content:rr},()=>(callHooks("beforeDOMElementCreation",{content:rr,params:er}),makeLayersCounterAbstract({content:rr.toString(),title:tr,extra:{attributes:nr,styles:sr,classes:["".concat(config.cssPrefix,"-layers-counter"),...ir]}})))}}}},LayersText={mixout(){return{text(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:tr=meaninglessTransform,title:ir=null,classes:nr=[],attributes:sr={},styles:ar={}}=er;return domVariants({type:"text",content:rr},()=>(callHooks("beforeDOMElementCreation",{content:rr,params:er}),makeLayersTextAbstract({content:rr,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),tr),title:ir,extra:{attributes:sr,styles:ar,classes:["".concat(config.cssPrefix,"-layers-text"),...nr]}})))}}},provides(rr){rr.generateLayersText=function(er,tr){const{title:ir,transform:nr,extra:sr}=tr;let ar=null,or=null;if(IS_IE){const lr=parseInt(getComputedStyle(er).fontSize,10),cr=er.getBoundingClientRect();ar=cr.width/lr,or=cr.height/lr}return config.autoA11y&&!ir&&(sr.attributes["aria-hidden"]="true"),Promise.resolve([er,makeLayersTextAbstract({content:er.innerHTML,width:ar,height:or,transform:nr,title:ir,extra:sr,watchable:!0})])}}};const CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319],_FONT_FAMILY_WEIGHT_TO_PREFIX=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},{FontAwesome:{normal:"fas",400:"fas"}}),lt$1),wa$1),Yt$1),FONT_FAMILY_WEIGHT_TO_PREFIX=Object.keys(_FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((rr,er)=>(rr[er.toLowerCase()]=_FONT_FAMILY_WEIGHT_TO_PREFIX[er],rr),{}),FONT_FAMILY_WEIGHT_FALLBACK=Object.keys(FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((rr,er)=>{const tr=FONT_FAMILY_WEIGHT_TO_PREFIX[er];return rr[er]=tr[900]||[...Object.entries(tr)][0][1],rr},{});function hexValueFromContent(rr){const er=rr.replace(CLEAN_CONTENT_PATTERN,""),tr=codePointAt(er,0),ir=tr>=SECONDARY_UNICODE_RANGE[0]&&tr<=SECONDARY_UNICODE_RANGE[1],nr=er.length===2?er[0]===er[1]:!1;return{value:toHex(nr?er[0]:er),isSecondary:ir||nr}}function getPrefix(rr,er){const tr=rr.replace(/^['"]|['"]$/g,"").toLowerCase(),ir=parseInt(er),nr=isNaN(ir)?"normal":ir;return(FONT_FAMILY_WEIGHT_TO_PREFIX[tr]||{})[nr]||FONT_FAMILY_WEIGHT_FALLBACK[tr]}function replaceForPosition(rr,er){const tr="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(er.replace(":","-"));return new Promise((ir,nr)=>{if(rr.getAttribute(tr)!==null)return ir();const ar=toArray(rr.children).filter(dr=>dr.getAttribute(DATA_FA_PSEUDO_ELEMENT)===er)[0],or=WINDOW.getComputedStyle(rr,er),lr=or.getPropertyValue("font-family"),cr=lr.match(FONT_FAMILY_PATTERN),ur=or.getPropertyValue("font-weight"),hr=or.getPropertyValue("content");if(ar&&!cr)return rr.removeChild(ar),ir();if(cr&&hr!=="none"&&hr!==""){const dr=or.getPropertyValue("content");let gr=getPrefix(lr,ur);const{value:pr,isSecondary:mr}=hexValueFromContent(dr),vr=cr[0].startsWith("FontAwesome");let yr=byUnicode(gr,pr),br=yr;if(vr){const wr=byOldUnicode(pr);wr.iconName&&wr.prefix&&(yr=wr.iconName,gr=wr.prefix)}if(yr&&!mr&&(!ar||ar.getAttribute(DATA_PREFIX)!==gr||ar.getAttribute(DATA_ICON)!==br)){rr.setAttribute(tr,br),ar&&rr.removeChild(ar);const wr=blankMeta(),{extra:Pr}=wr;Pr.attributes[DATA_FA_PSEUDO_ELEMENT]=er,findIcon(yr,gr).then(Tr=>{const Vr=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},wr),{},{icons:{main:Tr,mask:emptyCanonicalIcon()},prefix:gr,iconName:br,extra:Pr,watchable:!0})),Ar=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");er==="::before"?rr.insertBefore(Ar,rr.firstChild):rr.appendChild(Ar),Ar.outerHTML=Vr.map(xr=>toHtml(xr)).join(`
`),rr.removeAttribute(tr),ir()}).catch(nr)}else ir()}else ir()})}function replace(rr){return Promise.all([replaceForPosition(rr,"::before"),replaceForPosition(rr,"::after")])}function processable(rr){return rr.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(rr.tagName.toUpperCase())&&!rr.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!rr.parentNode||rr.parentNode.tagName!=="svg")}function searchPseudoElements(rr){if(IS_DOM)return new Promise((er,tr)=>{const ir=toArray(rr.querySelectorAll("*")).filter(processable).map(replace),nr=perf.begin("searchPseudoElements");disableObservation(),Promise.all(ir).then(()=>{nr(),enableObservation(),er()}).catch(()=>{nr(),enableObservation(),tr()})})}var PseudoElements={hooks(){return{mutationObserverCallbacks(rr){return rr.pseudoElementsCallback=searchPseudoElements,rr}}},provides(rr){rr.pseudoElements2svg=function(er){const{node:tr=DOCUMENT}=er;config.searchPseudoElements&&searchPseudoElements(tr)}}};let _unwatched=!1;var MutationObserver$1={mixout(){return{dom:{unwatch(){disableObservation(),_unwatched=!0}}}},hooks(){return{bootstrap(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto(){disconnect()},watch(rr){const{observeMutationsRoot:er}=rr;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:er}))}}}};const parseTransformString=rr=>{let er={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return rr.toLowerCase().split(" ").reduce((tr,ir)=>{const nr=ir.toLowerCase().split("-"),sr=nr[0];let ar=nr.slice(1).join("-");if(sr&&ar==="h")return tr.flipX=!0,tr;if(sr&&ar==="v")return tr.flipY=!0,tr;if(ar=parseFloat(ar),isNaN(ar))return tr;switch(sr){case"grow":tr.size=tr.size+ar;break;case"shrink":tr.size=tr.size-ar;break;case"left":tr.x=tr.x-ar;break;case"right":tr.x=tr.x+ar;break;case"up":tr.y=tr.y-ar;break;case"down":tr.y=tr.y+ar;break;case"rotate":tr.rotate=tr.rotate+ar;break}return tr},er)};var PowerTransforms={mixout(){return{parse:{transform:rr=>parseTransformString(rr)}}},hooks(){return{parseNodeAttributes(rr,er){const tr=er.getAttribute("data-fa-transform");return tr&&(rr.transform=parseTransformString(tr)),rr}}},provides(rr){rr.generateAbstractTransformGrouping=function(er){let{main:tr,transform:ir,containerWidth:nr,iconWidth:sr}=er;const ar={transform:"translate(".concat(nr/2," 256)")},or="translate(".concat(ir.x*32,", ").concat(ir.y*32,") "),lr="scale(".concat(ir.size/16*(ir.flipX?-1:1),", ").concat(ir.size/16*(ir.flipY?-1:1),") "),cr="rotate(".concat(ir.rotate," 0 0)"),ur={transform:"".concat(or," ").concat(lr," ").concat(cr)},hr={transform:"translate(".concat(sr/2*-1," -256)")},dr={outer:ar,inner:ur,path:hr};return{tag:"g",attributes:_objectSpread2$1({},dr.outer),children:[{tag:"g",attributes:_objectSpread2$1({},dr.inner),children:[{tag:tr.icon.tag,children:tr.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},tr.icon.attributes),dr.path)}]}]}}}};const ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(rr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return rr.attributes&&(rr.attributes.fill||er)&&(rr.attributes.fill="black"),rr}function deGroup(rr){return rr.tag==="g"?rr.children:[rr]}var Masks={hooks(){return{parseNodeAttributes(rr,er){const tr=er.getAttribute("data-fa-mask"),ir=tr?getCanonicalIcon(tr.split(" ").map(nr=>nr.trim())):emptyCanonicalIcon();return ir.prefix||(ir.prefix=getDefaultUsablePrefix()),rr.mask=ir,rr.maskId=er.getAttribute("data-fa-mask-id"),rr}}},provides(rr){rr.generateAbstractMask=function(er){let{children:tr,attributes:ir,main:nr,mask:sr,maskId:ar,transform:or}=er;const{width:lr,icon:cr}=nr,{width:ur,icon:hr}=sr,dr=transformForSvg({transform:or,containerWidth:ur,iconWidth:lr}),gr={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},pr=cr.children?{children:cr.children.map(fillBlack)}:{},mr={tag:"g",attributes:_objectSpread2$1({},dr.inner),children:[fillBlack(_objectSpread2$1({tag:cr.tag,attributes:_objectSpread2$1(_objectSpread2$1({},cr.attributes),dr.path)},pr))]},vr={tag:"g",attributes:_objectSpread2$1({},dr.outer),children:[mr]},yr="mask-".concat(ar||nextUniqueId()),br="clip-".concat(ar||nextUniqueId()),wr={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:yr,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[gr,vr]},Pr={tag:"defs",children:[{tag:"clipPath",attributes:{id:br},children:deGroup(hr)},wr]};return tr.push(Pr,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat(br,")"),mask:"url(#".concat(yr,")")},ALL_SPACE)}),{children:tr,attributes:ir}}}},MissingIconIndicator={provides(rr){let er=!1;WINDOW.matchMedia&&(er=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),rr.missingIconAbstract=function(){const tr=[],ir={fill:"currentColor"},nr={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};tr.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},ir),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const sr=_objectSpread2$1(_objectSpread2$1({},nr),{},{attributeName:"opacity"}),ar={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},ir),{},{cx:"256",cy:"364",r:"28"}),children:[]};return er||ar.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},nr),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},sr),{},{values:"1;0;1;1;0;1;"})}),tr.push(ar),tr.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},ir),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:er?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},sr),{},{values:"1;0;0;0;0;1;"})}]}),er||tr.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},ir),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},sr),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:tr}}}},SvgSymbols={hooks(){return{parseNodeAttributes(rr,er){const tr=er.getAttribute("data-fa-symbol"),ir=tr===null?!1:tr===""?!0:tr;return rr.symbol=ir,rr}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;const library$1=api.library;api.dom;const parse$1=api.parse;api.findIconDefinition;api.toHtml;const icon=api.icon;api.layer;api.text;api.counter;function ownKeys(rr,er){var tr=Object.keys(rr);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(rr);er&&(ir=ir.filter(function(nr){return Object.getOwnPropertyDescriptor(rr,nr).enumerable})),tr.push.apply(tr,ir)}return tr}function _objectSpread2(rr){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys(Object(tr),!0).forEach(function(ir){_defineProperty(rr,ir,tr[ir])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rr,Object.getOwnPropertyDescriptors(tr)):ownKeys(Object(tr)).forEach(function(ir){Object.defineProperty(rr,ir,Object.getOwnPropertyDescriptor(tr,ir))})}return rr}function _toPrimitive(rr,er){if(typeof rr!="object"||!rr)return rr;var tr=rr[Symbol.toPrimitive];if(tr!==void 0){var ir=tr.call(rr,er);if(typeof ir!="object")return ir;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(rr)}function _toPropertyKey(rr){var er=_toPrimitive(rr,"string");return typeof er=="symbol"?er:er+""}function _typeof(rr){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof(rr)}function _defineProperty(rr,er,tr){return er=_toPropertyKey(er),er in rr?Object.defineProperty(rr,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):rr[er]=tr,rr}function _objectWithoutPropertiesLoose(rr,er){if(rr==null)return{};var tr={};for(var ir in rr)if(Object.prototype.hasOwnProperty.call(rr,ir)){if(er.indexOf(ir)>=0)continue;tr[ir]=rr[ir]}return tr}function _objectWithoutProperties(rr,er){if(rr==null)return{};var tr=_objectWithoutPropertiesLoose(rr,er),ir,nr;if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(rr);for(nr=0;nr<sr.length;nr++)ir=sr[nr],!(er.indexOf(ir)>=0)&&Object.prototype.propertyIsEnumerable.call(rr,ir)&&(tr[ir]=rr[ir])}return tr}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},humps$1={exports:{}};(function(rr){(function(er){var tr=function(yr,br,wr){if(!cr(br)||hr(br)||dr(br)||gr(br)||lr(br))return br;var Pr,Tr=0,Vr=0;if(ur(br))for(Pr=[],Vr=br.length;Tr<Vr;Tr++)Pr.push(tr(yr,br[Tr],wr));else{Pr={};for(var Ar in br)Object.prototype.hasOwnProperty.call(br,Ar)&&(Pr[yr(Ar,wr)]=tr(yr,br[Ar],wr))}return Pr},ir=function(yr,br){br=br||{};var wr=br.separator||"_",Pr=br.split||/(?=[A-Z])/;return yr.split(Pr).join(wr)},nr=function(yr){return pr(yr)?yr:(yr=yr.replace(/[\-_\s]+(.)?/g,function(br,wr){return wr?wr.toUpperCase():""}),yr.substr(0,1).toLowerCase()+yr.substr(1))},sr=function(yr){var br=nr(yr);return br.substr(0,1).toUpperCase()+br.substr(1)},ar=function(yr,br){return ir(yr,br).toLowerCase()},or=Object.prototype.toString,lr=function(yr){return typeof yr=="function"},cr=function(yr){return yr===Object(yr)},ur=function(yr){return or.call(yr)=="[object Array]"},hr=function(yr){return or.call(yr)=="[object Date]"},dr=function(yr){return or.call(yr)=="[object RegExp]"},gr=function(yr){return or.call(yr)=="[object Boolean]"},pr=function(yr){return yr=yr-0,yr===yr},mr=function(yr,br){var wr=br&&"process"in br?br.process:br;return typeof wr!="function"?yr:function(Pr,Tr){return wr(Pr,yr,Tr)}},vr={camelize:nr,decamelize:ar,pascalize:sr,depascalize:ar,camelizeKeys:function(yr,br){return tr(mr(nr,br),yr)},decamelizeKeys:function(yr,br){return tr(mr(ar,br),yr,br)},pascalizeKeys:function(yr,br){return tr(mr(sr,br),yr)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};rr.exports?rr.exports=vr:er.humps=vr})(commonjsGlobal)})(humps$1);var humps=humps$1.exports,_excluded=["class","style"];function styleToObject(rr){return rr.split(";").map(function(er){return er.trim()}).filter(function(er){return er}).reduce(function(er,tr){var ir=tr.indexOf(":"),nr=humps.camelize(tr.slice(0,ir)),sr=tr.slice(ir+1).trim();return er[nr]=sr,er},{})}function classToObject(rr){return rr.split(/\s+/).reduce(function(er,tr){return er[tr]=!0,er},{})}function convert(rr){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof rr=="string")return rr;var ir=(rr.children||[]).map(function(lr){return convert(lr)}),nr=Object.keys(rr.attributes||{}).reduce(function(lr,cr){var ur=rr.attributes[cr];switch(cr){case"class":lr.class=classToObject(ur);break;case"style":lr.style=styleToObject(ur);break;default:lr.attrs[cr]=ur}return lr},{attrs:{},class:{},style:{}});tr.class;var sr=tr.style,ar=sr===void 0?{}:sr,or=_objectWithoutProperties(tr,_excluded);return h$1(rr.tag,_objectSpread2(_objectSpread2(_objectSpread2({},er),{},{class:nr.class,style:_objectSpread2(_objectSpread2({},nr.style),ar)},nr.attrs),or),ir)}var PRODUCTION=!1;try{PRODUCTION=!0}catch(rr){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var rr;(rr=console).error.apply(rr,arguments)}}function objectWithKey(rr,er){return Array.isArray(er)&&er.length>0||!Array.isArray(er)&&er?_defineProperty({},rr,er):{}}function classList(rr){var er,tr=(er={"fa-spin":rr.spin,"fa-pulse":rr.pulse,"fa-fw":rr.fixedWidth,"fa-border":rr.border,"fa-li":rr.listItem,"fa-inverse":rr.inverse,"fa-flip":rr.flip===!0,"fa-flip-horizontal":rr.flip==="horizontal"||rr.flip==="both","fa-flip-vertical":rr.flip==="vertical"||rr.flip==="both"},_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(er,"fa-".concat(rr.size),rr.size!==null),"fa-rotate-".concat(rr.rotation),rr.rotation!==null),"fa-pull-".concat(rr.pull),rr.pull!==null),"fa-swap-opacity",rr.swapOpacity),"fa-bounce",rr.bounce),"fa-shake",rr.shake),"fa-beat",rr.beat),"fa-fade",rr.fade),"fa-beat-fade",rr.beatFade),"fa-flash",rr.flash),_defineProperty(_defineProperty(er,"fa-spin-pulse",rr.spinPulse),"fa-spin-reverse",rr.spinReverse));return Object.keys(tr).map(function(ir){return tr[ir]?ir:null}).filter(function(ir){return ir})}function normalizeIconArgs(rr){if(rr&&_typeof(rr)==="object"&&rr.prefix&&rr.iconName&&rr.icon)return rr;if(parse$1.icon)return parse$1.icon(rr);if(rr===null)return null;if(_typeof(rr)==="object"&&rr.prefix&&rr.iconName)return rr;if(Array.isArray(rr)&&rr.length===2)return{prefix:rr[0],iconName:rr[1]};if(typeof rr=="string")return{prefix:"fas",iconName:rr}}var FontAwesomeIcon=defineComponent({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function rr(er){return[!0,!1,"horizontal","vertical","both"].indexOf(er)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function rr(er){return["right","left"].indexOf(er)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function rr(er){return[90,180,270].indexOf(Number.parseInt(er,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function rr(er){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(er)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function rr(er,tr){var ir=tr.attrs,nr=computed(function(){return normalizeIconArgs(er.icon)}),sr=computed(function(){return objectWithKey("classes",classList(er))}),ar=computed(function(){return objectWithKey("transform",typeof er.transform=="string"?parse$1.transform(er.transform):er.transform)}),or=computed(function(){return objectWithKey("mask",normalizeIconArgs(er.mask))}),lr=computed(function(){return icon(nr.value,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},sr.value),ar.value),or.value),{},{symbol:er.symbol,title:er.title,titleId:er.titleId,maskId:er.maskId}))});watch(lr,function(ur){if(!ur)return log("Could not find one or more icon(s)",nr.value,or.value)},{immediate:!0});var cr=computed(function(){return lr.value?convert(lr.value.abstract[0],{},ir):null});return function(){return cr.value}}});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const faStopwatch={prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M176 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l16 0 0 34.4C92.3 113.8 16 200 16 304c0 114.9 93.1 208 208 208s208-93.1 208-208c0-41.8-12.3-80.7-33.5-113.2l24.1-24.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L355.7 143c-28.1-23-62.2-38.8-99.7-44.6L256 64l16 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L224 0 176 0zm72 192l0 128c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-128c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},faPersonWalking={prefix:"fas",iconName:"person-walking",icon:[320,512,[128694,"walking"],"f554","M160 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM126.5 199.3c-1 .4-1.9 .8-2.9 1.2l-8 3.5c-16.4 7.3-29 21.2-34.7 38.2l-2.6 7.8c-5.6 16.8-23.7 25.8-40.5 20.2s-25.8-23.7-20.2-40.5l2.6-7.8c11.4-34.1 36.6-61.9 69.4-76.5l8-3.5c20.8-9.2 43.3-14 66.1-14c44.6 0 84.8 26.8 101.9 67.9L281 232.7l21.4 10.7c15.8 7.9 22.2 27.1 14.3 42.9s-27.1 22.2-42.9 14.3L247 287.3c-10.3-5.2-18.4-13.8-22.8-24.5l-9.6-23-19.3 65.5 49.5 54c5.4 5.9 9.2 13 11.2 20.8l23 92.1c4.3 17.1-6.1 34.5-23.3 38.8s-34.5-6.1-38.8-23.3l-22-88.1-70.7-77.1c-14.8-16.1-20.3-38.6-14.7-59.7l16.9-63.5zM68.7 398l25-62.4c2.1 3 4.5 5.8 7 8.6l40.7 44.4-14.5 36.2c-2.4 6-6 11.5-10.6 16.1L54.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L68.7 398z"]},faWalking=faPersonWalking;library$1.add(faWalking,faStopwatch);/*!
 * ApexCharts v4.5.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function t(rr,er){(er==null||er>rr.length)&&(er=rr.length);for(var tr=0,ir=Array(er);tr<er;tr++)ir[tr]=rr[tr];return ir}function e(rr){if(rr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rr}function i(rr,er){if(!(rr instanceof er))throw new TypeError("Cannot call a class as a function")}function a(rr,er){for(var tr=0;tr<er.length;tr++){var ir=er[tr];ir.enumerable=ir.enumerable||!1,ir.configurable=!0,"value"in ir&&(ir.writable=!0),Object.defineProperty(rr,x(ir.key),ir)}}function s(rr,er,tr){return er&&a(rr.prototype,er),tr&&a(rr,tr),Object.defineProperty(rr,"prototype",{writable:!1}),rr}function r(rr,er){var tr=typeof Symbol<"u"&&rr[Symbol.iterator]||rr["@@iterator"];if(!tr){if(Array.isArray(rr)||(tr=m$1(rr))||er){tr&&(rr=tr);var ir=0,nr=function(){};return{s:nr,n:function(){return ir>=rr.length?{done:!0}:{done:!1,value:rr[ir++]}},e:function(lr){throw lr},f:nr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sr,ar=!0,or=!1;return{s:function(){tr=tr.call(rr)},n:function(){var lr=tr.next();return ar=lr.done,lr},e:function(lr){or=!0,sr=lr},f:function(){try{ar||tr.return==null||tr.return()}finally{if(or)throw sr}}}}function n(rr){var er=c();return function(){var tr,ir=l(rr);if(er){var nr=l(this).constructor;tr=Reflect.construct(ir,arguments,nr)}else tr=ir.apply(this,arguments);return function(sr,ar){if(ar&&(typeof ar=="object"||typeof ar=="function"))return ar;if(ar!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(sr)}(this,tr)}}function o(rr,er,tr){return(er=x(er))in rr?Object.defineProperty(rr,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):rr[er]=tr,rr}function l(rr){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(er){return er.__proto__||Object.getPrototypeOf(er)},l(rr)}function h(rr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");rr.prototype=Object.create(er&&er.prototype,{constructor:{value:rr,writable:!0,configurable:!0}}),Object.defineProperty(rr,"prototype",{writable:!1}),er&&g(rr,er)}function c(){try{var rr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!rr})()}function d(rr,er){var tr=Object.keys(rr);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(rr);er&&(ir=ir.filter(function(nr){return Object.getOwnPropertyDescriptor(rr,nr).enumerable})),tr.push.apply(tr,ir)}return tr}function u(rr){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?d(Object(tr),!0).forEach(function(ir){o(rr,ir,tr[ir])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rr,Object.getOwnPropertyDescriptors(tr)):d(Object(tr)).forEach(function(ir){Object.defineProperty(rr,ir,Object.getOwnPropertyDescriptor(tr,ir))})}return rr}function g(rr,er){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tr,ir){return tr.__proto__=ir,tr},g(rr,er)}function p(rr,er){return function(tr){if(Array.isArray(tr))return tr}(rr)||function(tr,ir){var nr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(nr!=null){var sr,ar,or,lr,cr=[],ur=!0,hr=!1;try{if(or=(nr=nr.call(tr)).next,ir===0){if(Object(nr)!==nr)return;ur=!1}else for(;!(ur=(sr=or.call(nr)).done)&&(cr.push(sr.value),cr.length!==ir);ur=!0);}catch(dr){hr=!0,ar=dr}finally{try{if(!ur&&nr.return!=null&&(lr=nr.return(),Object(lr)!==lr))return}finally{if(hr)throw ar}}return cr}}(rr,er)||m$1(rr,er)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(rr){return function(er){if(Array.isArray(er))return t(er)}(rr)||function(er){if(typeof Symbol<"u"&&er[Symbol.iterator]!=null||er["@@iterator"]!=null)return Array.from(er)}(rr)||m$1(rr)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x(rr){var er=function(tr,ir){if(typeof tr!="object"||!tr)return tr;var nr=tr[Symbol.toPrimitive];if(nr!==void 0){var sr=nr.call(tr,ir);if(typeof sr!="object")return sr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ir==="string"?String:Number)(tr)}(rr,"string");return typeof er=="symbol"?er:er+""}function b(rr){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},b(rr)}function m$1(rr,er){if(rr){if(typeof rr=="string")return t(rr,er);var tr={}.toString.call(rr).slice(8,-1);return tr==="Object"&&rr.constructor&&(tr=rr.constructor.name),tr==="Map"||tr==="Set"?Array.from(rr):tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr)?t(rr,er):void 0}}var v=function(){function rr(){i(this,rr)}return s(rr,[{key:"shadeRGBColor",value:function(er,tr){var ir=tr.split(","),nr=er<0?0:255,sr=er<0?-1*er:er,ar=parseInt(ir[0].slice(4),10),or=parseInt(ir[1],10),lr=parseInt(ir[2],10);return"rgb("+(Math.round((nr-ar)*sr)+ar)+","+(Math.round((nr-or)*sr)+or)+","+(Math.round((nr-lr)*sr)+lr)+")"}},{key:"shadeHexColor",value:function(er,tr){var ir=parseInt(tr.slice(1),16),nr=er<0?0:255,sr=er<0?-1*er:er,ar=ir>>16,or=ir>>8&255,lr=255&ir;return"#"+(16777216+65536*(Math.round((nr-ar)*sr)+ar)+256*(Math.round((nr-or)*sr)+or)+(Math.round((nr-lr)*sr)+lr)).toString(16).slice(1)}},{key:"shadeColor",value:function(er,tr){return rr.isColorHex(tr)?this.shadeHexColor(er,tr):this.shadeRGBColor(er,tr)}}],[{key:"bind",value:function(er,tr){return function(){return er.apply(tr,arguments)}}},{key:"isObject",value:function(er){return er&&b(er)==="object"&&!Array.isArray(er)&&er!=null}},{key:"is",value:function(er,tr){return Object.prototype.toString.call(tr)==="[object "+er+"]"}},{key:"listToArray",value:function(er){var tr,ir=[];for(tr=0;tr<er.length;tr++)ir[tr]=er[tr];return ir}},{key:"extend",value:function(er,tr){var ir=this;typeof Object.assign!="function"&&(Object.assign=function(sr){if(sr==null)throw new TypeError("Cannot convert undefined or null to object");for(var ar=Object(sr),or=1;or<arguments.length;or++){var lr=arguments[or];if(lr!=null)for(var cr in lr)lr.hasOwnProperty(cr)&&(ar[cr]=lr[cr])}return ar});var nr=Object.assign({},er);return this.isObject(er)&&this.isObject(tr)&&Object.keys(tr).forEach(function(sr){ir.isObject(tr[sr])&&sr in er?nr[sr]=ir.extend(er[sr],tr[sr]):Object.assign(nr,o({},sr,tr[sr]))}),nr}},{key:"extendArray",value:function(er,tr){var ir=[];return er.map(function(nr){ir.push(rr.extend(tr,nr))}),er=ir}},{key:"monthMod",value:function(er){return er%12}},{key:"clone",value:function(er){var tr,ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(er===null||b(er)!=="object")return er;if(ir.has(er))return ir.get(er);if(Array.isArray(er)){tr=[],ir.set(er,tr);for(var nr=0;nr<er.length;nr++)tr[nr]=this.clone(er[nr],ir)}else if(er instanceof Date)tr=new Date(er.getTime());else for(var sr in tr={},ir.set(er,tr),er)er.hasOwnProperty(sr)&&(tr[sr]=this.clone(er[sr],ir));return tr}},{key:"log10",value:function(er){return Math.log(er)/Math.LN10}},{key:"roundToBase10",value:function(er){return Math.pow(10,Math.floor(Math.log10(er)))}},{key:"roundToBase",value:function(er,tr){return Math.pow(tr,Math.floor(Math.log(er)/Math.log(tr)))}},{key:"parseNumber",value:function(er){return er===null?er:parseFloat(er)}},{key:"stripNumber",value:function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(er)?er:parseFloat(er.toPrecision(tr))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(er){return er.toString().includes("e")?Math.round(er):er}},{key:"elementExists",value:function(er){return!(!er||!er.isConnected)}},{key:"getDimensions",value:function(er){var tr=getComputedStyle(er,null),ir=er.clientHeight,nr=er.clientWidth;return ir-=parseFloat(tr.paddingTop)+parseFloat(tr.paddingBottom),[nr-=parseFloat(tr.paddingLeft)+parseFloat(tr.paddingRight),ir]}},{key:"getBoundingClientRect",value:function(er){var tr=er.getBoundingClientRect();return{top:tr.top,right:tr.right,bottom:tr.bottom,left:tr.left,width:er.clientWidth,height:er.clientHeight,x:tr.left,y:tr.top}}},{key:"getLargestStringFromArr",value:function(er){return er.reduce(function(tr,ir){return Array.isArray(ir)&&(ir=ir.reduce(function(nr,sr){return nr.length>sr.length?nr:sr})),tr.length>ir.length?tr:ir},0)}},{key:"hexToRgba",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;er.substring(0,1)!=="#"&&(er="#999999");var ir=er.replace("#","");ir=ir.match(new RegExp("(.{"+ir.length/3+"})","g"));for(var nr=0;nr<ir.length;nr++)ir[nr]=parseInt(ir[nr].length===1?ir[nr]+ir[nr]:ir[nr],16);return tr!==void 0&&ir.push(tr),"rgba("+ir.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(er){return parseFloat(er.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(er){return(er=er.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&er.length===4?"#"+("0"+parseInt(er[1],10).toString(16)).slice(-2)+("0"+parseInt(er[2],10).toString(16)).slice(-2)+("0"+parseInt(er[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(er){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(er)}},{key:"getPolygonPos",value:function(er,tr){for(var ir=[],nr=2*Math.PI/tr,sr=0;sr<tr;sr++){var ar={};ar.x=er*Math.sin(sr*nr),ar.y=-er*Math.cos(sr*nr),ir.push(ar)}return ir}},{key:"polarToCartesian",value:function(er,tr,ir,nr){var sr=(nr-90)*Math.PI/180;return{x:er+ir*Math.cos(sr),y:tr+ir*Math.sin(sr)}}},{key:"escapeString",value:function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",ir=er.toString().slice();return ir=ir.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,tr)}},{key:"negToZero",value:function(er){return er<0?0:er}},{key:"moveIndexInArray",value:function(er,tr,ir){if(ir>=er.length)for(var nr=ir-er.length+1;nr--;)er.push(void 0);return er.splice(ir,0,er.splice(tr,1)[0]),er}},{key:"extractNumber",value:function(er){return parseFloat(er.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(er,tr){for(;(er=er.parentElement)&&!er.classList.contains(tr););return er}},{key:"setELstyles",value:function(er,tr){for(var ir in tr)tr.hasOwnProperty(ir)&&(er.style.key=tr[ir])}},{key:"preciseAddition",value:function(er,tr){var ir=(String(er).split(".")[1]||"").length,nr=(String(tr).split(".")[1]||"").length,sr=Math.pow(10,Math.max(ir,nr));return(Math.round(er*sr)+Math.round(tr*sr))/sr}},{key:"isNumber",value:function(er){return!isNaN(er)&&parseFloat(Number(er))===er&&!isNaN(parseInt(er,10))}},{key:"isFloat",value:function(er){return Number(er)===er&&er%1!=0}},{key:"isMsEdge",value:function(){var er=window.navigator.userAgent,tr=er.indexOf("Edge/");return tr>0&&parseInt(er.substring(tr+5,er.indexOf(".",tr)),10)}},{key:"getGCD",value:function(er,tr){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,nr=Math.pow(10,ir-Math.floor(Math.log10(Math.max(er,tr))));for(er=Math.round(Math.abs(er)*nr),tr=Math.round(Math.abs(tr)*nr);tr;){var sr=tr;tr=er%tr,er=sr}return er/nr}},{key:"getPrimeFactors",value:function(er){for(var tr=[],ir=2;er>=2;)er%ir==0?(tr.push(ir),er/=ir):ir++;return tr}},{key:"mod",value:function(er,tr){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,nr=Math.pow(10,ir-Math.floor(Math.log10(Math.max(er,tr))));return(er=Math.round(Math.abs(er)*nr))%(tr=Math.round(Math.abs(tr)*nr))/nr}}]),rr}(),y=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"animateLine",value:function(er,tr,ir,nr){er.attr(tr).animate(nr).attr(ir)}},{key:"animateMarker",value:function(er,tr,ir,nr){er.attr({opacity:0}).animate(tr).attr({opacity:1}).after(function(){nr()})}},{key:"animateRect",value:function(er,tr,ir,nr,sr){er.attr(tr).animate(nr).attr(ir).after(function(){return sr()})}},{key:"animatePathsGradually",value:function(er){var tr=er.el,ir=er.realIndex,nr=er.j,sr=er.fill,ar=er.pathFrom,or=er.pathTo,lr=er.speed,cr=er.delay,ur=this.w,hr=0;ur.config.chart.animations.animateGradually.enabled&&(hr=ur.config.chart.animations.animateGradually.delay),ur.config.chart.animations.dynamicAnimation.enabled&&ur.globals.dataChanged&&ur.config.chart.type!=="bar"&&(hr=0),this.morphSVG(tr,ir,nr,ur.config.chart.type!=="line"||ur.globals.comboCharts?sr:"stroke",ar,or,lr,cr*hr)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(er){var tr=er.el;tr.classList.remove("apexcharts-element-hidden"),tr.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(er){var tr=this.w;tr.globals.animationEnded||(tr.globals.animationEnded=!0,this.showDelayedElements(),typeof tr.config.chart.events.animationEnd=="function"&&tr.config.chart.events.animationEnd(this.ctx,{el:er,w:tr}))}},{key:"morphSVG",value:function(er,tr,ir,nr,sr,ar,or,lr){var cr=this,ur=this.w;sr||(sr=er.attr("pathFrom")),ar||(ar=er.attr("pathTo"));var hr=function(dr){return ur.config.chart.type==="radar"&&(or=1),"M 0 ".concat(ur.globals.gridHeight)};(!sr||sr.indexOf("undefined")>-1||sr.indexOf("NaN")>-1)&&(sr=hr()),(!ar.trim()||ar.indexOf("undefined")>-1||ar.indexOf("NaN")>-1)&&(ar=hr()),ur.globals.shouldAnimate||(or=1),er.plot(sr).animate(1,lr).plot(sr).animate(or,lr).plot(ar).after(function(){v.isNumber(ir)?ir===ur.globals.series[ur.globals.maxValsInArrayIndex].length-2&&ur.globals.shouldAnimate&&cr.animationCompleted(er):nr!=="none"&&ur.globals.shouldAnimate&&(!ur.globals.comboCharts&&tr===ur.globals.series.length-1||ur.globals.comboCharts)&&cr.animationCompleted(er),cr.showDelayedElements()})}}]),rr}();const w={},k=[];function A$1(rr,er){if(Array.isArray(rr))for(const tr of rr)A$1(tr,er);else if(typeof rr!="object")S(Object.getOwnPropertyNames(er)),w[rr]=Object.assign(w[rr]||{},er);else for(const tr in rr)A$1(tr,rr[tr])}function C(rr){return w[rr]||{}}function S(rr){k.push(...rr)}function L(rr,er){let tr;const ir=rr.length,nr=[];for(tr=0;tr<ir;tr++)nr.push(er(rr[tr]));return nr}function M(rr){return rr%360*Math.PI/180}function P(rr){return rr.charAt(0).toUpperCase()+rr.slice(1)}function I(rr,er,tr,ir){return er!=null&&tr!=null||(ir=ir||rr.bbox(),er==null?er=ir.width/ir.height*tr:tr==null&&(tr=ir.height/ir.width*er)),{width:er,height:tr}}function T(rr,er){const tr=rr.origin;let ir=rr.ox!=null?rr.ox:rr.originX!=null?rr.originX:"center",nr=rr.oy!=null?rr.oy:rr.originY!=null?rr.originY:"center";tr!=null&&([ir,nr]=Array.isArray(tr)?tr:typeof tr=="object"?[tr.x,tr.y]:[tr,tr]);const sr=typeof ir=="string",ar=typeof nr=="string";if(sr||ar){const{height:or,width:lr,x:cr,y:ur}=er.bbox();sr&&(ir=ir.includes("left")?cr:ir.includes("right")?cr+lr:cr+lr/2),ar&&(nr=nr.includes("top")?ur:nr.includes("bottom")?ur+or:ur+or/2)}return[ir,nr]}const z=new Set(["desc","metadata","title"]),X=rr=>z.has(rr.nodeName),R=(rr,er,tr={})=>{const ir={...er};for(const nr in ir)ir[nr].valueOf()===tr[nr]&&delete ir[nr];Object.keys(ir).length?rr.node.setAttribute("data-svgjs",JSON.stringify(ir)):(rr.node.removeAttribute("data-svgjs"),rr.node.removeAttribute("svgjs:data"))},E="http://www.w3.org/2000/svg",Y="http://www.w3.org/2000/xmlns/",H="http://www.w3.org/1999/xlink",O={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function F(){return O.window}let D=class{};const _={},N="___SYMBOL___ROOT___";function W(rr,er=E){return O.document.createElementNS(er,rr)}function B(rr,er=!1){if(rr instanceof D)return rr;if(typeof rr=="object")return U(rr);if(rr==null)return new _[N];if(typeof rr=="string"&&rr.charAt(0)!=="<")return U(O.document.querySelector(rr));const tr=er?O.document.createElement("div"):W("svg");return tr.innerHTML=rr,rr=U(tr.firstChild),tr.removeChild(tr.firstChild),rr}function G(rr,er){return er&&(er instanceof O.window.Node||er.ownerDocument&&er instanceof er.ownerDocument.defaultView.Node)?er:W(rr)}function V(rr){if(!rr)return null;if(rr.instance instanceof D)return rr.instance;if(rr.nodeName==="#document-fragment")return new _.Fragment(rr);let er=P(rr.nodeName||"Dom");return er==="LinearGradient"||er==="RadialGradient"?er="Gradient":_[er]||(er="Dom"),new _[er](rr)}let U=V;function q(rr,er=rr.name,tr=!1){return _[er]=rr,tr&&(_[N]=rr),S(Object.getOwnPropertyNames(rr.prototype)),rr}let Z=1e3;function $(rr){return"Svgjs"+P(rr)+Z++}function J$1(rr){for(let er=rr.children.length-1;er>=0;er--)J$1(rr.children[er]);return rr.id&&(rr.id=$(rr.nodeName)),rr}function Q(rr,er){let tr,ir;for(ir=(rr=Array.isArray(rr)?rr:[rr]).length-1;ir>=0;ir--)for(tr in er)rr[ir].prototype[tr]=er[tr]}function K(rr){return function(...er){const tr=er[er.length-1];return!tr||tr.constructor!==Object||tr instanceof Array?rr.apply(this,er):rr.apply(this,er.slice(0,-1)).attr(tr)}}A$1("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const rr=this.position();return this.parent().add(this.remove(),rr+1),this},backward:function(){const rr=this.position();return this.parent().add(this.remove(),rr?rr-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(rr){(rr=B(rr)).remove();const er=this.position();return this.parent().add(rr,er),this},after:function(rr){(rr=B(rr)).remove();const er=this.position();return this.parent().add(rr,er+1),this},insertBefore:function(rr){return(rr=B(rr)).before(this),this},insertAfter:function(rr){return(rr=B(rr)).after(this),this}});const tt=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,et=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,it=/rgb\((\d+),(\d+),(\d+)\)/,at=/(#[a-z_][a-z0-9\-_]*)/i,st=/\)\s*,?\s*/,rt=/\s/g,nt=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ot=/^rgb\(/,lt=/^(\s+)?$/,ht=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ct=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,dt=/[\s,]+/,ut=/[MLHVCSQTAZ]/i;function gt(rr){const er=Math.round(rr),tr=Math.max(0,Math.min(255,er)).toString(16);return tr.length===1?"0"+tr:tr}function pt(rr,er){for(let tr=er.length;tr--;)if(rr[er[tr]]==null)return!1;return!0}function ft(rr,er,tr){return tr<0&&(tr+=1),tr>1&&(tr-=1),tr<1/6?rr+6*(er-rr)*tr:tr<.5?er:tr<2/3?rr+(er-rr)*(2/3-tr)*6:rr}A$1("Dom",{classes:function(){const rr=this.attr("class");return rr==null?[]:rr.trim().split(dt)},hasClass:function(rr){return this.classes().indexOf(rr)!==-1},addClass:function(rr){if(!this.hasClass(rr)){const er=this.classes();er.push(rr),this.attr("class",er.join(" "))}return this},removeClass:function(rr){return this.hasClass(rr)&&this.attr("class",this.classes().filter(function(er){return er!==rr}).join(" ")),this},toggleClass:function(rr){return this.hasClass(rr)?this.removeClass(rr):this.addClass(rr)}}),A$1("Dom",{css:function(rr,er){const tr={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(ir){return!!ir.length}).forEach(function(ir){const nr=ir.split(/\s*:\s*/);tr[nr[0]]=nr[1]}),tr;if(arguments.length<2){if(Array.isArray(rr)){for(const ir of rr){const nr=ir;tr[ir]=this.node.style.getPropertyValue(nr)}return tr}if(typeof rr=="string")return this.node.style.getPropertyValue(rr);if(typeof rr=="object")for(const ir in rr)this.node.style.setProperty(ir,rr[ir]==null||lt.test(rr[ir])?"":rr[ir])}return arguments.length===2&&this.node.style.setProperty(rr,er==null||lt.test(er)?"":er),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),A$1("Dom",{data:function(rr,er,tr){if(rr==null)return this.data(L(function(ir,nr){let sr;const ar=ir.length,or=[];for(sr=0;sr<ar;sr++)nr(ir[sr])&&or.push(ir[sr]);return or}(this.node.attributes,ir=>ir.nodeName.indexOf("data-")===0),ir=>ir.nodeName.slice(5)));if(rr instanceof Array){const ir={};for(const nr of rr)ir[nr]=this.data(nr);return ir}if(typeof rr=="object")for(er in rr)this.data(er,rr[er]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+rr))}catch{return this.attr("data-"+rr)}else this.attr("data-"+rr,er===null?null:tr===!0||typeof er=="string"||typeof er=="number"?er:JSON.stringify(er));return this}}),A$1("Dom",{remember:function(rr,er){if(typeof arguments[0]=="object")for(const tr in rr)this.remember(tr,rr[tr]);else{if(arguments.length===1)return this.memory()[rr];this.memory()[rr]=er}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let rr=arguments.length-1;rr>=0;rr--)delete this.memory()[arguments[rr]];return this},memory:function(){return this._memory=this._memory||{}}});class xt{constructor(...er){this.init(...er)}static isColor(er){return er&&(er instanceof xt||this.isRgb(er)||this.test(er))}static isRgb(er){return er&&typeof er.r=="number"&&typeof er.g=="number"&&typeof er.b=="number"}static random(er="vibrant",tr){const{random:ir,round:nr,sin:sr,PI:ar}=Math;if(er==="vibrant"){const or=24*ir()+57,lr=38*ir()+45,cr=360*ir();return new xt(or,lr,cr,"lch")}if(er==="sine"){const or=nr(80*sr(2*ar*(tr=tr??ir())/.5+.01)+150),lr=nr(50*sr(2*ar*tr/.5+4.6)+200),cr=nr(100*sr(2*ar*tr/.5+2.3)+150);return new xt(or,lr,cr)}if(er==="pastel"){const or=8*ir()+86,lr=17*ir()+9,cr=360*ir();return new xt(or,lr,cr,"lch")}if(er==="dark"){const or=10+10*ir(),lr=50*ir()+86,cr=360*ir();return new xt(or,lr,cr,"lch")}if(er==="rgb"){const or=255*ir(),lr=255*ir(),cr=255*ir();return new xt(or,lr,cr)}if(er==="lab"){const or=100*ir(),lr=256*ir()-128,cr=256*ir()-128;return new xt(or,lr,cr,"lab")}if(er==="grey"){const or=255*ir();return new xt(or,or,or)}throw new Error("Unsupported random color mode")}static test(er){return typeof er=="string"&&(nt.test(er)||ot.test(er))}cmyk(){const{_a:er,_b:tr,_c:ir}=this.rgb(),[nr,sr,ar]=[er,tr,ir].map(lr=>lr/255),or=Math.min(1-nr,1-sr,1-ar);return or===1?new xt(0,0,0,1,"cmyk"):new xt((1-nr-or)/(1-or),(1-sr-or)/(1-or),(1-ar-or)/(1-or),or,"cmyk")}hsl(){const{_a:er,_b:tr,_c:ir}=this.rgb(),[nr,sr,ar]=[er,tr,ir].map(dr=>dr/255),or=Math.max(nr,sr,ar),lr=Math.min(nr,sr,ar),cr=(or+lr)/2,ur=or===lr,hr=or-lr;return new xt(360*(ur?0:or===nr?((sr-ar)/hr+(sr<ar?6:0))/6:or===sr?((ar-nr)/hr+2)/6:or===ar?((nr-sr)/hr+4)/6:0),100*(ur?0:cr>.5?hr/(2-or-lr):hr/(or+lr)),100*cr,"hsl")}init(er=0,tr=0,ir=0,nr=0,sr="rgb"){if(er=er||0,this.space)for(const hr in this.space)delete this[this.space[hr]];if(typeof er=="number")sr=typeof nr=="string"?nr:sr,nr=typeof nr=="string"?0:nr,Object.assign(this,{_a:er,_b:tr,_c:ir,_d:nr,space:sr});else if(er instanceof Array)this.space=tr||(typeof er[3]=="string"?er[3]:er[4])||"rgb",Object.assign(this,{_a:er[0],_b:er[1],_c:er[2],_d:er[3]||0});else if(er instanceof Object){const hr=function(dr,gr){const pr=pt(dr,"rgb")?{_a:dr.r,_b:dr.g,_c:dr.b,_d:0,space:"rgb"}:pt(dr,"xyz")?{_a:dr.x,_b:dr.y,_c:dr.z,_d:0,space:"xyz"}:pt(dr,"hsl")?{_a:dr.h,_b:dr.s,_c:dr.l,_d:0,space:"hsl"}:pt(dr,"lab")?{_a:dr.l,_b:dr.a,_c:dr.b,_d:0,space:"lab"}:pt(dr,"lch")?{_a:dr.l,_b:dr.c,_c:dr.h,_d:0,space:"lch"}:pt(dr,"cmyk")?{_a:dr.c,_b:dr.m,_c:dr.y,_d:dr.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return pr.space=gr||pr.space,pr}(er,tr);Object.assign(this,hr)}else if(typeof er=="string")if(ot.test(er)){const hr=er.replace(rt,""),[dr,gr,pr]=it.exec(hr).slice(1,4).map(mr=>parseInt(mr));Object.assign(this,{_a:dr,_b:gr,_c:pr,_d:0,space:"rgb"})}else{if(!nt.test(er))throw Error("Unsupported string format, can't construct Color");{const hr=mr=>parseInt(mr,16),[,dr,gr,pr]=et.exec(function(mr){return mr.length===4?["#",mr.substring(1,2),mr.substring(1,2),mr.substring(2,3),mr.substring(2,3),mr.substring(3,4),mr.substring(3,4)].join(""):mr}(er)).map(hr);Object.assign(this,{_a:dr,_b:gr,_c:pr,_d:0,space:"rgb"})}}const{_a:ar,_b:or,_c:lr,_d:cr}=this,ur=this.space==="rgb"?{r:ar,g:or,b:lr}:this.space==="xyz"?{x:ar,y:or,z:lr}:this.space==="hsl"?{h:ar,s:or,l:lr}:this.space==="lab"?{l:ar,a:or,b:lr}:this.space==="lch"?{l:ar,c:or,h:lr}:this.space==="cmyk"?{c:ar,m:or,y:lr,k:cr}:{};Object.assign(this,ur)}lab(){const{x:er,y:tr,z:ir}=this.xyz();return new xt(116*tr-16,500*(er-tr),200*(tr-ir),"lab")}lch(){const{l:er,a:tr,b:ir}=this.lab(),nr=Math.sqrt(tr**2+ir**2);let sr=180*Math.atan2(ir,tr)/Math.PI;return sr<0&&(sr*=-1,sr=360-sr),new xt(er,nr,sr,"lch")}rgb(){if(this.space==="rgb")return this;if((er=this.space)==="lab"||er==="xyz"||er==="lch"){let{x:tr,y:ir,z:nr}=this;if(this.space==="lab"||this.space==="lch"){let{l:gr,a:pr,b:mr}=this;if(this.space==="lch"){const{c:Vr,h:Ar}=this,xr=Math.PI/180;pr=Vr*Math.cos(xr*Ar),mr=Vr*Math.sin(xr*Ar)}const vr=(gr+16)/116,yr=pr/500+vr,br=vr-mr/200,wr=16/116,Pr=.008856,Tr=7.787;tr=.95047*(yr**3>Pr?yr**3:(yr-wr)/Tr),ir=1*(vr**3>Pr?vr**3:(vr-wr)/Tr),nr=1.08883*(br**3>Pr?br**3:(br-wr)/Tr)}const sr=3.2406*tr+-1.5372*ir+-.4986*nr,ar=-.9689*tr+1.8758*ir+.0415*nr,or=.0557*tr+-.204*ir+1.057*nr,lr=Math.pow,cr=.0031308,ur=sr>cr?1.055*lr(sr,1/2.4)-.055:12.92*sr,hr=ar>cr?1.055*lr(ar,1/2.4)-.055:12.92*ar,dr=or>cr?1.055*lr(or,1/2.4)-.055:12.92*or;return new xt(255*ur,255*hr,255*dr)}if(this.space==="hsl"){let{h:tr,s:ir,l:nr}=this;if(tr/=360,ir/=100,nr/=100,ir===0)return nr*=255,new xt(nr,nr,nr);const sr=nr<.5?nr*(1+ir):nr+ir-nr*ir,ar=2*nr-sr,or=255*ft(ar,sr,tr+1/3),lr=255*ft(ar,sr,tr),cr=255*ft(ar,sr,tr-1/3);return new xt(or,lr,cr)}if(this.space==="cmyk"){const{c:tr,m:ir,y:nr,k:sr}=this,ar=255*(1-Math.min(1,tr*(1-sr)+sr)),or=255*(1-Math.min(1,ir*(1-sr)+sr)),lr=255*(1-Math.min(1,nr*(1-sr)+sr));return new xt(ar,or,lr)}return this;var er}toArray(){const{_a:er,_b:tr,_c:ir,_d:nr,space:sr}=this;return[er,tr,ir,nr,sr]}toHex(){const[er,tr,ir]=this._clamped().map(gt);return`#${er}${tr}${ir}`}toRgb(){const[er,tr,ir]=this._clamped();return`rgb(${er},${tr},${ir})`}toString(){return this.toHex()}xyz(){const{_a:er,_b:tr,_c:ir}=this.rgb(),[nr,sr,ar]=[er,tr,ir].map(vr=>vr/255),or=nr>.04045?Math.pow((nr+.055)/1.055,2.4):nr/12.92,lr=sr>.04045?Math.pow((sr+.055)/1.055,2.4):sr/12.92,cr=ar>.04045?Math.pow((ar+.055)/1.055,2.4):ar/12.92,ur=(.4124*or+.3576*lr+.1805*cr)/.95047,hr=(.2126*or+.7152*lr+.0722*cr)/1,dr=(.0193*or+.1192*lr+.9505*cr)/1.08883,gr=ur>.008856?Math.pow(ur,1/3):7.787*ur+16/116,pr=hr>.008856?Math.pow(hr,1/3):7.787*hr+16/116,mr=dr>.008856?Math.pow(dr,1/3):7.787*dr+16/116;return new xt(gr,pr,mr,"xyz")}_clamped(){const{_a:er,_b:tr,_c:ir}=this.rgb(),{max:nr,min:sr,round:ar}=Math;return[er,tr,ir].map(or=>nr(0,sr(ar(or),255)))}}class bt{constructor(...er){this.init(...er)}clone(){return new bt(this)}init(er,tr){const sr=Array.isArray(er)?{x:er[0],y:er[1]}:typeof er=="object"?{x:er.x,y:er.y}:{x:er,y:tr};return this.x=sr.x==null?0:sr.x,this.y=sr.y==null?0:sr.y,this}toArray(){return[this.x,this.y]}transform(er){return this.clone().transformO(er)}transformO(er){vt.isMatrixLike(er)||(er=new vt(er));const{x:tr,y:ir}=this;return this.x=er.a*tr+er.c*ir+er.e,this.y=er.b*tr+er.d*ir+er.f,this}}function mt(rr,er,tr){return Math.abs(er-rr)<1e-6}class vt{constructor(...er){this.init(...er)}static formatTransforms(er){const tr=er.flip==="both"||er.flip===!0,ir=er.flip&&(tr||er.flip==="x")?-1:1,nr=er.flip&&(tr||er.flip==="y")?-1:1,sr=er.skew&&er.skew.length?er.skew[0]:isFinite(er.skew)?er.skew:isFinite(er.skewX)?er.skewX:0,ar=er.skew&&er.skew.length?er.skew[1]:isFinite(er.skew)?er.skew:isFinite(er.skewY)?er.skewY:0,or=er.scale&&er.scale.length?er.scale[0]*ir:isFinite(er.scale)?er.scale*ir:isFinite(er.scaleX)?er.scaleX*ir:ir,lr=er.scale&&er.scale.length?er.scale[1]*nr:isFinite(er.scale)?er.scale*nr:isFinite(er.scaleY)?er.scaleY*nr:nr,cr=er.shear||0,ur=er.rotate||er.theta||0,hr=new bt(er.origin||er.around||er.ox||er.originX,er.oy||er.originY),dr=hr.x,gr=hr.y,pr=new bt(er.position||er.px||er.positionX||NaN,er.py||er.positionY||NaN),mr=pr.x,vr=pr.y,yr=new bt(er.translate||er.tx||er.translateX,er.ty||er.translateY),br=yr.x,wr=yr.y,Pr=new bt(er.relative||er.rx||er.relativeX,er.ry||er.relativeY);return{scaleX:or,scaleY:lr,skewX:sr,skewY:ar,shear:cr,theta:ur,rx:Pr.x,ry:Pr.y,tx:br,ty:wr,ox:dr,oy:gr,px:mr,py:vr}}static fromArray(er){return{a:er[0],b:er[1],c:er[2],d:er[3],e:er[4],f:er[5]}}static isMatrixLike(er){return er.a!=null||er.b!=null||er.c!=null||er.d!=null||er.e!=null||er.f!=null}static matrixMultiply(er,tr,ir){const nr=er.a*tr.a+er.c*tr.b,sr=er.b*tr.a+er.d*tr.b,ar=er.a*tr.c+er.c*tr.d,or=er.b*tr.c+er.d*tr.d,lr=er.e+er.a*tr.e+er.c*tr.f,cr=er.f+er.b*tr.e+er.d*tr.f;return ir.a=nr,ir.b=sr,ir.c=ar,ir.d=or,ir.e=lr,ir.f=cr,ir}around(er,tr,ir){return this.clone().aroundO(er,tr,ir)}aroundO(er,tr,ir){const nr=er||0,sr=tr||0;return this.translateO(-nr,-sr).lmultiplyO(ir).translateO(nr,sr)}clone(){return new vt(this)}decompose(er=0,tr=0){const ir=this.a,nr=this.b,sr=this.c,ar=this.d,or=this.e,lr=this.f,cr=ir*ar-nr*sr,ur=cr>0?1:-1,hr=ur*Math.sqrt(ir*ir+nr*nr),dr=Math.atan2(ur*nr,ur*ir),gr=180/Math.PI*dr,pr=Math.cos(dr),mr=Math.sin(dr),vr=(ir*sr+nr*ar)/cr,yr=sr*hr/(vr*ir-nr)||ar*hr/(vr*nr+ir);return{scaleX:hr,scaleY:yr,shear:vr,rotate:gr,translateX:or-er+er*pr*hr+tr*(vr*pr*hr-mr*yr),translateY:lr-tr+er*mr*hr+tr*(vr*mr*hr+pr*yr),originX:er,originY:tr,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(er){if(er===this)return!0;const tr=new vt(er);return mt(this.a,tr.a)&&mt(this.b,tr.b)&&mt(this.c,tr.c)&&mt(this.d,tr.d)&&mt(this.e,tr.e)&&mt(this.f,tr.f)}flip(er,tr){return this.clone().flipO(er,tr)}flipO(er,tr){return er==="x"?this.scaleO(-1,1,tr,0):er==="y"?this.scaleO(1,-1,0,tr):this.scaleO(-1,-1,er,tr||er)}init(er){const tr=vt.fromArray([1,0,0,1,0,0]);return er=er instanceof Gt?er.matrixify():typeof er=="string"?vt.fromArray(er.split(dt).map(parseFloat)):Array.isArray(er)?vt.fromArray(er):typeof er=="object"&&vt.isMatrixLike(er)?er:typeof er=="object"?new vt().transform(er):arguments.length===6?vt.fromArray([].slice.call(arguments)):tr,this.a=er.a!=null?er.a:tr.a,this.b=er.b!=null?er.b:tr.b,this.c=er.c!=null?er.c:tr.c,this.d=er.d!=null?er.d:tr.d,this.e=er.e!=null?er.e:tr.e,this.f=er.f!=null?er.f:tr.f,this}inverse(){return this.clone().inverseO()}inverseO(){const er=this.a,tr=this.b,ir=this.c,nr=this.d,sr=this.e,ar=this.f,or=er*nr-tr*ir;if(!or)throw new Error("Cannot invert "+this);const lr=nr/or,cr=-tr/or,ur=-ir/or,hr=er/or,dr=-(lr*sr+ur*ar),gr=-(cr*sr+hr*ar);return this.a=lr,this.b=cr,this.c=ur,this.d=hr,this.e=dr,this.f=gr,this}lmultiply(er){return this.clone().lmultiplyO(er)}lmultiplyO(er){const tr=er instanceof vt?er:new vt(er);return vt.matrixMultiply(tr,this,this)}multiply(er){return this.clone().multiplyO(er)}multiplyO(er){const tr=er instanceof vt?er:new vt(er);return vt.matrixMultiply(this,tr,this)}rotate(er,tr,ir){return this.clone().rotateO(er,tr,ir)}rotateO(er,tr=0,ir=0){er=M(er);const nr=Math.cos(er),sr=Math.sin(er),{a:ar,b:or,c:lr,d:cr,e:ur,f:hr}=this;return this.a=ar*nr-or*sr,this.b=or*nr+ar*sr,this.c=lr*nr-cr*sr,this.d=cr*nr+lr*sr,this.e=ur*nr-hr*sr+ir*sr-tr*nr+tr,this.f=hr*nr+ur*sr-tr*sr-ir*nr+ir,this}scale(){return this.clone().scaleO(...arguments)}scaleO(er,tr=er,ir=0,nr=0){arguments.length===3&&(nr=ir,ir=tr,tr=er);const{a:sr,b:ar,c:or,d:lr,e:cr,f:ur}=this;return this.a=sr*er,this.b=ar*tr,this.c=or*er,this.d=lr*tr,this.e=cr*er-ir*er+ir,this.f=ur*tr-nr*tr+nr,this}shear(er,tr,ir){return this.clone().shearO(er,tr,ir)}shearO(er,tr=0,ir=0){const{a:nr,b:sr,c:ar,d:or,e:lr,f:cr}=this;return this.a=nr+sr*er,this.c=ar+or*er,this.e=lr+cr*er-ir*er,this}skew(){return this.clone().skewO(...arguments)}skewO(er,tr=er,ir=0,nr=0){arguments.length===3&&(nr=ir,ir=tr,tr=er),er=M(er),tr=M(tr);const sr=Math.tan(er),ar=Math.tan(tr),{a:or,b:lr,c:cr,d:ur,e:hr,f:dr}=this;return this.a=or+lr*sr,this.b=lr+or*ar,this.c=cr+ur*sr,this.d=ur+cr*ar,this.e=hr+dr*sr-nr*sr,this.f=dr+hr*ar-ir*ar,this}skewX(er,tr,ir){return this.skew(er,0,tr,ir)}skewY(er,tr,ir){return this.skew(0,er,tr,ir)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(er){if(vt.isMatrixLike(er))return new vt(er).multiplyO(this);const tr=vt.formatTransforms(er),{x:ir,y:nr}=new bt(tr.ox,tr.oy).transform(this),sr=new vt().translateO(tr.rx,tr.ry).lmultiplyO(this).translateO(-ir,-nr).scaleO(tr.scaleX,tr.scaleY).skewO(tr.skewX,tr.skewY).shearO(tr.shear).rotateO(tr.theta).translateO(ir,nr);if(isFinite(tr.px)||isFinite(tr.py)){const ar=new bt(ir,nr).transform(sr),or=isFinite(tr.px)?tr.px-ar.x:0,lr=isFinite(tr.py)?tr.py-ar.y:0;sr.translateO(or,lr)}return sr.translateO(tr.tx,tr.ty),sr}translate(er,tr){return this.clone().translateO(er,tr)}translateO(er,tr){return this.e+=er||0,this.f+=tr||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function yt(){if(!yt.nodes){const rr=B().size(2,0);rr.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),rr.attr("focusable","false"),rr.attr("aria-hidden","true");const er=rr.path().node;yt.nodes={svg:rr,path:er}}if(!yt.nodes.svg.node.parentNode){const rr=O.document.body||O.document.documentElement;yt.nodes.svg.addTo(rr)}return yt.nodes}function wt(rr){return!(rr.width||rr.height||rr.x||rr.y)}q(vt,"Matrix");class kt{constructor(...er){this.init(...er)}addOffset(){return this.x+=O.window.pageXOffset,this.y+=O.window.pageYOffset,new kt(this)}init(er){return er=typeof er=="string"?er.split(dt).map(parseFloat):Array.isArray(er)?er:typeof er=="object"?[er.left!=null?er.left:er.x,er.top!=null?er.top:er.y,er.width,er.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=er[0]||0,this.y=er[1]||0,this.width=this.w=er[2]||0,this.height=this.h=er[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return wt(this)}merge(er){const tr=Math.min(this.x,er.x),ir=Math.min(this.y,er.y),nr=Math.max(this.x+this.width,er.x+er.width)-tr,sr=Math.max(this.y+this.height,er.y+er.height)-ir;return new kt(tr,ir,nr,sr)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(er){er instanceof vt||(er=new vt(er));let tr=1/0,ir=-1/0,nr=1/0,sr=-1/0;return[new bt(this.x,this.y),new bt(this.x2,this.y),new bt(this.x,this.y2),new bt(this.x2,this.y2)].forEach(function(ar){ar=ar.transform(er),tr=Math.min(tr,ar.x),ir=Math.max(ir,ar.x),nr=Math.min(nr,ar.y),sr=Math.max(sr,ar.y)}),new kt(tr,nr,ir-tr,sr-nr)}}function At(rr,er,tr){let ir;try{if(ir=er(rr.node),wt(ir)&&(nr=rr.node)!==O.document&&!(O.document.documentElement.contains||function(sr){for(;sr.parentNode;)sr=sr.parentNode;return sr===O.document}).call(O.document.documentElement,nr))throw new Error("Element not in the dom")}catch{ir=tr(rr)}var nr;return ir}A$1({viewbox:{viewbox(rr,er,tr,ir){return rr==null?new kt(this.attr("viewBox")):this.attr("viewBox",new kt(rr,er,tr,ir))},zoom(rr,er){let{width:tr,height:ir}=this.attr(["width","height"]);if((tr||ir)&&typeof tr!="string"&&typeof ir!="string"||(tr=this.node.clientWidth,ir=this.node.clientHeight),!tr||!ir)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const nr=this.viewbox(),sr=tr/nr.width,ar=ir/nr.height,or=Math.min(sr,ar);if(rr==null)return or;let lr=or/rr;lr===1/0&&(lr=Number.MAX_SAFE_INTEGER/100),er=er||new bt(tr/2/sr+nr.x,ir/2/ar+nr.y);const cr=new kt(nr).transform(new vt({scale:lr,origin:er}));return this.viewbox(cr)}}}),q(kt,"Box");class Ct extends Array{constructor(er=[],...tr){if(super(er,...tr),typeof er=="number")return this;this.length=0,this.push(...er)}}Q([Ct],{each(rr,...er){return typeof rr=="function"?this.map((tr,ir,nr)=>rr.call(tr,tr,ir,nr)):this.map(tr=>tr[rr](...er))},toArray(){return Array.prototype.concat.apply([],this)}});const St=["toArray","constructor","each"];function Lt(rr,er){return new Ct(L((er||O.document).querySelectorAll(rr),function(tr){return V(tr)}))}Ct.extend=function(rr){rr=rr.reduce((er,tr)=>(St.includes(tr)||tr[0]==="_"||(tr in Array.prototype&&(er["$"+tr]=Array.prototype[tr]),er[tr]=function(...ir){return this.each(tr,...ir)}),er),{}),Q([Ct],rr)};let Mt=0;const Pt={};function It(rr){let er=rr.getEventHolder();return er===O.window&&(er=Pt),er.events||(er.events={}),er.events}function Tt(rr){return rr.getEventTarget()}function zt(rr,er,tr,ir,nr){const sr=tr.bind(ir||rr),ar=B(rr),or=It(ar),lr=Tt(ar);er=Array.isArray(er)?er:er.split(dt),tr._svgjsListenerId||(tr._svgjsListenerId=++Mt),er.forEach(function(cr){const ur=cr.split(".")[0],hr=cr.split(".")[1]||"*";or[ur]=or[ur]||{},or[ur][hr]=or[ur][hr]||{},or[ur][hr][tr._svgjsListenerId]=sr,lr.addEventListener(ur,sr,nr||!1)})}function Xt(rr,er,tr,ir){const nr=B(rr),sr=It(nr),ar=Tt(nr);(typeof tr!="function"||(tr=tr._svgjsListenerId))&&(er=Array.isArray(er)?er:(er||"").split(dt)).forEach(function(or){const lr=or&&or.split(".")[0],cr=or&&or.split(".")[1];let ur,hr;if(tr)sr[lr]&&sr[lr][cr||"*"]&&(ar.removeEventListener(lr,sr[lr][cr||"*"][tr],ir||!1),delete sr[lr][cr||"*"][tr]);else if(lr&&cr){if(sr[lr]&&sr[lr][cr]){for(hr in sr[lr][cr])Xt(ar,[lr,cr].join("."),hr);delete sr[lr][cr]}}else if(cr)for(or in sr)for(ur in sr[or])cr===ur&&Xt(ar,[or,cr].join("."));else if(lr){if(sr[lr]){for(ur in sr[lr])Xt(ar,[lr,ur].join("."));delete sr[lr]}}else{for(or in sr)Xt(ar,or);(function(dr){let gr=dr.getEventHolder();gr===O.window&&(gr=Pt),gr.events&&(gr.events={})})(nr)}})}class Rt extends D{addEventListener(){}dispatch(er,tr,ir){return function(nr,sr,ar,or){const lr=Tt(nr);return sr instanceof O.window.Event||(sr=new O.window.CustomEvent(sr,{detail:ar,cancelable:!0,...or})),lr.dispatchEvent(sr),sr}(this,er,tr,ir)}dispatchEvent(er){const tr=this.getEventHolder().events;if(!tr)return!0;const ir=tr[er.type];for(const nr in ir)for(const sr in ir[nr])ir[nr][sr](er);return!er.defaultPrevented}fire(er,tr,ir){return this.dispatch(er,tr,ir),this}getEventHolder(){return this}getEventTarget(){return this}off(er,tr,ir){return Xt(this,er,tr,ir),this}on(er,tr,ir,nr){return zt(this,er,tr,ir,nr),this}removeEventListener(){}}function Et(){}q(Rt,"EventTarget");const Yt=400,Ht=">",Ot=0,Ft={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Dt extends Array{constructor(...er){super(...er),this.init(...er)}clone(){return new this.constructor(this)}init(er){return typeof er=="number"||(this.length=0,this.push(...this.parse(er))),this}parse(er=[]){return er instanceof Array?er:er.trim().split(dt).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const er=[];return er.push(...this),er}}class _t{constructor(...er){this.init(...er)}convert(er){return new _t(this.value,er)}divide(er){return er=new _t(er),new _t(this/er,this.unit||er.unit)}init(er,tr){return tr=Array.isArray(er)?er[1]:tr,er=Array.isArray(er)?er[0]:er,this.value=0,this.unit=tr||"",typeof er=="number"?this.value=isNaN(er)?0:isFinite(er)?er:er<0?-34e37:34e37:typeof er=="string"?(tr=er.match(tt))&&(this.value=parseFloat(tr[1]),tr[5]==="%"?this.value/=100:tr[5]==="s"&&(this.value*=1e3),this.unit=tr[5]):er instanceof _t&&(this.value=er.valueOf(),this.unit=er.unit),this}minus(er){return er=new _t(er),new _t(this-er,this.unit||er.unit)}plus(er){return er=new _t(er),new _t(this+er,this.unit||er.unit)}times(er){return er=new _t(er),new _t(this*er,this.unit||er.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Nt=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Wt=[];class Bt extends Rt{constructor(er,tr){super(),this.node=er,this.type=er.nodeName,tr&&er!==tr&&this.attr(tr)}add(er,tr){return(er=B(er)).removeNamespace&&this.node instanceof O.window.SVGElement&&er.removeNamespace(),tr==null?this.node.appendChild(er.node):er.node!==this.node.childNodes[tr]&&this.node.insertBefore(er.node,this.node.childNodes[tr]),this}addTo(er,tr){return B(er).put(this,tr)}children(){return new Ct(L(this.node.children,function(er){return V(er)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(er=!0,tr=!0){this.writeDataToDom();let ir=this.node.cloneNode(er);return tr&&(ir=J$1(ir)),new this.constructor(ir)}each(er,tr){const ir=this.children();let nr,sr;for(nr=0,sr=ir.length;nr<sr;nr++)er.apply(ir[nr],[nr,ir]),tr&&ir[nr].each(er,tr);return this}element(er,tr){return this.put(new Bt(W(er),tr))}first(){return V(this.node.firstChild)}get(er){return V(this.node.childNodes[er])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(er){return this.index(er)>=0}html(er,tr){return this.xml(er,tr,"http://www.w3.org/1999/xhtml")}id(er){return er!==void 0||this.node.id||(this.node.id=$(this.type)),this.attr("id",er)}index(er){return[].slice.call(this.node.childNodes).indexOf(er.node)}last(){return V(this.node.lastChild)}matches(er){const tr=this.node,ir=tr.matches||tr.matchesSelector||tr.msMatchesSelector||tr.mozMatchesSelector||tr.webkitMatchesSelector||tr.oMatchesSelector||null;return ir&&ir.call(tr,er)}parent(er){let tr=this;if(!tr.node.parentNode)return null;if(tr=V(tr.node.parentNode),!er)return tr;do if(typeof er=="string"?tr.matches(er):tr instanceof er)return tr;while(tr=V(tr.node.parentNode));return tr}put(er,tr){return er=B(er),this.add(er,tr),er}putIn(er,tr){return B(er).add(this,tr)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(er){return this.node.removeChild(er.node),this}replace(er){return er=B(er),this.node.parentNode&&this.node.parentNode.replaceChild(er.node,this.node),er}round(er=2,tr=null){const ir=10**er,nr=this.attr(tr);for(const sr in nr)typeof nr[sr]=="number"&&(nr[sr]=Math.round(nr[sr]*ir)/ir);return this.attr(nr),this}svg(er,tr){return this.xml(er,tr,E)}toString(){return this.id()}words(er){return this.node.textContent=er,this}wrap(er){const tr=this.parent();if(!tr)return this.addTo(er);const ir=tr.index(this);return tr.put(er,ir).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(er,tr,ir){if(typeof er=="boolean"&&(ir=tr,tr=er,er=null),er==null||typeof er=="function"){tr=tr==null||tr,this.writeDataToDom();let or=this;if(er!=null){if(or=V(or.node.cloneNode(!0)),tr){const lr=er(or);if(or=lr||or,lr===!1)return""}or.each(function(){const lr=er(this),cr=lr||this;lr===!1?this.remove():lr&&this!==cr&&this.replace(cr)},!0)}return tr?or.node.outerHTML:or.node.innerHTML}tr=tr!=null&&tr;const nr=W("wrapper",ir),sr=O.document.createDocumentFragment();nr.innerHTML=er;for(let or=nr.children.length;or--;)sr.appendChild(nr.firstElementChild);const ar=this.parent();return tr?this.replace(sr)&&ar:this.add(sr)}}Q(Bt,{attr:function(rr,er,tr){if(rr==null){rr={},er=this.node.attributes;for(const ir of er)rr[ir.nodeName]=ht.test(ir.nodeValue)?parseFloat(ir.nodeValue):ir.nodeValue;return rr}if(rr instanceof Array)return rr.reduce((ir,nr)=>(ir[nr]=this.attr(nr),ir),{});if(typeof rr=="object"&&rr.constructor===Object)for(er in rr)this.attr(er,rr[er]);else if(er===null)this.node.removeAttribute(rr);else{if(er==null)return(er=this.node.getAttribute(rr))==null?Ft[rr]:ht.test(er)?parseFloat(er):er;typeof(er=Wt.reduce((ir,nr)=>nr(rr,ir,this),er))=="number"?er=new _t(er):Nt.has(rr)&&xt.isColor(er)?er=new xt(er):er.constructor===Array&&(er=new Dt(er)),rr==="leading"?this.leading&&this.leading(er):typeof tr=="string"?this.node.setAttributeNS(tr,rr,er.toString()):this.node.setAttribute(rr,er.toString()),!this.rebuild||rr!=="font-size"&&rr!=="x"||this.rebuild()}return this},find:function(rr){return Lt(rr,this.node)},findOne:function(rr){return V(this.node.querySelector(rr))}}),q(Bt,"Dom");let Gt=class extends Bt{constructor(rr,er){super(rr,er),this.dom={},this.node.instance=this,(rr.hasAttribute("data-svgjs")||rr.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(rr.getAttribute("data-svgjs"))??JSON.parse(rr.getAttribute("svgjs:data"))??{})}center(rr,er){return this.cx(rr).cy(er)}cx(rr){return rr==null?this.x()+this.width()/2:this.x(rr-this.width()/2)}cy(rr){return rr==null?this.y()+this.height()/2:this.y(rr-this.height()/2)}defs(){const rr=this.root();return rr&&rr.defs()}dmove(rr,er){return this.dx(rr).dy(er)}dx(rr=0){return this.x(new _t(rr).plus(this.x()))}dy(rr=0){return this.y(new _t(rr).plus(this.y()))}getEventHolder(){return this}height(rr){return this.attr("height",rr)}move(rr,er){return this.x(rr).y(er)}parents(rr=this.root()){const er=typeof rr=="string";er||(rr=B(rr));const tr=new Ct;let ir=this;for(;(ir=ir.parent())&&ir.node!==O.document&&ir.nodeName!=="#document-fragment"&&(tr.push(ir),er||ir.node!==rr.node)&&(!er||!ir.matches(rr));)if(ir.node===this.root().node)return null;return tr}reference(rr){if(!(rr=this.attr(rr)))return null;const er=(rr+"").match(at);return er?B(er[1]):null}root(){const rr=this.parent(function(er){return _[er]}(N));return rr&&rr.root()}setData(rr){return this.dom=rr,this}size(rr,er){const tr=I(this,rr,er);return this.width(new _t(tr.width)).height(new _t(tr.height))}width(rr){return this.attr("width",rr)}writeDataToDom(){return R(this,this.dom),super.writeDataToDom()}x(rr){return this.attr("x",rr)}y(rr){return this.attr("y",rr)}};Q(Gt,{bbox:function(){const rr=At(this,er=>er.getBBox(),er=>{try{const tr=er.clone().addTo(yt().svg).show(),ir=tr.node.getBBox();return tr.remove(),ir}catch(tr){throw new Error(`Getting bbox of element "${er.node.nodeName}" is not possible: ${tr.toString()}`)}});return new kt(rr)},rbox:function(rr){const er=At(this,ir=>ir.getBoundingClientRect(),ir=>{throw new Error(`Getting rbox of element "${ir.node.nodeName}" is not possible`)}),tr=new kt(er);return rr?tr.transform(rr.screenCTM().inverseO()):tr.addOffset()},inside:function(rr,er){const tr=this.bbox();return rr>tr.x&&er>tr.y&&rr<tr.x+tr.width&&er<tr.y+tr.height},point:function(rr,er){return new bt(rr,er).transformO(this.screenCTM().inverseO())},ctm:function(){return new vt(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const rr=this.rect(1,1),er=rr.node.getScreenCTM();return rr.remove(),new vt(er)}return new vt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new vt}}}),q(Gt,"Element");const jt={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(rr,er){return er==="color"?rr:rr+"-"+er}};["fill","stroke"].forEach(function(rr){const er={};let tr;er[rr]=function(ir){if(ir===void 0)return this.attr(rr);if(typeof ir=="string"||ir instanceof xt||xt.isRgb(ir)||ir instanceof Gt)this.attr(rr,ir);else for(tr=jt[rr].length-1;tr>=0;tr--)ir[jt[rr][tr]]!=null&&this.attr(jt.prefix(rr,jt[rr][tr]),ir[jt[rr][tr]]);return this},A$1(["Element","Runner"],er)}),A$1(["Element","Runner"],{matrix:function(rr,er,tr,ir,nr,sr){return rr==null?new vt(this):this.attr("transform",new vt(rr,er,tr,ir,nr,sr))},rotate:function(rr,er,tr){return this.transform({rotate:rr,ox:er,oy:tr},!0)},skew:function(rr,er,tr,ir){return arguments.length===1||arguments.length===3?this.transform({skew:rr,ox:er,oy:tr},!0):this.transform({skew:[rr,er],ox:tr,oy:ir},!0)},shear:function(rr,er,tr){return this.transform({shear:rr,ox:er,oy:tr},!0)},scale:function(rr,er,tr,ir){return arguments.length===1||arguments.length===3?this.transform({scale:rr,ox:er,oy:tr},!0):this.transform({scale:[rr,er],ox:tr,oy:ir},!0)},translate:function(rr,er){return this.transform({translate:[rr,er]},!0)},relative:function(rr,er){return this.transform({relative:[rr,er]},!0)},flip:function(rr="both",er="center"){return"xybothtrue".indexOf(rr)===-1&&(er=rr,rr="both"),this.transform({flip:rr,origin:er},!0)},opacity:function(rr){return this.attr("opacity",rr)}}),A$1("radius",{radius:function(rr,er=rr){return(this._element||this).type==="radialGradient"?this.attr("r",new _t(rr)):this.rx(rr).ry(er)}}),A$1("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(rr){return new bt(this.node.getPointAtLength(rr))}}),A$1(["Element","Runner"],{font:function(rr,er){if(typeof rr=="object"){for(er in rr)this.font(er,rr[er]);return this}return rr==="leading"?this.leading(er):rr==="anchor"?this.attr("text-anchor",er):rr==="size"||rr==="family"||rr==="weight"||rr==="stretch"||rr==="variant"||rr==="style"?this.attr("font-"+rr,er):this.attr(rr,er)}});A$1("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(rr,er){return rr[er]=function(tr){return tr===null?this.off(er):this.on(er,tr),this},rr},{})),A$1("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(st).slice(0,-1).map(function(er){const tr=er.trim().split("(");return[tr[0],tr[1].split(dt).map(function(ir){return parseFloat(ir)})]}).reverse().reduce(function(er,tr){return tr[0]==="matrix"?er.lmultiply(vt.fromArray(tr[1])):er[tr[0]].apply(er,tr[1])},new vt)},toParent:function(rr,er){if(this===rr)return this;if(X(this.node))return this.addTo(rr,er);const tr=this.screenCTM(),ir=rr.screenCTM().inverse();return this.addTo(rr,er).untransform().transform(ir.multiply(tr)),this},toRoot:function(rr){return this.toParent(this.root(),rr)},transform:function(rr,er){if(rr==null||typeof rr=="string"){const ir=new vt(this).decompose();return rr==null?ir:ir[rr]}vt.isMatrixLike(rr)||(rr={...rr,origin:T(rr,this)});const tr=new vt(er===!0?this:er||!1).transform(rr);return this.attr("transform",tr)}});class Vt extends Gt{flatten(){return this.each(function(){if(this instanceof Vt)return this.flatten().ungroup()}),this}ungroup(er=this.parent(),tr=er.index(this)){return tr=tr===-1?er.children().length:tr,this.each(function(ir,nr){return nr[nr.length-ir-1].toParent(er,tr)}),this.remove()}}q(Vt,"Container");class Ut extends Vt{constructor(er,tr=er){super(G("defs",er),tr)}flatten(){return this}ungroup(){return this}}q(Ut,"Defs");class qt extends Gt{}function Zt(rr){return this.attr("rx",rr)}function $t(rr){return this.attr("ry",rr)}function Jt(rr){return rr==null?this.cx()-this.rx():this.cx(rr+this.rx())}function Qt(rr){return rr==null?this.cy()-this.ry():this.cy(rr+this.ry())}function Kt(rr){return this.attr("cx",rr)}function te(rr){return this.attr("cy",rr)}function ee(rr){return rr==null?2*this.rx():this.rx(new _t(rr).divide(2))}function ie(rr){return rr==null?2*this.ry():this.ry(new _t(rr).divide(2))}q(qt,"Shape");var ae=Object.freeze({__proto__:null,cx:Kt,cy:te,height:ie,rx:Zt,ry:$t,width:ee,x:Jt,y:Qt});class se extends qt{constructor(er,tr=er){super(G("ellipse",er),tr)}size(er,tr){const ir=I(this,er,tr);return this.rx(new _t(ir.width).divide(2)).ry(new _t(ir.height).divide(2))}}Q(se,ae),A$1("Container",{ellipse:K(function(rr=0,er=rr){return this.put(new se).size(rr,er).move(0,0)})}),q(se,"Ellipse");class re extends Bt{constructor(er=O.document.createDocumentFragment()){super(er)}xml(er,tr,ir){if(typeof er=="boolean"&&(ir=tr,tr=er,er=null),er==null||typeof er=="function"){const nr=new Bt(W("wrapper",ir));return nr.add(this.node.cloneNode(!0)),nr.xml(!1,ir)}return super.xml(er,!1,ir)}}function ne(rr,er){return(this._element||this).type==="radialGradient"?this.attr({fx:new _t(rr),fy:new _t(er)}):this.attr({x1:new _t(rr),y1:new _t(er)})}function oe(rr,er){return(this._element||this).type==="radialGradient"?this.attr({cx:new _t(rr),cy:new _t(er)}):this.attr({x2:new _t(rr),y2:new _t(er)})}q(re,"Fragment");var le=Object.freeze({__proto__:null,from:ne,to:oe});class he extends Vt{constructor(er,tr){super(G(er+"Gradient",typeof er=="string"?null:er),tr)}attr(er,tr,ir){return er==="transform"&&(er="gradientTransform"),super.attr(er,tr,ir)}bbox(){return new kt}targets(){return Lt("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(er){return this.clear(),typeof er=="function"&&er.call(this,this),this}url(){return"url(#"+this.id()+")"}}Q(he,le),A$1({Container:{gradient(...rr){return this.defs().gradient(...rr)}},Defs:{gradient:K(function(rr,er){return this.put(new he(rr)).update(er)})}}),q(he,"Gradient");class ce extends Vt{constructor(er,tr=er){super(G("pattern",er),tr)}attr(er,tr,ir){return er==="transform"&&(er="patternTransform"),super.attr(er,tr,ir)}bbox(){return new kt}targets(){return Lt("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(er){return this.clear(),typeof er=="function"&&er.call(this,this),this}url(){return"url(#"+this.id()+")"}}A$1({Container:{pattern(...rr){return this.defs().pattern(...rr)}},Defs:{pattern:K(function(rr,er,tr){return this.put(new ce).update(tr).attr({x:0,y:0,width:rr,height:er,patternUnits:"userSpaceOnUse"})})}}),q(ce,"Pattern");let de=class extends qt{constructor(rr,er=rr){super(G("image",rr),er)}load(rr,er){if(!rr)return this;const tr=new O.window.Image;return zt(tr,"load",function(ir){const nr=this.parent(ce);this.width()===0&&this.height()===0&&this.size(tr.width,tr.height),nr instanceof ce&&nr.width()===0&&nr.height()===0&&nr.size(this.width(),this.height()),typeof er=="function"&&er.call(this,ir)},this),zt(tr,"load error",function(){Xt(tr)}),this.attr("href",tr.src=rr,H)}};var ue;ue=function(rr,er,tr){return rr!=="fill"&&rr!=="stroke"||ct.test(er)&&(er=tr.root().defs().image(er)),er instanceof de&&(er=tr.root().defs().pattern(0,0,ir=>{ir.add(er)})),er},Wt.push(ue),A$1({Container:{image:K(function(rr,er){return this.put(new de).size(0,0).load(rr,er)})}}),q(de,"Image");class ge extends Dt{bbox(){let er=-1/0,tr=-1/0,ir=1/0,nr=1/0;return this.forEach(function(sr){er=Math.max(sr[0],er),tr=Math.max(sr[1],tr),ir=Math.min(sr[0],ir),nr=Math.min(sr[1],nr)}),new kt(ir,nr,er-ir,tr-nr)}move(er,tr){const ir=this.bbox();if(er-=ir.x,tr-=ir.y,!isNaN(er)&&!isNaN(tr))for(let nr=this.length-1;nr>=0;nr--)this[nr]=[this[nr][0]+er,this[nr][1]+tr];return this}parse(er=[0,0]){const tr=[];(er=er instanceof Array?Array.prototype.concat.apply([],er):er.trim().split(dt).map(parseFloat)).length%2!=0&&er.pop();for(let ir=0,nr=er.length;ir<nr;ir+=2)tr.push([er[ir],er[ir+1]]);return tr}size(er,tr){let ir;const nr=this.bbox();for(ir=this.length-1;ir>=0;ir--)nr.width&&(this[ir][0]=(this[ir][0]-nr.x)*er/nr.width+nr.x),nr.height&&(this[ir][1]=(this[ir][1]-nr.y)*tr/nr.height+nr.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const er=[];for(let tr=0,ir=this.length;tr<ir;tr++)er.push(this[tr].join(","));return er.join(" ")}transform(er){return this.clone().transformO(er)}transformO(er){vt.isMatrixLike(er)||(er=new vt(er));for(let tr=this.length;tr--;){const[ir,nr]=this[tr];this[tr][0]=er.a*ir+er.c*nr+er.e,this[tr][1]=er.b*ir+er.d*nr+er.f}return this}}const pe=ge;var fe=Object.freeze({__proto__:null,MorphArray:pe,height:function(rr){const er=this.bbox();return rr==null?er.height:this.size(er.width,rr)},width:function(rr){const er=this.bbox();return rr==null?er.width:this.size(rr,er.height)},x:function(rr){return rr==null?this.bbox().x:this.move(rr,this.bbox().y)},y:function(rr){return rr==null?this.bbox().y:this.move(this.bbox().x,rr)}});let xe=class extends qt{constructor(rr,er=rr){super(G("line",rr),er)}array(){return new ge([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(rr,er){return this.attr(this.array().move(rr,er).toLine())}plot(rr,er,tr,ir){return rr==null?this.array():(rr=er!==void 0?{x1:rr,y1:er,x2:tr,y2:ir}:new ge(rr).toLine(),this.attr(rr))}size(rr,er){const tr=I(this,rr,er);return this.attr(this.array().size(tr.width,tr.height).toLine())}};Q(xe,fe),A$1({Container:{line:K(function(...rr){return xe.prototype.plot.apply(this.put(new xe),rr[0]!=null?rr:[0,0,0,0])})}}),q(xe,"Line");let be=class extends Vt{constructor(rr,er=rr){super(G("marker",rr),er)}height(rr){return this.attr("markerHeight",rr)}orient(rr){return this.attr("orient",rr)}ref(rr,er){return this.attr("refX",rr).attr("refY",er)}toString(){return"url(#"+this.id()+")"}update(rr){return this.clear(),typeof rr=="function"&&rr.call(this,this),this}width(rr){return this.attr("markerWidth",rr)}};function me(rr,er){return function(tr){return tr==null?this[rr]:(this[rr]=tr,er&&er.call(this),this)}}A$1({Container:{marker(...rr){return this.defs().marker(...rr)}},Defs:{marker:K(function(rr,er,tr){return this.put(new be).size(rr,er).ref(rr/2,er/2).viewbox(0,0,rr,er).attr("orient","auto").update(tr)})},marker:{marker(rr,er,tr,ir){let nr=["marker"];return rr!=="all"&&nr.push(rr),nr=nr.join("-"),rr=arguments[1]instanceof be?arguments[1]:this.defs().marker(er,tr,ir),this.attr(nr,rr)}}}),q(be,"Marker");const ve={"-":function(rr){return rr},"<>":function(rr){return-Math.cos(rr*Math.PI)/2+.5},">":function(rr){return Math.sin(rr*Math.PI/2)},"<":function(rr){return 1-Math.cos(rr*Math.PI/2)},bezier:function(rr,er,tr,ir){return function(nr){return nr<0?rr>0?er/rr*nr:tr>0?ir/tr*nr:0:nr>1?tr<1?(1-ir)/(1-tr)*nr+(ir-tr)/(1-tr):rr<1?(1-er)/(1-rr)*nr+(er-rr)/(1-rr):1:3*nr*(1-nr)**2*er+3*nr**2*(1-nr)*ir+nr**3}},steps:function(rr,er="end"){er=er.split("-").reverse()[0];let tr=rr;return er==="none"?--tr:er==="both"&&++tr,(ir,nr=!1)=>{let sr=Math.floor(ir*rr);const ar=ir*sr%1==0;return er!=="start"&&er!=="both"||++sr,nr&&ar&&--sr,ir>=0&&sr<0&&(sr=0),ir<=1&&sr>tr&&(sr=tr),sr/tr}}};class ye{done(){return!1}}class we extends ye{constructor(er=Ht){super(),this.ease=ve[er]||er}step(er,tr,ir){return typeof er!="number"?ir<1?er:tr:er+(tr-er)*this.ease(ir)}}class ke extends ye{constructor(er){super(),this.stepper=er}done(er){return er.done}step(er,tr,ir,nr){return this.stepper(er,tr,ir,nr)}}function Ae(){const rr=(this._duration||500)/1e3,er=this._overshoot||0,tr=Math.PI,ir=Math.log(er/100+1e-10),nr=-ir/Math.sqrt(tr*tr+ir*ir),sr=3.9/(nr*rr);this.d=2*nr*sr,this.k=sr*sr}Q(class extends ke{constructor(rr=500,er=0){super(),this.duration(rr).overshoot(er)}step(rr,er,tr,ir){if(typeof rr=="string")return rr;if(ir.done=tr===1/0,tr===1/0)return er;if(tr===0)return rr;tr>100&&(tr=16),tr/=1e3;const nr=ir.velocity||0,sr=-this.d*nr-this.k*(rr-er),ar=rr+nr*tr+sr*tr*tr/2;return ir.velocity=nr+sr*tr,ir.done=Math.abs(er-ar)+Math.abs(nr)<.002,ir.done?er:ar}},{duration:me("_duration",Ae),overshoot:me("_overshoot",Ae)});Q(class extends ke{constructor(rr=.1,er=.01,tr=0,ir=1e3){super(),this.p(rr).i(er).d(tr).windup(ir)}step(rr,er,tr,ir){if(typeof rr=="string")return rr;if(ir.done=tr===1/0,tr===1/0)return er;if(tr===0)return rr;const nr=er-rr;let sr=(ir.integral||0)+nr*tr;const ar=(nr-(ir.error||0))/tr,or=this._windup;return or!==!1&&(sr=Math.max(-or,Math.min(sr,or))),ir.error=nr,ir.integral=sr,ir.done=Math.abs(nr)<.001,ir.done?er:rr+(this.P*nr+this.I*sr+this.D*ar)}},{windup:me("_windup"),p:me("P"),i:me("I"),d:me("D")});const Ce={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Se={M:function(rr,er,tr){return er.x=tr.x=rr[0],er.y=tr.y=rr[1],["M",er.x,er.y]},L:function(rr,er){return er.x=rr[0],er.y=rr[1],["L",rr[0],rr[1]]},H:function(rr,er){return er.x=rr[0],["H",rr[0]]},V:function(rr,er){return er.y=rr[0],["V",rr[0]]},C:function(rr,er){return er.x=rr[4],er.y=rr[5],["C",rr[0],rr[1],rr[2],rr[3],rr[4],rr[5]]},S:function(rr,er){return er.x=rr[2],er.y=rr[3],["S",rr[0],rr[1],rr[2],rr[3]]},Q:function(rr,er){return er.x=rr[2],er.y=rr[3],["Q",rr[0],rr[1],rr[2],rr[3]]},T:function(rr,er){return er.x=rr[0],er.y=rr[1],["T",rr[0],rr[1]]},Z:function(rr,er,tr){return er.x=tr.x,er.y=tr.y,["Z"]},A:function(rr,er){return er.x=rr[5],er.y=rr[6],["A",rr[0],rr[1],rr[2],rr[3],rr[4],rr[5],rr[6]]}},Le="mlhvqtcsaz".split("");for(let rr=0,er=Le.length;rr<er;++rr)Se[Le[rr]]=function(tr){return function(ir,nr,sr){if(tr==="H")ir[0]=ir[0]+nr.x;else if(tr==="V")ir[0]=ir[0]+nr.y;else if(tr==="A")ir[5]=ir[5]+nr.x,ir[6]=ir[6]+nr.y;else for(let ar=0,or=ir.length;ar<or;++ar)ir[ar]=ir[ar]+(ar%2?nr.y:nr.x);return Se[tr](ir,nr,sr)}}(Le[rr].toUpperCase());function Me(rr){return rr.segment.length&&rr.segment.length-1===Ce[rr.segment[0].toUpperCase()]}function Pe(rr,er){rr.inNumber&&Ie(rr,!1);const tr=ut.test(er);if(tr)rr.segment=[er];else{const ir=rr.lastCommand,nr=ir.toLowerCase(),sr=ir===nr;rr.segment=[nr==="m"?sr?"l":"L":ir]}return rr.inSegment=!0,rr.lastCommand=rr.segment[0],tr}function Ie(rr,er){if(!rr.inNumber)throw new Error("Parser Error");rr.number&&rr.segment.push(parseFloat(rr.number)),rr.inNumber=er,rr.number="",rr.pointSeen=!1,rr.hasExponent=!1,Me(rr)&&Te(rr)}function Te(rr){rr.inSegment=!1,rr.absolute&&(rr.segment=function(er){const tr=er.segment[0];return Se[tr](er.segment.slice(1),er.p,er.p0)}(rr)),rr.segments.push(rr.segment)}function ze(rr){if(!rr.segment.length)return!1;const er=rr.segment[0].toUpperCase()==="A",tr=rr.segment.length;return er&&(tr===4||tr===5)}function Xe(rr){return rr.lastToken.toUpperCase()==="E"}const Re=new Set([" ",",","	",`
`,"\r","\f"]);class Ee extends Dt{bbox(){return yt().path.setAttribute("d",this.toString()),new kt(yt.nodes.path.getBBox())}move(er,tr){const ir=this.bbox();if(er-=ir.x,tr-=ir.y,!isNaN(er)&&!isNaN(tr))for(let nr,sr=this.length-1;sr>=0;sr--)nr=this[sr][0],nr==="M"||nr==="L"||nr==="T"?(this[sr][1]+=er,this[sr][2]+=tr):nr==="H"?this[sr][1]+=er:nr==="V"?this[sr][1]+=tr:nr==="C"||nr==="S"||nr==="Q"?(this[sr][1]+=er,this[sr][2]+=tr,this[sr][3]+=er,this[sr][4]+=tr,nr==="C"&&(this[sr][5]+=er,this[sr][6]+=tr)):nr==="A"&&(this[sr][6]+=er,this[sr][7]+=tr);return this}parse(er="M0 0"){return Array.isArray(er)&&(er=Array.prototype.concat.apply([],er).toString()),function(tr,ir=!0){let nr=0,sr="";const ar={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:ir,p0:new bt,p:new bt};for(;ar.lastToken=sr,sr=tr.charAt(nr++);)if(ar.inSegment||!Pe(ar,sr))if(sr!==".")if(isNaN(parseInt(sr)))if(Re.has(sr))ar.inNumber&&Ie(ar,!1);else if(sr!=="-"&&sr!=="+")if(sr.toUpperCase()!=="E"){if(ut.test(sr)){if(ar.inNumber)Ie(ar,!1);else{if(!Me(ar))throw new Error("parser Error");Te(ar)}--nr}}else ar.number+=sr,ar.hasExponent=!0;else{if(ar.inNumber&&!Xe(ar)){Ie(ar,!1),--nr;continue}ar.number+=sr,ar.inNumber=!0}else{if(ar.number==="0"||ze(ar)){ar.inNumber=!0,ar.number=sr,Ie(ar,!0);continue}ar.inNumber=!0,ar.number+=sr}else{if(ar.pointSeen||ar.hasExponent){Ie(ar,!1),--nr;continue}ar.inNumber=!0,ar.pointSeen=!0,ar.number+=sr}return ar.inNumber&&Ie(ar,!1),ar.inSegment&&Me(ar)&&Te(ar),ar.segments}(er)}size(er,tr){const ir=this.bbox();let nr,sr;for(ir.width=ir.width===0?1:ir.width,ir.height=ir.height===0?1:ir.height,nr=this.length-1;nr>=0;nr--)sr=this[nr][0],sr==="M"||sr==="L"||sr==="T"?(this[nr][1]=(this[nr][1]-ir.x)*er/ir.width+ir.x,this[nr][2]=(this[nr][2]-ir.y)*tr/ir.height+ir.y):sr==="H"?this[nr][1]=(this[nr][1]-ir.x)*er/ir.width+ir.x:sr==="V"?this[nr][1]=(this[nr][1]-ir.y)*tr/ir.height+ir.y:sr==="C"||sr==="S"||sr==="Q"?(this[nr][1]=(this[nr][1]-ir.x)*er/ir.width+ir.x,this[nr][2]=(this[nr][2]-ir.y)*tr/ir.height+ir.y,this[nr][3]=(this[nr][3]-ir.x)*er/ir.width+ir.x,this[nr][4]=(this[nr][4]-ir.y)*tr/ir.height+ir.y,sr==="C"&&(this[nr][5]=(this[nr][5]-ir.x)*er/ir.width+ir.x,this[nr][6]=(this[nr][6]-ir.y)*tr/ir.height+ir.y)):sr==="A"&&(this[nr][1]=this[nr][1]*er/ir.width,this[nr][2]=this[nr][2]*tr/ir.height,this[nr][6]=(this[nr][6]-ir.x)*er/ir.width+ir.x,this[nr][7]=(this[nr][7]-ir.y)*tr/ir.height+ir.y);return this}toString(){return function(er){let tr="";for(let ir=0,nr=er.length;ir<nr;ir++)tr+=er[ir][0],er[ir][1]!=null&&(tr+=er[ir][1],er[ir][2]!=null&&(tr+=" ",tr+=er[ir][2],er[ir][3]!=null&&(tr+=" ",tr+=er[ir][3],tr+=" ",tr+=er[ir][4],er[ir][5]!=null&&(tr+=" ",tr+=er[ir][5],tr+=" ",tr+=er[ir][6],er[ir][7]!=null&&(tr+=" ",tr+=er[ir][7])))));return tr+" "}(this)}}const Ye=rr=>{const er=typeof rr;return er==="number"?_t:er==="string"?xt.isColor(rr)?xt:dt.test(rr)?ut.test(rr)?Ee:Dt:tt.test(rr)?_t:Oe:Ne.indexOf(rr.constructor)>-1?rr.constructor:Array.isArray(rr)?Dt:er==="object"?_e:Oe};class He{constructor(er){this._stepper=er||new we("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(er){return this._morphObj.morph(this._from,this._to,er,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(er,tr){return er&&tr},!0)}from(er){return er==null?this._from:(this._from=this._set(er),this)}stepper(er){return er==null?this._stepper:(this._stepper=er,this)}to(er){return er==null?this._to:(this._to=this._set(er),this)}type(er){return er==null?this._type:(this._type=er,this)}_set(er){this._type||this.type(Ye(er));let tr=new this._type(er);return this._type===xt&&(tr=this._to?tr[this._to[4]]():this._from?tr[this._from[4]]():tr),this._type===_e&&(tr=this._to?tr.align(this._to):this._from?tr.align(this._from):tr),tr=tr.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(tr.length)).map(Object).map(function(ir){return ir.done=!0,ir}),tr}}class Oe{constructor(...er){this.init(...er)}init(er){return er=Array.isArray(er)?er[0]:er,this.value=er,this}toArray(){return[this.value]}valueOf(){return this.value}}class Fe{constructor(...er){this.init(...er)}init(er){return Array.isArray(er)&&(er={scaleX:er[0],scaleY:er[1],shear:er[2],rotate:er[3],translateX:er[4],translateY:er[5],originX:er[6],originY:er[7]}),Object.assign(this,Fe.defaults,er),this}toArray(){const er=this;return[er.scaleX,er.scaleY,er.shear,er.rotate,er.translateX,er.translateY,er.originX,er.originY]}}Fe.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const De=(rr,er)=>rr[0]<er[0]?-1:rr[0]>er[0]?1:0;class _e{constructor(...er){this.init(...er)}align(er){const tr=this.values;for(let ir=0,nr=tr.length;ir<nr;++ir){if(tr[ir+1]===er[ir+1]){if(tr[ir+1]===xt&&er[ir+7]!==tr[ir+7]){const or=er[ir+7],lr=new xt(this.values.splice(ir+3,5))[or]().toArray();this.values.splice(ir+3,0,...lr)}ir+=tr[ir+2]+2;continue}if(!er[ir+1])return this;const sr=new er[ir+1]().toArray(),ar=tr[ir+2]+3;tr.splice(ir,ar,er[ir],er[ir+1],er[ir+2],...sr),ir+=tr[ir+2]+2}return this}init(er){if(this.values=[],Array.isArray(er))return void(this.values=er.slice());er=er||{};const tr=[];for(const ir in er){const nr=Ye(er[ir]),sr=new nr(er[ir]).toArray();tr.push([ir,nr,sr.length,...sr])}return tr.sort(De),this.values=tr.reduce((ir,nr)=>ir.concat(nr),[]),this}toArray(){return this.values}valueOf(){const er={},tr=this.values;for(;tr.length;){const ir=tr.shift(),nr=tr.shift(),sr=tr.shift(),ar=tr.splice(0,sr);er[ir]=new nr(ar)}return er}}const Ne=[Oe,Fe,_e];class We extends qt{constructor(er,tr=er){super(G("path",er),tr)}array(){return this._array||(this._array=new Ee(this.attr("d")))}clear(){return delete this._array,this}height(er){return er==null?this.bbox().height:this.size(this.bbox().width,er)}move(er,tr){return this.attr("d",this.array().move(er,tr))}plot(er){return er==null?this.array():this.clear().attr("d",typeof er=="string"?er:this._array=new Ee(er))}size(er,tr){const ir=I(this,er,tr);return this.attr("d",this.array().size(ir.width,ir.height))}width(er){return er==null?this.bbox().width:this.size(er,this.bbox().height)}x(er){return er==null?this.bbox().x:this.move(er,this.bbox().y)}y(er){return er==null?this.bbox().y:this.move(this.bbox().x,er)}}We.prototype.MorphArray=Ee,A$1({Container:{path:K(function(rr){return this.put(new We).plot(rr||new Ee)})}}),q(We,"Path");var Be=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new ge(this.attr("points")))},clear:function(){return delete this._array,this},move:function(rr,er){return this.attr("points",this.array().move(rr,er))},plot:function(rr){return rr==null?this.array():this.clear().attr("points",typeof rr=="string"?rr:this._array=new ge(rr))},size:function(rr,er){const tr=I(this,rr,er);return this.attr("points",this.array().size(tr.width,tr.height))}});class Ge extends qt{constructor(er,tr=er){super(G("polygon",er),tr)}}A$1({Container:{polygon:K(function(rr){return this.put(new Ge).plot(rr||new ge)})}}),Q(Ge,fe),Q(Ge,Be),q(Ge,"Polygon");class je extends qt{constructor(er,tr=er){super(G("polyline",er),tr)}}A$1({Container:{polyline:K(function(rr){return this.put(new je).plot(rr||new ge)})}}),Q(je,fe),Q(je,Be),q(je,"Polyline");class Ve extends qt{constructor(er,tr=er){super(G("rect",er),tr)}}Q(Ve,{rx:Zt,ry:$t}),A$1({Container:{rect:K(function(rr,er){return this.put(new Ve).size(rr,er)})}}),q(Ve,"Rect");class Ue{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(er){const tr=er.next!==void 0?er:{value:er,next:null,prev:null};return this._last?(tr.prev=this._last,this._last.next=tr,this._last=tr):(this._last=tr,this._first=tr),tr}remove(er){er.prev&&(er.prev.next=er.next),er.next&&(er.next.prev=er.prev),er===this._last&&(this._last=er.prev),er===this._first&&(this._first=er.next),er.prev=null,er.next=null}shift(){const er=this._first;return er?(this._first=er.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,er.value):null}}const qe={nextDraw:null,frames:new Ue,timeouts:new Ue,immediates:new Ue,timer:()=>O.window.performance||O.window.Date,transforms:[],frame(rr){const er=qe.frames.push({run:rr});return qe.nextDraw===null&&(qe.nextDraw=O.window.requestAnimationFrame(qe._draw)),er},timeout(rr,er){er=er||0;const tr=qe.timer().now()+er,ir=qe.timeouts.push({run:rr,time:tr});return qe.nextDraw===null&&(qe.nextDraw=O.window.requestAnimationFrame(qe._draw)),ir},immediate(rr){const er=qe.immediates.push(rr);return qe.nextDraw===null&&(qe.nextDraw=O.window.requestAnimationFrame(qe._draw)),er},cancelFrame(rr){rr!=null&&qe.frames.remove(rr)},clearTimeout(rr){rr!=null&&qe.timeouts.remove(rr)},cancelImmediate(rr){rr!=null&&qe.immediates.remove(rr)},_draw(rr){let er=null;const tr=qe.timeouts.last();for(;(er=qe.timeouts.shift())&&(rr>=er.time?er.run():qe.timeouts.push(er),er!==tr););let ir=null;const nr=qe.frames.last();for(;ir!==nr&&(ir=qe.frames.shift());)ir.run(rr);let sr=null;for(;sr=qe.immediates.shift();)sr();qe.nextDraw=qe.timeouts.first()||qe.frames.first()?O.window.requestAnimationFrame(qe._draw):null}},Ze=function(rr){const er=rr.start,tr=rr.runner.duration();return{start:er,duration:tr,end:er+tr,runner:rr.runner}},$e=function(){const rr=O.window;return(rr.performance||rr.Date).now()};class Je extends Rt{constructor(er=$e){super(),this._timeSource=er,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const er=this.getLastRunnerInfo(),tr=er?er.runner.duration():0;return(er?er.start:this._time)+tr}getEndTimeOfTimeline(){const er=this._runners.map(tr=>tr.start+tr.runner.duration());return Math.max(0,...er)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(er){return this._runners[this._runnerIds.indexOf(er)]||null}pause(){return this._paused=!0,this._continue()}persist(er){return er==null?this._persist:(this._persist=er,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(er){const tr=this.speed();if(er==null)return this.speed(-tr);const ir=Math.abs(tr);return this.speed(er?-ir:ir)}schedule(er,tr,ir){if(er==null)return this._runners.map(Ze);let nr=0;const sr=this.getEndTime();if(tr=tr||0,ir==null||ir==="last"||ir==="after")nr=sr;else if(ir==="absolute"||ir==="start")nr=tr,tr=0;else if(ir==="now")nr=this._time;else if(ir==="relative"){const lr=this.getRunnerInfoById(er.id);lr&&(nr=lr.start+tr,tr=0)}else{if(ir!=="with-last")throw new Error('Invalid value for the "when" parameter');{const lr=this.getLastRunnerInfo();nr=lr?lr.start:this._time}}er.unschedule(),er.timeline(this);const ar=er.persist(),or={persist:ar===null?this._persist:ar,start:nr+tr,runner:er};return this._lastRunnerId=er.id,this._runners.push(or),this._runners.sort((lr,cr)=>lr.start-cr.start),this._runnerIds=this._runners.map(lr=>lr.runner.id),this.updateTime()._continue(),this}seek(er){return this.time(this._time+er)}source(er){return er==null?this._timeSource:(this._timeSource=er,this)}speed(er){return er==null?this._speed:(this._speed=er,this)}stop(){return this.time(0),this.pause()}time(er){return er==null?this._time:(this._time=er,this._continue(!0))}unschedule(er){const tr=this._runnerIds.indexOf(er.id);return tr<0||(this._runners.splice(tr,1),this._runnerIds.splice(tr,1),er.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(er=!1){return qe.cancelFrame(this._nextFrame),this._nextFrame=null,er?this._stepImmediate():(this._paused||(this._nextFrame=qe.frame(this._step)),this)}_stepFn(er=!1){const tr=this._timeSource();let ir=tr-this._lastSourceTime;er&&(ir=0);const nr=this._speed*ir+(this._time-this._lastStepTime);this._lastSourceTime=tr,er||(this._time+=nr,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let ar=this._runners.length;ar--;){const or=this._runners[ar],lr=or.runner;this._time-or.start<=0&&lr.reset()}let sr=!1;for(let ar=0,or=this._runners.length;ar<or;ar++){const lr=this._runners[ar],cr=lr.runner;let ur=nr;const hr=this._time-lr.start;if(hr<=0){sr=!0;continue}hr<ur&&(ur=hr),cr.active()&&(cr.step(ur).done?lr.persist!==!0&&cr.duration()-cr.time()+this._time+lr.persist<this._time&&(cr.unschedule(),--ar,--or):sr=!0)}return sr&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}A$1({Element:{timeline:function(rr){return rr==null?(this._timeline=this._timeline||new Je,this._timeline):(this._timeline=rr,this)}}});class Qe extends Rt{constructor(er){super(),this.id=Qe.id++,er=typeof(er=er??Yt)=="function"?new ke(er):er,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof er=="number"&&er,this._isDeclarative=er instanceof ke,this._stepper=this._isDeclarative?er:new we,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new vt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(er,tr,ir){let nr=1,sr=!1,ar=0;return tr=tr??Ot,ir=ir||"last",typeof(er=er??Yt)!="object"||er instanceof ye||(tr=er.delay??tr,ir=er.when??ir,sr=er.swing||sr,nr=er.times??nr,ar=er.wait??ar,er=er.duration??Yt),{duration:er,delay:tr,swing:sr,times:nr,wait:ar,when:ir}}active(er){return er==null?this.enabled:(this.enabled=er,this)}addTransform(er){return this.transforms.lmultiplyO(er),this}after(er){return this.on("finished",er)}animate(er,tr,ir){const nr=Qe.sanitise(er,tr,ir),sr=new Qe(nr.duration);return this._timeline&&sr.timeline(this._timeline),this._element&&sr.element(this._element),sr.loop(nr).schedule(nr.delay,nr.when)}clearTransform(){return this.transforms=new vt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(er=>!er.isTransform))}delay(er){return this.animate(0,er)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(er){return this.queue(null,er)}ease(er){return this._stepper=new we(er),this}element(er){return er==null?this._element:(this._element=er,er._prepareRunner(),this)}finish(){return this.step(1/0)}loop(er,tr,ir){return typeof er=="object"&&(tr=er.swing,ir=er.wait,er=er.times),this._times=er||1/0,this._swing=tr||!1,this._wait=ir||0,this._times===!0&&(this._times=1/0),this}loops(er){const tr=this._duration+this._wait;if(er==null){const sr=Math.floor(this._time/tr),ar=(this._time-sr*tr)/this._duration;return Math.min(sr+ar,this._times)}const ir=er%1,nr=tr*Math.floor(er)+this._duration*ir;return this.time(nr)}persist(er){return er==null?this._persist:(this._persist=er,this)}position(er){const tr=this._time,ir=this._duration,nr=this._wait,sr=this._times,ar=this._swing,or=this._reverse;let lr;if(er==null){const hr=function(gr){const pr=ar*Math.floor(gr%(2*(nr+ir))/(nr+ir)),mr=pr&&!or||!pr&&or,vr=Math.pow(-1,mr)*(gr%(nr+ir))/ir+mr;return Math.max(Math.min(vr,1),0)},dr=sr*(nr+ir)-nr;return lr=tr<=0?Math.round(hr(1e-5)):tr<dr?hr(tr):Math.round(hr(dr-1e-5)),lr}const cr=Math.floor(this.loops()),ur=ar&&cr%2==0;return lr=cr+(ur&&!or||or&&ur?er:1-er),this.loops(lr)}progress(er){return er==null?Math.min(1,this._time/this.duration()):this.time(er*this.duration())}queue(er,tr,ir,nr){return this._queue.push({initialiser:er||Et,runner:tr||Et,retarget:ir,isTransform:nr,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(er){return this._reverse=er??!this._reverse,this}schedule(er,tr,ir){if(er instanceof Je||(ir=tr,tr=er,er=this.timeline()),!er)throw Error("Runner cannot be scheduled without timeline");return er.schedule(this,tr,ir),this}step(er){if(!this.enabled)return this;er=er??16,this._time+=er;const tr=this.position(),ir=this._lastPosition!==tr&&this._time>=0;this._lastPosition=tr;const nr=this.duration(),sr=this._lastTime<=0&&this._time>0,ar=this._lastTime<nr&&this._time>=nr;this._lastTime=this._time,sr&&this.fire("start",this);const or=this._isDeclarative;this.done=!or&&!ar&&this._time>=nr,this._reseted=!1;let lr=!1;return(ir||or)&&(this._initialise(ir),this.transforms=new vt,lr=this._run(or?er:tr),this.fire("step",this)),this.done=this.done||lr&&or,ar&&this.fire("finished",this),this}time(er){if(er==null)return this._time;const tr=er-this._time;return this.step(tr),this}timeline(er){return er===void 0?this._timeline:(this._timeline=er,this)}unschedule(){const er=this.timeline();return er&&er.unschedule(this),this}_initialise(er){if(er||this._isDeclarative)for(let tr=0,ir=this._queue.length;tr<ir;++tr){const nr=this._queue[tr],sr=this._isDeclarative||!nr.initialised&&er;er=!nr.finished,sr&&er&&(nr.initialiser.call(this),nr.initialised=!0)}}_rememberMorpher(er,tr){if(this._history[er]={morpher:tr,caller:this._queue[this._queue.length-1]},this._isDeclarative){const ir=this.timeline();ir&&ir.play()}}_run(er){let tr=!0;for(let ir=0,nr=this._queue.length;ir<nr;++ir){const sr=this._queue[ir],ar=sr.runner.call(this,er);sr.finished=sr.finished||ar===!0,tr=tr&&sr.finished}return tr}_tryRetarget(er,tr,ir){if(this._history[er]){if(!this._history[er].caller.initialised){const sr=this._queue.indexOf(this._history[er].caller);return this._queue.splice(sr,1),!1}this._history[er].caller.retarget?this._history[er].caller.retarget.call(this,tr,ir):this._history[er].morpher.to(tr),this._history[er].caller.finished=!1;const nr=this.timeline();return nr&&nr.play(),!0}return!1}}Qe.id=0;class Ke{constructor(er=new vt,tr=-1,ir=!0){this.transforms=er,this.id=tr,this.done=ir}clearTransformsFromQueue(){}}Q([Qe,Ke],{mergeWith(rr){return new Ke(rr.transforms.lmultiply(this.transforms),rr.id)}});const ti=(rr,er)=>rr.lmultiplyO(er),ei=rr=>rr.transforms;function ii(){const rr=this._transformationRunners.runners.map(ei).reduce(ti,new vt);this.transform(rr),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class ai{constructor(){this.runners=[],this.ids=[]}add(er){if(this.runners.includes(er))return;const tr=er.id+1;return this.runners.push(er),this.ids.push(tr),this}clearBefore(er){const tr=this.ids.indexOf(er+1)||1;return this.ids.splice(0,tr,0),this.runners.splice(0,tr,new Ke).forEach(ir=>ir.clearTransformsFromQueue()),this}edit(er,tr){const ir=this.ids.indexOf(er+1);return this.ids.splice(ir,1,er+1),this.runners.splice(ir,1,tr),this}getByID(er){return this.runners[this.ids.indexOf(er+1)]}length(){return this.ids.length}merge(){let er=null;for(let tr=0;tr<this.runners.length;++tr){const ir=this.runners[tr];if(er&&ir.done&&er.done&&(!ir._timeline||!ir._timeline._runnerIds.includes(ir.id))&&(!er._timeline||!er._timeline._runnerIds.includes(er.id))){this.remove(ir.id);const nr=ir.mergeWith(er);this.edit(er.id,nr),er=nr,--tr}else er=ir}return this}remove(er){const tr=this.ids.indexOf(er+1);return this.ids.splice(tr,1),this.runners.splice(tr,1),this}}A$1({Element:{animate(rr,er,tr){const ir=Qe.sanitise(rr,er,tr),nr=this.timeline();return new Qe(ir.duration).loop(ir).element(this).timeline(nr.play()).schedule(ir.delay,ir.when)},delay(rr,er){return this.animate(0,rr,er)},_clearTransformRunnersBefore(rr){this._transformationRunners.clearBefore(rr.id)},_currentTransform(rr){return this._transformationRunners.runners.filter(er=>er.id<=rr.id).map(ei).reduce(ti,new vt)},_addRunner(rr){this._transformationRunners.add(rr),qe.cancelImmediate(this._frameId),this._frameId=qe.immediate(ii.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new ai().add(new Ke(new vt(this))))}}});Q(Qe,{attr(rr,er){return this.styleAttr("attr",rr,er)},css(rr,er){return this.styleAttr("css",rr,er)},styleAttr(rr,er,tr){if(typeof er=="string")return this.styleAttr(rr,{[er]:tr});let ir=er;if(this._tryRetarget(rr,ir))return this;let nr=new He(this._stepper).to(ir),sr=Object.keys(ir);return this.queue(function(){nr=nr.from(this.element()[rr](sr))},function(ar){return this.element()[rr](nr.at(ar).valueOf()),nr.done()},function(ar){const or=Object.keys(ar),lr=(cr=sr,or.filter(hr=>!cr.includes(hr)));var cr;if(lr.length){const hr=this.element()[rr](lr),dr=new _e(nr.from()).valueOf();Object.assign(dr,hr),nr.from(dr)}const ur=new _e(nr.to()).valueOf();Object.assign(ur,ar),nr.to(ur),sr=or,ir=ar}),this._rememberMorpher(rr,nr),this},zoom(rr,er){if(this._tryRetarget("zoom",rr,er))return this;let tr=new He(this._stepper).to(new _t(rr));return this.queue(function(){tr=tr.from(this.element().zoom())},function(ir){return this.element().zoom(tr.at(ir),er),tr.done()},function(ir,nr){er=nr,tr.to(ir)}),this._rememberMorpher("zoom",tr),this},transform(rr,er,tr){if(er=rr.relative||er,this._isDeclarative&&!er&&this._tryRetarget("transform",rr))return this;const ir=vt.isMatrixLike(rr);tr=rr.affine!=null?rr.affine:tr??!ir;const nr=new He(this._stepper).type(tr?Fe:vt);let sr,ar,or,lr,cr;return this.queue(function(){ar=ar||this.element(),sr=sr||T(rr,ar),cr=new vt(er?void 0:ar),ar._addRunner(this),er||ar._clearTransformRunnersBefore(this)},function(ur){er||this.clearTransform();const{x:hr,y:dr}=new bt(sr).transform(ar._currentTransform(this));let gr=new vt({...rr,origin:[hr,dr]}),pr=this._isDeclarative&&or?or:cr;if(tr){gr=gr.decompose(hr,dr),pr=pr.decompose(hr,dr);const vr=gr.rotate,yr=pr.rotate,br=[vr-360,vr,vr+360],wr=br.map(Vr=>Math.abs(Vr-yr)),Pr=Math.min(...wr),Tr=wr.indexOf(Pr);gr.rotate=br[Tr]}er&&(ir||(gr.rotate=rr.rotate||0),this._isDeclarative&&lr&&(pr.rotate=lr)),nr.from(pr),nr.to(gr);const mr=nr.at(ur);return lr=mr.rotate,or=new vt(mr),this.addTransform(or),ar._addRunner(this),nr.done()},function(ur){(ur.origin||"center").toString()!==(rr.origin||"center").toString()&&(sr=T(ur,ar)),rr={...ur,origin:sr}},!0),this._isDeclarative&&this._rememberMorpher("transform",nr),this},x(rr){return this._queueNumber("x",rr)},y(rr){return this._queueNumber("y",rr)},ax(rr){return this._queueNumber("ax",rr)},ay(rr){return this._queueNumber("ay",rr)},dx(rr=0){return this._queueNumberDelta("x",rr)},dy(rr=0){return this._queueNumberDelta("y",rr)},dmove(rr,er){return this.dx(rr).dy(er)},_queueNumberDelta(rr,er){if(er=new _t(er),this._tryRetarget(rr,er))return this;const tr=new He(this._stepper).to(er);let ir=null;return this.queue(function(){ir=this.element()[rr](),tr.from(ir),tr.to(ir+er)},function(nr){return this.element()[rr](tr.at(nr)),tr.done()},function(nr){tr.to(ir+new _t(nr))}),this._rememberMorpher(rr,tr),this},_queueObject(rr,er){if(this._tryRetarget(rr,er))return this;const tr=new He(this._stepper).to(er);return this.queue(function(){tr.from(this.element()[rr]())},function(ir){return this.element()[rr](tr.at(ir)),tr.done()}),this._rememberMorpher(rr,tr),this},_queueNumber(rr,er){return this._queueObject(rr,new _t(er))},cx(rr){return this._queueNumber("cx",rr)},cy(rr){return this._queueNumber("cy",rr)},move(rr,er){return this.x(rr).y(er)},amove(rr,er){return this.ax(rr).ay(er)},center(rr,er){return this.cx(rr).cy(er)},size(rr,er){let tr;return rr&&er||(tr=this._element.bbox()),rr||(rr=tr.width/tr.height*er),er||(er=tr.height/tr.width*rr),this.width(rr).height(er)},width(rr){return this._queueNumber("width",rr)},height(rr){return this._queueNumber("height",rr)},plot(rr,er,tr,ir){if(arguments.length===4)return this.plot([rr,er,tr,ir]);if(this._tryRetarget("plot",rr))return this;const nr=new He(this._stepper).type(this._element.MorphArray).to(rr);return this.queue(function(){nr.from(this._element.array())},function(sr){return this._element.plot(nr.at(sr)),nr.done()}),this._rememberMorpher("plot",nr),this},leading(rr){return this._queueNumber("leading",rr)},viewbox(rr,er,tr,ir){return this._queueObject("viewbox",new kt(rr,er,tr,ir))},update(rr){return typeof rr!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(rr.opacity!=null&&this.attr("stop-opacity",rr.opacity),rr.color!=null&&this.attr("stop-color",rr.color),rr.offset!=null&&this.attr("offset",rr.offset),this)}}),Q(Qe,{rx:Zt,ry:$t,from:ne,to:oe}),q(Qe,"Runner");class si extends Vt{constructor(er,tr=er){super(G("svg",er),tr),this.namespace()}defs(){return this.isRoot()?V(this.node.querySelector("defs"))||this.put(new Ut):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof O.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:E,version:"1.1"}).attr("xmlns:xlink",H,Y):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Y).attr("xmlns:svgjs",null,Y)}root(){return this.isRoot()?this:super.root()}}A$1({Container:{nested:K(function(){return this.put(new si)})}}),q(si,"Svg",!0);let ri=class extends Vt{constructor(rr,er=rr){super(G("symbol",rr),er)}};A$1({Container:{symbol:K(function(){return this.put(new ri)})}}),q(ri,"Symbol");var ni=Object.freeze({__proto__:null,amove:function(rr,er){return this.ax(rr).ay(er)},ax:function(rr){return this.attr("x",rr)},ay:function(rr){return this.attr("y",rr)},build:function(rr){return this._build=!!rr,this},center:function(rr,er,tr=this.bbox()){return this.cx(rr,tr).cy(er,tr)},cx:function(rr,er=this.bbox()){return rr==null?er.cx:this.attr("x",this.attr("x")+rr-er.cx)},cy:function(rr,er=this.bbox()){return rr==null?er.cy:this.attr("y",this.attr("y")+rr-er.cy)},length:function(){return this.node.getComputedTextLength()},move:function(rr,er,tr=this.bbox()){return this.x(rr,tr).y(er,tr)},plain:function(rr){return this._build===!1&&this.clear(),this.node.appendChild(O.document.createTextNode(rr)),this},x:function(rr,er=this.bbox()){return rr==null?er.x:this.attr("x",this.attr("x")+rr-er.x)},y:function(rr,er=this.bbox()){return rr==null?er.y:this.attr("y",this.attr("y")+rr-er.y)}});class oi extends qt{constructor(er,tr=er){super(G("text",er),tr),this.dom.leading=this.dom.leading??new _t(1.3),this._rebuild=!0,this._build=!1}leading(er){return er==null?this.dom.leading:(this.dom.leading=new _t(er),this.rebuild())}rebuild(er){if(typeof er=="boolean"&&(this._rebuild=er),this._rebuild){const tr=this;let ir=0;const nr=this.dom.leading;this.each(function(sr){if(X(this.node))return;const ar=O.window.getComputedStyle(this.node).getPropertyValue("font-size"),or=nr*new _t(ar);this.dom.newLined&&(this.attr("x",tr.attr("x")),this.text()===`
`?ir+=or:(this.attr("dy",sr?or+ir:0),ir=0))}),this.fire("rebuild")}return this}setData(er){return this.dom=er,this.dom.leading=new _t(er.leading||1.3),this}writeDataToDom(){return R(this,this.dom,{leading:1.3}),this}text(er){if(er===void 0){const tr=this.node.childNodes;let ir=0;er="";for(let nr=0,sr=tr.length;nr<sr;++nr)tr[nr].nodeName==="textPath"||X(tr[nr])?nr===0&&(ir=nr+1):(nr!==ir&&tr[nr].nodeType!==3&&V(tr[nr]).dom.newLined===!0&&(er+=`
`),er+=tr[nr].textContent);return er}if(this.clear().build(!0),typeof er=="function")er.call(this,this);else for(let tr=0,ir=(er=(er+"").split(`
`)).length;tr<ir;tr++)this.newLine(er[tr]);return this.build(!1).rebuild()}}Q(oi,ni),A$1({Container:{text:K(function(rr=""){return this.put(new oi).text(rr)}),plain:K(function(rr=""){return this.put(new oi).plain(rr)})}}),q(oi,"Text");class li extends qt{constructor(er,tr=er){super(G("tspan",er),tr),this._build=!1}dx(er){return this.attr("dx",er)}dy(er){return this.attr("dy",er)}newLine(){this.dom.newLined=!0;const er=this.parent();if(!(er instanceof oi))return this;const tr=er.index(this),ir=O.window.getComputedStyle(this.node).getPropertyValue("font-size"),nr=er.dom.leading*new _t(ir);return this.dy(tr?nr:0).attr("x",er.x())}text(er){return er==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof er=="function"?(this.clear().build(!0),er.call(this,this),this.build(!1)):this.plain(er),this)}}Q(li,ni),A$1({Tspan:{tspan:K(function(rr=""){const er=new li;return this._build||this.clear(),this.put(er).text(rr)})},Text:{newLine:function(rr=""){return this.tspan(rr).newLine()}}}),q(li,"Tspan");class hi extends qt{constructor(er,tr=er){super(G("circle",er),tr)}radius(er){return this.attr("r",er)}rx(er){return this.attr("r",er)}ry(er){return this.rx(er)}size(er){return this.radius(new _t(er).divide(2))}}Q(hi,{x:Jt,y:Qt,cx:Kt,cy:te,width:ee,height:ie}),A$1({Container:{circle:K(function(rr=0){return this.put(new hi).size(rr).move(0,0)})}}),q(hi,"Circle");class ci extends Vt{constructor(er,tr=er){super(G("clipPath",er),tr)}remove(){return this.targets().forEach(function(er){er.unclip()}),super.remove()}targets(){return Lt("svg [clip-path*="+this.id()+"]")}}A$1({Container:{clip:K(function(){return this.defs().put(new ci)})},Element:{clipper(){return this.reference("clip-path")},clipWith(rr){const er=rr instanceof ci?rr:this.parent().clip().add(rr);return this.attr("clip-path","url(#"+er.id()+")")},unclip(){return this.attr("clip-path",null)}}}),q(ci,"ClipPath");class di extends Gt{constructor(er,tr=er){super(G("foreignObject",er),tr)}}A$1({Container:{foreignObject:K(function(rr,er){return this.put(new di).size(rr,er)})}}),q(di,"ForeignObject");var ui=Object.freeze({__proto__:null,dmove:function(rr,er){return this.children().forEach(tr=>{let ir;try{ir=tr.node instanceof F().SVGSVGElement?new kt(tr.attr(["x","y","width","height"])):tr.bbox()}catch{return}const nr=new vt(tr),sr=nr.translate(rr,er).transform(nr.inverse()),ar=new bt(ir.x,ir.y).transform(sr);tr.move(ar.x,ar.y)}),this},dx:function(rr){return this.dmove(rr,0)},dy:function(rr){return this.dmove(0,rr)},height:function(rr,er=this.bbox()){return rr==null?er.height:this.size(er.width,rr,er)},move:function(rr=0,er=0,tr=this.bbox()){const ir=rr-tr.x,nr=er-tr.y;return this.dmove(ir,nr)},size:function(rr,er,tr=this.bbox()){const ir=I(this,rr,er,tr),nr=ir.width/tr.width,sr=ir.height/tr.height;return this.children().forEach(ar=>{const or=new bt(tr).transform(new vt(ar).inverse());ar.scale(nr,sr,or.x,or.y)}),this},width:function(rr,er=this.bbox()){return rr==null?er.width:this.size(rr,er.height,er)},x:function(rr,er=this.bbox()){return rr==null?er.x:this.move(rr,er.y,er)},y:function(rr,er=this.bbox()){return rr==null?er.y:this.move(er.x,rr,er)}});class gi extends Vt{constructor(er,tr=er){super(G("g",er),tr)}}Q(gi,ui),A$1({Container:{group:K(function(){return this.put(new gi)})}}),q(gi,"G");class pi extends Vt{constructor(er,tr=er){super(G("a",er),tr)}target(er){return this.attr("target",er)}to(er){return this.attr("href",er,H)}}Q(pi,ui),A$1({Container:{link:K(function(rr){return this.put(new pi).to(rr)})},Element:{unlink(){const rr=this.linker();if(!rr)return this;const er=rr.parent();if(!er)return this.remove();const tr=er.index(rr);return er.add(this,tr),rr.remove(),this},linkTo(rr){let er=this.linker();return er||(er=new pi,this.wrap(er)),typeof rr=="function"?rr.call(er,er):er.to(rr),this},linker(){const rr=this.parent();return rr&&rr.node.nodeName.toLowerCase()==="a"?rr:null}}}),q(pi,"A");class fi extends Vt{constructor(er,tr=er){super(G("mask",er),tr)}remove(){return this.targets().forEach(function(er){er.unmask()}),super.remove()}targets(){return Lt("svg [mask*="+this.id()+"]")}}A$1({Container:{mask:K(function(){return this.defs().put(new fi)})},Element:{masker(){return this.reference("mask")},maskWith(rr){const er=rr instanceof fi?rr:this.parent().mask().add(rr);return this.attr("mask","url(#"+er.id()+")")},unmask(){return this.attr("mask",null)}}}),q(fi,"Mask");class xi extends Gt{constructor(er,tr=er){super(G("stop",er),tr)}update(er){return(typeof er=="number"||er instanceof _t)&&(er={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),er.opacity!=null&&this.attr("stop-opacity",er.opacity),er.color!=null&&this.attr("stop-color",er.color),er.offset!=null&&this.attr("offset",new _t(er.offset)),this}}A$1({Gradient:{stop:function(rr,er,tr){return this.put(new xi).update(rr,er,tr)}}}),q(xi,"Stop");class bi extends Gt{constructor(er,tr=er){super(G("style",er),tr)}addText(er=""){return this.node.textContent+=er,this}font(er,tr,ir={}){return this.rule("@font-face",{fontFamily:er,src:tr,...ir})}rule(er,tr){return this.addText(function(ir,nr){if(!ir)return"";if(!nr)return ir;let sr=ir+"{";for(const ar in nr)sr+=ar.replace(/([A-Z])/g,function(or,lr){return"-"+lr.toLowerCase()})+":"+nr[ar]+";";return sr+="}",sr}(er,tr))}}A$1("Dom",{style(rr,er){return this.put(new bi).rule(rr,er)},fontface(rr,er,tr){return this.put(new bi).font(rr,er,tr)}}),q(bi,"Style");class mi extends oi{constructor(er,tr=er){super(G("textPath",er),tr)}array(){const er=this.track();return er?er.array():null}plot(er){const tr=this.track();let ir=null;return tr&&(ir=tr.plot(er)),er==null?ir:this}track(){return this.reference("href")}}A$1({Container:{textPath:K(function(rr,er){return rr instanceof oi||(rr=this.text(rr)),rr.path(er)})},Text:{path:K(function(rr,er=!0){const tr=new mi;let ir;if(rr instanceof We||(rr=this.defs().path(rr)),tr.attr("href","#"+rr,H),er)for(;ir=this.node.firstChild;)tr.node.appendChild(ir);return this.put(tr)}),textPath(){return this.findOne("textPath")}},Path:{text:K(function(rr){return rr instanceof oi||(rr=new oi().addTo(this.parent()).text(rr)),rr.path(this)}),targets(){return Lt("svg textPath").filter(rr=>(rr.attr("href")||"").includes(this.id()))}}}),mi.prototype.MorphArray=Ee,q(mi,"TextPath");class vi extends qt{constructor(er,tr=er){super(G("use",er),tr)}use(er,tr){return this.attr("href",(tr||"")+"#"+er,H)}}A$1({Container:{use:K(function(rr,er){return this.put(new vi).use(rr,er)})}}),q(vi,"Use");const yi=B;Q([si,ri,de,ce,be],C("viewbox")),Q([xe,je,Ge,We],C("marker")),Q(oi,C("Text")),Q(We,C("Path")),Q(Ut,C("Defs")),Q([oi,li],C("Tspan")),Q([Ve,se,he,Qe],C("radius")),Q(Rt,C("EventTarget")),Q(Bt,C("Dom")),Q(Gt,C("Element")),Q(qt,C("Shape")),Q([Vt,re],C("Container")),Q(he,C("Gradient")),Q(Qe,C("Runner")),Ct.extend([...new Set(k)]),function(rr=[]){Ne.push(...[].concat(rr))}([_t,xt,kt,vt,Dt,ge,Ee,bt]),Q(Ne,{to(rr){return new He().type(this.constructor).from(this.toArray()).to(rr)},fromArray(rr){return this.init(rr),this},toConsumable(){return this.toArray()},morph(rr,er,tr,ir,nr){return this.fromArray(rr.map(function(sr,ar){return ir.step(sr,er[ar],tr,nr[ar],nr)}))}});class wi extends Gt{constructor(er){super(G("filter",er),er),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(er,tr){return!(er=super.put(er,tr)).attr("in")&&this.$autoSetIn&&er.attr("in",this.$source),er.attr("result")||er.attr("result",er.id()),er}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Lt('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class ki extends Gt{constructor(er,tr){super(er,tr),this.result(this.id())}in(er){if(er==null){const tr=this.attr("in");return this.parent()&&this.parent().find(`[result="${tr}"]`)[0]||tr}return this.attr("in",er)}result(er){return this.attr("result",er)}toString(){return this.result()}}const Ai=rr=>function(...er){for(let tr=rr.length;tr--;)er[tr]!=null&&this.attr(rr[tr],er[tr])},Ci={blend:Ai(["in","in2","mode"]),colorMatrix:Ai(["type","values"]),composite:Ai(["in","in2","operator"]),convolveMatrix:function(rr){rr=new Dt(rr).toString(),this.attr({order:Math.sqrt(rr.split(" ").length),kernelMatrix:rr})},diffuseLighting:Ai(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Ai(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Ai(["in","dx","dy","stdDeviation"]),flood:Ai(["flood-color","flood-opacity"]),gaussianBlur:function(rr=0,er=rr){this.attr("stdDeviation",rr+" "+er)},image:function(rr){this.attr("href",rr,H)},morphology:Ai(["operator","radius"]),offset:Ai(["dx","dy"]),specularLighting:Ai(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Ai([]),turbulence:Ai(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(rr=>{const er=P(rr),tr=Ci[rr];wi[er+"Effect"]=class extends ki{constructor(ir){super(G("fe"+er,ir),ir)}update(ir){return tr.apply(this,ir),this}},wi.prototype[rr]=K(function(ir,...nr){const sr=new wi[er+"Effect"];return ir==null?this.put(sr):(typeof ir=="function"?ir.call(sr,sr):nr.unshift(ir),this.put(sr).update(nr))})}),Q(wi,{merge(rr){const er=this.put(new wi.MergeEffect);return typeof rr=="function"?(rr.call(er,er),er):((rr instanceof Array?rr:[...arguments]).forEach(tr=>{tr instanceof wi.MergeNode?er.put(tr):er.mergeNode(tr)}),er)},componentTransfer(rr={}){const er=this.put(new wi.ComponentTransferEffect);if(typeof rr=="function")return rr.call(er,er),er;rr.r||rr.g||rr.b||rr.a||(rr={r:rr,g:rr,b:rr,a:rr});for(const tr in rr)er.add(new wi["Func"+tr.toUpperCase()](rr[tr]));return er}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(rr=>{const er=P(rr);wi[er]=class extends ki{constructor(tr){super(G("fe"+er,tr),tr)}}});["funcR","funcG","funcB","funcA"].forEach(function(rr){const er=wi[P(rr)],tr=K(function(){return this.put(new er)});wi.ComponentTransferEffect.prototype[rr]=tr});["distantLight","pointLight","spotLight"].forEach(rr=>{const er=wi[P(rr)],tr=K(function(){return this.put(new er)});wi.DiffuseLightingEffect.prototype[rr]=tr,wi.SpecularLightingEffect.prototype[rr]=tr}),Q(wi.MergeEffect,{mergeNode(rr){return this.put(new wi.MergeNode).attr("in",rr)}}),Q(Ut,{filter:function(rr){const er=this.put(new wi);return typeof rr=="function"&&rr.call(er,er),er}}),Q(Vt,{filter:function(rr){return this.defs().filter(rr)}}),Q(Gt,{filterWith:function(rr){const er=rr instanceof wi?rr:this.defs().filter(rr);return this.attr("filter",er)},unfilter:function(rr){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const Si={blend:function(rr,er){return this.parent()&&this.parent().blend(this,rr,er)},colorMatrix:function(rr,er){return this.parent()&&this.parent().colorMatrix(rr,er).in(this)},componentTransfer:function(rr){return this.parent()&&this.parent().componentTransfer(rr).in(this)},composite:function(rr,er){return this.parent()&&this.parent().composite(this,rr,er)},convolveMatrix:function(rr){return this.parent()&&this.parent().convolveMatrix(rr).in(this)},diffuseLighting:function(rr,er,tr,ir){return this.parent()&&this.parent().diffuseLighting(rr,tr,ir).in(this)},displacementMap:function(rr,er,tr,ir){return this.parent()&&this.parent().displacementMap(this,rr,er,tr,ir)},dropShadow:function(rr,er,tr){return this.parent()&&this.parent().dropShadow(this,rr,er,tr).in(this)},flood:function(rr,er){return this.parent()&&this.parent().flood(rr,er)},gaussianBlur:function(rr,er){return this.parent()&&this.parent().gaussianBlur(rr,er).in(this)},image:function(rr){return this.parent()&&this.parent().image(rr)},merge:function(rr){return rr=rr instanceof Array?rr:[...rr],this.parent()&&this.parent().merge(this,...rr)},morphology:function(rr,er){return this.parent()&&this.parent().morphology(rr,er).in(this)},offset:function(rr,er){return this.parent()&&this.parent().offset(rr,er).in(this)},specularLighting:function(rr,er,tr,ir,nr){return this.parent()&&this.parent().specularLighting(rr,tr,ir,nr).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(rr,er,tr,ir,nr){return this.parent()&&this.parent().turbulence(rr,er,tr,ir,nr).in(this)}};Q(ki,Si),Q(wi.MergeEffect,{in:function(rr){return rr instanceof wi.MergeNode?this.add(rr,0):this.add(new wi.MergeNode().in(rr),0),this}}),Q([wi.CompositeEffect,wi.BlendEffect,wi.DisplacementMapEffect],{in2:function(rr){if(rr==null){const er=this.attr("in2");return this.parent()&&this.parent().find(`[result="${er}"]`)[0]||er}return this.attr("in2",rr)}}),wi.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Li=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"getDefaultFilter",value:function(er,tr){var ir=this.w;er.unfilter(!0),new wi().size("120%","180%","-5%","-40%"),ir.config.chart.dropShadow.enabled&&this.dropShadow(er,ir.config.chart.dropShadow,tr)}},{key:"applyFilter",value:function(er,tr,ir){var nr,sr=this,ar=this.w;if(er.unfilter(!0),ir!=="none"){var or,lr,cr=ar.config.chart.dropShadow,ur=ir==="lighten"?2:.3;er.filterWith(function(hr){hr.colorMatrix({type:"matrix",values:`
          `.concat(ur,` 0 0 0 0
          0 `).concat(ur,` 0 0 0
          0 0 `).concat(ur,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),cr.enabled&&sr.addShadow(hr,tr,cr,"brightness")}),!cr.noUserSpaceOnUse&&((or=er.filterer())===null||or===void 0||(lr=or.node)===null||lr===void 0||lr.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((nr=er.filterer())===null||nr===void 0?void 0:nr.node)}else this.getDefaultFilter(er,tr)}},{key:"addShadow",value:function(er,tr,ir,nr){var sr,ar=this.w,or=ir.blur,lr=ir.top,cr=ir.left,ur=ir.color,hr=ir.opacity;if(ur=Array.isArray(ur)?ur[tr]:ur,((sr=ar.config.chart.dropShadow.enabledOnSeries)===null||sr===void 0?void 0:sr.length)>0&&ar.config.chart.dropShadow.enabledOnSeries.indexOf(tr)===-1)return er;er.offset({in:nr,dx:cr,dy:lr,result:"offset"}),er.gaussianBlur({in:"offset",stdDeviation:or,result:"blur"}),er.flood({"flood-color":ur,"flood-opacity":hr,result:"flood"}),er.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),er.merge(["shadow",nr])}},{key:"dropShadow",value:function(er,tr){var ir,nr,sr,ar,or,lr=this,cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ur=this.w;return er.unfilter(!0),v.isMsEdge()&&ur.config.chart.type==="radialBar"||((ir=ur.config.chart.dropShadow.enabledOnSeries)===null||ir===void 0?void 0:ir.length)>0&&((sr=ur.config.chart.dropShadow.enabledOnSeries)===null||sr===void 0?void 0:sr.indexOf(cr))===-1?er:(er.filterWith(function(hr){lr.addShadow(hr,cr,tr,"SourceGraphic")}),tr.noUserSpaceOnUse||(ar=er.filterer())===null||ar===void 0||(or=ar.node)===null||or===void 0||or.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((nr=er.filterer())===null||nr===void 0?void 0:nr.node),er)}},{key:"setSelectionFilter",value:function(er,tr,ir){var nr=this.w;if(nr.globals.selectedDataPoints[tr]!==void 0&&nr.globals.selectedDataPoints[tr].indexOf(ir)>-1){er.node.setAttribute("selected",!0);var sr=nr.config.states.active.filter;sr!=="none"&&this.applyFilter(er,tr,sr.type)}}},{key:"_scaleFilterSize",value:function(er){er&&function(tr){for(var ir in tr)tr.hasOwnProperty(ir)&&er.setAttribute(ir,tr[ir])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),rr}(),Mi=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"roundPathCorners",value:function(er,tr){function ir(xr,Er,Cr){var Rr=Er.x-xr.x,kr=Er.y-xr.y,Sr=Math.sqrt(Rr*Rr+kr*kr);return nr(xr,Er,Math.min(1,Cr/Sr))}function nr(xr,Er,Cr){return{x:xr.x+(Er.x-xr.x)*Cr,y:xr.y+(Er.y-xr.y)*Cr}}function sr(xr,Er){xr.length>2&&(xr[xr.length-2]=Er.x,xr[xr.length-1]=Er.y)}function ar(xr){return{x:parseFloat(xr[xr.length-2]),y:parseFloat(xr[xr.length-1])}}er.indexOf("NaN")>-1&&(er="");var or=er.split(/[,\s]/).reduce(function(xr,Er){var Cr=Er.match("([a-zA-Z])(.+)");return Cr?(xr.push(Cr[1]),xr.push(Cr[2])):xr.push(Er),xr},[]).reduce(function(xr,Er){return parseFloat(Er)==Er&&xr.length?xr[xr.length-1].push(Er):xr.push([Er]),xr},[]),lr=[];if(or.length>1){var cr=ar(or[0]),ur=null;or[or.length-1][0]=="Z"&&or[0].length>2&&(ur=["L",cr.x,cr.y],or[or.length-1]=ur),lr.push(or[0]);for(var hr=1;hr<or.length;hr++){var dr=lr[lr.length-1],gr=or[hr],pr=gr==ur?or[1]:or[hr+1];if(pr&&dr&&dr.length>2&&gr[0]=="L"&&pr.length>2&&pr[0]=="L"){var mr,vr,yr=ar(dr),br=ar(gr),wr=ar(pr);mr=ir(br,yr,tr),vr=ir(br,wr,tr),sr(gr,mr),gr.origPoint=br,lr.push(gr);var Pr=nr(mr,br,.5),Tr=nr(br,vr,.5),Vr=["C",Pr.x,Pr.y,Tr.x,Tr.y,vr.x,vr.y];Vr.origPoint=br,lr.push(Vr)}else lr.push(gr)}if(ur){var Ar=ar(lr[lr.length-1]);lr.push(["Z"]),sr(lr[0],Ar)}}else lr=or;return lr.reduce(function(xr,Er){return xr+Er.join(" ")+" "},"")}},{key:"drawLine",value:function(er,tr,ir,nr){var sr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",ar=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,or=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,lr=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:er,y1:tr,x2:ir,y2:nr,stroke:sr,"stroke-dasharray":ar,"stroke-width":or,"stroke-linecap":lr})}},{key:"drawRect",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,sr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,ar=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",or=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,lr=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,cr=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,ur=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,hr=this.w.globals.dom.Paper.rect();return hr.attr({x:er,y:tr,width:ir>0?ir:0,height:nr>0?nr:0,rx:sr,ry:sr,opacity:or,"stroke-width":lr!==null?lr:0,stroke:cr!==null?cr:"none","stroke-dasharray":ur}),hr.node.setAttribute("fill",ar),hr}},{key:"drawPolygon",value:function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(er).attr({fill:nr,stroke:tr,"stroke-width":ir})}},{key:"drawCircle",value:function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;er<0&&(er=0);var ir=this.w.globals.dom.Paper.circle(2*er);return tr!==null&&ir.attr(tr),ir}},{key:"drawPath",value:function(er){var tr=er.d,ir=tr===void 0?"":tr,nr=er.stroke,sr=nr===void 0?"#a8a8a8":nr,ar=er.strokeWidth,or=ar===void 0?1:ar,lr=er.fill,cr=er.fillOpacity,ur=cr===void 0?1:cr,hr=er.strokeOpacity,dr=hr===void 0?1:hr,gr=er.classes,pr=er.strokeLinecap,mr=pr===void 0?null:pr,vr=er.strokeDashArray,yr=vr===void 0?0:vr,br=this.w;return mr===null&&(mr=br.config.stroke.lineCap),(ir.indexOf("undefined")>-1||ir.indexOf("NaN")>-1)&&(ir="M 0 ".concat(br.globals.gridHeight)),br.globals.dom.Paper.path(ir).attr({fill:lr,"fill-opacity":ur,stroke:sr,"stroke-opacity":dr,"stroke-linecap":mr,"stroke-width":or,"stroke-dasharray":yr,class:gr})}},{key:"group",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,tr=this.w.globals.dom.Paper.group();return er!==null&&tr.attr(er),tr}},{key:"move",value:function(er,tr){var ir=["M",er,tr].join(" ");return ir}},{key:"line",value:function(er,tr){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,nr=null;return ir===null?nr=[" L",er,tr].join(" "):ir==="H"?nr=[" H",er].join(" "):ir==="V"&&(nr=[" V",tr].join(" ")),nr}},{key:"curve",value:function(er,tr,ir,nr,sr,ar){var or=["C",er,tr,ir,nr,sr,ar].join(" ");return or}},{key:"quadraticCurve",value:function(er,tr,ir,nr){return["Q",er,tr,ir,nr].join(" ")}},{key:"arc",value:function(er,tr,ir,nr,sr,ar,or){var lr="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(lr="a");var cr=[lr,er,tr,ir,nr,sr,ar,or].join(" ");return cr}},{key:"renderPaths",value:function(er){var tr,ir=er.j,nr=er.realIndex,sr=er.pathFrom,ar=er.pathTo,or=er.stroke,lr=er.strokeWidth,cr=er.strokeLinecap,ur=er.fill,hr=er.animationDelay,dr=er.initialSpeed,gr=er.dataChangeSpeed,pr=er.className,mr=er.chartType,vr=er.shouldClipToGrid,yr=vr===void 0||vr,br=er.bindEventsOnPaths,wr=br===void 0||br,Pr=er.drawShadow,Tr=Pr===void 0||Pr,Vr=this.w,Ar=new Li(this.ctx),xr=new y(this.ctx),Er=this.w.config.chart.animations.enabled,Cr=Er&&this.w.config.chart.animations.dynamicAnimation.enabled,Rr=!!(Er&&!Vr.globals.resized||Cr&&Vr.globals.dataChanged&&Vr.globals.shouldAnimate);Rr?tr=sr:(tr=ar,Vr.globals.animationEnded=!0);var kr=Vr.config.stroke.dashArray,Sr=0;Sr=Array.isArray(kr)?kr[nr]:Vr.config.stroke.dashArray;var Nr=this.drawPath({d:tr,stroke:or,strokeWidth:lr,fill:ur,fillOpacity:1,classes:pr,strokeLinecap:cr,strokeDashArray:Sr});Nr.attr("index",nr),yr&&(mr==="bar"&&!Vr.globals.isHorizontal||Vr.globals.comboCharts?Nr.attr({"clip-path":"url(#gridRectBarMask".concat(Vr.globals.cuid,")")}):Nr.attr({"clip-path":"url(#gridRectMask".concat(Vr.globals.cuid,")")})),Vr.config.chart.dropShadow.enabled&&Tr&&Ar.dropShadow(Nr,Vr.config.chart.dropShadow,nr),wr&&(Nr.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Nr)),Nr.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Nr)),Nr.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Nr))),Nr.attr({pathTo:ar,pathFrom:sr});var Hr={el:Nr,j:ir,realIndex:nr,pathFrom:sr,pathTo:ar,fill:ur,strokeWidth:lr,delay:hr};return!Er||Vr.globals.resized||Vr.globals.dataChanged?!Vr.globals.resized&&Vr.globals.dataChanged||xr.showDelayedElements():xr.animatePathsGradually(u(u({},Hr),{},{speed:dr})),Vr.globals.dataChanged&&Cr&&Rr&&xr.animatePathsGradually(u(u({},Hr),{},{speed:gr})),Nr}},{key:"drawPattern",value:function(er,tr,ir){var nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",sr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(tr,ir,function(ar){er==="horizontalLines"?ar.line(0,0,ir,0).stroke({color:nr,width:sr+1}):er==="verticalLines"?ar.line(0,0,0,tr).stroke({color:nr,width:sr+1}):er==="slantedLines"?ar.line(0,0,tr,ir).stroke({color:nr,width:sr}):er==="squares"?ar.rect(tr,ir).fill("none").stroke({color:nr,width:sr}):er==="circles"&&ar.circle(tr).fill("none").stroke({color:nr,width:sr})})}},{key:"drawGradient",value:function(er,tr,ir,nr,sr){var ar,or=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,lr=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,cr=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],ur=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,hr=this.w;tr.length<9&&tr.indexOf("#")===0&&(tr=v.hexToRgba(tr,nr)),ir.length<9&&ir.indexOf("#")===0&&(ir=v.hexToRgba(ir,sr));var dr=0,gr=1,pr=1,mr=null;lr!==null&&(dr=lr[0]!==void 0?lr[0]/100:0,gr=lr[1]!==void 0?lr[1]/100:1,pr=lr[2]!==void 0?lr[2]/100:1,mr=lr[3]!==void 0?lr[3]/100:null);var vr=!(hr.config.chart.type!=="donut"&&hr.config.chart.type!=="pie"&&hr.config.chart.type!=="polarArea"&&hr.config.chart.type!=="bubble");if(ar=cr&&cr.length!==0?hr.globals.dom.Paper.gradient(vr?"radial":"linear",function(wr){(Array.isArray(cr[ur])?cr[ur]:cr).forEach(function(Pr){wr.stop(Pr.offset/100,Pr.color,Pr.opacity)})}):hr.globals.dom.Paper.gradient(vr?"radial":"linear",function(wr){wr.stop(dr,tr,nr),wr.stop(gr,ir,sr),wr.stop(pr,ir,sr),mr!==null&&wr.stop(mr,tr,nr)}),vr){var yr=hr.globals.gridWidth/2,br=hr.globals.gridHeight/2;hr.config.chart.type!=="bubble"?ar.attr({gradientUnits:"userSpaceOnUse",cx:yr,cy:br,r:or}):ar.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else er==="vertical"?ar.from(0,0).to(0,1):er==="diagonal"?ar.from(0,0).to(1,1):er==="horizontal"?ar.from(0,1).to(1,1):er==="diagonal2"&&ar.from(1,0).to(0,1);return ar}},{key:"getTextBasedOnMaxWidth",value:function(er){var tr=er.text,ir=er.maxWidth,nr=er.fontSize,sr=er.fontFamily,ar=this.getTextRects(tr,nr,sr),or=ar.width/tr.length,lr=Math.floor(ir/or);return ir<ar.width?tr.slice(0,lr-3)+"...":tr}},{key:"drawText",value:function(er){var tr=this,ir=er.x,nr=er.y,sr=er.text,ar=er.textAnchor,or=er.fontSize,lr=er.fontFamily,cr=er.fontWeight,ur=er.foreColor,hr=er.opacity,dr=er.maxWidth,gr=er.cssClass,pr=gr===void 0?"":gr,mr=er.isPlainText,vr=mr===void 0||mr,yr=er.dominantBaseline,br=yr===void 0?"auto":yr,wr=this.w;sr===void 0&&(sr="");var Pr=sr;ar||(ar="start"),ur&&ur.length||(ur=wr.config.chart.foreColor),lr=lr||wr.config.chart.fontFamily,cr=cr||"regular";var Tr,Vr={maxWidth:dr,fontSize:or=or||"11px",fontFamily:lr};return Array.isArray(sr)?Tr=wr.globals.dom.Paper.text(function(Ar){for(var xr=0;xr<sr.length;xr++)Pr=sr[xr],dr&&(Pr=tr.getTextBasedOnMaxWidth(u({text:sr[xr]},Vr))),xr===0?Ar.tspan(Pr):Ar.tspan(Pr).newLine()}):(dr&&(Pr=this.getTextBasedOnMaxWidth(u({text:sr},Vr))),Tr=vr?wr.globals.dom.Paper.plain(sr):wr.globals.dom.Paper.text(function(Ar){return Ar.tspan(Pr)})),Tr.attr({x:ir,y:nr,"text-anchor":ar,"dominant-baseline":br,"font-size":or,"font-family":lr,"font-weight":cr,fill:ur,class:"apexcharts-text "+pr}),Tr.node.style.fontFamily=lr,Tr.node.style.opacity=hr,Tr}},{key:"getMarkerPath",value:function(er,tr,ir,nr){var sr="";switch(ir){case"cross":sr="M ".concat(er-(nr/=1.4)," ").concat(tr-nr," L ").concat(er+nr," ").concat(tr+nr,"  M ").concat(er-nr," ").concat(tr+nr," L ").concat(er+nr," ").concat(tr-nr);break;case"plus":sr="M ".concat(er-(nr/=1.12)," ").concat(tr," L ").concat(er+nr," ").concat(tr,"  M ").concat(er," ").concat(tr-nr," L ").concat(er," ").concat(tr+nr);break;case"star":case"sparkle":var ar=5;nr*=1.15,ir==="sparkle"&&(nr/=1.1,ar=4);for(var or=Math.PI/ar,lr=0;lr<=2*ar;lr++){var cr=lr*or,ur=lr%2==0?nr:nr/2;sr+=(lr===0?"M":"L")+(er+ur*Math.sin(cr))+","+(tr-ur*Math.cos(cr))}sr+="Z";break;case"triangle":sr="M ".concat(er," ").concat(tr-nr,` 
             L `).concat(er+nr," ").concat(tr+nr,` 
             L `).concat(er-nr," ").concat(tr+nr,` 
             Z`);break;case"square":case"rect":sr="M ".concat(er-(nr/=1.125)," ").concat(tr-nr,` 
           L `).concat(er+nr," ").concat(tr-nr,` 
           L `).concat(er+nr," ").concat(tr+nr,` 
           L `).concat(er-nr," ").concat(tr+nr,` 
           Z`);break;case"diamond":nr*=1.05,sr="M ".concat(er," ").concat(tr-nr,` 
             L `).concat(er+nr," ").concat(tr,` 
             L `).concat(er," ").concat(tr+nr,` 
             L `).concat(er-nr," ").concat(tr,` 
            Z`);break;case"line":sr="M ".concat(er-(nr/=1.1)," ").concat(tr,` 
           L `).concat(er+nr," ").concat(tr);break;default:nr*=2,sr="M ".concat(er,", ").concat(tr,` 
           m -`).concat(nr/2,`, 0 
           a `).concat(nr/2,",").concat(nr/2," 0 1,0 ").concat(nr,`,0 
           a `).concat(nr/2,",").concat(nr/2," 0 1,0 -").concat(nr,",0")}return sr}},{key:"drawMarkerShape",value:function(er,tr,ir,nr,sr){var ar=this.drawPath({d:this.getMarkerPath(er,tr,ir,nr,sr),stroke:sr.pointStrokeColor,strokeDashArray:sr.pointStrokeDashArray,strokeWidth:sr.pointStrokeWidth,fill:sr.pointFillColor,fillOpacity:sr.pointFillOpacity,strokeOpacity:sr.pointStrokeOpacity});return ar.attr({cx:er,cy:tr,shape:sr.shape,class:sr.class?sr.class:""}),ar}},{key:"drawMarker",value:function(er,tr,ir){er=er||0;var nr=ir.pSize||0;return v.isNumber(tr)||(nr=0,tr=0),this.drawMarkerShape(er,tr,ir==null?void 0:ir.shape,nr,u(u({},ir),ir.shape==="line"||ir.shape==="plus"||ir.shape==="cross"?{pointStrokeColor:ir.pointFillColor,pointStrokeOpacity:ir.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(er,tr){var ir=this.w,nr=new Li(this.ctx),sr=parseInt(er.node.getAttribute("index"),10),ar=parseInt(er.node.getAttribute("j"),10);if(typeof ir.config.chart.events.dataPointMouseEnter=="function"&&ir.config.chart.events.dataPointMouseEnter(tr,this.ctx,{seriesIndex:sr,dataPointIndex:ar,w:ir}),this.ctx.events.fireEvent("dataPointMouseEnter",[tr,this.ctx,{seriesIndex:sr,dataPointIndex:ar,w:ir}]),(ir.config.states.active.filter.type==="none"||er.node.getAttribute("selected")!=="true")&&ir.config.states.hover.filter.type!=="none"&&!ir.globals.isTouchDevice){var or=ir.config.states.hover.filter;nr.applyFilter(er,sr,or.type)}}},{key:"pathMouseLeave",value:function(er,tr){var ir=this.w,nr=new Li(this.ctx),sr=parseInt(er.node.getAttribute("index"),10),ar=parseInt(er.node.getAttribute("j"),10);typeof ir.config.chart.events.dataPointMouseLeave=="function"&&ir.config.chart.events.dataPointMouseLeave(tr,this.ctx,{seriesIndex:sr,dataPointIndex:ar,w:ir}),this.ctx.events.fireEvent("dataPointMouseLeave",[tr,this.ctx,{seriesIndex:sr,dataPointIndex:ar,w:ir}]),ir.config.states.active.filter.type!=="none"&&er.node.getAttribute("selected")==="true"||ir.config.states.hover.filter.type!=="none"&&nr.getDefaultFilter(er,sr)}},{key:"pathMouseDown",value:function(er,tr){var ir=this.w,nr=new Li(this.ctx),sr=parseInt(er.node.getAttribute("index"),10),ar=parseInt(er.node.getAttribute("j"),10),or="false";if(er.node.getAttribute("selected")==="true"){if(er.node.setAttribute("selected","false"),ir.globals.selectedDataPoints[sr].indexOf(ar)>-1){var lr=ir.globals.selectedDataPoints[sr].indexOf(ar);ir.globals.selectedDataPoints[sr].splice(lr,1)}}else{if(!ir.config.states.active.allowMultipleDataPointsSelection&&ir.globals.selectedDataPoints.length>0){ir.globals.selectedDataPoints=[];var cr=ir.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),ur=ir.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),hr=function(pr){Array.prototype.forEach.call(pr,function(mr){mr.node.setAttribute("selected","false"),nr.getDefaultFilter(mr,sr)})};hr(cr),hr(ur)}er.node.setAttribute("selected","true"),or="true",ir.globals.selectedDataPoints[sr]===void 0&&(ir.globals.selectedDataPoints[sr]=[]),ir.globals.selectedDataPoints[sr].push(ar)}if(or==="true"){var dr=ir.config.states.active.filter;if(dr!=="none")nr.applyFilter(er,sr,dr.type);else if(ir.config.states.hover.filter!=="none"&&!ir.globals.isTouchDevice){var gr=ir.config.states.hover.filter;nr.applyFilter(er,sr,gr.type)}}else ir.config.states.active.filter.type!=="none"&&(ir.config.states.hover.filter.type==="none"||ir.globals.isTouchDevice?nr.getDefaultFilter(er,sr):(gr=ir.config.states.hover.filter,nr.applyFilter(er,sr,gr.type)));typeof ir.config.chart.events.dataPointSelection=="function"&&ir.config.chart.events.dataPointSelection(tr,this.ctx,{selectedDataPoints:ir.globals.selectedDataPoints,seriesIndex:sr,dataPointIndex:ar,w:ir}),tr&&this.ctx.events.fireEvent("dataPointSelection",[tr,this.ctx,{selectedDataPoints:ir.globals.selectedDataPoints,seriesIndex:sr,dataPointIndex:ar,w:ir}])}},{key:"rotateAroundCenter",value:function(er){var tr={};return er&&typeof er.getBBox=="function"&&(tr=er.getBBox()),{x:tr.x+tr.width/2,y:tr.y+tr.height/2}}},{key:"getTextRects",value:function(er,tr,ir,nr){var sr=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],ar=this.w,or=this.drawText({x:-200,y:-200,text:er,textAnchor:"start",fontSize:tr,fontFamily:ir,foreColor:"#fff",opacity:0});nr&&or.attr("transform",nr),ar.globals.dom.Paper.add(or);var lr=or.bbox();return sr||(lr=or.node.getBoundingClientRect()),or.remove(),{width:lr.width,height:lr.height}}},{key:"placeTextWithEllipsis",value:function(er,tr,ir){if(typeof er.getComputedTextLength=="function"&&(er.textContent=tr,tr.length>0&&er.getComputedTextLength()>=ir/1.1)){for(var nr=tr.length-3;nr>0;nr-=3)if(er.getSubStringLength(0,nr)<=ir/1.1)return void(er.textContent=tr.substring(0,nr)+"...");er.textContent="."}}}],[{key:"setAttrs",value:function(er,tr){for(var ir in tr)tr.hasOwnProperty(ir)&&er.setAttribute(ir,tr[ir])}}]),rr}(),Pi=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"getStackedSeriesTotals",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],tr=this.w,ir=[];if(tr.globals.series.length===0)return ir;for(var nr=0;nr<tr.globals.series[tr.globals.maxValsInArrayIndex].length;nr++){for(var sr=0,ar=0;ar<tr.globals.series.length;ar++)tr.globals.series[ar][nr]!==void 0&&er.indexOf(ar)===-1&&(sr+=tr.globals.series[ar][nr]);ir.push(sr)}return ir}},{key:"getSeriesTotalByIndex",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return er===null?this.w.config.series.reduce(function(tr,ir){return tr+ir},0):this.w.globals.series[er].reduce(function(tr,ir){return tr+ir},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var er=this,tr=this.w,ir=[];return tr.globals.seriesGroups.forEach(function(nr){var sr=[];tr.config.series.forEach(function(or,lr){nr.indexOf(tr.globals.seriesNames[lr])>-1&&sr.push(lr)});var ar=tr.globals.series.map(function(or,lr){return sr.indexOf(lr)===-1?lr:-1}).filter(function(or){return or!==-1});ir.push(er.getStackedSeriesTotals(ar))}),ir}},{key:"setSeriesYAxisMappings",value:function(){var er=this.w.globals,tr=this.w.config,ir=[],nr=[],sr=[],ar=er.series.length>tr.yaxis.length||tr.yaxis.some(function(hr){return Array.isArray(hr.seriesName)});tr.series.forEach(function(hr,dr){sr.push(dr),nr.push(null)}),tr.yaxis.forEach(function(hr,dr){ir[dr]=[]});var or=[];tr.yaxis.forEach(function(hr,dr){var gr=!1;if(hr.seriesName){var pr=[];Array.isArray(hr.seriesName)?pr=hr.seriesName:pr.push(hr.seriesName),pr.forEach(function(mr){tr.series.forEach(function(vr,yr){if(vr.name===mr){var br=yr;dr===yr||ar?!ar||sr.indexOf(yr)>-1?ir[dr].push([dr,yr]):console.warn("Series '"+vr.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(ir[yr].push([yr,dr]),br=dr),gr=!0,(br=sr.indexOf(br))!==-1&&sr.splice(br,1)}})})}gr||or.push(dr)}),ir=ir.map(function(hr,dr){var gr=[];return hr.forEach(function(pr){nr[pr[1]]=pr[0],gr.push(pr[1])}),gr});for(var lr=tr.yaxis.length-1,cr=0;cr<or.length&&(lr=or[cr],ir[lr]=[],sr);cr++){var ur=sr[0];sr.shift(),ir[lr].push(ur),nr[ur]=lr}sr.forEach(function(hr){ir[lr].push(hr),nr[hr]=lr}),er.seriesYAxisMap=ir.map(function(hr){return hr}),er.seriesYAxisReverseMap=nr.map(function(hr){return hr}),er.seriesYAxisMap.forEach(function(hr,dr){hr.forEach(function(gr){tr.series[gr]&&tr.series[gr].group===void 0&&(tr.series[gr].group="apexcharts-axis-".concat(dr.toString()))})})}},{key:"isSeriesNull",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(er===null?this.w.config.series.filter(function(tr){return tr!==null}):this.w.config.series[er].data.filter(function(tr){return tr!==null})).length===0}},{key:"seriesHaveSameValues",value:function(er){return this.w.globals.series[er].every(function(tr,ir,nr){return tr===nr[0]})}},{key:"getCategoryLabels",value:function(er){var tr=this.w,ir=er.slice();return tr.config.xaxis.convertedCatToNumeric&&(ir=er.map(function(nr,sr){return tr.config.xaxis.labels.formatter(nr-tr.globals.minX+1)})),ir}},{key:"getLargestSeries",value:function(){var er=this.w;er.globals.maxValsInArrayIndex=er.globals.series.map(function(tr){return tr.length}).indexOf(Math.max.apply(Math,er.globals.series.map(function(tr){return tr.length})))}},{key:"getLargestMarkerSize",value:function(){var er=this.w,tr=0;return er.globals.markers.size.forEach(function(ir){tr=Math.max(tr,ir)}),er.config.markers.discrete&&er.config.markers.discrete.length&&er.config.markers.discrete.forEach(function(ir){tr=Math.max(tr,ir.size)}),tr>0&&(er.config.markers.hover.size>0?tr=er.config.markers.hover.size:tr+=er.config.markers.hover.sizeOffset),er.globals.markers.largestSize=tr,tr}},{key:"getSeriesTotals",value:function(){var er=this.w;er.globals.seriesTotals=er.globals.series.map(function(tr,ir){var nr=0;if(Array.isArray(tr))for(var sr=0;sr<tr.length;sr++)nr+=tr[sr];else nr+=tr;return nr})}},{key:"getSeriesTotalsXRange",value:function(er,tr){var ir=this.w;return ir.globals.series.map(function(nr,sr){for(var ar=0,or=0;or<nr.length;or++)ir.globals.seriesX[sr][or]>er&&ir.globals.seriesX[sr][or]<tr&&(ar+=nr[or]);return ar})}},{key:"getPercentSeries",value:function(){var er=this.w;er.globals.seriesPercent=er.globals.series.map(function(tr,ir){var nr=[];if(Array.isArray(tr))for(var sr=0;sr<tr.length;sr++){var ar=er.globals.stackedSeriesTotals[sr],or=0;ar&&(or=100*tr[sr]/ar),nr.push(or)}else{var lr=100*tr/er.globals.seriesTotals.reduce(function(cr,ur){return cr+ur},0);nr.push(lr)}return nr})}},{key:"getCalculatedRatios",value:function(){var er,tr,ir,nr=this,sr=this.w,ar=sr.globals,or=[],lr=0,cr=[],ur=.1,hr=0;if(ar.yRange=[],ar.isMultipleYAxis)for(var dr=0;dr<ar.minYArr.length;dr++)ar.yRange.push(Math.abs(ar.minYArr[dr]-ar.maxYArr[dr])),cr.push(0);else ar.yRange.push(Math.abs(ar.minY-ar.maxY));ar.xRange=Math.abs(ar.maxX-ar.minX),ar.zRange=Math.abs(ar.maxZ-ar.minZ);for(var gr=0;gr<ar.yRange.length;gr++)or.push(ar.yRange[gr]/ar.gridHeight);if(tr=ar.xRange/ar.gridWidth,er=ar.yRange/ar.gridWidth,ir=ar.xRange/ar.gridHeight,(lr=ar.zRange/ar.gridHeight*16)||(lr=1),ar.minY!==Number.MIN_VALUE&&Math.abs(ar.minY)!==0&&(ar.hasNegs=!0),sr.globals.seriesYAxisReverseMap.length>0){var pr=function(vr,yr){var br=sr.config.yaxis[sr.globals.seriesYAxisReverseMap[yr]],wr=vr<0?-1:1;return vr=Math.abs(vr),br.logarithmic&&(vr=nr.getBaseLog(br.logBase,vr)),-wr*vr/or[yr]};if(ar.isMultipleYAxis){cr=[];for(var mr=0;mr<or.length;mr++)cr.push(pr(ar.minYArr[mr],mr))}else(cr=[]).push(pr(ar.minY,0)),ar.minY!==Number.MIN_VALUE&&Math.abs(ar.minY)!==0&&(ur=-ar.minY/er,hr=ar.minX/tr)}else(cr=[]).push(0),ur=0,hr=0;return{yRatio:or,invertedYRatio:er,zRatio:lr,xRatio:tr,invertedXRatio:ir,baseLineInvertedY:ur,baseLineY:cr,baseLineX:hr}}},{key:"getLogSeries",value:function(er){var tr=this,ir=this.w;return ir.globals.seriesLog=er.map(function(nr,sr){var ar=ir.globals.seriesYAxisReverseMap[sr];return ir.config.yaxis[ar]&&ir.config.yaxis[ar].logarithmic?nr.map(function(or){return or===null?null:tr.getLogVal(ir.config.yaxis[ar].logBase,or,sr)}):nr}),ir.globals.invalidLogScale?er:ir.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(er,tr){if(er===null)return null;var ir=this.w,nr=ir.globals.seriesYAxisReverseMap[tr];return ir.config.yaxis[nr]&&ir.config.yaxis[nr].logarithmic?this.getLogVal(ir.config.yaxis[nr].logBase,er,tr):er}},{key:"getBaseLog",value:function(er,tr){return Math.log(tr)/Math.log(er)}},{key:"getLogVal",value:function(er,tr,ir){if(tr<=0)return 0;var nr=this.w,sr=nr.globals.minYArr[ir]===0?-1:this.getBaseLog(er,nr.globals.minYArr[ir]),ar=(nr.globals.maxYArr[ir]===0?0:this.getBaseLog(er,nr.globals.maxYArr[ir]))-sr;return tr<1?tr/ar:(this.getBaseLog(er,tr)-sr)/ar}},{key:"getLogYRatios",value:function(er){var tr=this,ir=this.w,nr=this.w.globals;return nr.yLogRatio=er.slice(),nr.logYRange=nr.yRange.map(function(sr,ar){var or=ir.globals.seriesYAxisReverseMap[ar];if(ir.config.yaxis[or]&&tr.w.config.yaxis[or].logarithmic){var lr,cr=-Number.MAX_VALUE,ur=Number.MIN_VALUE;return nr.seriesLog.forEach(function(hr,dr){hr.forEach(function(gr){ir.config.yaxis[dr]&&ir.config.yaxis[dr].logarithmic&&(cr=Math.max(gr,cr),ur=Math.min(gr,ur))})}),lr=Math.pow(nr.yRange[ar],Math.abs(ur-cr)/nr.yRange[ar]),nr.yLogRatio[ar]=lr/nr.gridHeight,lr}}),nr.invalidLogScale?er.slice():nr.yLogRatio}},{key:"drawSeriesByGroup",value:function(er,tr,ir,nr){var sr=this.w,ar=[];return er.series.length>0&&tr.forEach(function(or){var lr=[],cr=[];er.i.forEach(function(ur,hr){sr.config.series[ur].group===or&&(lr.push(er.series[hr]),cr.push(ur))}),lr.length>0&&ar.push(nr.draw(lr,ir,cr))}),ar}}],[{key:"checkComboSeries",value:function(er,tr){var ir=!1,nr=0,sr=0;return tr===void 0&&(tr="line"),er.length&&er[0].type!==void 0&&er.forEach(function(ar){ar.type!=="bar"&&ar.type!=="column"&&ar.type!=="candlestick"&&ar.type!=="boxPlot"||nr++,ar.type!==void 0&&ar.type!==tr&&sr++}),sr>0&&(ir=!0),{comboBarCount:nr,comboCharts:ir}}},{key:"extendArrayProps",value:function(er,tr,ir){var nr,sr,ar,or,lr,cr;return(nr=tr)!==null&&nr!==void 0&&nr.yaxis&&(tr=er.extendYAxis(tr,ir)),(sr=tr)!==null&&sr!==void 0&&sr.annotations&&(tr.annotations.yaxis&&(tr=er.extendYAxisAnnotations(tr)),(ar=tr)!==null&&ar!==void 0&&(or=ar.annotations)!==null&&or!==void 0&&or.xaxis&&(tr=er.extendXAxisAnnotations(tr)),(lr=tr)!==null&&lr!==void 0&&(cr=lr.annotations)!==null&&cr!==void 0&&cr.points&&(tr=er.extendPointAnnotations(tr))),tr}}]),rr}(),Ii=function(){function rr(er){i(this,rr),this.w=er.w,this.annoCtx=er}return s(rr,[{key:"setOrientations",value:function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ir=this.w;if(er.label.orientation==="vertical"){var nr=tr!==null?tr:0,sr=ir.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(nr,"']"));if(sr!==null){var ar=sr.getBoundingClientRect();sr.setAttribute("x",parseFloat(sr.getAttribute("x"))-ar.height+4);var or=er.label.position==="top"?ar.width:-ar.width;sr.setAttribute("y",parseFloat(sr.getAttribute("y"))+or);var lr=this.annoCtx.graphics.rotateAroundCenter(sr),cr=lr.x,ur=lr.y;sr.setAttribute("transform","rotate(-90 ".concat(cr," ").concat(ur,")"))}}}},{key:"addBackgroundToAnno",value:function(er,tr){var ir=this.w;if(!er||!tr.label.text||!String(tr.label.text).trim())return null;var nr=ir.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),sr=er.getBoundingClientRect(),ar=tr.label.style.padding,or=ar.left,lr=ar.right,cr=ar.top,ur=ar.bottom;if(tr.label.orientation==="vertical"){var hr=[or,lr,cr,ur];cr=hr[0],ur=hr[1],or=hr[2],lr=hr[3]}var dr=sr.left-nr.left-or,gr=sr.top-nr.top-cr,pr=this.annoCtx.graphics.drawRect(dr-ir.globals.barPadForNumericAxis,gr,sr.width+or+lr,sr.height+cr+ur,tr.label.borderRadius,tr.label.style.background,1,tr.label.borderWidth,tr.label.borderColor,0);return tr.id&&pr.node.classList.add(tr.id),pr}},{key:"annotationsBackground",value:function(){var er=this,tr=this.w,ir=function(nr,sr,ar){var or=tr.globals.dom.baseEl.querySelector(".apexcharts-".concat(ar,"-annotations .apexcharts-").concat(ar,"-annotation-label[rel='").concat(sr,"']"));if(or){var lr=or.parentNode,cr=er.addBackgroundToAnno(or,nr);cr&&(lr.insertBefore(cr.node,or),nr.label.mouseEnter&&cr.node.addEventListener("mouseenter",nr.label.mouseEnter.bind(er,nr)),nr.label.mouseLeave&&cr.node.addEventListener("mouseleave",nr.label.mouseLeave.bind(er,nr)),nr.label.click&&cr.node.addEventListener("click",nr.label.click.bind(er,nr)))}};tr.config.annotations.xaxis.forEach(function(nr,sr){return ir(nr,sr,"xaxis")}),tr.config.annotations.yaxis.forEach(function(nr,sr){return ir(nr,sr,"yaxis")}),tr.config.annotations.points.forEach(function(nr,sr){return ir(nr,sr,"point")})}},{key:"getY1Y2",value:function(er,tr){var ir,nr=this.w,sr=er==="y1"?tr.y:tr.y2,ar=!1;if(this.annoCtx.invertAxis){var or=nr.config.xaxis.convertedCatToNumeric?nr.globals.categoryLabels:nr.globals.labels,lr=or.indexOf(sr),cr=nr.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(lr+1,")"));ir=cr?parseFloat(cr.getAttribute("y")):(nr.globals.gridHeight/or.length-1)*(lr+1)-nr.globals.barHeight,tr.seriesIndex!==void 0&&nr.globals.barHeight&&(ir-=nr.globals.barHeight/2*(nr.globals.series.length-1)-nr.globals.barHeight*tr.seriesIndex)}else{var ur,hr=nr.globals.seriesYAxisMap[tr.yAxisIndex][0],dr=nr.config.yaxis[tr.yAxisIndex].logarithmic?new Pi(this.annoCtx.ctx).getLogVal(nr.config.yaxis[tr.yAxisIndex].logBase,sr,hr)/nr.globals.yLogRatio[hr]:(sr-nr.globals.minYArr[hr])/(nr.globals.yRange[hr]/nr.globals.gridHeight);ir=nr.globals.gridHeight-Math.min(Math.max(dr,0),nr.globals.gridHeight),ar=dr>nr.globals.gridHeight||dr<0,!tr.marker||tr.y!==void 0&&tr.y!==null||(ir=0),(ur=nr.config.yaxis[tr.yAxisIndex])!==null&&ur!==void 0&&ur.reversed&&(ir=dr)}return typeof sr=="string"&&sr.includes("px")&&(ir=parseFloat(sr)),{yP:ir,clipped:ar}}},{key:"getX1X2",value:function(er,tr){var ir=this.w,nr=er==="x1"?tr.x:tr.x2,sr=this.annoCtx.invertAxis?ir.globals.minY:ir.globals.minX,ar=this.annoCtx.invertAxis?ir.globals.maxY:ir.globals.maxX,or=this.annoCtx.invertAxis?ir.globals.yRange[0]:ir.globals.xRange,lr=!1,cr=this.annoCtx.inversedReversedAxis?(ar-nr)/(or/ir.globals.gridWidth):(nr-sr)/(or/ir.globals.gridWidth);return ir.config.xaxis.type!=="category"&&!ir.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||ir.globals.dataFormatXNumeric||ir.config.chart.sparkline.enabled||(cr=this.getStringX(nr)),typeof nr=="string"&&nr.includes("px")&&(cr=parseFloat(nr)),nr==null&&tr.marker&&(cr=ir.globals.gridWidth),tr.seriesIndex!==void 0&&ir.globals.barWidth&&!this.annoCtx.invertAxis&&(cr-=ir.globals.barWidth/2*(ir.globals.series.length-1)-ir.globals.barWidth*tr.seriesIndex),cr>ir.globals.gridWidth?(cr=ir.globals.gridWidth,lr=!0):cr<0&&(cr=0,lr=!0),{x:cr,clipped:lr}}},{key:"getStringX",value:function(er){var tr=this.w,ir=er;tr.config.xaxis.convertedCatToNumeric&&tr.globals.categoryLabels.length&&(er=tr.globals.categoryLabels.indexOf(er)+1);var nr=tr.globals.labels.map(function(ar){return Array.isArray(ar)?ar.join(" "):ar}).indexOf(er),sr=tr.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(nr+1,")"));return sr&&(ir=parseFloat(sr.getAttribute("x"))),ir}}]),rr}(),Ti=function(){function rr(er){i(this,rr),this.w=er.w,this.annoCtx=er,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ii(this.annoCtx)}return s(rr,[{key:"addXaxisAnnotation",value:function(er,tr,ir){var nr,sr=this.w,ar=this.helpers.getX1X2("x1",er),or=ar.x,lr=ar.clipped,cr=!0,ur=er.label.text,hr=er.strokeDashArray;if(v.isNumber(or)){if(er.x2===null||er.x2===void 0){if(!lr){var dr=this.annoCtx.graphics.drawLine(or+er.offsetX,0+er.offsetY,or+er.offsetX,sr.globals.gridHeight+er.offsetY,er.borderColor,hr,er.borderWidth);tr.appendChild(dr.node),er.id&&dr.node.classList.add(er.id)}}else{var gr=this.helpers.getX1X2("x2",er);if(nr=gr.x,cr=gr.clipped,nr<or){var pr=or;or=nr,nr=pr}var mr=this.annoCtx.graphics.drawRect(or+er.offsetX,0+er.offsetY,nr-or,sr.globals.gridHeight+er.offsetY,0,er.fillColor,er.opacity,1,er.borderColor,hr);mr.node.classList.add("apexcharts-annotation-rect"),mr.attr("clip-path","url(#gridRectMask".concat(sr.globals.cuid,")")),tr.appendChild(mr.node),er.id&&mr.node.classList.add(er.id)}if(!lr||!cr){var vr=this.annoCtx.graphics.getTextRects(ur,parseFloat(er.label.style.fontSize)),yr=er.label.position==="top"?4:er.label.position==="center"?sr.globals.gridHeight/2+(er.label.orientation==="vertical"?vr.width/2:0):sr.globals.gridHeight,br=this.annoCtx.graphics.drawText({x:or+er.label.offsetX,y:yr+er.label.offsetY-(er.label.orientation==="vertical"?er.label.position==="top"?vr.width/2-12:-vr.width/2:0),text:ur,textAnchor:er.label.textAnchor,fontSize:er.label.style.fontSize,fontFamily:er.label.style.fontFamily,fontWeight:er.label.style.fontWeight,foreColor:er.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(er.label.style.cssClass," ").concat(er.id?er.id:"")});br.attr({rel:ir}),tr.appendChild(br.node),this.annoCtx.helpers.setOrientations(er,ir)}}}},{key:"drawXAxisAnnotations",value:function(){var er=this,tr=this.w,ir=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return tr.config.annotations.xaxis.map(function(nr,sr){er.addXaxisAnnotation(nr,ir.node,sr)}),ir}}]),rr}(),zi=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return s(rr,[{key:"isValidDate",value:function(er){return typeof er!="number"&&!isNaN(this.parseDate(er))}},{key:"getTimeStamp",value:function(er){return Date.parse(er)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(er).toISOString().substr(0,25)).getTime():new Date(er).getTime():er}},{key:"getDate",value:function(er){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(er).toUTCString()):new Date(er)}},{key:"parseDate",value:function(er){var tr=Date.parse(er);if(!isNaN(tr))return this.getTimeStamp(er);var ir=Date.parse(er.replace(/-/g,"/").replace(/[a-z]+/gi," "));return ir=this.getTimeStamp(ir)}},{key:"parseDateWithTimezone",value:function(er){return Date.parse(er.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(er,tr){var ir=this.w.globals.locale,nr=this.w.config.xaxis.labels.datetimeUTC,sr=["\0"].concat(f(ir.months)),ar=[""].concat(f(ir.shortMonths)),or=[""].concat(f(ir.days)),lr=[""].concat(f(ir.shortDays));function cr(xr,Er){var Cr=xr+"";for(Er=Er||2;Cr.length<Er;)Cr="0"+Cr;return Cr}var ur=nr?er.getUTCFullYear():er.getFullYear();tr=(tr=(tr=tr.replace(/(^|[^\\])yyyy+/g,"$1"+ur)).replace(/(^|[^\\])yy/g,"$1"+ur.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+ur);var hr=(nr?er.getUTCMonth():er.getMonth())+1;tr=(tr=(tr=(tr=tr.replace(/(^|[^\\])MMMM+/g,"$1"+sr[0])).replace(/(^|[^\\])MMM/g,"$1"+ar[0])).replace(/(^|[^\\])MM/g,"$1"+cr(hr))).replace(/(^|[^\\])M/g,"$1"+hr);var dr=nr?er.getUTCDate():er.getDate();tr=(tr=(tr=(tr=tr.replace(/(^|[^\\])dddd+/g,"$1"+or[0])).replace(/(^|[^\\])ddd/g,"$1"+lr[0])).replace(/(^|[^\\])dd/g,"$1"+cr(dr))).replace(/(^|[^\\])d/g,"$1"+dr);var gr=nr?er.getUTCHours():er.getHours(),pr=gr>12?gr-12:gr===0?12:gr;tr=(tr=(tr=(tr=tr.replace(/(^|[^\\])HH+/g,"$1"+cr(gr))).replace(/(^|[^\\])H/g,"$1"+gr)).replace(/(^|[^\\])hh+/g,"$1"+cr(pr))).replace(/(^|[^\\])h/g,"$1"+pr);var mr=nr?er.getUTCMinutes():er.getMinutes();tr=(tr=tr.replace(/(^|[^\\])mm+/g,"$1"+cr(mr))).replace(/(^|[^\\])m/g,"$1"+mr);var vr=nr?er.getUTCSeconds():er.getSeconds();tr=(tr=tr.replace(/(^|[^\\])ss+/g,"$1"+cr(vr))).replace(/(^|[^\\])s/g,"$1"+vr);var yr=nr?er.getUTCMilliseconds():er.getMilliseconds();tr=tr.replace(/(^|[^\\])fff+/g,"$1"+cr(yr,3)),yr=Math.round(yr/10),tr=tr.replace(/(^|[^\\])ff/g,"$1"+cr(yr)),yr=Math.round(yr/10);var br=gr<12?"AM":"PM";tr=(tr=(tr=tr.replace(/(^|[^\\])f/g,"$1"+yr)).replace(/(^|[^\\])TT+/g,"$1"+br)).replace(/(^|[^\\])T/g,"$1"+br.charAt(0));var wr=br.toLowerCase();tr=(tr=tr.replace(/(^|[^\\])tt+/g,"$1"+wr)).replace(/(^|[^\\])t/g,"$1"+wr.charAt(0));var Pr=-er.getTimezoneOffset(),Tr=nr||!Pr?"Z":Pr>0?"+":"-";if(!nr){var Vr=(Pr=Math.abs(Pr))%60;Tr+=cr(Math.floor(Pr/60))+":"+cr(Vr)}tr=tr.replace(/(^|[^\\])K/g,"$1"+Tr);var Ar=(nr?er.getUTCDay():er.getDay())+1;return tr=(tr=(tr=(tr=(tr=tr.replace(new RegExp(or[0],"g"),or[Ar])).replace(new RegExp(lr[0],"g"),lr[Ar])).replace(new RegExp(sr[0],"g"),sr[hr])).replace(new RegExp(ar[0],"g"),ar[hr])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(er,tr,ir){var nr=this.w;nr.config.xaxis.min!==void 0&&(er=nr.config.xaxis.min),nr.config.xaxis.max!==void 0&&(tr=nr.config.xaxis.max);var sr=this.getDate(er),ar=this.getDate(tr),or=this.formatDate(sr,"yyyy MM dd HH mm ss fff").split(" "),lr=this.formatDate(ar,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(or[6],10),maxMillisecond:parseInt(lr[6],10),minSecond:parseInt(or[5],10),maxSecond:parseInt(lr[5],10),minMinute:parseInt(or[4],10),maxMinute:parseInt(lr[4],10),minHour:parseInt(or[3],10),maxHour:parseInt(lr[3],10),minDate:parseInt(or[2],10),maxDate:parseInt(lr[2],10),minMonth:parseInt(or[1],10)-1,maxMonth:parseInt(lr[1],10)-1,minYear:parseInt(or[0],10),maxYear:parseInt(lr[0],10)}}},{key:"isLeapYear",value:function(er){return er%4==0&&er%100!=0||er%400==0}},{key:"calculcateLastDaysOfMonth",value:function(er,tr,ir){return this.determineDaysOfMonths(er,tr)-ir}},{key:"determineDaysOfYear",value:function(er){var tr=365;return this.isLeapYear(er)&&(tr=366),tr}},{key:"determineRemainingDaysOfYear",value:function(er,tr,ir){var nr=this.daysCntOfYear[tr]+ir;return tr>1&&this.isLeapYear()&&nr++,nr}},{key:"determineDaysOfMonths",value:function(er,tr){var ir=30;switch(er=v.monthMod(er),!0){case this.months30.indexOf(er)>-1:er===2&&(ir=this.isLeapYear(tr)?29:28);break;case this.months31.indexOf(er)>-1:default:ir=31}return ir}}]),rr}(),Xi=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.tooltipKeyFormat="dd MMM"}return s(rr,[{key:"xLabelFormat",value:function(er,tr,ir,nr){var sr=this.w;if(sr.config.xaxis.type==="datetime"&&sr.config.xaxis.labels.formatter===void 0&&sr.config.tooltip.x.formatter===void 0){var ar=new zi(this.ctx);return ar.formatDate(ar.getDate(tr),sr.config.tooltip.x.format)}return er(tr,ir,nr)}},{key:"defaultGeneralFormatter",value:function(er){return Array.isArray(er)?er.map(function(tr){return tr}):er}},{key:"defaultYFormatter",value:function(er,tr,ir){var nr=this.w;if(v.isNumber(er))if(nr.globals.yValueDecimal!==0)er=er.toFixed(tr.decimalsInFloat!==void 0?tr.decimalsInFloat:nr.globals.yValueDecimal);else{var sr=er.toFixed(0);er=er==sr?sr:er.toFixed(1)}return er}},{key:"setLabelFormatters",value:function(){var er=this,tr=this.w;return tr.globals.xaxisTooltipFormatter=function(ir){return er.defaultGeneralFormatter(ir)},tr.globals.ttKeyFormatter=function(ir){return er.defaultGeneralFormatter(ir)},tr.globals.ttZFormatter=function(ir){return ir},tr.globals.legendFormatter=function(ir){return er.defaultGeneralFormatter(ir)},tr.config.xaxis.labels.formatter!==void 0?tr.globals.xLabelFormatter=tr.config.xaxis.labels.formatter:tr.globals.xLabelFormatter=function(ir){if(v.isNumber(ir)){if(!tr.config.xaxis.convertedCatToNumeric&&tr.config.xaxis.type==="numeric"){if(v.isNumber(tr.config.xaxis.decimalsInFloat))return ir.toFixed(tr.config.xaxis.decimalsInFloat);var nr=tr.globals.maxX-tr.globals.minX;return nr>0&&nr<100?ir.toFixed(1):ir.toFixed(0)}return tr.globals.isBarHorizontal&&tr.globals.maxY-tr.globals.minYArr<4?ir.toFixed(1):ir.toFixed(0)}return ir},typeof tr.config.tooltip.x.formatter=="function"?tr.globals.ttKeyFormatter=tr.config.tooltip.x.formatter:tr.globals.ttKeyFormatter=tr.globals.xLabelFormatter,typeof tr.config.xaxis.tooltip.formatter=="function"&&(tr.globals.xaxisTooltipFormatter=tr.config.xaxis.tooltip.formatter),(Array.isArray(tr.config.tooltip.y)||tr.config.tooltip.y.formatter!==void 0)&&(tr.globals.ttVal=tr.config.tooltip.y),tr.config.tooltip.z.formatter!==void 0&&(tr.globals.ttZFormatter=tr.config.tooltip.z.formatter),tr.config.legend.formatter!==void 0&&(tr.globals.legendFormatter=tr.config.legend.formatter),tr.config.yaxis.forEach(function(ir,nr){ir.labels.formatter!==void 0?tr.globals.yLabelFormatters[nr]=ir.labels.formatter:tr.globals.yLabelFormatters[nr]=function(sr){return tr.globals.xyCharts?Array.isArray(sr)?sr.map(function(ar){return er.defaultYFormatter(ar,ir,nr)}):er.defaultYFormatter(sr,ir,nr):sr}}),tr.globals}},{key:"heatmapLabelFormatters",value:function(){var er=this.w;if(er.config.chart.type==="heatmap"){er.globals.yAxisScale[0].result=er.globals.seriesNames.slice();var tr=er.globals.seriesNames.reduce(function(ir,nr){return ir.length>nr.length?ir:nr},0);er.globals.yAxisScale[0].niceMax=tr,er.globals.yAxisScale[0].niceMin=tr}}}]),rr}(),Ri=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"getLabel",value:function(er,tr,ir,nr){var sr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],ar=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",or=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],lr=this.w,cr=er[nr]===void 0?"":er[nr],ur=cr,hr=lr.globals.xLabelFormatter,dr=lr.config.xaxis.labels.formatter,gr=!1,pr=new Xi(this.ctx),mr=cr;or&&(ur=pr.xLabelFormat(hr,cr,mr,{i:nr,dateFormatter:new zi(this.ctx).formatDate,w:lr}),dr!==void 0&&(ur=dr(cr,er[nr],{i:nr,dateFormatter:new zi(this.ctx).formatDate,w:lr})));var vr,yr;tr.length>0?(vr=tr[nr].unit,yr=null,tr.forEach(function(Tr){Tr.unit==="month"?yr="year":Tr.unit==="day"?yr="month":Tr.unit==="hour"?yr="day":Tr.unit==="minute"&&(yr="hour")}),gr=yr===vr,ir=tr[nr].position,ur=tr[nr].value):lr.config.xaxis.type==="datetime"&&dr===void 0&&(ur=""),ur===void 0&&(ur=""),ur=Array.isArray(ur)?ur:ur.toString();var br=new Mi(this.ctx),wr={};wr=lr.globals.rotateXLabels&&or?br.getTextRects(ur,parseInt(ar,10),null,"rotate(".concat(lr.config.xaxis.labels.rotate," 0 0)"),!1):br.getTextRects(ur,parseInt(ar,10));var Pr=!lr.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(ur)&&(String(ur)==="NaN"||sr.indexOf(ur)>=0&&Pr)&&(ur=""),{x:ir,text:ur,textRect:wr,isBold:gr}}},{key:"checkLabelBasedOnTickamount",value:function(er,tr,ir){var nr=this.w,sr=nr.config.xaxis.tickAmount;return sr==="dataPoints"&&(sr=Math.round(nr.globals.gridWidth/120)),sr>ir||er%Math.round(ir/(sr+1))==0||(tr.text=""),tr}},{key:"checkForOverflowingLabels",value:function(er,tr,ir,nr,sr){var ar=this.w;if(er===0&&ar.globals.skipFirstTimelinelabel&&(tr.text=""),er===ir-1&&ar.globals.skipLastTimelinelabel&&(tr.text=""),ar.config.xaxis.labels.hideOverlappingLabels&&nr.length>0){var or=sr[sr.length-1];tr.x<or.textRect.width/(ar.globals.rotateXLabels?Math.abs(ar.config.xaxis.labels.rotate)/12:1.01)+or.x&&(tr.text="")}return tr}},{key:"checkForReversedLabels",value:function(er,tr){var ir=this.w;return ir.config.yaxis[er]&&ir.config.yaxis[er].reversed&&tr.reverse(),tr}},{key:"yAxisAllSeriesCollapsed",value:function(er){var tr=this.w.globals;return!tr.seriesYAxisMap[er].some(function(ir){return tr.collapsedSeriesIndices.indexOf(ir)===-1})}},{key:"translateYAxisIndex",value:function(er){var tr=this.w,ir=tr.globals,nr=tr.config.yaxis;return ir.series.length>nr.length||nr.some(function(sr){return Array.isArray(sr.seriesName)})?er:ir.seriesYAxisReverseMap[er]}},{key:"isYAxisHidden",value:function(er){var tr=this.w,ir=tr.config.yaxis[er];if(!ir.show||this.yAxisAllSeriesCollapsed(er))return!0;if(!ir.showForNullSeries){var nr=tr.globals.seriesYAxisMap[er],sr=new Pi(this.ctx);return nr.every(function(ar){return sr.isSeriesNull(ar)})}return!1}},{key:"getYAxisForeColor",value:function(er,tr){var ir=this.w;return Array.isArray(er)&&ir.globals.yAxisScale[tr]&&this.ctx.theme.pushExtraColors(er,ir.globals.yAxisScale[tr].result.length,!1),er}},{key:"drawYAxisTicks",value:function(er,tr,ir,nr,sr,ar,or){var lr=this.w,cr=new Mi(this.ctx),ur=lr.globals.translateY+lr.config.yaxis[sr].labels.offsetY;if(lr.globals.isBarHorizontal?ur=0:lr.config.chart.type==="heatmap"&&(ur+=ar/2),nr.show&&tr>0){lr.config.yaxis[sr].opposite===!0&&(er+=nr.width);for(var hr=tr;hr>=0;hr--){var dr=cr.drawLine(er+ir.offsetX-nr.width+nr.offsetX,ur+nr.offsetY,er+ir.offsetX+nr.offsetX,ur+nr.offsetY,nr.color);or.add(dr),ur+=ar}}}}]),rr}(),Ei=function(){function rr(er){i(this,rr),this.w=er.w,this.annoCtx=er,this.helpers=new Ii(this.annoCtx),this.axesUtils=new Ri(this.annoCtx)}return s(rr,[{key:"addYaxisAnnotation",value:function(er,tr,ir){var nr,sr=this.w,ar=er.strokeDashArray,or=this.helpers.getY1Y2("y1",er),lr=or.yP,cr=or.clipped,ur=!0,hr=!1,dr=er.label.text;if(er.y2===null||er.y2===void 0){if(!cr){hr=!0;var gr=this.annoCtx.graphics.drawLine(0+er.offsetX,lr+er.offsetY,this._getYAxisAnnotationWidth(er),lr+er.offsetY,er.borderColor,ar,er.borderWidth);tr.appendChild(gr.node),er.id&&gr.node.classList.add(er.id)}}else{if(nr=(or=this.helpers.getY1Y2("y2",er)).yP,ur=or.clipped,nr>lr){var pr=lr;lr=nr,nr=pr}if(!cr||!ur){hr=!0;var mr=this.annoCtx.graphics.drawRect(0+er.offsetX,nr+er.offsetY,this._getYAxisAnnotationWidth(er),lr-nr,0,er.fillColor,er.opacity,1,er.borderColor,ar);mr.node.classList.add("apexcharts-annotation-rect"),mr.attr("clip-path","url(#gridRectMask".concat(sr.globals.cuid,")")),tr.appendChild(mr.node),er.id&&mr.node.classList.add(er.id)}}if(hr){var vr=er.label.position==="right"?sr.globals.gridWidth:er.label.position==="center"?sr.globals.gridWidth/2:0,yr=this.annoCtx.graphics.drawText({x:vr+er.label.offsetX,y:(nr??lr)+er.label.offsetY-3,text:dr,textAnchor:er.label.textAnchor,fontSize:er.label.style.fontSize,fontFamily:er.label.style.fontFamily,fontWeight:er.label.style.fontWeight,foreColor:er.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(er.label.style.cssClass," ").concat(er.id?er.id:"")});yr.attr({rel:ir}),tr.appendChild(yr.node)}}},{key:"_getYAxisAnnotationWidth",value:function(er){var tr=this.w;return tr.globals.gridWidth,(er.width.indexOf("%")>-1?tr.globals.gridWidth*parseInt(er.width,10)/100:parseInt(er.width,10))+er.offsetX}},{key:"drawYAxisAnnotations",value:function(){var er=this,tr=this.w,ir=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return tr.config.annotations.yaxis.forEach(function(nr,sr){nr.yAxisIndex=er.axesUtils.translateYAxisIndex(nr.yAxisIndex),er.axesUtils.isYAxisHidden(nr.yAxisIndex)&&er.axesUtils.yAxisAllSeriesCollapsed(nr.yAxisIndex)||er.addYaxisAnnotation(nr,ir.node,sr)}),ir}}]),rr}(),Yi=function(){function rr(er){i(this,rr),this.w=er.w,this.annoCtx=er,this.helpers=new Ii(this.annoCtx)}return s(rr,[{key:"addPointAnnotation",value:function(er,tr,ir){if(!(this.w.globals.collapsedSeriesIndices.indexOf(er.seriesIndex)>-1)){var nr=this.helpers.getX1X2("x1",er),sr=nr.x,ar=nr.clipped,or=(nr=this.helpers.getY1Y2("y1",er)).yP,lr=nr.clipped;if(v.isNumber(sr)&&!lr&&!ar){var cr={pSize:er.marker.size,pointStrokeWidth:er.marker.strokeWidth,pointFillColor:er.marker.fillColor,pointStrokeColor:er.marker.strokeColor,shape:er.marker.shape,pRadius:er.marker.radius,class:"apexcharts-point-annotation-marker ".concat(er.marker.cssClass," ").concat(er.id?er.id:"")},ur=this.annoCtx.graphics.drawMarker(sr+er.marker.offsetX,or+er.marker.offsetY,cr);tr.appendChild(ur.node);var hr=er.label.text?er.label.text:"",dr=this.annoCtx.graphics.drawText({x:sr+er.label.offsetX,y:or+er.label.offsetY-er.marker.size-parseFloat(er.label.style.fontSize)/1.6,text:hr,textAnchor:er.label.textAnchor,fontSize:er.label.style.fontSize,fontFamily:er.label.style.fontFamily,fontWeight:er.label.style.fontWeight,foreColor:er.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(er.label.style.cssClass," ").concat(er.id?er.id:"")});if(dr.attr({rel:ir}),tr.appendChild(dr.node),er.customSVG.SVG){var gr=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+er.customSVG.cssClass});gr.attr({transform:"translate(".concat(sr+er.customSVG.offsetX,", ").concat(or+er.customSVG.offsetY,")")}),gr.node.innerHTML=er.customSVG.SVG,tr.appendChild(gr.node)}if(er.image.path){var pr=er.image.width?er.image.width:20,mr=er.image.height?er.image.height:20;ur=this.annoCtx.addImage({x:sr+er.image.offsetX-pr/2,y:or+er.image.offsetY-mr/2,width:pr,height:mr,path:er.image.path,appendTo:".apexcharts-point-annotations"})}er.mouseEnter&&ur.node.addEventListener("mouseenter",er.mouseEnter.bind(this,er)),er.mouseLeave&&ur.node.addEventListener("mouseleave",er.mouseLeave.bind(this,er)),er.click&&ur.node.addEventListener("click",er.click.bind(this,er))}}}},{key:"drawPointAnnotations",value:function(){var er=this,tr=this.w,ir=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return tr.config.annotations.points.map(function(nr,sr){er.addPointAnnotation(nr,ir.node,sr)}),ir}}]),rr}(),Hi={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Oi=function(){function rr(){i(this,rr),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return s(rr,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Hi],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(er){return er}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(er){return er+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(er){return er.globals.seriesTotals.reduce(function(tr,ir){return tr+ir},0)/er.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(er){return er},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(er){return er}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(er){return er}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(er){return er.globals.seriesTotals.reduce(function(tr,ir){return tr+ir},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(er){return er!==null?er:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(er){return er?er+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),rr}(),Fi=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.graphics=new Mi(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ii(this),this.xAxisAnnotations=new Ti(this),this.yAxisAnnotations=new Ei(this),this.pointsAnnotations=new Yi(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return s(rr,[{key:"drawAxesAnnotations",value:function(){var er=this.w;if(er.globals.axisCharts&&er.globals.dataPoints){for(var tr=this.yAxisAnnotations.drawYAxisAnnotations(),ir=this.xAxisAnnotations.drawXAxisAnnotations(),nr=this.pointsAnnotations.drawPointAnnotations(),sr=er.config.chart.animations.enabled,ar=[tr,ir,nr],or=[ir.node,tr.node,nr.node],lr=0;lr<3;lr++)er.globals.dom.elGraphical.add(ar[lr]),!sr||er.globals.resized||er.globals.dataChanged||er.config.chart.type!=="scatter"&&er.config.chart.type!=="bubble"&&er.globals.dataPoints>1&&or[lr].classList.add("apexcharts-element-hidden"),er.globals.delayedElements.push({el:or[lr],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var er=this;this.w.config.annotations.images.map(function(tr,ir){er.addImage(tr,ir)})}},{key:"drawTextAnnos",value:function(){var er=this;this.w.config.annotations.texts.map(function(tr,ir){er.addText(tr,ir)})}},{key:"addXaxisAnnotation",value:function(er,tr,ir){this.xAxisAnnotations.addXaxisAnnotation(er,tr,ir)}},{key:"addYaxisAnnotation",value:function(er,tr,ir){this.yAxisAnnotations.addYaxisAnnotation(er,tr,ir)}},{key:"addPointAnnotation",value:function(er,tr,ir){this.pointsAnnotations.addPointAnnotation(er,tr,ir)}},{key:"addText",value:function(er,tr){var ir=er.x,nr=er.y,sr=er.text,ar=er.textAnchor,or=er.foreColor,lr=er.fontSize,cr=er.fontFamily,ur=er.fontWeight,hr=er.cssClass,dr=er.backgroundColor,gr=er.borderWidth,pr=er.strokeDashArray,mr=er.borderRadius,vr=er.borderColor,yr=er.appendTo,br=yr===void 0?".apexcharts-svg":yr,wr=er.paddingLeft,Pr=wr===void 0?4:wr,Tr=er.paddingRight,Vr=Tr===void 0?4:Tr,Ar=er.paddingBottom,xr=Ar===void 0?2:Ar,Er=er.paddingTop,Cr=Er===void 0?2:Er,Rr=this.w,kr=this.graphics.drawText({x:ir,y:nr,text:sr,textAnchor:ar||"start",fontSize:lr||"12px",fontWeight:ur||"regular",fontFamily:cr||Rr.config.chart.fontFamily,foreColor:or||Rr.config.chart.foreColor,cssClass:hr}),Sr=Rr.globals.dom.baseEl.querySelector(br);Sr&&Sr.appendChild(kr.node);var Nr=kr.bbox();if(sr){var Hr=this.graphics.drawRect(Nr.x-Pr,Nr.y-Cr,Nr.width+Pr+Vr,Nr.height+xr+Cr,mr,dr||"transparent",1,gr,vr,pr);Sr.insertBefore(Hr.node,kr.node)}}},{key:"addImage",value:function(er,tr){var ir=this.w,nr=er.path,sr=er.x,ar=sr===void 0?0:sr,or=er.y,lr=or===void 0?0:or,cr=er.width,ur=cr===void 0?20:cr,hr=er.height,dr=hr===void 0?20:hr,gr=er.appendTo,pr=gr===void 0?".apexcharts-svg":gr,mr=ir.globals.dom.Paper.image(nr);mr.size(ur,dr).move(ar,lr);var vr=ir.globals.dom.baseEl.querySelector(pr);return vr&&vr.appendChild(mr.node),mr}},{key:"addXaxisAnnotationExternal",value:function(er,tr,ir){return this.addAnnotationExternal({params:er,pushToMemory:tr,context:ir,type:"xaxis",contextMethod:ir.addXaxisAnnotation}),ir}},{key:"addYaxisAnnotationExternal",value:function(er,tr,ir){return this.addAnnotationExternal({params:er,pushToMemory:tr,context:ir,type:"yaxis",contextMethod:ir.addYaxisAnnotation}),ir}},{key:"addPointAnnotationExternal",value:function(er,tr,ir){return this.invertAxis===void 0&&(this.invertAxis=ir.w.globals.isBarHorizontal),this.addAnnotationExternal({params:er,pushToMemory:tr,context:ir,type:"point",contextMethod:ir.addPointAnnotation}),ir}},{key:"addAnnotationExternal",value:function(er){var tr=er.params,ir=er.pushToMemory,nr=er.context,sr=er.type,ar=er.contextMethod,or=nr,lr=or.w,cr=lr.globals.dom.baseEl.querySelector(".apexcharts-".concat(sr,"-annotations")),ur=cr.childNodes.length+1,hr=new Oi,dr=Object.assign({},sr==="xaxis"?hr.xAxisAnnotation:sr==="yaxis"?hr.yAxisAnnotation:hr.pointAnnotation),gr=v.extend(dr,tr);switch(sr){case"xaxis":this.addXaxisAnnotation(gr,cr,ur);break;case"yaxis":this.addYaxisAnnotation(gr,cr,ur);break;case"point":this.addPointAnnotation(gr,cr,ur)}var pr=lr.globals.dom.baseEl.querySelector(".apexcharts-".concat(sr,"-annotations .apexcharts-").concat(sr,"-annotation-label[rel='").concat(ur,"']")),mr=this.helpers.addBackgroundToAnno(pr,gr);return mr&&cr.insertBefore(mr.node,pr),ir&&lr.globals.memory.methodsToExec.push({context:or,id:gr.id?gr.id:v.randomId(),method:ar,label:"addAnnotation",params:tr}),nr}},{key:"clearAnnotations",value:function(er){for(var tr=er.w,ir=tr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),nr=tr.globals.memory.methodsToExec.length-1;nr>=0;nr--)tr.globals.memory.methodsToExec[nr].label!=="addText"&&tr.globals.memory.methodsToExec[nr].label!=="addAnnotation"||tr.globals.memory.methodsToExec.splice(nr,1);ir=v.listToArray(ir),Array.prototype.forEach.call(ir,function(sr){for(;sr.firstChild;)sr.removeChild(sr.firstChild)})}},{key:"removeAnnotation",value:function(er,tr){var ir=er.w,nr=ir.globals.dom.baseEl.querySelectorAll(".".concat(tr));nr&&(ir.globals.memory.methodsToExec.map(function(sr,ar){sr.id===tr&&ir.globals.memory.methodsToExec.splice(ar,1)}),Array.prototype.forEach.call(nr,function(sr){sr.parentElement.removeChild(sr)}))}}]),rr}(),Di=function(rr){var er,tr=rr.isTimeline,ir=rr.ctx,nr=rr.seriesIndex,sr=rr.dataPointIndex,ar=rr.y1,or=rr.y2,lr=rr.w,cr=lr.globals.seriesRangeStart[nr][sr],ur=lr.globals.seriesRangeEnd[nr][sr],hr=lr.globals.labels[sr],dr=lr.config.series[nr].name?lr.config.series[nr].name:"",gr=lr.globals.ttKeyFormatter,pr=lr.config.tooltip.y.title.formatter,mr={w:lr,seriesIndex:nr,dataPointIndex:sr,start:cr,end:ur};typeof pr=="function"&&(dr=pr(dr,mr)),(er=lr.config.series[nr].data[sr])!==null&&er!==void 0&&er.x&&(hr=lr.config.series[nr].data[sr].x),tr||lr.config.xaxis.type==="datetime"&&(hr=new Xi(ir).xLabelFormat(lr.globals.ttKeyFormatter,hr,hr,{i:void 0,dateFormatter:new zi(ir).formatDate,w:lr})),typeof gr=="function"&&(hr=gr(hr,mr)),Number.isFinite(ar)&&Number.isFinite(or)&&(cr=ar,ur=or);var vr="",yr="",br=lr.globals.colors[nr];if(lr.config.tooltip.x.formatter===void 0)if(lr.config.xaxis.type==="datetime"){var wr=new zi(ir);vr=wr.formatDate(wr.getDate(cr),lr.config.tooltip.x.format),yr=wr.formatDate(wr.getDate(ur),lr.config.tooltip.x.format)}else vr=cr,yr=ur;else vr=lr.config.tooltip.x.formatter(cr),yr=lr.config.tooltip.x.formatter(ur);return{start:cr,end:ur,startVal:vr,endVal:yr,ylabel:hr,color:br,seriesName:dr}},_i=function(rr){var er=rr.color,tr=rr.seriesName,ir=rr.ylabel,nr=rr.start,sr=rr.end,ar=rr.seriesIndex,or=rr.dataPointIndex,lr=rr.ctx.tooltip.tooltipLabels.getFormatters(ar);nr=lr.yLbFormatter(nr),sr=lr.yLbFormatter(sr);var cr=lr.yLbFormatter(rr.w.globals.series[ar][or]),ur=`<span class="value start-value">
  `.concat(nr,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(sr,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+er+'">'+(tr||"")+'</span></div><div> <span class="category">'+ir+": </span> "+(rr.w.globals.comboCharts?rr.w.config.series[ar].type==="rangeArea"||rr.w.config.series[ar].type==="rangeBar"?ur:"<span>".concat(cr,"</span>"):ur)+" </div></div>"},Ni=function(){function rr(er){i(this,rr),this.opts=er}return s(rr,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(er){return this.hideYAxis(),v.extend(er,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(er,tr){var ir=tr.w.config.series[tr.seriesIndex].name;return er!==null?ir+": "+er:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),u(u({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var er=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(tr){var ir=tr.seriesIndex,nr=tr.dataPointIndex,sr=tr.w;return er._getBoxTooltip(sr,ir,nr,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var er=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(tr){var ir=tr.seriesIndex,nr=tr.dataPointIndex,sr=tr.w;return er._getBoxTooltip(sr,ir,nr,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(er,tr){tr.ctx;var ir=tr.seriesIndex,nr=tr.dataPointIndex,sr=tr.w,ar=function(){var or=sr.globals.seriesRangeStart[ir][nr];return sr.globals.seriesRangeEnd[ir][nr]-or};return sr.globals.comboCharts?sr.config.series[ir].type==="rangeBar"||sr.config.series[ir].type==="rangeArea"?ar():er:ar()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(er){return er.w.config.plotOptions&&er.w.config.plotOptions.bar&&er.w.config.plotOptions.bar.horizontal?function(tr){var ir=Di(u(u({},tr),{},{isTimeline:!0})),nr=ir.color,sr=ir.seriesName,ar=ir.ylabel,or=ir.startVal,lr=ir.endVal;return _i(u(u({},tr),{},{color:nr,seriesName:sr,ylabel:ar,start:or,end:lr}))}(er):function(tr){var ir=Di(tr),nr=ir.color,sr=ir.seriesName,ar=ir.ylabel,or=ir.start,lr=ir.end;return _i(u(u({},tr),{},{color:nr,seriesName:sr,ylabel:ar,start:or,end:lr}))}(er)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(er){var tr,ir;return(tr=er.plotOptions.bar)!==null&&tr!==void 0&&tr.barHeight||(er.plotOptions.bar.barHeight=2),(ir=er.plotOptions.bar)!==null&&ir!==void 0&&ir.columnWidth||(er.plotOptions.bar.columnWidth=2),er}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(er){return function(tr){var ir=Di(tr),nr=ir.color,sr=ir.seriesName,ar=ir.ylabel,or=ir.start,lr=ir.end;return _i(u(u({},tr),{},{color:nr,seriesName:sr,ylabel:ar,start:or,end:lr}))}(er)}}}}},{key:"brush",value:function(er){return v.extend(er,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(er){er.dataLabels=er.dataLabels||{},er.dataLabels.formatter=er.dataLabels.formatter||void 0;var tr=er.dataLabels.formatter;return er.yaxis.forEach(function(ir,nr){er.yaxis[nr].min=0,er.yaxis[nr].max=100}),er.chart.type==="bar"&&(er.dataLabels.formatter=tr||function(ir){return typeof ir=="number"&&ir?ir.toFixed(0)+"%":ir}),er}},{key:"stackedBars",value:function(){var er=this.bar();return u(u({},er),{},{plotOptions:u(u({},er.plotOptions),{},{bar:u(u({},er.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(er){return er.xaxis.convertedCatToNumeric=!0,er}},{key:"convertCatToNumericXaxis",value:function(er,tr,ir){er.xaxis.type="numeric",er.xaxis.labels=er.xaxis.labels||{},er.xaxis.labels.formatter=er.xaxis.labels.formatter||function(ar){return v.isNumber(ar)?Math.floor(ar):ar};var nr=er.xaxis.labels.formatter,sr=er.xaxis.categories&&er.xaxis.categories.length?er.xaxis.categories:er.labels;return ir&&ir.length&&(sr=ir.map(function(ar){return Array.isArray(ar)?ar:String(ar)})),sr&&sr.length&&(er.xaxis.labels.formatter=function(ar){return v.isNumber(ar)?nr(sr[Math.floor(ar)-1]):nr(ar)}),er.xaxis.categories=[],er.labels=[],er.xaxis.tickAmount=er.xaxis.tickAmount||"dataPoints",er}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(er){return er.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(er){return er.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(er){return er.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(er){return er},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(er,tr,ir,nr,sr){var ar=er.globals.seriesCandleO[tr][ir],or=er.globals.seriesCandleH[tr][ir],lr=er.globals.seriesCandleM[tr][ir],cr=er.globals.seriesCandleL[tr][ir],ur=er.globals.seriesCandleC[tr][ir];return er.config.series[tr].type&&er.config.series[tr].type!==sr?`<div class="apexcharts-custom-tooltip">
          `.concat(er.config.series[tr].name?er.config.series[tr].name:"series-"+(tr+1),": <strong>").concat(er.globals.series[tr][ir],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(er.config.chart.type,'">')+"<div>".concat(nr[0],': <span class="value">')+ar+"</span></div>"+"<div>".concat(nr[1],': <span class="value">')+or+"</span></div>"+(lr?"<div>".concat(nr[2],': <span class="value">')+lr+"</span></div>":"")+"<div>".concat(nr[3],': <span class="value">')+cr+"</span></div>"+"<div>".concat(nr[4],': <span class="value">')+ur+"</span></div></div>"}}]),rr}(),Wi=function(){function rr(er){i(this,rr),this.opts=er}return s(rr,[{key:"init",value:function(er){var tr=er.responsiveOverride,ir=this.opts,nr=new Oi,sr=new Ni(ir);this.chartType=ir.chart.type,ir=this.extendYAxis(ir),ir=this.extendAnnotations(ir);var ar=nr.init(),or={};if(ir&&b(ir)==="object"){var lr,cr,ur,hr,dr,gr,pr,mr,vr,yr,br={};br=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(ir.chart.type)!==-1?sr[ir.chart.type]():sr.line(),(lr=ir.plotOptions)!==null&&lr!==void 0&&(cr=lr.bar)!==null&&cr!==void 0&&cr.isFunnel&&(br=sr.funnel()),ir.chart.stacked&&ir.chart.type==="bar"&&(br=sr.stackedBars()),(ur=ir.chart.brush)!==null&&ur!==void 0&&ur.enabled&&(br=sr.brush(br)),(hr=ir.plotOptions)!==null&&hr!==void 0&&(dr=hr.line)!==null&&dr!==void 0&&dr.isSlopeChart&&(br=sr.slope()),ir.chart.stacked&&ir.chart.stackType==="100%"&&(ir=sr.stacked100(ir)),(gr=ir.plotOptions)!==null&&gr!==void 0&&(pr=gr.bar)!==null&&pr!==void 0&&pr.isDumbbell&&(ir=sr.dumbbell(ir)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(ir),ir.xaxis=ir.xaxis||window.Apex.xaxis||{},tr||(ir.xaxis.convertedCatToNumeric=!1),((mr=(ir=this.checkForCatToNumericXAxis(this.chartType,br,ir)).chart.sparkline)!==null&&mr!==void 0&&mr.enabled||(vr=window.Apex.chart)!==null&&vr!==void 0&&(yr=vr.sparkline)!==null&&yr!==void 0&&yr.enabled)&&(br=sr.sparkline(br)),or=v.extend(ar,br)}var wr=v.extend(or,window.Apex);return ar=v.extend(wr,ir),ar=this.handleUserInputErrors(ar)}},{key:"checkForCatToNumericXAxis",value:function(er,tr,ir){var nr,sr,ar=new Ni(ir),or=(er==="bar"||er==="boxPlot")&&((nr=ir.plotOptions)===null||nr===void 0||(sr=nr.bar)===null||sr===void 0?void 0:sr.horizontal),lr=er==="pie"||er==="polarArea"||er==="donut"||er==="radar"||er==="radialBar"||er==="heatmap",cr=ir.xaxis.type!=="datetime"&&ir.xaxis.type!=="numeric",ur=ir.xaxis.tickPlacement?ir.xaxis.tickPlacement:tr.xaxis&&tr.xaxis.tickPlacement;return or||lr||!cr||ur==="between"||(ir=ar.convertCatToNumeric(ir)),ir}},{key:"extendYAxis",value:function(er,tr){var ir=new Oi;(er.yaxis===void 0||!er.yaxis||Array.isArray(er.yaxis)&&er.yaxis.length===0)&&(er.yaxis={}),er.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(er.yaxis=v.extend(er.yaxis,window.Apex.yaxis)),er.yaxis.constructor!==Array?er.yaxis=[v.extend(ir.yAxis,er.yaxis)]:er.yaxis=v.extendArray(er.yaxis,ir.yAxis);var nr=!1;er.yaxis.forEach(function(ar){ar.logarithmic&&(nr=!0)});var sr=er.series;return tr&&!sr&&(sr=tr.config.series),nr&&sr.length!==er.yaxis.length&&sr.length&&(er.yaxis=sr.map(function(ar,or){if(ar.name||(sr[or].name="series-".concat(or+1)),er.yaxis[or])return er.yaxis[or].seriesName=sr[or].name,er.yaxis[or];var lr=v.extend(ir.yAxis,er.yaxis[0]);return lr.show=!1,lr})),nr&&sr.length>1&&sr.length!==er.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),er}},{key:"extendAnnotations",value:function(er){return er.annotations===void 0&&(er.annotations={},er.annotations.yaxis=[],er.annotations.xaxis=[],er.annotations.points=[]),er=this.extendYAxisAnnotations(er),er=this.extendXAxisAnnotations(er),er=this.extendPointAnnotations(er)}},{key:"extendYAxisAnnotations",value:function(er){var tr=new Oi;return er.annotations.yaxis=v.extendArray(er.annotations.yaxis!==void 0?er.annotations.yaxis:[],tr.yAxisAnnotation),er}},{key:"extendXAxisAnnotations",value:function(er){var tr=new Oi;return er.annotations.xaxis=v.extendArray(er.annotations.xaxis!==void 0?er.annotations.xaxis:[],tr.xAxisAnnotation),er}},{key:"extendPointAnnotations",value:function(er){var tr=new Oi;return er.annotations.points=v.extendArray(er.annotations.points!==void 0?er.annotations.points:[],tr.pointAnnotation),er}},{key:"checkForDarkTheme",value:function(er){er.theme&&er.theme.mode==="dark"&&(er.tooltip||(er.tooltip={}),er.tooltip.theme!=="light"&&(er.tooltip.theme="dark"),er.chart.foreColor||(er.chart.foreColor="#f6f7f8"),er.theme.palette||(er.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(er){var tr=er;if(tr.tooltip.shared&&tr.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(tr.chart.type==="bar"&&tr.plotOptions.bar.horizontal){if(tr.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");tr.yaxis[0].reversed&&(tr.yaxis[0].opposite=!0),tr.xaxis.tooltip.enabled=!1,tr.yaxis[0].tooltip.enabled=!1,tr.chart.zoom.enabled=!1}return tr.chart.type!=="bar"&&tr.chart.type!=="rangeBar"||tr.tooltip.shared&&tr.xaxis.crosshairs.width==="barWidth"&&tr.series.length>1&&(tr.xaxis.crosshairs.width="tickWidth"),tr.chart.type!=="candlestick"&&tr.chart.type!=="boxPlot"||tr.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(tr.chart.type," chart is not supported.")),tr.yaxis[0].reversed=!1),tr}}]),rr}(),Bi=function(){function rr(){i(this,rr)}return s(rr,[{key:"initGlobalVars",value:function(er){er.series=[],er.seriesCandleO=[],er.seriesCandleH=[],er.seriesCandleM=[],er.seriesCandleL=[],er.seriesCandleC=[],er.seriesRangeStart=[],er.seriesRangeEnd=[],er.seriesRange=[],er.seriesPercent=[],er.seriesGoals=[],er.seriesX=[],er.seriesZ=[],er.seriesNames=[],er.seriesTotals=[],er.seriesLog=[],er.seriesColors=[],er.stackedSeriesTotals=[],er.seriesXvalues=[],er.seriesYvalues=[],er.labels=[],er.hasXaxisGroups=!1,er.groups=[],er.barGroups=[],er.lineGroups=[],er.areaGroups=[],er.hasSeriesGroups=!1,er.seriesGroups=[],er.categoryLabels=[],er.timescaleLabels=[],er.noLabelsProvided=!1,er.resizeTimer=null,er.selectionResizeTimer=null,er.lastWheelExecution=0,er.delayedElements=[],er.pointsArray=[],er.dataLabelsRects=[],er.isXNumeric=!1,er.skipLastTimelinelabel=!1,er.skipFirstTimelinelabel=!1,er.isDataXYZ=!1,er.isMultiLineX=!1,er.isMultipleYAxis=!1,er.maxY=-Number.MAX_VALUE,er.minY=Number.MIN_VALUE,er.minYArr=[],er.maxYArr=[],er.maxX=-Number.MAX_VALUE,er.minX=Number.MAX_VALUE,er.initialMaxX=-Number.MAX_VALUE,er.initialMinX=Number.MAX_VALUE,er.maxDate=0,er.minDate=Number.MAX_VALUE,er.minZ=Number.MAX_VALUE,er.maxZ=-Number.MAX_VALUE,er.minXDiff=Number.MAX_VALUE,er.yAxisScale=[],er.xAxisScale=null,er.xAxisTicksPositions=[],er.yLabelsCoords=[],er.yTitleCoords=[],er.barPadForNumericAxis=0,er.padHorizontal=0,er.xRange=0,er.yRange=[],er.zRange=0,er.dataPoints=0,er.xTickAmount=0,er.multiAxisTickAmount=0}},{key:"globalVars",value:function(er){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:er.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:er.chart.toolbar.autoSelected==="zoom"&&er.chart.toolbar.tools.zoom&&er.chart.zoom.enabled,panEnabled:er.chart.toolbar.autoSelected==="pan"&&er.chart.toolbar.tools.pan,selectionEnabled:er.chart.toolbar.autoSelected==="selection"&&er.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:er.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(er){var tr=this.globalVars(er);return this.initGlobalVars(tr),tr.initialConfig=v.extend({},er),tr.initialSeries=v.clone(er.series),tr.lastXAxis=v.clone(tr.initialConfig.xaxis),tr.lastYAxis=v.clone(tr.initialConfig.yaxis),tr}}]),rr}(),Gi=function(){function rr(er){i(this,rr),this.opts=er}return s(rr,[{key:"init",value:function(){var er=new Wi(this.opts).init({responsiveOverride:!1});return{config:er,globals:new Bi().init(er)}}}]),rr}(),ji=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return s(rr,[{key:"clippedImgArea",value:function(er){var tr=this.w,ir=tr.config,nr=parseInt(tr.globals.gridWidth,10),sr=parseInt(tr.globals.gridHeight,10),ar=nr>sr?nr:sr,or=er.image,lr=0,cr=0;er.width===void 0&&er.height===void 0?ir.fill.image.width!==void 0&&ir.fill.image.height!==void 0?(lr=ir.fill.image.width+1,cr=ir.fill.image.height):(lr=ar+1,cr=ar):(lr=er.width,cr=er.height);var ur=document.createElementNS(tr.globals.SVGNS,"pattern");Mi.setAttrs(ur,{id:er.patternID,patternUnits:er.patternUnits?er.patternUnits:"userSpaceOnUse",width:lr+"px",height:cr+"px"});var hr=document.createElementNS(tr.globals.SVGNS,"image");ur.appendChild(hr),hr.setAttributeNS(window.SVG.xlink,"href",or),Mi.setAttrs(hr,{x:0,y:0,preserveAspectRatio:"none",width:lr+"px",height:cr+"px"}),hr.style.opacity=er.opacity,tr.globals.dom.elDefs.node.appendChild(ur)}},{key:"getSeriesIndex",value:function(er){var tr=this.w,ir=tr.config.chart.type;return(ir==="bar"||ir==="rangeBar")&&tr.config.plotOptions.bar.distributed||ir==="heatmap"||ir==="treemap"?this.seriesIndex=er.seriesNumber:this.seriesIndex=er.seriesNumber%tr.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(er,tr){var ir,nr=this.w,sr=null,ar=null,or=r(er);try{for(or.s();!(ir=or.n()).done;){var lr=ir.value;lr>=tr.threshold?(sr===null||lr>sr)&&(sr=lr):(ar===null||lr<ar)&&(ar=lr)}}catch(hr){or.e(hr)}finally{or.f()}sr===null&&(sr=tr.threshold),ar===null&&(ar=tr.threshold);var cr=sr-tr.threshold+(tr.threshold-ar);cr===0&&(cr=1);var ur=100-(tr.threshold-ar)/cr*100;return[{offset:ur=Math.max(0,Math.min(ur,100)),color:tr.colorAboveThreshold,opacity:nr.config.fill.opacity},{offset:0,color:tr.colorBelowThreshold,opacity:nr.config.fill.opacity}]}},{key:"fillPath",value:function(er){var tr,ir,nr,sr=this.w;this.opts=er;var ar,or,lr,cr=this.w.config;this.seriesIndex=this.getSeriesIndex(er);var ur=cr.plotOptions.line.colors.colorAboveThreshold&&cr.plotOptions.line.colors.colorBelowThreshold,hr=this.getFillColors()[this.seriesIndex];sr.globals.seriesColors[this.seriesIndex]!==void 0&&(hr=sr.globals.seriesColors[this.seriesIndex]),typeof hr=="function"&&(hr=hr({seriesIndex:this.seriesIndex,dataPointIndex:er.dataPointIndex,value:er.value,w:sr}));var dr,gr,pr,mr=er.fillType?er.fillType:this.getFillType(this.seriesIndex),vr=Array.isArray(cr.fill.opacity)?cr.fill.opacity[this.seriesIndex]:cr.fill.opacity,yr=mr==="gradient"||ur;er.color&&(hr=er.color),(tr=sr.config.series[this.seriesIndex])!==null&&tr!==void 0&&(ir=tr.data)!==null&&ir!==void 0&&(nr=ir[er.dataPointIndex])!==null&&nr!==void 0&&nr.fillColor&&(hr=(dr=sr.config.series[this.seriesIndex])===null||dr===void 0||(gr=dr.data)===null||gr===void 0||(pr=gr[er.dataPointIndex])===null||pr===void 0?void 0:pr.fillColor),hr||(hr="#fff",console.warn("undefined color - ApexCharts"));var br=hr;if(hr.indexOf("rgb")===-1?hr.indexOf("#")===-1?br=hr:hr.length<9&&(br=v.hexToRgba(hr,vr)):hr.indexOf("rgba")>-1?vr=v.getOpacityFromRGBA(hr):br=v.hexToRgba(v.rgb2hex(hr),vr),er.opacity&&(vr=er.opacity),mr==="pattern"&&(or=this.handlePatternFill({fillConfig:er.fillConfig,patternFill:or,fillColor:hr,fillOpacity:vr,defaultColor:br})),yr){var wr=f(cr.fill.gradient.colorStops)||[],Pr=cr.fill.gradient.type;ur&&(wr[this.seriesIndex]=this.computeColorStops(sr.globals.series[this.seriesIndex],cr.plotOptions.line.colors),Pr="vertical"),lr=this.handleGradientFill({type:Pr,fillConfig:er.fillConfig,fillColor:hr,fillOpacity:vr,colorStops:wr,i:this.seriesIndex})}if(mr==="image"){var Tr=cr.fill.image.src,Vr=er.patternID?er.patternID:"",Ar="pattern".concat(sr.globals.cuid).concat(er.seriesNumber+1).concat(Vr);this.patternIDs.indexOf(Ar)===-1&&(this.clippedImgArea({opacity:vr,image:Array.isArray(Tr)?er.seriesNumber<Tr.length?Tr[er.seriesNumber]:Tr[0]:Tr,width:er.width?er.width:void 0,height:er.height?er.height:void 0,patternUnits:er.patternUnits,patternID:Ar}),this.patternIDs.push(Ar)),ar="url(#".concat(Ar,")")}else ar=yr?lr:mr==="pattern"?or:br;return er.solid&&(ar=br),ar}},{key:"getFillType",value:function(er){var tr=this.w;return Array.isArray(tr.config.fill.type)?tr.config.fill.type[er]:tr.config.fill.type}},{key:"getFillColors",value:function(){var er=this.w,tr=er.config,ir=this.opts,nr=[];return er.globals.comboCharts?er.config.series[this.seriesIndex].type==="line"?Array.isArray(er.globals.stroke.colors)?nr=er.globals.stroke.colors:nr.push(er.globals.stroke.colors):Array.isArray(er.globals.fill.colors)?nr=er.globals.fill.colors:nr.push(er.globals.fill.colors):tr.chart.type==="line"?Array.isArray(er.globals.stroke.colors)?nr=er.globals.stroke.colors:nr.push(er.globals.stroke.colors):Array.isArray(er.globals.fill.colors)?nr=er.globals.fill.colors:nr.push(er.globals.fill.colors),ir.fillColors!==void 0&&(nr=[],Array.isArray(ir.fillColors)?nr=ir.fillColors.slice():nr.push(ir.fillColors)),nr}},{key:"handlePatternFill",value:function(er){var tr=er.fillConfig,ir=er.patternFill,nr=er.fillColor,sr=er.fillOpacity,ar=er.defaultColor,or=this.w.config.fill;tr&&(or=tr);var lr=this.opts,cr=new Mi(this.ctx),ur=Array.isArray(or.pattern.strokeWidth)?or.pattern.strokeWidth[this.seriesIndex]:or.pattern.strokeWidth,hr=nr;return Array.isArray(or.pattern.style)?ir=or.pattern.style[lr.seriesNumber]!==void 0?cr.drawPattern(or.pattern.style[lr.seriesNumber],or.pattern.width,or.pattern.height,hr,ur,sr):ar:ir=cr.drawPattern(or.pattern.style,or.pattern.width,or.pattern.height,hr,ur,sr),ir}},{key:"handleGradientFill",value:function(er){var tr=er.type,ir=er.fillColor,nr=er.fillOpacity,sr=er.fillConfig,ar=er.colorStops,or=er.i,lr=this.w.config.fill;sr&&(lr=u(u({},lr),sr));var cr=this.opts,ur=new Mi(this.ctx),hr=new v;tr=tr||lr.gradient.type;var dr,gr=ir,pr=lr.gradient.opacityFrom===void 0?nr:Array.isArray(lr.gradient.opacityFrom)?lr.gradient.opacityFrom[or]:lr.gradient.opacityFrom;gr.indexOf("rgba")>-1&&(pr=v.getOpacityFromRGBA(gr));var mr=lr.gradient.opacityTo===void 0?nr:Array.isArray(lr.gradient.opacityTo)?lr.gradient.opacityTo[or]:lr.gradient.opacityTo;if(lr.gradient.gradientToColors===void 0||lr.gradient.gradientToColors.length===0)dr=lr.gradient.shade==="dark"?hr.shadeColor(-1*parseFloat(lr.gradient.shadeIntensity),ir.indexOf("rgb")>-1?v.rgb2hex(ir):ir):hr.shadeColor(parseFloat(lr.gradient.shadeIntensity),ir.indexOf("rgb")>-1?v.rgb2hex(ir):ir);else if(lr.gradient.gradientToColors[cr.seriesNumber]){var vr=lr.gradient.gradientToColors[cr.seriesNumber];dr=vr,vr.indexOf("rgba")>-1&&(mr=v.getOpacityFromRGBA(vr))}else dr=ir;if(lr.gradient.gradientFrom&&(gr=lr.gradient.gradientFrom),lr.gradient.gradientTo&&(dr=lr.gradient.gradientTo),lr.gradient.inverseColors){var yr=gr;gr=dr,dr=yr}return gr.indexOf("rgb")>-1&&(gr=v.rgb2hex(gr)),dr.indexOf("rgb")>-1&&(dr=v.rgb2hex(dr)),ur.drawGradient(tr,gr,dr,pr,mr,cr.size,lr.gradient.stops,ar,or)}}]),rr}(),Vi=function(){function rr(er,tr){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"setGlobalMarkerSize",value:function(){var er=this.w;if(er.globals.markers.size=Array.isArray(er.config.markers.size)?er.config.markers.size:[er.config.markers.size],er.globals.markers.size.length>0){if(er.globals.markers.size.length<er.globals.series.length+1)for(var tr=0;tr<=er.globals.series.length;tr++)er.globals.markers.size[tr]===void 0&&er.globals.markers.size.push(er.globals.markers.size[0])}else er.globals.markers.size=er.config.series.map(function(ir){return er.config.markers.size})}},{key:"plotChartMarkers",value:function(er){var tr=er.pointsPos,ir=er.seriesIndex,nr=er.j,sr=er.pSize,ar=er.alwaysDrawMarker,or=ar!==void 0&&ar,lr=er.isVirtualPoint,cr=lr!==void 0&&lr,ur=this.w,hr=ir,dr=tr,gr=null,pr=new Mi(this.ctx),mr=ur.config.markers.discrete&&ur.config.markers.discrete.length;if(Array.isArray(dr.x))for(var vr=0;vr<dr.x.length;vr++){var yr=void 0,br=nr,wr=!v.isNumber(dr.y[vr]);ur.globals.markers.largestSize===0&&ur.globals.hasNullValues&&ur.globals.series[hr][nr+1]!==null&&!cr&&(wr=!0),nr===1&&vr===0&&(br=0),nr===1&&vr===1&&(br=1);var Pr="apexcharts-marker";if(ur.config.chart.type!=="line"&&ur.config.chart.type!=="area"||ur.globals.comboCharts||ur.config.tooltip.intersect||(Pr+=" no-pointer-events"),(Array.isArray(ur.config.markers.size)?ur.globals.markers.size[ir]>0:ur.config.markers.size>0)||or||mr){wr||(Pr+=" w".concat(v.randomId()));var Tr=this.getMarkerConfig({cssClass:Pr,seriesIndex:ir,dataPointIndex:br});ur.config.series[hr].data[br]&&(ur.config.series[hr].data[br].fillColor&&(Tr.pointFillColor=ur.config.series[hr].data[br].fillColor),ur.config.series[hr].data[br].strokeColor&&(Tr.pointStrokeColor=ur.config.series[hr].data[br].strokeColor)),sr!==void 0&&(Tr.pSize=sr),(dr.x[vr]<-ur.globals.markers.largestSize||dr.x[vr]>ur.globals.gridWidth+ur.globals.markers.largestSize||dr.y[vr]<-ur.globals.markers.largestSize||dr.y[vr]>ur.globals.gridHeight+ur.globals.markers.largestSize)&&(Tr.pSize=0),!wr&&((ur.globals.markers.size[ir]>0||or||mr)&&!gr&&(gr=pr.group({class:or||mr?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(ur.globals.cuid,")")),(yr=pr.drawMarker(dr.x[vr],dr.y[vr],Tr)).attr("rel",br),yr.attr("j",br),yr.attr("index",ir),yr.node.setAttribute("default-marker-size",Tr.pSize),new Li(this.ctx).setSelectionFilter(yr,ir,br),this.addEvents(yr),gr&&gr.add(yr))}else ur.globals.pointsArray[ir]===void 0&&(ur.globals.pointsArray[ir]=[]),ur.globals.pointsArray[ir].push([dr.x[vr],dr.y[vr]])}return gr}},{key:"getMarkerConfig",value:function(er){var tr=er.cssClass,ir=er.seriesIndex,nr=er.dataPointIndex,sr=nr===void 0?null:nr,ar=er.radius,or=ar===void 0?null:ar,lr=er.size,cr=lr===void 0?null:lr,ur=er.strokeWidth,hr=ur===void 0?null:ur,dr=this.w,gr=this.getMarkerStyle(ir),pr=cr===null?dr.globals.markers.size[ir]:cr,mr=dr.config.markers;return sr!==null&&mr.discrete.length&&mr.discrete.map(function(vr){vr.seriesIndex===ir&&vr.dataPointIndex===sr&&(gr.pointStrokeColor=vr.strokeColor,gr.pointFillColor=vr.fillColor,pr=vr.size,gr.pointShape=vr.shape)}),{pSize:or===null?pr:or,pRadius:or!==null?or:mr.radius,pointStrokeWidth:hr!==null?hr:Array.isArray(mr.strokeWidth)?mr.strokeWidth[ir]:mr.strokeWidth,pointStrokeColor:gr.pointStrokeColor,pointFillColor:gr.pointFillColor,shape:gr.pointShape||(Array.isArray(mr.shape)?mr.shape[ir]:mr.shape),class:tr,pointStrokeOpacity:Array.isArray(mr.strokeOpacity)?mr.strokeOpacity[ir]:mr.strokeOpacity,pointStrokeDashArray:Array.isArray(mr.strokeDashArray)?mr.strokeDashArray[ir]:mr.strokeDashArray,pointFillOpacity:Array.isArray(mr.fillOpacity)?mr.fillOpacity[ir]:mr.fillOpacity,seriesIndex:ir}}},{key:"addEvents",value:function(er){var tr=this.w,ir=new Mi(this.ctx);er.node.addEventListener("mouseenter",ir.pathMouseEnter.bind(this.ctx,er)),er.node.addEventListener("mouseleave",ir.pathMouseLeave.bind(this.ctx,er)),er.node.addEventListener("mousedown",ir.pathMouseDown.bind(this.ctx,er)),er.node.addEventListener("click",tr.config.markers.onClick),er.node.addEventListener("dblclick",tr.config.markers.onDblClick),er.node.addEventListener("touchstart",ir.pathMouseDown.bind(this.ctx,er),{passive:!0})}},{key:"getMarkerStyle",value:function(er){var tr=this.w,ir=tr.globals.markers.colors,nr=tr.config.markers.strokeColor||tr.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(nr)?nr[er]:nr,pointFillColor:Array.isArray(ir)?ir[er]:ir}}}]),rr}(),Ui=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.initialAnim=this.w.config.chart.animations.enabled}return s(rr,[{key:"draw",value:function(er,tr,ir){var nr=this.w,sr=new Mi(this.ctx),ar=ir.realIndex,or=ir.pointsPos,lr=ir.zRatio,cr=ir.elParent,ur=sr.group({class:"apexcharts-series-markers apexcharts-series-".concat(nr.config.chart.type)});if(ur.attr("clip-path","url(#gridRectMarkerMask".concat(nr.globals.cuid,")")),Array.isArray(or.x))for(var hr=0;hr<or.x.length;hr++){var dr=tr+1,gr=!0;tr===0&&hr===0&&(dr=0),tr===0&&hr===1&&(dr=1);var pr=nr.globals.markers.size[ar];if(lr!==1/0){var mr=nr.config.plotOptions.bubble;pr=nr.globals.seriesZ[ar][dr],mr.zScaling&&(pr/=lr),mr.minBubbleRadius&&pr<mr.minBubbleRadius&&(pr=mr.minBubbleRadius),mr.maxBubbleRadius&&pr>mr.maxBubbleRadius&&(pr=mr.maxBubbleRadius)}var vr=or.x[hr],yr=or.y[hr];if(pr=pr||0,yr!==null&&nr.globals.series[ar][dr]!==void 0||(gr=!1),gr){var br=this.drawPoint(vr,yr,pr,ar,dr,tr);ur.add(br)}cr.add(ur)}}},{key:"drawPoint",value:function(er,tr,ir,nr,sr,ar){var or=this.w,lr=nr,cr=new y(this.ctx),ur=new Li(this.ctx),hr=new ji(this.ctx),dr=new Vi(this.ctx),gr=new Mi(this.ctx),pr=dr.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:lr,dataPointIndex:sr,radius:or.config.chart.type==="bubble"||or.globals.comboCharts&&or.config.series[nr]&&or.config.series[nr].type==="bubble"?ir:null}),mr=hr.fillPath({seriesNumber:nr,dataPointIndex:sr,color:pr.pointFillColor,patternUnits:"objectBoundingBox",value:or.globals.series[nr][ar]}),vr=gr.drawMarker(er,tr,pr);if(or.config.series[lr].data[sr]&&or.config.series[lr].data[sr].fillColor&&(mr=or.config.series[lr].data[sr].fillColor),vr.attr({fill:mr}),or.config.chart.dropShadow.enabled){var yr=or.config.chart.dropShadow;ur.dropShadow(vr,yr,nr)}if(!this.initialAnim||or.globals.dataChanged||or.globals.resized)or.globals.animationEnded=!0;else{var br=or.config.chart.animations.speed;cr.animateMarker(vr,br,or.globals.easing,function(){window.setTimeout(function(){cr.animationCompleted(vr)},100)})}return vr.attr({rel:sr,j:sr,index:nr,"default-marker-size":pr.pSize}),ur.setSelectionFilter(vr,nr,sr),dr.addEvents(vr),vr.node.classList.add("apexcharts-marker"),vr}},{key:"centerTextInBubble",value:function(er){var tr=this.w;return{y:er+=parseInt(tr.config.dataLabels.style.fontSize,10)/4}}}]),rr}(),qi=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"dataLabelsCorrection",value:function(er,tr,ir,nr,sr,ar,or){var lr=this.w,cr=!1,ur=new Mi(this.ctx).getTextRects(ir,or),hr=ur.width,dr=ur.height;tr<0&&(tr=0),tr>lr.globals.gridHeight+dr&&(tr=lr.globals.gridHeight+dr/2),lr.globals.dataLabelsRects[nr]===void 0&&(lr.globals.dataLabelsRects[nr]=[]),lr.globals.dataLabelsRects[nr].push({x:er,y:tr,width:hr,height:dr});var gr=lr.globals.dataLabelsRects[nr].length-2,pr=lr.globals.lastDrawnDataLabelsIndexes[nr]!==void 0?lr.globals.lastDrawnDataLabelsIndexes[nr][lr.globals.lastDrawnDataLabelsIndexes[nr].length-1]:0;if(lr.globals.dataLabelsRects[nr][gr]!==void 0){var mr=lr.globals.dataLabelsRects[nr][pr];(er>mr.x+mr.width||tr>mr.y+mr.height||tr+dr<mr.y||er+hr<mr.x)&&(cr=!0)}return(sr===0||ar)&&(cr=!0),{x:er,y:tr,textRects:ur,drawnextLabel:cr}}},{key:"drawDataLabel",value:function(er){var tr=this,ir=er.type,nr=er.pos,sr=er.i,ar=er.j,or=er.isRangeStart,lr=er.strokeWidth,cr=lr===void 0?2:lr,ur=this.w,hr=new Mi(this.ctx),dr=ur.config.dataLabels,gr=0,pr=0,mr=ar,vr=null;if(ur.globals.collapsedSeriesIndices.indexOf(sr)!==-1||!dr.enabled||!Array.isArray(nr.x))return vr;vr=hr.group({class:"apexcharts-data-labels"});for(var yr=0;yr<nr.x.length;yr++)if(gr=nr.x[yr]+dr.offsetX,pr=nr.y[yr]+dr.offsetY+cr,!isNaN(gr)){ar===1&&yr===0&&(mr=0),ar===1&&yr===1&&(mr=1);var br=ur.globals.series[sr][mr];ir==="rangeArea"&&(br=or?ur.globals.seriesRangeStart[sr][mr]:ur.globals.seriesRangeEnd[sr][mr]);var wr="",Pr=function(Vr){return ur.config.dataLabels.formatter(Vr,{ctx:tr.ctx,seriesIndex:sr,dataPointIndex:mr,w:ur})};ur.config.chart.type==="bubble"?(wr=Pr(br=ur.globals.seriesZ[sr][mr]),pr=nr.y[yr],pr=new Ui(this.ctx).centerTextInBubble(pr,sr,mr).y):br!==void 0&&(wr=Pr(br));var Tr=ur.config.dataLabels.textAnchor;ur.globals.isSlopeChart&&(Tr=mr===0?"end":mr===ur.config.series[sr].data.length-1?"start":"middle"),this.plotDataLabelsText({x:gr,y:pr,text:wr,i:sr,j:mr,parent:vr,offsetCorrection:!0,dataLabelsConfig:ur.config.dataLabels,textAnchor:Tr})}return vr}},{key:"plotDataLabelsText",value:function(er){var tr=this.w,ir=new Mi(this.ctx),nr=er.x,sr=er.y,ar=er.i,or=er.j,lr=er.text,cr=er.textAnchor,ur=er.fontSize,hr=er.parent,dr=er.dataLabelsConfig,gr=er.color,pr=er.alwaysDrawDataLabel,mr=er.offsetCorrection,vr=er.className,yr=null;if(Array.isArray(tr.config.dataLabels.enabledOnSeries)&&tr.config.dataLabels.enabledOnSeries.indexOf(ar)<0)return yr;var br={x:nr,y:sr,drawnextLabel:!0,textRects:null};mr&&(br=this.dataLabelsCorrection(nr,sr,lr,ar,or,pr,parseInt(dr.style.fontSize,10))),tr.globals.zoomed||(nr=br.x,sr=br.y),br.textRects&&(nr<-20-br.textRects.width||nr>tr.globals.gridWidth+br.textRects.width+30)&&(lr="");var wr=tr.globals.dataLabels.style.colors[ar];((tr.config.chart.type==="bar"||tr.config.chart.type==="rangeBar")&&tr.config.plotOptions.bar.distributed||tr.config.dataLabels.distributed)&&(wr=tr.globals.dataLabels.style.colors[or]),typeof wr=="function"&&(wr=wr({series:tr.globals.series,seriesIndex:ar,dataPointIndex:or,w:tr})),gr&&(wr=gr);var Pr=dr.offsetX,Tr=dr.offsetY;if(tr.config.chart.type!=="bar"&&tr.config.chart.type!=="rangeBar"||(Pr=0,Tr=0),tr.globals.isSlopeChart&&(or!==0&&(Pr=-2*dr.offsetX+5),or!==0&&or!==tr.config.series[ar].data.length-1&&(Pr=0)),br.drawnextLabel){if((yr=ir.drawText({width:100,height:parseInt(dr.style.fontSize,10),x:nr+Pr,y:sr+Tr,foreColor:wr,textAnchor:cr||dr.textAnchor,text:lr,fontSize:ur||dr.style.fontSize,fontFamily:dr.style.fontFamily,fontWeight:dr.style.fontWeight||"normal"})).attr({class:vr||"apexcharts-datalabel",cx:nr,cy:sr}),dr.dropShadow.enabled){var Vr=dr.dropShadow;new Li(this.ctx).dropShadow(yr,Vr)}hr.add(yr),tr.globals.lastDrawnDataLabelsIndexes[ar]===void 0&&(tr.globals.lastDrawnDataLabelsIndexes[ar]=[]),tr.globals.lastDrawnDataLabelsIndexes[ar].push(or)}return yr}},{key:"addBackgroundToDataLabel",value:function(er,tr){var ir=this.w,nr=ir.config.dataLabels.background,sr=nr.padding,ar=nr.padding/2,or=tr.width,lr=tr.height,cr=new Mi(this.ctx).drawRect(tr.x-sr,tr.y-ar/2,or+2*sr,lr+ar,nr.borderRadius,ir.config.chart.background!=="transparent"&&ir.config.chart.background?ir.config.chart.background:"#fff",nr.opacity,nr.borderWidth,nr.borderColor);return nr.dropShadow.enabled&&new Li(this.ctx).dropShadow(cr,nr.dropShadow),cr}},{key:"dataLabelsBackground",value:function(){var er=this.w;if(er.config.chart.type!=="bubble")for(var tr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),ir=0;ir<tr.length;ir++){var nr=tr[ir],sr=nr.getBBox(),ar=null;if(sr.width&&sr.height&&(ar=this.addBackgroundToDataLabel(nr,sr)),ar){nr.parentNode.insertBefore(ar.node,nr);var or=nr.getAttribute("fill");er.config.chart.animations.enabled&&!er.globals.resized&&!er.globals.dataChanged?ar.animate().attr({fill:or}):ar.attr({fill:or}),nr.setAttribute("fill",er.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var er=this.w,tr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),ir=er.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),nr=0;nr<tr.length;nr++)ir&&ir.insertBefore(tr[nr],ir.nextSibling)}}]),rr}(),Zi=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.legendInactiveClass="legend-mouseover-inactive"}return s(rr,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(er){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(v.escapeString(er),"']"))}},{key:"isSeriesHidden",value:function(er){var tr=this.getSeriesByName(er),ir=parseInt(tr.getAttribute("data:realIndex"),10);return{isHidden:tr.classList.contains("apexcharts-series-collapsed"),realIndex:ir}}},{key:"addCollapsedClassToSeries",value:function(er,tr){var ir=this.w;function nr(sr){for(var ar=0;ar<sr.length;ar++)sr[ar].index===tr&&er.node.classList.add("apexcharts-series-collapsed")}nr(ir.globals.collapsedSeries),nr(ir.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(er){var tr=this.isSeriesHidden(er);return this.ctx.legend.legendHelpers.toggleDataSeries(tr.realIndex,tr.isHidden),tr.isHidden}},{key:"showSeries",value:function(er){var tr=this.isSeriesHidden(er);tr.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(tr.realIndex,!0)}},{key:"hideSeries",value:function(er){var tr=this.isSeriesHidden(er);tr.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(tr.realIndex,!1)}},{key:"resetSeries",value:function(){var er=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],tr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ir=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],nr=this.w,sr=v.clone(nr.globals.initialSeries);nr.globals.previousPaths=[],ir?(nr.globals.collapsedSeries=[],nr.globals.ancillaryCollapsedSeries=[],nr.globals.collapsedSeriesIndices=[],nr.globals.ancillaryCollapsedSeriesIndices=[]):sr=this.emptyCollapsedSeries(sr),nr.config.series=sr,er&&(tr&&(nr.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(sr,nr.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(er){for(var tr=this.w,ir=0;ir<er.length;ir++)tr.globals.collapsedSeriesIndices.indexOf(ir)>-1&&(er[ir].data=[]);return er}},{key:"highlightSeries",value:function(er){var tr=this.w,ir=this.getSeriesByName(er),nr=parseInt(ir==null?void 0:ir.getAttribute("data:realIndex"),10),sr=tr.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),ar=null,or=null,lr=null;if(tr.globals.axisCharts||tr.config.chart.type==="radialBar")if(tr.globals.axisCharts){ar=tr.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(nr,"']")),or=tr.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(nr,"']"));var cr=tr.globals.seriesYAxisReverseMap[nr];lr=tr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(cr,"']"))}else ar=tr.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(nr+1,"']"));else ar=tr.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(nr+1,"'] path"));for(var ur=0;ur<sr.length;ur++)sr[ur].classList.add(this.legendInactiveClass);if(ar)tr.globals.axisCharts||ar.parentNode.classList.remove(this.legendInactiveClass),ar.classList.remove(this.legendInactiveClass),or!==null&&or.classList.remove(this.legendInactiveClass),lr!==null&&lr.classList.remove(this.legendInactiveClass);else for(var hr=0;hr<sr.length;hr++)sr[hr].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(er,tr){var ir=this.w;tr||(tr=er.target);var nr=ir.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(er.type==="mousemove"){var sr=parseInt(tr.getAttribute("rel"),10)-1;this.highlightSeries(ir.globals.seriesNames[sr])}else if(er.type==="mouseout")for(var ar=0;ar<nr.length;ar++)nr[ar].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(er,tr){var ir=this,nr=this.w,sr=nr.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),ar=function(cr){for(var ur=0;ur<sr.length;ur++)sr[ur].classList[cr](ir.legendInactiveClass)};if(er.type==="mousemove"){var or=parseInt(tr.getAttribute("rel"),10)-1;ar("add");var lr=nr.config.plotOptions.heatmap.colorScale.ranges;(function(cr,ur){for(var hr=0;hr<sr.length;hr++){var dr=Number(sr[hr].getAttribute("val"));dr>=cr.from&&(dr<cr.to||cr.to===ur&&dr===ur)&&sr[hr].classList.remove(ir.legendInactiveClass)}})(lr[or],lr.reduce(function(cr,ur){return Math.max(cr,ur.to)},0))}else er.type==="mouseout"&&ar("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ir=this.w,nr=0;if(ir.config.series.length>1){for(var sr=ir.config.series.map(function(or,lr){return or.data&&or.data.length>0&&ir.globals.collapsedSeriesIndices.indexOf(lr)===-1&&(!ir.globals.comboCharts||tr.length===0||tr.length&&tr.indexOf(ir.config.series[lr].type)>-1)?lr:-1}),ar=er==="asc"?0:sr.length-1;er==="asc"?ar<sr.length:ar>=0;er==="asc"?ar++:ar--)if(sr[ar]!==-1){nr=sr[ar];break}}return nr}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(er,tr){return er.type==="bar"||er.type==="column"?tr:-1}).filter(function(er){return er!==-1}):this.w.config.series.map(function(er,tr){return tr})}},{key:"getPreviousPaths",value:function(){var er=this.w;function tr(ar,or,lr){for(var cr=ar[or].childNodes,ur={type:lr,paths:[],realIndex:ar[or].getAttribute("data:realIndex")},hr=0;hr<cr.length;hr++)if(cr[hr].hasAttribute("pathTo")){var dr=cr[hr].getAttribute("pathTo");ur.paths.push({d:dr})}er.globals.previousPaths.push(ur)}er.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(ar){for(var or,lr=(or=ar,er.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(or,"-series .apexcharts-series"))),cr=0;cr<lr.length;cr++)tr(lr,cr,ar)});var ir=er.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(er.config.chart.type," .apexcharts-series"));if(ir.length>0)for(var nr=function(ar){for(var or=er.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(er.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(ar,"'] rect")),lr=[],cr=function(hr){var dr=function(pr){return or[hr].getAttribute(pr)},gr={x:parseFloat(dr("x")),y:parseFloat(dr("y")),width:parseFloat(dr("width")),height:parseFloat(dr("height"))};lr.push({rect:gr,color:or[hr].getAttribute("color")})},ur=0;ur<or.length;ur++)cr(ur);er.globals.previousPaths.push(lr)},sr=0;sr<ir.length;sr++)nr(sr);er.globals.axisCharts||(er.globals.previousPaths=er.globals.series)}},{key:"clearPreviousPaths",value:function(){var er=this.w;er.globals.previousPaths=[],er.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var er=this.w,tr=er.config.noData,ir=new Mi(this.ctx),nr=er.globals.svgWidth/2,sr=er.globals.svgHeight/2,ar="middle";if(er.globals.noData=!0,er.globals.animationEnded=!0,tr.align==="left"?(nr=10,ar="start"):tr.align==="right"&&(nr=er.globals.svgWidth-10,ar="end"),tr.verticalAlign==="top"?sr=50:tr.verticalAlign==="bottom"&&(sr=er.globals.svgHeight-50),nr+=tr.offsetX,sr=sr+parseInt(tr.style.fontSize,10)+2+tr.offsetY,tr.text!==void 0&&tr.text!==""){var or=ir.drawText({x:nr,y:sr,text:tr.text,textAnchor:ar,fontSize:tr.style.fontSize,fontFamily:tr.style.fontFamily,foreColor:tr.style.color,opacity:1,class:"apexcharts-text-nodata"});er.globals.dom.Paper.add(or)}}},{key:"setNullSeriesToZeroValues",value:function(er){for(var tr=this.w,ir=0;ir<er.length;ir++)if(er[ir].length===0)for(var nr=0;nr<er[tr.globals.maxValsInArrayIndex].length;nr++)er[ir].push(0);return er}},{key:"hasAllSeriesEqualX",value:function(){for(var er=!0,tr=this.w,ir=this.filteredSeriesX(),nr=0;nr<ir.length-1;nr++)if(ir[nr][0]!==ir[nr+1][0]){er=!1;break}return tr.globals.allSeriesHasEqualX=er,er}},{key:"filteredSeriesX",value:function(){var er=this.w.globals.seriesX.map(function(tr){return tr.length>0?tr:[]});return er}}]),rr}(),$i=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Pi(this.ctx)}return s(rr,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var er=this.w.config.series.slice(),tr=new Zi(this.ctx);if(this.activeSeriesIndex=tr.getActiveConfigSeriesIndex(),er[this.activeSeriesIndex].data!==void 0&&er[this.activeSeriesIndex].data.length>0&&er[this.activeSeriesIndex].data[0]!==null&&er[this.activeSeriesIndex].data[0].x!==void 0&&er[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var er=this.w.config.series.slice(),tr=new Zi(this.ctx);if(this.activeSeriesIndex=tr.getActiveConfigSeriesIndex(),er[this.activeSeriesIndex].data!==void 0&&er[this.activeSeriesIndex].data.length>0&&er[this.activeSeriesIndex].data[0]!==void 0&&er[this.activeSeriesIndex].data[0]!==null&&er[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(er,tr){for(var ir=this.w.config,nr=this.w.globals,sr=ir.chart.type==="boxPlot"||ir.series[tr].type==="boxPlot",ar=0;ar<er[tr].data.length;ar++)if(er[tr].data[ar][1]!==void 0&&(Array.isArray(er[tr].data[ar][1])&&er[tr].data[ar][1].length===4&&!sr?this.twoDSeries.push(v.parseNumber(er[tr].data[ar][1][3])):er[tr].data[ar].length>=5?this.twoDSeries.push(v.parseNumber(er[tr].data[ar][4])):this.twoDSeries.push(v.parseNumber(er[tr].data[ar][1])),nr.dataFormatXNumeric=!0),ir.xaxis.type==="datetime"){var or=new Date(er[tr].data[ar][0]);or=new Date(or).getTime(),this.twoDSeriesX.push(or)}else this.twoDSeriesX.push(er[tr].data[ar][0]);for(var lr=0;lr<er[tr].data.length;lr++)er[tr].data[lr][2]!==void 0&&(this.threeDSeries.push(er[tr].data[lr][2]),nr.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(er,tr){var ir=this.w.config,nr=this.w.globals,sr=new zi(this.ctx),ar=tr;nr.collapsedSeriesIndices.indexOf(tr)>-1&&(ar=this.activeSeriesIndex);for(var or=0;or<er[tr].data.length;or++)er[tr].data[or].y!==void 0&&(Array.isArray(er[tr].data[or].y)?this.twoDSeries.push(v.parseNumber(er[tr].data[or].y[er[tr].data[or].y.length-1])):this.twoDSeries.push(v.parseNumber(er[tr].data[or].y))),er[tr].data[or].goals!==void 0&&Array.isArray(er[tr].data[or].goals)?(this.seriesGoals[tr]===void 0&&(this.seriesGoals[tr]=[]),this.seriesGoals[tr].push(er[tr].data[or].goals)):(this.seriesGoals[tr]===void 0&&(this.seriesGoals[tr]=[]),this.seriesGoals[tr].push(null));for(var lr=0;lr<er[ar].data.length;lr++){var cr=typeof er[ar].data[lr].x=="string",ur=Array.isArray(er[ar].data[lr].x),hr=!ur&&!!sr.isValidDate(er[ar].data[lr].x);if(cr||hr)if(cr||ir.xaxis.convertedCatToNumeric){var dr=nr.isBarHorizontal&&nr.isRangeData;ir.xaxis.type!=="datetime"||dr?(this.fallbackToCategory=!0,this.twoDSeriesX.push(er[ar].data[lr].x),isNaN(er[ar].data[lr].x)||this.w.config.xaxis.type==="category"||typeof er[ar].data[lr].x=="string"||(nr.isXNumeric=!0)):this.twoDSeriesX.push(sr.parseDate(er[ar].data[lr].x))}else ir.xaxis.type==="datetime"?this.twoDSeriesX.push(sr.parseDate(er[ar].data[lr].x.toString())):(nr.dataFormatXNumeric=!0,nr.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(er[ar].data[lr].x)));else ur?(this.fallbackToCategory=!0,this.twoDSeriesX.push(er[ar].data[lr].x)):(nr.isXNumeric=!0,nr.dataFormatXNumeric=!0,this.twoDSeriesX.push(er[ar].data[lr].x))}if(er[tr].data[0]&&er[tr].data[0].z!==void 0){for(var gr=0;gr<er[tr].data.length;gr++)this.threeDSeries.push(er[tr].data[gr].z);nr.isDataXYZ=!0}}},{key:"handleRangeData",value:function(er,tr){var ir=this.w.globals,nr={};return this.isFormat2DArray()?nr=this.handleRangeDataFormat("array",er,tr):this.isFormatXY()&&(nr=this.handleRangeDataFormat("xy",er,tr)),ir.seriesRangeStart.push(nr.start===void 0?[]:nr.start),ir.seriesRangeEnd.push(nr.end===void 0?[]:nr.end),ir.seriesRange.push(nr.rangeUniques),ir.seriesRange.forEach(function(sr,ar){sr&&sr.forEach(function(or,lr){or.y.forEach(function(cr,ur){for(var hr=0;hr<or.y.length;hr++)if(ur!==hr){var dr=cr.y1,gr=cr.y2,pr=or.y[hr].y1;dr<=or.y[hr].y2&&pr<=gr&&(or.overlaps.indexOf(cr.rangeName)<0&&or.overlaps.push(cr.rangeName),or.overlaps.indexOf(or.y[hr].rangeName)<0&&or.overlaps.push(or.y[hr].rangeName))}})})}),nr}},{key:"handleCandleStickBoxData",value:function(er,tr){var ir=this.w.globals,nr={};return this.isFormat2DArray()?nr=this.handleCandleStickBoxDataFormat("array",er,tr):this.isFormatXY()&&(nr=this.handleCandleStickBoxDataFormat("xy",er,tr)),ir.seriesCandleO[tr]=nr.o,ir.seriesCandleH[tr]=nr.h,ir.seriesCandleM[tr]=nr.m,ir.seriesCandleL[tr]=nr.l,ir.seriesCandleC[tr]=nr.c,nr}},{key:"handleRangeDataFormat",value:function(er,tr,ir){var nr=[],sr=[],ar=tr[ir].data.filter(function(ur,hr,dr){return hr===dr.findIndex(function(gr){return gr.x===ur.x})}).map(function(ur,hr){return{x:ur.x,overlaps:[],y:[]}});if(er==="array")for(var or=0;or<tr[ir].data.length;or++)Array.isArray(tr[ir].data[or])?(nr.push(tr[ir].data[or][1][0]),sr.push(tr[ir].data[or][1][1])):(nr.push(tr[ir].data[or]),sr.push(tr[ir].data[or]));else if(er==="xy")for(var lr=function(ur){var hr=Array.isArray(tr[ir].data[ur].y),dr=v.randomId(),gr=tr[ir].data[ur].x,pr={y1:hr?tr[ir].data[ur].y[0]:tr[ir].data[ur].y,y2:hr?tr[ir].data[ur].y[1]:tr[ir].data[ur].y,rangeName:dr};tr[ir].data[ur].rangeName=dr;var mr=ar.findIndex(function(vr){return vr.x===gr});ar[mr].y.push(pr),nr.push(pr.y1),sr.push(pr.y2)},cr=0;cr<tr[ir].data.length;cr++)lr(cr);return{start:nr,end:sr,rangeUniques:ar}}},{key:"handleCandleStickBoxDataFormat",value:function(er,tr,ir){var nr=this.w,sr=nr.config.chart.type==="boxPlot"||nr.config.series[ir].type==="boxPlot",ar=[],or=[],lr=[],cr=[],ur=[];if(er==="array")if(sr&&tr[ir].data[0].length===6||!sr&&tr[ir].data[0].length===5)for(var hr=0;hr<tr[ir].data.length;hr++)ar.push(tr[ir].data[hr][1]),or.push(tr[ir].data[hr][2]),sr?(lr.push(tr[ir].data[hr][3]),cr.push(tr[ir].data[hr][4]),ur.push(tr[ir].data[hr][5])):(cr.push(tr[ir].data[hr][3]),ur.push(tr[ir].data[hr][4]));else for(var dr=0;dr<tr[ir].data.length;dr++)Array.isArray(tr[ir].data[dr][1])&&(ar.push(tr[ir].data[dr][1][0]),or.push(tr[ir].data[dr][1][1]),sr?(lr.push(tr[ir].data[dr][1][2]),cr.push(tr[ir].data[dr][1][3]),ur.push(tr[ir].data[dr][1][4])):(cr.push(tr[ir].data[dr][1][2]),ur.push(tr[ir].data[dr][1][3])));else if(er==="xy")for(var gr=0;gr<tr[ir].data.length;gr++)Array.isArray(tr[ir].data[gr].y)&&(ar.push(tr[ir].data[gr].y[0]),or.push(tr[ir].data[gr].y[1]),sr?(lr.push(tr[ir].data[gr].y[2]),cr.push(tr[ir].data[gr].y[3]),ur.push(tr[ir].data[gr].y[4])):(cr.push(tr[ir].data[gr].y[2]),ur.push(tr[ir].data[gr].y[3])));return{o:ar,h:or,m:lr,l:cr,c:ur}}},{key:"parseDataAxisCharts",value:function(er){var tr=this,ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,nr=this.w.config,sr=this.w.globals,ar=new zi(ir),or=nr.labels.length>0?nr.labels.slice():nr.xaxis.categories.slice();sr.isRangeBar=nr.chart.type==="rangeBar"&&sr.isBarHorizontal,sr.hasXaxisGroups=nr.xaxis.type==="category"&&nr.xaxis.group.groups.length>0,sr.hasXaxisGroups&&(sr.groups=nr.xaxis.group.groups),er.forEach(function(gr,pr){gr.name!==void 0?sr.seriesNames.push(gr.name):sr.seriesNames.push("series-"+parseInt(pr+1,10))}),this.coreUtils.setSeriesYAxisMappings();var lr=[],cr=f(new Set(nr.series.map(function(gr){return gr.group})));nr.series.forEach(function(gr,pr){var mr=cr.indexOf(gr.group);lr[mr]||(lr[mr]=[]),lr[mr].push(sr.seriesNames[pr])}),sr.seriesGroups=lr;for(var ur=function(){for(var gr=0;gr<or.length;gr++)if(typeof or[gr]=="string"){if(!ar.isValidDate(or[gr]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");tr.twoDSeriesX.push(ar.parseDate(or[gr]))}else tr.twoDSeriesX.push(or[gr])},hr=0;hr<er.length;hr++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],er[hr].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(nr.chart.type!=="rangeBar"&&nr.chart.type!=="rangeArea"&&er[hr].type!=="rangeBar"&&er[hr].type!=="rangeArea"||(sr.isRangeData=!0,nr.chart.type!=="rangeBar"&&nr.chart.type!=="rangeArea"||this.handleRangeData(er,hr)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(er,hr):this.isFormatXY()&&this.handleFormatXY(er,hr),nr.chart.type!=="candlestick"&&er[hr].type!=="candlestick"&&nr.chart.type!=="boxPlot"&&er[hr].type!=="boxPlot"||this.handleCandleStickBoxData(er,hr),sr.series.push(this.twoDSeries),sr.labels.push(this.twoDSeriesX),sr.seriesX.push(this.twoDSeriesX),sr.seriesGoals=this.seriesGoals,hr!==this.activeSeriesIndex||this.fallbackToCategory||(sr.isXNumeric=!0);else{nr.xaxis.type==="datetime"?(sr.isXNumeric=!0,ur(),sr.seriesX.push(this.twoDSeriesX)):nr.xaxis.type==="numeric"&&(sr.isXNumeric=!0,or.length>0&&(this.twoDSeriesX=or,sr.seriesX.push(this.twoDSeriesX))),sr.labels.push(this.twoDSeriesX);var dr=er[hr].data.map(function(gr){return v.parseNumber(gr)});sr.series.push(dr)}sr.seriesZ.push(this.threeDSeries),er[hr].color!==void 0?sr.seriesColors.push(er[hr].color):sr.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(er){var tr=this.w.globals,ir=this.w.config;tr.series=er.slice(),tr.seriesNames=ir.labels.slice();for(var nr=0;nr<tr.series.length;nr++)tr.seriesNames[nr]===void 0&&tr.seriesNames.push("series-"+(nr+1));return this.w}},{key:"handleExternalLabelsData",value:function(er){var tr=this.w.config,ir=this.w.globals;tr.xaxis.categories.length>0?ir.labels=tr.xaxis.categories:tr.labels.length>0?ir.labels=tr.labels.slice():this.fallbackToCategory?(ir.labels=ir.labels[0],ir.seriesRange.length&&(ir.seriesRange.map(function(nr){nr.forEach(function(sr){ir.labels.indexOf(sr.x)<0&&sr.x&&ir.labels.push(sr.x)})}),ir.labels=Array.from(new Set(ir.labels.map(JSON.stringify)),JSON.parse)),tr.xaxis.convertedCatToNumeric&&(new Ni(tr).convertCatToNumericXaxis(tr,this.ctx,ir.seriesX[0]),this._generateExternalLabels(er))):this._generateExternalLabels(er)}},{key:"_generateExternalLabels",value:function(er){var tr=this.w.globals,ir=this.w.config,nr=[];if(tr.axisCharts){if(tr.series.length>0)if(this.isFormatXY())for(var sr=ir.series.map(function(hr,dr){return hr.data.filter(function(gr,pr,mr){return mr.findIndex(function(vr){return vr.x===gr.x})===pr})}),ar=sr.reduce(function(hr,dr,gr,pr){return pr[hr].length>dr.length?hr:gr},0),or=0;or<sr[ar].length;or++)nr.push(or+1);else for(var lr=0;lr<tr.series[tr.maxValsInArrayIndex].length;lr++)nr.push(lr+1);tr.seriesX=[];for(var cr=0;cr<er.length;cr++)tr.seriesX.push(nr);this.w.globals.isBarHorizontal||(tr.isXNumeric=!0)}if(nr.length===0){nr=tr.axisCharts?[]:tr.series.map(function(hr,dr){return dr+1});for(var ur=0;ur<er.length;ur++)tr.seriesX.push(nr)}tr.labels=nr,ir.xaxis.convertedCatToNumeric&&(tr.categoryLabels=nr.map(function(hr){return ir.xaxis.labels.formatter(hr)})),tr.noLabelsProvided=!0}},{key:"parseData",value:function(er){var tr=this.w,ir=tr.config,nr=tr.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),nr.axisCharts?(this.parseDataAxisCharts(er),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(er),ir.chart.stacked){var sr=new Zi(this.ctx);nr.series=sr.setNullSeriesToZeroValues(nr.series)}this.coreUtils.getSeriesTotals(),nr.axisCharts&&(nr.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),nr.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),nr.dataFormatXNumeric||nr.isXNumeric&&(ir.xaxis.type!=="numeric"||ir.labels.length!==0||ir.xaxis.categories.length!==0)||this.handleExternalLabelsData(er);for(var ar=this.coreUtils.getCategoryLabels(nr.labels),or=0;or<ar.length;or++)if(Array.isArray(ar[or])){nr.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var er=this.w,tr=[];er.globals.seriesYAxisMap.forEach(function(ir,nr){var sr=0;ir.forEach(function(ar){er.globals.collapsedSeriesIndices.indexOf(ar)!==-1&&sr++}),sr>0&&sr==ir.length&&tr.push(nr)}),er.globals.ignoreYAxisIndexes=tr.map(function(ir){return ir})}}]),rr}(),Ji=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"svgStringToNode",value:function(er){return new DOMParser().parseFromString(er,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(er,tr){var ir=parseFloat(er.getAttributeNS(null,"width")),nr=parseFloat(er.getAttributeNS(null,"height"));er.setAttributeNS(null,"width",ir*tr),er.setAttributeNS(null,"height",nr*tr),er.setAttributeNS(null,"viewBox","0 0 "+ir+" "+nr)}},{key:"getSvgString",value:function(er){var tr=this;return new Promise(function(ir){var nr=tr.w,sr=er||nr.config.chart.toolbar.export.scale||nr.config.chart.toolbar.export.width/nr.globals.svgWidth;sr||(sr=1);var ar=nr.globals.svgWidth*sr,or=nr.globals.svgHeight*sr,lr=nr.globals.dom.elWrap.cloneNode(!0);lr.style.width=ar+"px",lr.style.height=or+"px";var cr=new XMLSerializer().serializeToString(lr),ur=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(nr.globals.svgWidth,'px" height="').concat(nr.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(ar,"px; height:").concat(or,`px;">
            <style type="text/css">
              .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                display: none;
              }
            </style>
              `).concat(cr,`
            </div>
          </foreignObject>
        </svg>
      `),hr=tr.svgStringToNode(ur);sr!==1&&tr.scaleSvgNode(hr,sr),tr.convertImagesToBase64(hr).then(function(){ur=new XMLSerializer().serializeToString(hr),ir(ur.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(er){var tr=this,ir=er.getElementsByTagName("image"),nr=Array.from(ir).map(function(sr){var ar=sr.getAttributeNS("http://www.w3.org/1999/xlink","href");return ar&&!ar.startsWith("data:")?tr.getBase64FromUrl(ar).then(function(or){sr.setAttributeNS("http://www.w3.org/1999/xlink","href",or)}).catch(function(or){console.error("Error converting image to base64:",or)}):Promise.resolve()});return Promise.all(nr)}},{key:"getBase64FromUrl",value:function(er){return new Promise(function(tr,ir){var nr=new Image;nr.crossOrigin="Anonymous",nr.onload=function(){var sr=document.createElement("canvas");sr.width=nr.width,sr.height=nr.height,sr.getContext("2d").drawImage(nr,0,0),tr(sr.toDataURL())},nr.onerror=ir,nr.src=er})}},{key:"svgUrl",value:function(){var er=this;return new Promise(function(tr){er.getSvgString().then(function(ir){var nr=new Blob([ir],{type:"image/svg+xml;charset=utf-8"});tr(URL.createObjectURL(nr))})})}},{key:"dataURI",value:function(er){var tr=this;return new Promise(function(ir){var nr=tr.w,sr=er?er.scale||er.width/nr.globals.svgWidth:1,ar=document.createElement("canvas");ar.width=nr.globals.svgWidth*sr,ar.height=parseInt(nr.globals.dom.elWrap.style.height,10)*sr;var or=nr.config.chart.background!=="transparent"&&nr.config.chart.background?nr.config.chart.background:"#fff",lr=ar.getContext("2d");lr.fillStyle=or,lr.fillRect(0,0,ar.width*sr,ar.height*sr),tr.getSvgString(sr).then(function(cr){var ur="data:image/svg+xml,"+encodeURIComponent(cr),hr=new Image;hr.crossOrigin="anonymous",hr.onload=function(){if(lr.drawImage(hr,0,0),ar.msToBlob){var dr=ar.msToBlob();ir({blob:dr})}else{var gr=ar.toDataURL("image/png");ir({imgURI:gr})}},hr.src=ur})})}},{key:"exportToSVG",value:function(){var er=this;this.svgUrl().then(function(tr){er.triggerDownload(tr,er.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var er=this,tr=this.w.config.chart.toolbar.export.scale,ir=this.w.config.chart.toolbar.export.width,nr=tr?{scale:tr}:ir?{width:ir}:void 0;this.dataURI(nr).then(function(sr){var ar=sr.imgURI,or=sr.blob;or?navigator.msSaveOrOpenBlob(or,er.w.globals.chartID+".png"):er.triggerDownload(ar,er.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(er){var tr=this,ir=er.series,nr=er.fileName,sr=er.columnDelimiter,ar=sr===void 0?",":sr,or=er.lineDelimiter,lr=or===void 0?`
`:or,cr=this.w;ir||(ir=cr.config.series);var ur=[],hr=[],dr="",gr=cr.globals.series.map(function(Tr,Vr){return cr.globals.collapsedSeriesIndices.indexOf(Vr)===-1?Tr:[]}),pr=function(Tr){return typeof cr.config.chart.toolbar.export.csv.categoryFormatter=="function"?cr.config.chart.toolbar.export.csv.categoryFormatter(Tr):cr.config.xaxis.type==="datetime"&&String(Tr).length>=10?new Date(Tr).toDateString():v.isNumber(Tr)?Tr:Tr.split(ar).join("")},mr=function(Tr){return typeof cr.config.chart.toolbar.export.csv.valueFormatter=="function"?cr.config.chart.toolbar.export.csv.valueFormatter(Tr):Tr},vr=Math.max.apply(Math,f(ir.map(function(Tr){return Tr.data?Tr.data.length:0}))),yr=new $i(this.ctx),br=new Ri(this.ctx),wr=function(Tr){var Vr="";if(cr.globals.axisCharts){if(cr.config.xaxis.type==="category"||cr.config.xaxis.convertedCatToNumeric)if(cr.globals.isBarHorizontal){var Ar=cr.globals.yLabelFormatters[0],xr=new Zi(tr.ctx).getActiveConfigSeriesIndex();Vr=Ar(cr.globals.labels[Tr],{seriesIndex:xr,dataPointIndex:Tr,w:cr})}else Vr=br.getLabel(cr.globals.labels,cr.globals.timescaleLabels,0,Tr).text;cr.config.xaxis.type==="datetime"&&(cr.config.xaxis.categories.length?Vr=cr.config.xaxis.categories[Tr]:cr.config.labels.length&&(Vr=cr.config.labels[Tr]))}else Vr=cr.config.labels[Tr];return Vr===null?"nullvalue":(Array.isArray(Vr)&&(Vr=Vr.join(" ")),v.isNumber(Vr)?Vr:Vr.split(ar).join(""))},Pr=function(Tr,Vr){if(ur.length&&Vr===0&&hr.push(ur.join(ar)),Tr.data){Tr.data=Tr.data.length&&Tr.data||f(Array(vr)).map(function(){return""});for(var Ar=0;Ar<Tr.data.length;Ar++){ur=[];var xr=wr(Ar);if(xr!=="nullvalue"){if(xr||(yr.isFormatXY()?xr=ir[Vr].data[Ar].x:yr.isFormat2DArray()&&(xr=ir[Vr].data[Ar]?ir[Vr].data[Ar][0]:"")),Vr===0){ur.push(pr(xr));for(var Er=0;Er<cr.globals.series.length;Er++){var Cr,Rr=yr.isFormatXY()?(Cr=ir[Er].data[Ar])===null||Cr===void 0?void 0:Cr.y:gr[Er][Ar];ur.push(mr(Rr))}}(cr.config.chart.type==="candlestick"||Tr.type&&Tr.type==="candlestick")&&(ur.pop(),ur.push(cr.globals.seriesCandleO[Vr][Ar]),ur.push(cr.globals.seriesCandleH[Vr][Ar]),ur.push(cr.globals.seriesCandleL[Vr][Ar]),ur.push(cr.globals.seriesCandleC[Vr][Ar])),(cr.config.chart.type==="boxPlot"||Tr.type&&Tr.type==="boxPlot")&&(ur.pop(),ur.push(cr.globals.seriesCandleO[Vr][Ar]),ur.push(cr.globals.seriesCandleH[Vr][Ar]),ur.push(cr.globals.seriesCandleM[Vr][Ar]),ur.push(cr.globals.seriesCandleL[Vr][Ar]),ur.push(cr.globals.seriesCandleC[Vr][Ar])),cr.config.chart.type==="rangeBar"&&(ur.pop(),ur.push(cr.globals.seriesRangeStart[Vr][Ar]),ur.push(cr.globals.seriesRangeEnd[Vr][Ar])),ur.length&&hr.push(ur.join(ar))}}}};ur.push(cr.config.chart.toolbar.export.csv.headerCategory),cr.config.chart.type==="boxPlot"?(ur.push("minimum"),ur.push("q1"),ur.push("median"),ur.push("q3"),ur.push("maximum")):cr.config.chart.type==="candlestick"?(ur.push("open"),ur.push("high"),ur.push("low"),ur.push("close")):cr.config.chart.type==="rangeBar"?(ur.push("minimum"),ur.push("maximum")):ir.map(function(Tr,Vr){var Ar=(Tr.name?Tr.name:"series-".concat(Vr))+"";cr.globals.axisCharts&&ur.push(Ar.split(ar).join("")?Ar.split(ar).join(""):"series-".concat(Vr))}),cr.globals.axisCharts||(ur.push(cr.config.chart.toolbar.export.csv.headerValue),hr.push(ur.join(ar))),cr.globals.allSeriesHasEqualX||!cr.globals.axisCharts||cr.config.xaxis.categories.length||cr.config.labels.length?ir.map(function(Tr,Vr){cr.globals.axisCharts?Pr(Tr,Vr):((ur=[]).push(pr(cr.globals.labels[Vr])),ur.push(mr(gr[Vr])),hr.push(ur.join(ar)))}):function(){var Tr=new Set,Vr={};ir.forEach(function(Ar,xr){Ar==null||Ar.data.forEach(function(Er){var Cr,Rr;if(yr.isFormatXY())Cr=Er.x,Rr=Er.y;else{if(!yr.isFormat2DArray())return;Cr=Er[0],Rr=Er[1]}Vr[Cr]||(Vr[Cr]=Array(ir.length).fill("")),Vr[Cr][xr]=mr(Rr),Tr.add(Cr)})}),ur.length&&hr.push(ur.join(ar)),Array.from(Tr).sort().forEach(function(Ar){hr.push([pr(Ar),Vr[Ar].join(ar)])})}(),dr+=hr.join(lr),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+dr),nr||cr.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(er,tr,ir){var nr=document.createElement("a");nr.href=er,nr.download=(tr||this.w.globals.chartID)+ir,document.body.appendChild(nr),nr.click(),document.body.removeChild(nr)}}]),rr}(),Qi=function(){function rr(er,tr){i(this,rr),this.ctx=er,this.elgrid=tr,this.w=er.w;var ir=this.w;this.axesUtils=new Ri(er),this.xaxisLabels=ir.globals.labels.slice(),ir.globals.timescaleLabels.length>0&&!ir.globals.isBarHorizontal&&(this.xaxisLabels=ir.globals.timescaleLabels.slice()),ir.config.xaxis.overwriteCategories&&(this.xaxisLabels=ir.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],ir.config.xaxis.position==="top"?this.offY=0:this.offY=ir.globals.gridHeight,this.offY=this.offY+ir.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=ir.config.chart.type==="bar"&&ir.config.plotOptions.bar.horizontal,this.xaxisFontSize=ir.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=ir.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=ir.config.xaxis.labels.style.colors,this.xaxisBorderWidth=ir.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=ir.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=ir.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=ir.config.xaxis.axisBorder.height,this.yaxis=ir.config.yaxis[0]}return s(rr,[{key:"drawXaxis",value:function(){var er=this.w,tr=new Mi(this.ctx),ir=tr.group({class:"apexcharts-xaxis",transform:"translate(".concat(er.config.xaxis.offsetX,", ").concat(er.config.xaxis.offsetY,")")}),nr=tr.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(er.globals.translateXAxisX,", ").concat(er.globals.translateXAxisY,")")});ir.add(nr);for(var sr=[],ar=0;ar<this.xaxisLabels.length;ar++)sr.push(this.xaxisLabels[ar]);if(this.drawXAxisLabelAndGroup(!0,tr,nr,sr,er.globals.isXNumeric,function(pr,mr){return mr}),er.globals.hasXaxisGroups){var or=er.globals.groups;sr=[];for(var lr=0;lr<or.length;lr++)sr.push(or[lr].title);var cr={};er.config.xaxis.group.style&&(cr.xaxisFontSize=er.config.xaxis.group.style.fontSize,cr.xaxisFontFamily=er.config.xaxis.group.style.fontFamily,cr.xaxisForeColors=er.config.xaxis.group.style.colors,cr.fontWeight=er.config.xaxis.group.style.fontWeight,cr.cssClass=er.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,tr,nr,sr,!1,function(pr,mr){return or[pr].cols*mr},cr)}if(er.config.xaxis.title.text!==void 0){var ur=tr.group({class:"apexcharts-xaxis-title"}),hr=tr.drawText({x:er.globals.gridWidth/2+er.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(er.config.xaxis.position==="bottom"?er.globals.xAxisLabelsHeight:-er.globals.xAxisLabelsHeight-10)+er.config.xaxis.title.offsetY,text:er.config.xaxis.title.text,textAnchor:"middle",fontSize:er.config.xaxis.title.style.fontSize,fontFamily:er.config.xaxis.title.style.fontFamily,fontWeight:er.config.xaxis.title.style.fontWeight,foreColor:er.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+er.config.xaxis.title.style.cssClass});ur.add(hr),ir.add(ur)}if(er.config.xaxis.axisBorder.show){var dr=er.globals.barPadForNumericAxis,gr=tr.drawLine(er.globals.padHorizontal+er.config.xaxis.axisBorder.offsetX-dr,this.offY,this.xaxisBorderWidth+dr,this.offY,er.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&er.config.grid.show?this.elgrid.elGridBorders.add(gr):ir.add(gr)}return ir}},{key:"drawXAxisLabelAndGroup",value:function(er,tr,ir,nr,sr,ar){var or,lr=this,cr=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},ur=[],hr=[],dr=this.w,gr=cr.xaxisFontSize||this.xaxisFontSize,pr=cr.xaxisFontFamily||this.xaxisFontFamily,mr=cr.xaxisForeColors||this.xaxisForeColors,vr=cr.fontWeight||dr.config.xaxis.labels.style.fontWeight,yr=cr.cssClass||dr.config.xaxis.labels.style.cssClass,br=dr.globals.padHorizontal,wr=nr.length,Pr=dr.config.xaxis.type==="category"?dr.globals.dataPoints:wr;if(Pr===0&&wr>Pr&&(Pr=wr),sr){var Tr=Math.max(Number(dr.config.xaxis.tickAmount)||1,Pr>1?Pr-1:Pr);or=dr.globals.gridWidth/Math.min(Tr,wr-1),br=br+ar(0,or)/2+dr.config.xaxis.labels.offsetX}else or=dr.globals.gridWidth/Pr,br=br+ar(0,or)+dr.config.xaxis.labels.offsetX;for(var Vr=function(xr){var Er=br-ar(xr,or)/2+dr.config.xaxis.labels.offsetX;xr===0&&wr===1&&or/2===br&&Pr===1&&(Er=dr.globals.gridWidth/2);var Cr=lr.axesUtils.getLabel(nr,dr.globals.timescaleLabels,Er,xr,ur,gr,er),Rr=28;if(dr.globals.rotateXLabels&&er&&(Rr=22),dr.config.xaxis.title.text&&dr.config.xaxis.position==="top"&&(Rr+=parseFloat(dr.config.xaxis.title.style.fontSize)+2),er||(Rr=Rr+parseFloat(gr)+(dr.globals.xAxisLabelsHeight-dr.globals.xAxisGroupLabelsHeight)+(dr.globals.rotateXLabels?10:0)),Cr=dr.config.xaxis.tickAmount!==void 0&&dr.config.xaxis.tickAmount!=="dataPoints"&&dr.config.xaxis.type!=="datetime"?lr.axesUtils.checkLabelBasedOnTickamount(xr,Cr,wr):lr.axesUtils.checkForOverflowingLabels(xr,Cr,wr,ur,hr),dr.config.xaxis.labels.show){var kr=tr.drawText({x:Cr.x,y:lr.offY+dr.config.xaxis.labels.offsetY+Rr-(dr.config.xaxis.position==="top"?dr.globals.xAxisHeight+dr.config.xaxis.axisTicks.height-2:0),text:Cr.text,textAnchor:"middle",fontWeight:Cr.isBold?600:vr,fontSize:gr,fontFamily:pr,foreColor:Array.isArray(mr)?er&&dr.config.xaxis.convertedCatToNumeric?mr[dr.globals.minX+xr-1]:mr[xr]:mr,isPlainText:!1,cssClass:(er?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+yr});if(ir.add(kr),kr.on("click",function(Nr){if(typeof dr.config.chart.events.xAxisLabelClick=="function"){var Hr=Object.assign({},dr,{labelIndex:xr});dr.config.chart.events.xAxisLabelClick(Nr,lr.ctx,Hr)}}),er){var Sr=document.createElementNS(dr.globals.SVGNS,"title");Sr.textContent=Array.isArray(Cr.text)?Cr.text.join(" "):Cr.text,kr.node.appendChild(Sr),Cr.text!==""&&(ur.push(Cr.text),hr.push(Cr))}}xr<wr-1&&(br+=ar(xr+1,or))},Ar=0;Ar<=wr-1;Ar++)Vr(Ar)}},{key:"drawXaxisInversed",value:function(er){var tr,ir,nr=this,sr=this.w,ar=new Mi(this.ctx),or=sr.config.yaxis[0].opposite?sr.globals.translateYAxisX[er]:0,lr=ar.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:er}),cr=ar.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+or+", 0)"});lr.add(cr);var ur=[];if(sr.config.yaxis[er].show)for(var hr=0;hr<this.xaxisLabels.length;hr++)ur.push(this.xaxisLabels[hr]);tr=sr.globals.gridHeight/ur.length,ir=-tr/2.2;var dr=sr.globals.yLabelFormatters[0],gr=sr.config.yaxis[0].labels;if(gr.show)for(var pr=function(Tr){var Vr=ur[Tr]===void 0?"":ur[Tr];Vr=dr(Vr,{seriesIndex:er,dataPointIndex:Tr,w:sr});var Ar=nr.axesUtils.getYAxisForeColor(gr.style.colors,er),xr=0;Array.isArray(Vr)&&(xr=Vr.length/2*parseInt(gr.style.fontSize,10));var Er=gr.offsetX-15,Cr="end";nr.yaxis.opposite&&(Cr="start"),sr.config.yaxis[0].labels.align==="left"?(Er=gr.offsetX,Cr="start"):sr.config.yaxis[0].labels.align==="center"?(Er=gr.offsetX,Cr="middle"):sr.config.yaxis[0].labels.align==="right"&&(Cr="end");var Rr=ar.drawText({x:Er,y:ir+tr+gr.offsetY-xr,text:Vr,textAnchor:Cr,foreColor:Array.isArray(Ar)?Ar[Tr]:Ar,fontSize:gr.style.fontSize,fontFamily:gr.style.fontFamily,fontWeight:gr.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+gr.style.cssClass,maxWidth:gr.maxWidth});cr.add(Rr),Rr.on("click",function(Nr){if(typeof sr.config.chart.events.xAxisLabelClick=="function"){var Hr=Object.assign({},sr,{labelIndex:Tr});sr.config.chart.events.xAxisLabelClick(Nr,nr.ctx,Hr)}});var kr=document.createElementNS(sr.globals.SVGNS,"title");if(kr.textContent=Array.isArray(Vr)?Vr.join(" "):Vr,Rr.node.appendChild(kr),sr.config.yaxis[er].labels.rotate!==0){var Sr=ar.rotateAroundCenter(Rr.node);Rr.node.setAttribute("transform","rotate(".concat(sr.config.yaxis[er].labels.rotate," 0 ").concat(Sr.y,")"))}ir+=tr},mr=0;mr<=ur.length-1;mr++)pr(mr);if(sr.config.yaxis[0].title.text!==void 0){var vr=ar.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+or+", 0)"}),yr=ar.drawText({x:sr.config.yaxis[0].title.offsetX,y:sr.globals.gridHeight/2+sr.config.yaxis[0].title.offsetY,text:sr.config.yaxis[0].title.text,textAnchor:"middle",foreColor:sr.config.yaxis[0].title.style.color,fontSize:sr.config.yaxis[0].title.style.fontSize,fontWeight:sr.config.yaxis[0].title.style.fontWeight,fontFamily:sr.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+sr.config.yaxis[0].title.style.cssClass});vr.add(yr),lr.add(vr)}var br=0;this.isCategoryBarHorizontal&&sr.config.yaxis[0].opposite&&(br=sr.globals.gridWidth);var wr=sr.config.xaxis.axisBorder;if(wr.show){var Pr=ar.drawLine(sr.globals.padHorizontal+wr.offsetX+br,1+wr.offsetY,sr.globals.padHorizontal+wr.offsetX+br,sr.globals.gridHeight+wr.offsetY,wr.color,0);this.elgrid&&this.elgrid.elGridBorders&&sr.config.grid.show?this.elgrid.elGridBorders.add(Pr):lr.add(Pr)}return sr.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(br,ur.length,sr.config.yaxis[0].axisBorder,sr.config.yaxis[0].axisTicks,0,tr,lr),lr}},{key:"drawXaxisTicks",value:function(er,tr,ir){var nr=this.w,sr=er;if(!(er<0||er-2>nr.globals.gridWidth)){var ar=this.offY+nr.config.xaxis.axisTicks.offsetY;if(tr=tr+ar+nr.config.xaxis.axisTicks.height,nr.config.xaxis.position==="top"&&(tr=ar-nr.config.xaxis.axisTicks.height),nr.config.xaxis.axisTicks.show){var or=new Mi(this.ctx).drawLine(er+nr.config.xaxis.axisTicks.offsetX,ar+nr.config.xaxis.offsetY,sr+nr.config.xaxis.axisTicks.offsetX,tr+nr.config.xaxis.offsetY,nr.config.xaxis.axisTicks.color);ir.add(or),or.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var er=this.w,tr=[],ir=this.xaxisLabels.length,nr=er.globals.padHorizontal;if(er.globals.timescaleLabels.length>0)for(var sr=0;sr<ir;sr++)nr=this.xaxisLabels[sr].position,tr.push(nr);else for(var ar=ir,or=0;or<ar;or++){var lr=ar;er.globals.isXNumeric&&er.config.chart.type!=="bar"&&(lr-=1),nr+=er.globals.gridWidth/lr,tr.push(nr)}return tr}},{key:"xAxisLabelCorrections",value:function(){var er=this.w,tr=new Mi(this.ctx),ir=er.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),nr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),sr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),ar=er.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(er.globals.rotateXLabels||er.config.xaxis.labels.rotateAlways)for(var or=0;or<nr.length;or++){var lr=tr.rotateAroundCenter(nr[or]);lr.y=lr.y-1,lr.x=lr.x+1,nr[or].setAttribute("transform","rotate(".concat(er.config.xaxis.labels.rotate," ").concat(lr.x," ").concat(lr.y,")")),nr[or].setAttribute("text-anchor","end"),ir.setAttribute("transform","translate(0, ".concat(-10,")"));var cr=nr[or].childNodes;er.config.xaxis.labels.trim&&Array.prototype.forEach.call(cr,function(gr){tr.placeTextWithEllipsis(gr,gr.textContent,er.globals.xAxisLabelsHeight-(er.config.legend.position==="bottom"?20:10))})}else(function(){for(var gr=er.globals.gridWidth/(er.globals.labels.length+1),pr=0;pr<nr.length;pr++){var mr=nr[pr].childNodes;er.config.xaxis.labels.trim&&er.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(mr,function(vr){tr.placeTextWithEllipsis(vr,vr.textContent,gr)})}})();if(sr.length>0){var ur=sr[sr.length-1].getBBox(),hr=sr[0].getBBox();ur.x<-20&&sr[sr.length-1].parentNode.removeChild(sr[sr.length-1]),hr.x+hr.width>er.globals.gridWidth&&!er.globals.isBarHorizontal&&sr[0].parentNode.removeChild(sr[0]);for(var dr=0;dr<ar.length;dr++)tr.placeTextWithEllipsis(ar[dr],ar[dr].textContent,er.config.yaxis[0].labels.maxWidth-(er.config.yaxis[0].title.text?2*parseFloat(er.config.yaxis[0].title.style.fontSize):0)-15)}}}]),rr}(),Ki=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w;var tr=this.w;this.xaxisLabels=tr.globals.labels.slice(),this.axesUtils=new Ri(er),this.isRangeBar=tr.globals.seriesRange.length&&tr.globals.isBarHorizontal,tr.globals.timescaleLabels.length>0&&(this.xaxisLabels=tr.globals.timescaleLabels.slice())}return s(rr,[{key:"drawGridArea",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,tr=this.w,ir=new Mi(this.ctx);er||(er=ir.group({class:"apexcharts-grid"}));var nr=ir.drawLine(tr.globals.padHorizontal,1,tr.globals.padHorizontal,tr.globals.gridHeight,"transparent"),sr=ir.drawLine(tr.globals.padHorizontal,tr.globals.gridHeight,tr.globals.gridWidth,tr.globals.gridHeight,"transparent");return er.add(sr),er.add(nr),er}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var er=this.renderGrid();return this.drawGridArea(er.el),er}return null}},{key:"createGridMask",value:function(){var er=this.w,tr=er.globals,ir=new Mi(this.ctx),nr=Array.isArray(er.config.stroke.width)?Math.max.apply(Math,f(er.config.stroke.width)):er.config.stroke.width,sr=function(ur){var hr=document.createElementNS(tr.SVGNS,"clipPath");return hr.setAttribute("id",ur),hr};tr.dom.elGridRectMask=sr("gridRectMask".concat(tr.cuid)),tr.dom.elGridRectBarMask=sr("gridRectBarMask".concat(tr.cuid)),tr.dom.elGridRectMarkerMask=sr("gridRectMarkerMask".concat(tr.cuid)),tr.dom.elForecastMask=sr("forecastMask".concat(tr.cuid)),tr.dom.elNonForecastMask=sr("nonForecastMask".concat(tr.cuid));var ar=0,or=0;(["bar","rangeBar","candlestick","boxPlot"].includes(er.config.chart.type)||er.globals.comboBarCount>0)&&er.globals.isXNumeric&&!er.globals.isBarHorizontal&&(ar=Math.max(er.config.grid.padding.left,tr.barPadForNumericAxis),or=Math.max(er.config.grid.padding.right,tr.barPadForNumericAxis)),tr.dom.elGridRect=ir.drawRect(-nr/2-2,-nr/2-2,tr.gridWidth+nr+4,tr.gridHeight+nr+4,0,"#fff"),tr.dom.elGridRectBar=ir.drawRect(-nr/2-ar-2,-nr/2-2,tr.gridWidth+nr+or+ar+4,tr.gridHeight+nr+4,0,"#fff");var lr=er.globals.markers.largestSize;tr.dom.elGridRectMarker=ir.drawRect(-lr,-lr,tr.gridWidth+2*lr,tr.gridHeight+2*lr,0,"#fff"),tr.dom.elGridRectMask.appendChild(tr.dom.elGridRect.node),tr.dom.elGridRectBarMask.appendChild(tr.dom.elGridRectBar.node),tr.dom.elGridRectMarkerMask.appendChild(tr.dom.elGridRectMarker.node);var cr=tr.dom.baseEl.querySelector("defs");cr.appendChild(tr.dom.elGridRectMask),cr.appendChild(tr.dom.elGridRectBarMask),cr.appendChild(tr.dom.elGridRectMarkerMask),cr.appendChild(tr.dom.elForecastMask),cr.appendChild(tr.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(er){var tr=er.i,ir=er.x1,nr=er.y1,sr=er.x2,ar=er.y2,or=er.xCount,lr=er.parent,cr=this.w;if(!(tr===0&&cr.globals.skipFirstTimelinelabel||tr===or-1&&cr.globals.skipLastTimelinelabel&&!cr.config.xaxis.labels.formatter||cr.config.chart.type==="radar")){cr.config.grid.xaxis.lines.show&&this._drawGridLine({i:tr,x1:ir,y1:nr,x2:sr,y2:ar,xCount:or,parent:lr});var ur=0;if(cr.globals.hasXaxisGroups&&cr.config.xaxis.tickPlacement==="between"){var hr=cr.globals.groups;if(hr){for(var dr=0,gr=0;dr<tr&&gr<hr.length;gr++)dr+=hr[gr].cols;dr===tr&&(ur=.6*cr.globals.xAxisLabelsHeight)}}new Qi(this.ctx).drawXaxisTicks(ir,ur,cr.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(er){var tr=er.i,ir=er.x1,nr=er.y1,sr=er.x2,ar=er.y2,or=er.xCount,lr=er.parent,cr=this.w,ur=lr.node.classList.contains("apexcharts-gridlines-horizontal"),hr=cr.globals.barPadForNumericAxis,dr=nr===0&&ar===0||ir===0&&sr===0||nr===cr.globals.gridHeight&&ar===cr.globals.gridHeight||cr.globals.isBarHorizontal&&(tr===0||tr===or-1),gr=new Mi(this).drawLine(ir-(ur?hr:0),nr,sr+(ur?hr:0),ar,cr.config.grid.borderColor,cr.config.grid.strokeDashArray);gr.node.classList.add("apexcharts-gridline"),dr&&cr.config.grid.show?this.elGridBorders.add(gr):lr.add(gr)}},{key:"_drawGridBandRect",value:function(er){var tr=er.c,ir=er.x1,nr=er.y1,sr=er.x2,ar=er.y2,or=er.type,lr=this.w,cr=new Mi(this.ctx),ur=lr.globals.barPadForNumericAxis,hr=lr.config.grid[or].colors[tr],dr=cr.drawRect(ir-(or==="row"?ur:0),nr,sr+(or==="row"?2*ur:0),ar,0,hr,lr.config.grid[or].opacity);this.elg.add(dr),dr.attr("clip-path","url(#gridRectMask".concat(lr.globals.cuid,")")),dr.node.classList.add("apexcharts-grid-".concat(or))}},{key:"_drawXYLines",value:function(er){var tr=this,ir=er.xCount,nr=er.tickAmount,sr=this.w;if(sr.config.grid.xaxis.lines.show||sr.config.xaxis.axisTicks.show){var ar,or=sr.globals.padHorizontal,lr=sr.globals.gridHeight;sr.globals.timescaleLabels.length?function(pr){for(var mr=pr.xC,vr=pr.x1,yr=pr.y1,br=pr.x2,wr=pr.y2,Pr=0;Pr<mr;Pr++)vr=tr.xaxisLabels[Pr].position,br=tr.xaxisLabels[Pr].position,tr._drawGridLines({i:Pr,x1:vr,y1:yr,x2:br,y2:wr,xCount:ir,parent:tr.elgridLinesV})}({xC:ir,x1:or,y1:0,x2:ar,y2:lr}):(sr.globals.isXNumeric&&(ir=sr.globals.xAxisScale.result.length),function(pr){for(var mr=pr.xC,vr=pr.x1,yr=pr.y1,br=pr.x2,wr=pr.y2,Pr=0;Pr<mr+(sr.globals.isXNumeric?0:1);Pr++)Pr===0&&mr===1&&sr.globals.dataPoints===1&&(br=vr=sr.globals.gridWidth/2),tr._drawGridLines({i:Pr,x1:vr,y1:yr,x2:br,y2:wr,xCount:ir,parent:tr.elgridLinesV}),br=vr+=sr.globals.gridWidth/(sr.globals.isXNumeric?mr-1:mr)}({xC:ir,x1:or,y1:0,x2:ar,y2:lr}))}if(sr.config.grid.yaxis.lines.show){var cr=0,ur=0,hr=sr.globals.gridWidth,dr=nr+1;this.isRangeBar&&(dr=sr.globals.labels.length);for(var gr=0;gr<dr+(this.isRangeBar?1:0);gr++)this._drawGridLine({i:gr,xCount:dr+(this.isRangeBar?1:0),x1:0,y1:cr,x2:hr,y2:ur,parent:this.elgridLinesH}),ur=cr+=sr.globals.gridHeight/(this.isRangeBar?dr:nr)}}},{key:"_drawInvertedXYLines",value:function(er){var tr=er.xCount,ir=this.w;if(ir.config.grid.xaxis.lines.show||ir.config.xaxis.axisTicks.show)for(var nr,sr=ir.globals.padHorizontal,ar=ir.globals.gridHeight,or=0;or<tr+1;or++)ir.config.grid.xaxis.lines.show&&this._drawGridLine({i:or,xCount:tr+1,x1:sr,y1:0,x2:nr,y2:ar,parent:this.elgridLinesV}),new Qi(this.ctx).drawXaxisTicks(sr,0,ir.globals.dom.elGraphical),nr=sr+=ir.globals.gridWidth/tr;if(ir.config.grid.yaxis.lines.show)for(var lr=0,cr=0,ur=ir.globals.gridWidth,hr=0;hr<ir.globals.dataPoints+1;hr++)this._drawGridLine({i:hr,xCount:ir.globals.dataPoints+1,x1:0,y1:lr,x2:ur,y2:cr,parent:this.elgridLinesH}),cr=lr+=ir.globals.gridHeight/ir.globals.dataPoints}},{key:"renderGrid",value:function(){var er=this.w,tr=er.globals,ir=new Mi(this.ctx);this.elg=ir.group({class:"apexcharts-grid"}),this.elgridLinesH=ir.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=ir.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=ir.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),er.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var nr=0;nr<tr.seriesYAxisMap.length&&tr.ignoreYAxisIndexes.includes(nr);)nr++;nr===tr.seriesYAxisMap.length&&(nr=0);var sr,ar=tr.yAxisScale[nr].result.length-1;if(!tr.isBarHorizontal||this.isRangeBar){var or,lr,cr;sr=this.xaxisLabels.length,this.isRangeBar&&(ar=tr.labels.length,er.config.xaxis.tickAmount&&er.config.xaxis.labels.formatter&&(sr=er.config.xaxis.tickAmount),((or=tr.yAxisScale)===null||or===void 0||(lr=or[nr])===null||lr===void 0||(cr=lr.result)===null||cr===void 0?void 0:cr.length)>0&&er.config.xaxis.type!=="datetime"&&(sr=tr.yAxisScale[nr].result.length-1)),this._drawXYLines({xCount:sr,tickAmount:ar})}else sr=ar,ar=tr.xTickAmount,this._drawInvertedXYLines({xCount:sr,tickAmount:ar});return this.drawGridBands(sr,ar),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:tr.gridWidth/sr}}},{key:"drawGridBands",value:function(er,tr){var ir,nr,sr=this,ar=this.w;if(((ir=ar.config.grid.row.colors)===null||ir===void 0?void 0:ir.length)>0&&function(pr,mr,vr,yr,br,wr){for(var Pr=0,Tr=0;Pr<mr;Pr++,Tr++)Tr>=ar.config.grid[pr].colors.length&&(Tr=0),sr._drawGridBandRect({c:Tr,x1:vr,y1:yr,x2:br,y2:wr,type:pr}),yr+=ar.globals.gridHeight/tr}("row",tr,0,0,ar.globals.gridWidth,ar.globals.gridHeight/tr),((nr=ar.config.grid.column.colors)===null||nr===void 0?void 0:nr.length)>0){var or=ar.globals.isBarHorizontal||ar.config.xaxis.tickPlacement!=="on"||ar.config.xaxis.type!=="category"&&!ar.config.xaxis.convertedCatToNumeric?er:er-1;ar.globals.isXNumeric&&(or=ar.globals.xAxisScale.result.length-1);for(var lr=ar.globals.padHorizontal,cr=ar.globals.padHorizontal+ar.globals.gridWidth/or,ur=ar.globals.gridHeight,hr=0,dr=0;hr<er;hr++,dr++){var gr;dr>=ar.config.grid.column.colors.length&&(dr=0),ar.config.xaxis.type==="datetime"&&(lr=this.xaxisLabels[hr].position,cr=(((gr=this.xaxisLabels[hr+1])===null||gr===void 0?void 0:gr.position)||ar.globals.gridWidth)-this.xaxisLabels[hr].position),this._drawGridBandRect({c:dr,x1:lr,y1:0,x2:cr,y2:ur,type:"column"}),lr+=ar.globals.gridWidth/or}}}}]),rr}(),ta=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.coreUtils=new Pi(this.ctx)}return s(rr,[{key:"niceScale",value:function(er,tr){var ir,nr,sr,ar,or=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,lr=1e-11,cr=this.w,ur=cr.globals;ur.isBarHorizontal?(ir=cr.config.xaxis,nr=Math.max((ur.svgWidth-100)/25,2)):(ir=cr.config.yaxis[or],nr=Math.max((ur.svgHeight-100)/15,2)),v.isNumber(nr)||(nr=10),sr=ir.min!==void 0&&ir.min!==null,ar=ir.max!==void 0&&ir.min!==null;var hr=ir.stepSize!==void 0&&ir.stepSize!==null,dr=ir.tickAmount!==void 0&&ir.tickAmount!==null,gr=dr?ir.tickAmount:ur.niceScaleDefaultTicks[Math.min(Math.round(nr/2),ur.niceScaleDefaultTicks.length-1)];if(ur.isMultipleYAxis&&!dr&&ur.multiAxisTickAmount>0&&(gr=ur.multiAxisTickAmount,dr=!0),gr=gr==="dataPoints"?ur.dataPoints-1:Math.abs(Math.round(gr)),(er===Number.MIN_VALUE&&tr===0||!v.isNumber(er)&&!v.isNumber(tr)||er===Number.MIN_VALUE&&tr===-Number.MAX_VALUE)&&(er=v.isNumber(ir.min)?ir.min:0,tr=v.isNumber(ir.max)?ir.max:er+gr,ur.allSeriesCollapsed=!1),er>tr){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var pr=tr;tr=er,er=pr}else er===tr&&(er=er===0?0:er-1,tr=tr===0?2:tr+1);var mr=[];gr<1&&(gr=1);var vr=gr,yr=Math.abs(tr-er);!sr&&er>0&&er/yr<.15&&(er=0,sr=!0),!ar&&tr<0&&-tr/yr<.15&&(tr=0,ar=!0);var br=(yr=Math.abs(tr-er))/vr,wr=br,Pr=Math.floor(Math.log10(wr)),Tr=Math.pow(10,Pr),Vr=Math.ceil(wr/Tr);if(br=wr=(Vr=ur.niceScaleAllowedMagMsd[ur.yValueDecimal===0?0:1][Vr])*Tr,ur.isBarHorizontal&&ir.stepSize&&ir.type!=="datetime"?(br=ir.stepSize,hr=!0):hr&&(br=ir.stepSize),hr&&ir.forceNiceScale){var Ar=Math.floor(Math.log10(br));br*=Math.pow(10,Pr-Ar)}if(sr&&ar){var xr=yr/vr;if(dr)if(hr)if(v.mod(yr,br)!=0){var Er=v.getGCD(br,xr);br=xr/Er<10?Er:xr}else v.mod(br,xr)==0?br=xr:(xr=br,dr=!1);else br=xr;else if(hr)v.mod(yr,br)==0?xr=br:br=xr;else if(v.mod(yr,br)==0)xr=br;else{xr=yr/(vr=Math.ceil(yr/br));var Cr=v.getGCD(yr,br);yr/Cr<nr&&(xr=Cr),br=xr}vr=Math.round(yr/br)}else{if(sr||ar){if(ar)if(dr)er=tr-br*vr;else{var Rr=er;er=br*Math.floor(er/br),Math.abs(tr-er)/v.getGCD(yr,br)>nr&&(er=tr-br*gr,er+=br*Math.floor((Rr-er)/br))}else if(sr)if(dr)tr=er+br*vr;else{var kr=tr;tr=br*Math.ceil(tr/br),Math.abs(tr-er)/v.getGCD(yr,br)>nr&&(tr=er+br*gr,tr+=br*Math.ceil((kr-tr)/br))}}else if(ur.isMultipleYAxis&&dr){var Sr=br*Math.floor(er/br),Nr=Sr+br*vr;Nr<tr&&(br*=2),Nr=tr,tr=(er=Sr)+br*vr,yr=Math.abs(tr-er),er>0&&er<Math.abs(Nr-tr)&&(er=0,tr=br*vr),tr<0&&-tr<Math.abs(Sr-er)&&(tr=0,er=-br*vr)}else er=br*Math.floor(er/br),tr=br*Math.ceil(tr/br);yr=Math.abs(tr-er),br=v.getGCD(yr,br),vr=Math.round(yr/br)}if(dr||sr||ar||(vr=Math.ceil((yr-lr)/(br+lr)))>16&&v.getPrimeFactors(vr).length<2&&vr++,!dr&&ir.forceNiceScale&&ur.yValueDecimal===0&&vr>yr&&(vr=yr,br=Math.round(yr/vr)),vr>nr&&(!dr&&!hr||ir.forceNiceScale)){var Hr=v.getPrimeFactors(vr),zr=Hr.length-1,$r=vr;e:for(var jr=0;jr<zr;jr++)for(var Jr=0;Jr<=zr-jr;Jr++){for(var ln=Math.min(Jr+jr,zr),un=$r,Qr=1,pn=Jr;pn<=ln;pn++)Qr*=Hr[pn];if((un/=Qr)<nr){$r=un;break e}}br=$r===vr?yr:yr/$r,vr=Math.round(yr/br)}ur.isMultipleYAxis&&ur.multiAxisTickAmount==0&&ur.ignoreYAxisIndexes.indexOf(or)<0&&(ur.multiAxisTickAmount=vr);var fn=er-br,An=br*lr;do fn+=br,mr.push(v.stripNumber(fn,7));while(tr-fn>An);return{result:mr,niceMin:mr[0],niceMax:mr[mr.length-1]}}},{key:"linearScale",value:function(er,tr){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,sr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,ar=Math.abs(tr-er),or=[];if(er===tr)return{result:or=[er],niceMin:or[0],niceMax:or[or.length-1]};(ir=this._adjustTicksForSmallRange(ir,nr,ar))==="dataPoints"&&(ir=this.w.globals.dataPoints-1),sr||(sr=ar/ir),sr=Math.round(100*(sr+Number.EPSILON))/100,ir===Number.MAX_VALUE&&(ir=5,sr=1);for(var lr=er;ir>=0;)or.push(lr),lr=v.preciseAddition(lr,sr),ir-=1;return{result:or,niceMin:or[0],niceMax:or[or.length-1]}}},{key:"logarithmicScaleNice",value:function(er,tr,ir){tr<=0&&(tr=Math.max(er,ir)),er<=0&&(er=Math.min(tr,ir));for(var nr=[],sr=Math.ceil(Math.log(tr)/Math.log(ir)+1),ar=Math.floor(Math.log(er)/Math.log(ir));ar<sr;ar++)nr.push(Math.pow(ir,ar));return{result:nr,niceMin:nr[0],niceMax:nr[nr.length-1]}}},{key:"logarithmicScale",value:function(er,tr,ir){tr<=0&&(tr=Math.max(er,ir)),er<=0&&(er=Math.min(tr,ir));for(var nr=[],sr=Math.log(tr)/Math.log(ir),ar=Math.log(er)/Math.log(ir),or=sr-ar,lr=Math.round(or),cr=or/lr,ur=0,hr=ar;ur<lr;ur++,hr+=cr)nr.push(Math.pow(ir,hr));return nr.push(Math.pow(ir,sr)),{result:nr,niceMin:er,niceMax:tr}}},{key:"_adjustTicksForSmallRange",value:function(er,tr,ir){var nr=er;if(tr!==void 0&&this.w.config.yaxis[tr].labels.formatter&&this.w.config.yaxis[tr].tickAmount===void 0){var sr=Number(this.w.config.yaxis[tr].labels.formatter(1));v.isNumber(sr)&&this.w.globals.yValueDecimal===0&&(nr=Math.ceil(ir))}return nr<er?nr:er}},{key:"setYScaleForIndex",value:function(er,tr,ir){var nr=this.w.globals,sr=this.w.config,ar=nr.isBarHorizontal?sr.xaxis:sr.yaxis[er];nr.yAxisScale[er]===void 0&&(nr.yAxisScale[er]=[]);var or=Math.abs(ir-tr);ar.logarithmic&&or<=5&&(nr.invalidLogScale=!0),ar.logarithmic&&or>5?(nr.allSeriesCollapsed=!1,nr.yAxisScale[er]=ar.forceNiceScale?this.logarithmicScaleNice(tr,ir,ar.logBase):this.logarithmicScale(tr,ir,ar.logBase)):ir!==-Number.MAX_VALUE&&v.isNumber(ir)&&tr!==Number.MAX_VALUE&&v.isNumber(tr)?(nr.allSeriesCollapsed=!1,nr.yAxisScale[er]=this.niceScale(tr,ir,er)):nr.yAxisScale[er]=this.niceScale(Number.MIN_VALUE,0,er)}},{key:"setXScale",value:function(er,tr){var ir=this.w,nr=ir.globals;if(tr!==-Number.MAX_VALUE&&v.isNumber(tr)){var sr=nr.xTickAmount;nr.xAxisScale=this.linearScale(er,tr,sr,0,ir.config.xaxis.stepSize)}else nr.xAxisScale=this.linearScale(0,10,10);return nr.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var er=this,tr=this.w.config,ir=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var nr=ir.seriesYAxisMap,sr=ir.minYArr,ar=ir.maxYArr;ir.allSeriesCollapsed=!0,ir.barGroups=[],nr.forEach(function(or,lr){var cr=[];or.forEach(function(ur){var hr,dr=(hr=tr.series[ur])===null||hr===void 0?void 0:hr.group;cr.indexOf(dr)<0&&cr.push(dr)}),or.length>0?function(){var ur,hr,dr=Number.MAX_VALUE,gr=-Number.MAX_VALUE,pr=dr,mr=gr;if(tr.chart.stacked)(function(){var br=new Array(ir.dataPoints).fill(0),wr=[],Pr=[],Tr=[];cr.forEach(function(){wr.push(br.map(function(){return Number.MIN_VALUE})),Pr.push(br.map(function(){return Number.MIN_VALUE})),Tr.push(br.map(function(){return Number.MIN_VALUE}))});for(var Vr=function(xr){!ur&&tr.series[or[xr]].type&&(ur=tr.series[or[xr]].type);var Er=or[xr];hr=tr.series[Er].group?tr.series[Er].group:"axis-".concat(lr),!(ir.collapsedSeriesIndices.indexOf(Er)<0&&ir.ancillaryCollapsedSeriesIndices.indexOf(Er)<0)||(ir.allSeriesCollapsed=!1,cr.forEach(function(Cr,Rr){if(tr.series[Er].group===Cr)for(var kr=0;kr<ir.series[Er].length;kr++){var Sr=ir.series[Er][kr];Sr>=0?Pr[Rr][kr]+=Sr:Tr[Rr][kr]+=Sr,wr[Rr][kr]+=Sr,pr=Math.min(pr,Sr),mr=Math.max(mr,Sr)}})),ur!=="bar"&&ur!=="column"||ir.barGroups.push(hr)},Ar=0;Ar<or.length;Ar++)Vr(Ar);ur||(ur=tr.chart.type),ur==="bar"||ur==="column"?cr.forEach(function(xr,Er){dr=Math.min(dr,Math.min.apply(null,Tr[Er])),gr=Math.max(gr,Math.max.apply(null,Pr[Er]))}):(cr.forEach(function(xr,Er){pr=Math.min(pr,Math.min.apply(null,wr[Er])),mr=Math.max(mr,Math.max.apply(null,wr[Er]))}),dr=pr,gr=mr),dr===Number.MIN_VALUE&&gr===Number.MIN_VALUE&&(gr=-Number.MAX_VALUE)})();else for(var vr=0;vr<or.length;vr++){var yr=or[vr];dr=Math.min(dr,sr[yr]),gr=Math.max(gr,ar[yr]),!(ir.collapsedSeriesIndices.indexOf(yr)<0&&ir.ancillaryCollapsedSeriesIndices.indexOf(yr)<0)||(ir.allSeriesCollapsed=!1)}tr.yaxis[lr].min!==void 0&&(dr=typeof tr.yaxis[lr].min=="function"?tr.yaxis[lr].min(dr):tr.yaxis[lr].min),tr.yaxis[lr].max!==void 0&&(gr=typeof tr.yaxis[lr].max=="function"?tr.yaxis[lr].max(gr):tr.yaxis[lr].max),ir.barGroups=ir.barGroups.filter(function(br,wr,Pr){return Pr.indexOf(br)===wr}),er.setYScaleForIndex(lr,dr,gr),or.forEach(function(br){sr[br]=ir.yAxisScale[lr].niceMin,ar[br]=ir.yAxisScale[lr].niceMax})}():er.setYScaleForIndex(lr,0,-Number.MAX_VALUE)})}}]),rr}(),ea=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.scales=new ta(er)}return s(rr,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,sr=this.w.config,ar=this.w.globals,or=-Number.MAX_VALUE,lr=Number.MIN_VALUE;nr===null&&(nr=er+1);var cr=ar.series,ur=cr,hr=cr;sr.chart.type==="candlestick"?(ur=ar.seriesCandleL,hr=ar.seriesCandleH):sr.chart.type==="boxPlot"?(ur=ar.seriesCandleO,hr=ar.seriesCandleC):ar.isRangeData&&(ur=ar.seriesRangeStart,hr=ar.seriesRangeEnd);var dr=!1;if(ar.seriesX.length>=nr){var gr,pr=(gr=ar.brushSource)===null||gr===void 0?void 0:gr.w.config.chart.brush;(sr.chart.zoom.enabled&&sr.chart.zoom.autoScaleYaxis||pr!=null&&pr.enabled&&pr!=null&&pr.autoScaleYaxis)&&(dr=!0)}for(var mr=er;mr<nr;mr++){ar.dataPoints=Math.max(ar.dataPoints,cr[mr].length);var vr=sr.series[mr].type;ar.categoryLabels.length&&(ar.dataPoints=ar.categoryLabels.filter(function(Tr){return Tr!==void 0}).length),ar.labels.length&&sr.xaxis.type!=="datetime"&&ar.series.reduce(function(Tr,Vr){return Tr+Vr.length},0)!==0&&(ar.dataPoints=Math.max(ar.dataPoints,ar.labels.length));var yr=0,br=cr[mr].length-1;if(dr){if(sr.xaxis.min)for(;yr<br&&ar.seriesX[mr][yr]<sr.xaxis.min;yr++);if(sr.xaxis.max)for(;br>yr&&ar.seriesX[mr][br]>sr.xaxis.max;br--);}for(var wr=yr;wr<=br&&wr<ar.series[mr].length;wr++){var Pr=cr[mr][wr];if(Pr!==null&&v.isNumber(Pr)){switch(hr[mr][wr]!==void 0&&(or=Math.max(or,hr[mr][wr]),tr=Math.min(tr,hr[mr][wr])),ur[mr][wr]!==void 0&&(tr=Math.min(tr,ur[mr][wr]),ir=Math.max(ir,ur[mr][wr])),vr){case"candlestick":ar.seriesCandleC[mr][wr]!==void 0&&(or=Math.max(or,ar.seriesCandleH[mr][wr]),tr=Math.min(tr,ar.seriesCandleL[mr][wr]));break;case"boxPlot":ar.seriesCandleC[mr][wr]!==void 0&&(or=Math.max(or,ar.seriesCandleC[mr][wr]),tr=Math.min(tr,ar.seriesCandleO[mr][wr]))}vr&&vr!=="candlestick"&&vr!=="boxPlot"&&vr!=="rangeArea"&&vr!=="rangeBar"&&(or=Math.max(or,ar.series[mr][wr]),tr=Math.min(tr,ar.series[mr][wr])),ar.seriesGoals[mr]&&ar.seriesGoals[mr][wr]&&Array.isArray(ar.seriesGoals[mr][wr])&&ar.seriesGoals[mr][wr].forEach(function(Tr){or=Math.max(or,Tr.value),tr=Math.min(tr,Tr.value)}),ir=or,Pr=v.noExponents(Pr),v.isFloat(Pr)&&(ar.yValueDecimal=Math.max(ar.yValueDecimal,Pr.toString().split(".")[1].length)),lr>ur[mr][wr]&&ur[mr][wr]<0&&(lr=ur[mr][wr])}else ar.hasNullValues=!0}vr!=="bar"&&vr!=="column"||(lr<0&&or<0&&(or=0,ir=Math.max(ir,0)),lr===Number.MIN_VALUE&&(lr=0,tr=Math.min(tr,0)))}return sr.chart.type==="rangeBar"&&ar.seriesRangeStart.length&&ar.isBarHorizontal&&(lr=tr),sr.chart.type==="bar"&&(lr<0&&or<0&&(or=0),lr===Number.MIN_VALUE&&(lr=0)),{minY:lr,maxY:or,lowestY:tr,highestY:ir}}},{key:"setYRange",value:function(){var er=this.w.globals,tr=this.w.config;er.maxY=-Number.MAX_VALUE,er.minY=Number.MIN_VALUE;var ir,nr=Number.MAX_VALUE;if(er.isMultipleYAxis){nr=Number.MAX_VALUE;for(var sr=0;sr<er.series.length;sr++)ir=this.getMinYMaxY(sr),er.minYArr[sr]=ir.lowestY,er.maxYArr[sr]=ir.highestY,nr=Math.min(nr,ir.lowestY)}return ir=this.getMinYMaxY(0,nr,null,er.series.length),tr.chart.type==="bar"?(er.minY=ir.minY,er.maxY=ir.maxY):(er.minY=ir.lowestY,er.maxY=ir.highestY),nr=ir.lowestY,tr.chart.stacked&&this._setStackedMinMax(),tr.chart.type==="line"||tr.chart.type==="area"||tr.chart.type==="scatter"||tr.chart.type==="candlestick"||tr.chart.type==="boxPlot"||tr.chart.type==="rangeBar"&&!er.isBarHorizontal?er.minY===Number.MIN_VALUE&&nr!==-Number.MAX_VALUE&&nr!==er.maxY&&(er.minY=nr):er.minY=er.minY!==Number.MIN_VALUE?Math.min(ir.minY,er.minY):ir.minY,tr.yaxis.forEach(function(ar,or){ar.max!==void 0&&(typeof ar.max=="number"?er.maxYArr[or]=ar.max:typeof ar.max=="function"&&(er.maxYArr[or]=ar.max(er.isMultipleYAxis?er.maxYArr[or]:er.maxY)),er.maxY=er.maxYArr[or]),ar.min!==void 0&&(typeof ar.min=="number"?er.minYArr[or]=ar.min:typeof ar.min=="function"&&(er.minYArr[or]=ar.min(er.isMultipleYAxis?er.minYArr[or]===Number.MIN_VALUE?0:er.minYArr[or]:er.minY)),er.minY=er.minYArr[or])}),er.isBarHorizontal&&["min","max"].forEach(function(ar){tr.xaxis[ar]!==void 0&&typeof tr.xaxis[ar]=="number"&&(ar==="min"?er.minY=tr.xaxis[ar]:er.maxY=tr.xaxis[ar])}),er.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),er.minY=nr):(this.scales.setYScaleForIndex(0,er.minY,er.maxY),er.minY=er.yAxisScale[0].niceMin,er.maxY=er.yAxisScale[0].niceMax,er.minYArr[0]=er.minY,er.maxYArr[0]=er.maxY),er.barGroups=[],er.lineGroups=[],er.areaGroups=[],tr.series.forEach(function(ar){switch(ar.type||tr.chart.type){case"bar":case"column":er.barGroups.push(ar.group);break;case"line":er.lineGroups.push(ar.group);break;case"area":er.areaGroups.push(ar.group)}}),er.barGroups=er.barGroups.filter(function(ar,or,lr){return lr.indexOf(ar)===or}),er.lineGroups=er.lineGroups.filter(function(ar,or,lr){return lr.indexOf(ar)===or}),er.areaGroups=er.areaGroups.filter(function(ar,or,lr){return lr.indexOf(ar)===or}),{minY:er.minY,maxY:er.maxY,minYArr:er.minYArr,maxYArr:er.maxYArr,yAxisScale:er.yAxisScale}}},{key:"setXRange",value:function(){var er=this.w.globals,tr=this.w.config,ir=tr.xaxis.type==="numeric"||tr.xaxis.type==="datetime"||tr.xaxis.type==="category"&&!er.noLabelsProvided||er.noLabelsProvided||er.isXNumeric;if(er.isXNumeric&&function(){for(var lr=0;lr<er.series.length;lr++)if(er.labels[lr])for(var cr=0;cr<er.labels[lr].length;cr++)er.labels[lr][cr]!==null&&v.isNumber(er.labels[lr][cr])&&(er.maxX=Math.max(er.maxX,er.labels[lr][cr]),er.initialMaxX=Math.max(er.maxX,er.labels[lr][cr]),er.minX=Math.min(er.minX,er.labels[lr][cr]),er.initialMinX=Math.min(er.minX,er.labels[lr][cr]))}(),er.noLabelsProvided&&tr.xaxis.categories.length===0&&(er.maxX=er.labels[er.labels.length-1],er.initialMaxX=er.labels[er.labels.length-1],er.minX=1,er.initialMinX=1),er.isXNumeric||er.noLabelsProvided||er.dataFormatXNumeric){var nr=10;if(tr.xaxis.tickAmount===void 0)nr=Math.round(er.svgWidth/150),tr.xaxis.type==="numeric"&&er.dataPoints<30&&(nr=er.dataPoints-1),nr>er.dataPoints&&er.dataPoints!==0&&(nr=er.dataPoints-1);else if(tr.xaxis.tickAmount==="dataPoints"){if(er.series.length>1&&(nr=er.series[er.maxValsInArrayIndex].length-1),er.isXNumeric){var sr=Math.round(er.maxX-er.minX);sr<30&&(nr=sr-1)}}else nr=tr.xaxis.tickAmount;if(er.xTickAmount=nr,tr.xaxis.max!==void 0&&typeof tr.xaxis.max=="number"&&(er.maxX=tr.xaxis.max),tr.xaxis.min!==void 0&&typeof tr.xaxis.min=="number"&&(er.minX=tr.xaxis.min),tr.xaxis.range!==void 0&&(er.minX=er.maxX-tr.xaxis.range),er.minX!==Number.MAX_VALUE&&er.maxX!==-Number.MAX_VALUE)if(tr.xaxis.convertedCatToNumeric&&!er.dataFormatXNumeric){for(var ar=[],or=er.minX-1;or<er.maxX;or++)ar.push(or+1);er.xAxisScale={result:ar,niceMin:ar[0],niceMax:ar[ar.length-1]}}else er.xAxisScale=this.scales.setXScale(er.minX,er.maxX);else er.xAxisScale=this.scales.linearScale(0,nr,nr,0,tr.xaxis.stepSize),er.noLabelsProvided&&er.labels.length>0&&(er.xAxisScale=this.scales.linearScale(1,er.labels.length,nr-1,0,tr.xaxis.stepSize),er.seriesX=er.labels.slice());ir&&(er.labels=er.xAxisScale.result.slice())}return er.isBarHorizontal&&er.labels.length&&(er.xTickAmount=er.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:er.minX,maxX:er.maxX}}},{key:"setZRange",value:function(){var er=this.w.globals;if(er.isDataXYZ){for(var tr=0;tr<er.series.length;tr++)if(er.seriesZ[tr]!==void 0)for(var ir=0;ir<er.seriesZ[tr].length;ir++)er.seriesZ[tr][ir]!==null&&v.isNumber(er.seriesZ[tr][ir])&&(er.maxZ=Math.max(er.maxZ,er.seriesZ[tr][ir]),er.minZ=Math.min(er.minZ,er.seriesZ[tr][ir]))}}},{key:"_handleSingleDataPoint",value:function(){var er=this.w.globals,tr=this.w.config;if(er.minX===er.maxX){var ir=new zi(this.ctx);if(tr.xaxis.type==="datetime"){var nr=ir.getDate(er.minX);tr.xaxis.labels.datetimeUTC?nr.setUTCDate(nr.getUTCDate()-2):nr.setDate(nr.getDate()-2),er.minX=new Date(nr).getTime();var sr=ir.getDate(er.maxX);tr.xaxis.labels.datetimeUTC?sr.setUTCDate(sr.getUTCDate()+2):sr.setDate(sr.getDate()+2),er.maxX=new Date(sr).getTime()}else(tr.xaxis.type==="numeric"||tr.xaxis.type==="category"&&!er.noLabelsProvided)&&(er.minX=er.minX-2,er.initialMinX=er.minX,er.maxX=er.maxX+2,er.initialMaxX=er.maxX)}}},{key:"_getMinXDiff",value:function(){var er=this.w.globals;er.isXNumeric&&er.seriesX.forEach(function(tr,ir){if(tr.length){tr.length===1&&tr.push(er.seriesX[er.maxValsInArrayIndex][er.seriesX[er.maxValsInArrayIndex].length-1]);var nr=tr.slice();nr.sort(function(sr,ar){return sr-ar}),nr.forEach(function(sr,ar){if(ar>0){var or=sr-nr[ar-1];or>0&&(er.minXDiff=Math.min(or,er.minXDiff))}}),er.dataPoints!==1&&er.minXDiff!==Number.MAX_VALUE||(er.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var er=this,tr=this.w.globals;if(tr.series.length){var ir=tr.seriesGroups;ir.length||(ir=[this.w.globals.seriesNames.map(function(ar){return ar})]);var nr={},sr={};ir.forEach(function(ar){nr[ar]=[],sr[ar]=[],er.w.config.series.map(function(or,lr){return ar.indexOf(tr.seriesNames[lr])>-1?lr:null}).filter(function(or){return or!==null}).forEach(function(or){for(var lr=0;lr<tr.series[tr.maxValsInArrayIndex].length;lr++){var cr,ur,hr,dr;nr[ar][lr]===void 0&&(nr[ar][lr]=0,sr[ar][lr]=0),(er.w.config.chart.stacked&&!tr.comboCharts||er.w.config.chart.stacked&&tr.comboCharts&&(!er.w.config.chart.stackOnlyBar||((cr=er.w.config.series)===null||cr===void 0||(ur=cr[or])===null||ur===void 0?void 0:ur.type)==="bar"||((hr=er.w.config.series)===null||hr===void 0||(dr=hr[or])===null||dr===void 0?void 0:dr.type)==="column"))&&tr.series[or][lr]!==null&&v.isNumber(tr.series[or][lr])&&(tr.series[or][lr]>0?nr[ar][lr]+=parseFloat(tr.series[or][lr])+1e-4:sr[ar][lr]+=parseFloat(tr.series[or][lr]))}})}),Object.entries(nr).forEach(function(ar){var or=p(ar,1)[0];nr[or].forEach(function(lr,cr){tr.maxY=Math.max(tr.maxY,nr[or][cr]),tr.minY=Math.min(tr.minY,sr[or][cr])})})}}}]),rr}(),ia=function(){function rr(er,tr){i(this,rr),this.ctx=er,this.elgrid=tr,this.w=er.w;var ir=this.w;this.xaxisFontSize=ir.config.xaxis.labels.style.fontSize,this.axisFontFamily=ir.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=ir.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=ir.config.chart.type==="bar"&&ir.config.plotOptions.bar.horizontal,this.xAxisoffX=ir.config.xaxis.position==="bottom"?ir.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ri(er)}return s(rr,[{key:"drawYaxis",value:function(er){var tr=this.w,ir=new Mi(this.ctx),nr=tr.config.yaxis[er].labels.style,sr=nr.fontSize,ar=nr.fontFamily,or=nr.fontWeight,lr=ir.group({class:"apexcharts-yaxis",rel:er,transform:"translate(".concat(tr.globals.translateYAxisX[er],", 0)")});if(this.axesUtils.isYAxisHidden(er))return lr;var cr=ir.group({class:"apexcharts-yaxis-texts-g"});lr.add(cr);var ur=tr.globals.yAxisScale[er].result.length-1,hr=tr.globals.gridHeight/ur,dr=tr.globals.yLabelFormatters[er],gr=this.axesUtils.checkForReversedLabels(er,tr.globals.yAxisScale[er].result.slice());if(tr.config.yaxis[er].labels.show){var pr=tr.globals.translateY+tr.config.yaxis[er].labels.offsetY;tr.globals.isBarHorizontal?pr=0:tr.config.chart.type==="heatmap"&&(pr-=hr/2),pr+=parseInt(sr,10)/3;for(var mr=ur;mr>=0;mr--){var vr=dr(gr[mr],mr,tr),yr=tr.config.yaxis[er].labels.padding;tr.config.yaxis[er].opposite&&tr.config.yaxis.length!==0&&(yr*=-1);var br=this.getTextAnchor(tr.config.yaxis[er].labels.align,tr.config.yaxis[er].opposite),wr=this.axesUtils.getYAxisForeColor(nr.colors,er),Pr=Array.isArray(wr)?wr[mr]:wr,Tr=v.listToArray(tr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(er,"'] .apexcharts-yaxis-label tspan"))).map(function(Ar){return Ar.textContent}),Vr=ir.drawText({x:yr,y:pr,text:Tr.includes(vr)&&!tr.config.yaxis[er].labels.showDuplicates?"":vr,textAnchor:br,fontSize:sr,fontFamily:ar,fontWeight:or,maxWidth:tr.config.yaxis[er].labels.maxWidth,foreColor:Pr,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(nr.cssClass)});cr.add(Vr),this.addTooltip(Vr,vr),tr.config.yaxis[er].labels.rotate!==0&&this.rotateLabel(ir,Vr,firstLabel,tr.config.yaxis[er].labels.rotate),pr+=hr}}return this.addYAxisTitle(ir,lr,er),this.addAxisBorder(ir,lr,er,ur,hr),lr}},{key:"getTextAnchor",value:function(er,tr){return er==="left"?"start":er==="center"?"middle":er==="right"?"end":tr?"start":"end"}},{key:"addTooltip",value:function(er,tr){var ir=document.createElementNS(this.w.globals.SVGNS,"title");ir.textContent=Array.isArray(tr)?tr.join(" "):tr,er.node.appendChild(ir)}},{key:"rotateLabel",value:function(er,tr,ir,nr){var sr=er.rotateAroundCenter(ir.node),ar=er.rotateAroundCenter(tr.node);tr.node.setAttribute("transform","rotate(".concat(nr," ").concat(sr.x," ").concat(ar.y,")"))}},{key:"addYAxisTitle",value:function(er,tr,ir){var nr=this.w;if(nr.config.yaxis[ir].title.text!==void 0){var sr=er.group({class:"apexcharts-yaxis-title"}),ar=nr.config.yaxis[ir].opposite?nr.globals.translateYAxisX[ir]:0,or=er.drawText({x:ar,y:nr.globals.gridHeight/2+nr.globals.translateY+nr.config.yaxis[ir].title.offsetY,text:nr.config.yaxis[ir].title.text,textAnchor:"end",foreColor:nr.config.yaxis[ir].title.style.color,fontSize:nr.config.yaxis[ir].title.style.fontSize,fontWeight:nr.config.yaxis[ir].title.style.fontWeight,fontFamily:nr.config.yaxis[ir].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(nr.config.yaxis[ir].title.style.cssClass)});sr.add(or),tr.add(sr)}}},{key:"addAxisBorder",value:function(er,tr,ir,nr,sr){var ar=this.w,or=ar.config.yaxis[ir].axisBorder,lr=31+or.offsetX;if(ar.config.yaxis[ir].opposite&&(lr=-31-or.offsetX),or.show){var cr=er.drawLine(lr,ar.globals.translateY+or.offsetY-2,lr,ar.globals.gridHeight+ar.globals.translateY+or.offsetY+2,or.color,0,or.width);tr.add(cr)}ar.config.yaxis[ir].axisTicks.show&&this.axesUtils.drawYAxisTicks(lr,nr,or,ar.config.yaxis[ir].axisTicks,ir,sr,tr)}},{key:"drawYaxisInversed",value:function(er){var tr=this.w,ir=new Mi(this.ctx),nr=ir.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),sr=ir.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(tr.globals.translateXAxisX,", ").concat(tr.globals.translateXAxisY,")")});nr.add(sr);var ar=tr.globals.yAxisScale[er].result.length-1,or=tr.globals.gridWidth/ar+.1,lr=or+tr.config.xaxis.labels.offsetX,cr=tr.globals.xLabelFormatter,ur=this.axesUtils.checkForReversedLabels(er,tr.globals.yAxisScale[er].result.slice()),hr=tr.globals.timescaleLabels;if(hr.length>0&&(this.xaxisLabels=hr.slice(),ar=(ur=hr.slice()).length),tr.config.xaxis.labels.show)for(var dr=hr.length?0:ar;hr.length?dr<hr.length:dr>=0;hr.length?dr++:dr--){var gr=cr(ur[dr],dr,tr),pr=tr.globals.gridWidth+tr.globals.padHorizontal-(lr-or+tr.config.xaxis.labels.offsetX);if(hr.length){var mr=this.axesUtils.getLabel(ur,hr,pr,dr,this.drawnLabels,this.xaxisFontSize);pr=mr.x,gr=mr.text,this.drawnLabels.push(mr.text),dr===0&&tr.globals.skipFirstTimelinelabel&&(gr=""),dr===ur.length-1&&tr.globals.skipLastTimelinelabel&&(gr="")}var vr=ir.drawText({x:pr,y:this.xAxisoffX+tr.config.xaxis.labels.offsetY+30-(tr.config.xaxis.position==="top"?tr.globals.xAxisHeight+tr.config.xaxis.axisTicks.height-2:0),text:gr,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[er]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:tr.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(tr.config.xaxis.labels.style.cssClass)});sr.add(vr),vr.tspan(gr),this.addTooltip(vr,gr),lr+=or}return this.inversedYAxisTitleText(nr),this.inversedYAxisBorder(nr),nr}},{key:"inversedYAxisBorder",value:function(er){var tr=this.w,ir=new Mi(this.ctx),nr=tr.config.xaxis.axisBorder;if(nr.show){var sr=0;tr.config.chart.type==="bar"&&tr.globals.isXNumeric&&(sr-=15);var ar=ir.drawLine(tr.globals.padHorizontal+sr+nr.offsetX,this.xAxisoffX,tr.globals.gridWidth,this.xAxisoffX,nr.color,0,nr.height);this.elgrid&&this.elgrid.elGridBorders&&tr.config.grid.show?this.elgrid.elGridBorders.add(ar):er.add(ar)}}},{key:"inversedYAxisTitleText",value:function(er){var tr=this.w,ir=new Mi(this.ctx);if(tr.config.xaxis.title.text!==void 0){var nr=ir.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),sr=ir.drawText({x:tr.globals.gridWidth/2+tr.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(tr.config.xaxis.title.style.fontSize)+tr.config.xaxis.title.offsetY+20,text:tr.config.xaxis.title.text,textAnchor:"middle",fontSize:tr.config.xaxis.title.style.fontSize,fontFamily:tr.config.xaxis.title.style.fontFamily,fontWeight:tr.config.xaxis.title.style.fontWeight,foreColor:tr.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(tr.config.xaxis.title.style.cssClass)});nr.add(sr),er.add(nr)}}},{key:"yAxisTitleRotate",value:function(er,tr){var ir=this.w,nr=new Mi(this.ctx),sr=ir.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(er,"'] .apexcharts-yaxis-texts-g")),ar=sr?sr.getBoundingClientRect():{width:0,height:0},or=ir.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(er,"'] .apexcharts-yaxis-title text")),lr=or?or.getBoundingClientRect():{width:0,height:0};if(or){var cr=this.xPaddingForYAxisTitle(er,ar,lr,tr);or.setAttribute("x",cr.xPos-(tr?10:0));var ur=nr.rotateAroundCenter(or);or.setAttribute("transform","rotate(".concat(tr?-1*ir.config.yaxis[er].title.rotate:ir.config.yaxis[er].title.rotate," ").concat(ur.x," ").concat(ur.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(er,tr,ir,nr){var sr=this.w,ar=0,or=10;return sr.config.yaxis[er].title.text===void 0||er<0?{xPos:ar,padd:0}:(nr?ar=tr.width+sr.config.yaxis[er].title.offsetX+ir.width/2+or/2:(ar=-1*tr.width+sr.config.yaxis[er].title.offsetX+or/2+ir.width/2,sr.globals.isBarHorizontal&&(or=25,ar=-1*tr.width-sr.config.yaxis[er].title.offsetX-or)),{xPos:ar,padd:or})}},{key:"setYAxisXPosition",value:function(er,tr){var ir=this.w,nr=0,sr=0,ar=18,or=1;ir.config.yaxis.length>1&&(this.multipleYs=!0),ir.config.yaxis.forEach(function(lr,cr){var ur=ir.globals.ignoreYAxisIndexes.includes(cr)||!lr.show||lr.floating||er[cr].width===0,hr=er[cr].width+tr[cr].width;lr.opposite?ir.globals.isBarHorizontal?(sr=ir.globals.gridWidth+ir.globals.translateX-1,ir.globals.translateYAxisX[cr]=sr-lr.labels.offsetX):(sr=ir.globals.gridWidth+ir.globals.translateX+or,ur||(or+=hr+20),ir.globals.translateYAxisX[cr]=sr-lr.labels.offsetX+20):(nr=ir.globals.translateX-ar,ur||(ar+=hr+20),ir.globals.translateYAxisX[cr]=nr+lr.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var er=this.w;v.listToArray(er.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(tr,ir){var nr=er.config.yaxis[ir];if(nr&&!nr.floating&&nr.labels.align!==void 0){var sr=er.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(ir,"'] .apexcharts-yaxis-texts-g")),ar=v.listToArray(er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(ir,"'] .apexcharts-yaxis-label"))),or=sr.getBoundingClientRect();ar.forEach(function(lr){lr.setAttribute("text-anchor",nr.labels.align)}),nr.labels.align!=="left"||nr.opposite?nr.labels.align==="center"?sr.setAttribute("transform","translate(".concat(or.width/2*(nr.opposite?1:-1),", 0)")):nr.labels.align==="right"&&nr.opposite&&sr.setAttribute("transform","translate(".concat(or.width,", 0)")):sr.setAttribute("transform","translate(-".concat(or.width,", 0)"))}})}}]),rr}(),aa=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.documentEvent=v.bind(this.documentEvent,this)}return s(rr,[{key:"addEventListener",value:function(er,tr){var ir=this.w;ir.globals.events.hasOwnProperty(er)?ir.globals.events[er].push(tr):ir.globals.events[er]=[tr]}},{key:"removeEventListener",value:function(er,tr){var ir=this.w;if(ir.globals.events.hasOwnProperty(er)){var nr=ir.globals.events[er].indexOf(tr);nr!==-1&&ir.globals.events[er].splice(nr,1)}}},{key:"fireEvent",value:function(er,tr){var ir=this.w;if(ir.globals.events.hasOwnProperty(er)){tr&&tr.length||(tr=[]);for(var nr=ir.globals.events[er],sr=nr.length,ar=0;ar<sr;ar++)nr[ar].apply(null,tr)}}},{key:"setupEventHandlers",value:function(){var er=this,tr=this.w,ir=this.ctx,nr=tr.globals.dom.baseEl.querySelector(tr.globals.chartClass);this.ctx.eventList.forEach(function(sr){nr.addEventListener(sr,function(ar){var or=Object.assign({},tr,{seriesIndex:tr.globals.axisCharts?tr.globals.capturedSeriesIndex:0,dataPointIndex:tr.globals.capturedDataPointIndex});ar.type==="mousemove"||ar.type==="touchmove"?typeof tr.config.chart.events.mouseMove=="function"&&tr.config.chart.events.mouseMove(ar,ir,or):ar.type==="mouseleave"||ar.type==="touchleave"?typeof tr.config.chart.events.mouseLeave=="function"&&tr.config.chart.events.mouseLeave(ar,ir,or):(ar.type==="mouseup"&&ar.which===1||ar.type==="touchend")&&(typeof tr.config.chart.events.click=="function"&&tr.config.chart.events.click(ar,ir,or),ir.ctx.events.fireEvent("click",[ar,ir,or]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(sr){tr.globals.dom.baseEl.addEventListener(sr,er.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(er){var tr=this.w,ir=er.target.className;if(er.type==="click"){var nr=tr.globals.dom.baseEl.querySelector(".apexcharts-menu");nr&&nr.classList.contains("apexcharts-menu-open")&&ir!=="apexcharts-menu-icon"&&nr.classList.remove("apexcharts-menu-open")}tr.globals.clientX=er.type==="touchmove"?er.touches[0].clientX:er.clientX,tr.globals.clientY=er.type==="touchmove"?er.touches[0].clientY:er.clientY}}]),rr}(),sa=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"setCurrentLocaleValues",value:function(er){var tr=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(tr=this.w.config.chart.locales.concat(window.Apex.chart.locales));var ir=tr.filter(function(sr){return sr.name===er})[0];if(!ir)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var nr=v.extend(Hi,ir);this.w.globals.locale=nr.options}}]),rr}(),ra=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"drawAxis",value:function(er,tr){var ir,nr,sr=this,ar=this.w.globals,or=this.w.config,lr=new Qi(this.ctx,tr),cr=new ia(this.ctx,tr);ar.axisCharts&&er!=="radar"&&(ar.isBarHorizontal?(nr=cr.drawYaxisInversed(0),ir=lr.drawXaxisInversed(0),ar.dom.elGraphical.add(ir),ar.dom.elGraphical.add(nr)):(ir=lr.drawXaxis(),ar.dom.elGraphical.add(ir),or.yaxis.map(function(ur,hr){if(ar.ignoreYAxisIndexes.indexOf(hr)===-1&&(nr=cr.drawYaxis(hr),ar.dom.Paper.add(nr),sr.w.config.grid.position==="back")){var dr=ar.dom.Paper.children()[1];dr.remove(),ar.dom.Paper.add(dr)}})))}}]),rr}(),na=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"drawXCrosshairs",value:function(){var er=this.w,tr=new Mi(this.ctx),ir=new Li(this.ctx),nr=er.config.xaxis.crosshairs.fill.gradient,sr=er.config.xaxis.crosshairs.dropShadow,ar=er.config.xaxis.crosshairs.fill.type,or=nr.colorFrom,lr=nr.colorTo,cr=nr.opacityFrom,ur=nr.opacityTo,hr=nr.stops,dr=sr.enabled,gr=sr.left,pr=sr.top,mr=sr.blur,vr=sr.color,yr=sr.opacity,br=er.config.xaxis.crosshairs.fill.color;if(er.config.xaxis.crosshairs.show){ar==="gradient"&&(br=tr.drawGradient("vertical",or,lr,cr,ur,null,hr,null));var wr=tr.drawRect();er.config.xaxis.crosshairs.width===1&&(wr=tr.drawLine());var Pr=er.globals.gridHeight;(!v.isNumber(Pr)||Pr<0)&&(Pr=0);var Tr=er.config.xaxis.crosshairs.width;(!v.isNumber(Tr)||Tr<0)&&(Tr=0),wr.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:Pr,width:Tr,height:Pr,fill:br,filter:"none","fill-opacity":er.config.xaxis.crosshairs.opacity,stroke:er.config.xaxis.crosshairs.stroke.color,"stroke-width":er.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":er.config.xaxis.crosshairs.stroke.dashArray}),dr&&(wr=ir.dropShadow(wr,{left:gr,top:pr,blur:mr,color:vr,opacity:yr})),er.globals.dom.elGraphical.add(wr)}}},{key:"drawYCrosshairs",value:function(){var er=this.w,tr=new Mi(this.ctx),ir=er.config.yaxis[0].crosshairs,nr=er.globals.barPadForNumericAxis;if(er.config.yaxis[0].crosshairs.show){var sr=tr.drawLine(-nr,0,er.globals.gridWidth+nr,0,ir.stroke.color,ir.stroke.dashArray,ir.stroke.width);sr.attr({class:"apexcharts-ycrosshairs"}),er.globals.dom.elGraphical.add(sr)}var ar=tr.drawLine(-nr,0,er.globals.gridWidth+nr,0,ir.stroke.color,0,0);ar.attr({class:"apexcharts-ycrosshairs-hidden"}),er.globals.dom.elGraphical.add(ar)}}]),rr}(),oa=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"checkResponsiveConfig",value:function(er){var tr=this,ir=this.w,nr=ir.config;if(nr.responsive.length!==0){var sr=nr.responsive.slice();sr.sort(function(cr,ur){return cr.breakpoint>ur.breakpoint?1:ur.breakpoint>cr.breakpoint?-1:0}).reverse();var ar=new Wi({}),or=function(){var cr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ur=sr[0].breakpoint,hr=window.innerWidth>0?window.innerWidth:screen.width;if(hr>ur){var dr=v.clone(ir.globals.initialConfig);dr.series=v.clone(ir.config.series);var gr=Pi.extendArrayProps(ar,dr,ir);cr=v.extend(gr,cr),cr=v.extend(ir.config,cr),tr.overrideResponsiveOptions(cr)}else for(var pr=0;pr<sr.length;pr++)hr<sr[pr].breakpoint&&(cr=Pi.extendArrayProps(ar,sr[pr].options,ir),cr=v.extend(ir.config,cr),tr.overrideResponsiveOptions(cr))};if(er){var lr=Pi.extendArrayProps(ar,er,ir);lr=v.extend(ir.config,lr),or(lr=v.extend(lr,er))}else or({})}}},{key:"overrideResponsiveOptions",value:function(er){var tr=new Wi(er).init({responsiveOverride:!0});this.w.config=tr}}]),rr}(),la=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return s(rr,[{key:"checkHeatmapDistributed",value:function(){var er=this.w.config,tr=er.chart,ir=er.plotOptions;return tr.type==="treemap"&&ir.treemap&&ir.treemap.distributed||tr.type==="heatmap"&&ir.heatmap&&ir.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var er=this.w.config,tr=er.chart,ir=er.plotOptions;return ir.bar&&ir.bar.distributed&&(tr.type==="bar"||tr.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var er=this.w,tr=new v;er.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(er.config.theme.mode));var ir=f(er.config.colors||er.config.fill.colors||[]);er.globals.colors=this.getColors(ir),this.applySeriesColors(er.globals.seriesColors,er.globals.colors),er.config.theme.monochrome.enabled&&(er.globals.colors=this.getMonochromeColors(er.config.theme.monochrome,er.globals.series,tr));var nr=er.globals.colors.slice();this.pushExtraColors(er.globals.colors),this.applyColorTypes(["fill","stroke"],nr),this.applyDataLabelsColors(nr),this.applyRadarPolygonsColors(),this.applyMarkersColors(nr)}},{key:"getColors",value:function(er){var tr=this,ir=this.w;return er&&er.length!==0?Array.isArray(er)&&er.length>0&&typeof er[0]=="function"?(this.isColorFn=!0,ir.config.series.map(function(nr,sr){var ar=er[sr]||er[0];return typeof ar=="function"?ar({value:ir.globals.axisCharts?ir.globals.series[sr][0]||0:ir.globals.series[sr],seriesIndex:sr,dataPointIndex:sr,w:tr.w}):ar})):er:this.predefined()}},{key:"applySeriesColors",value:function(er,tr){er.forEach(function(ir,nr){ir&&(tr[nr]=ir)})}},{key:"getMonochromeColors",value:function(er,tr,ir){var nr=er.color,sr=er.shadeIntensity,ar=er.shadeTo,or=this.isBarDistributed||this.isHeatmapDistributed?tr[0].length*tr.length:tr.length,lr=1/(or/sr),cr=0;return Array.from({length:or},function(){var ur=ar==="dark"?ir.shadeColor(-1*cr,nr):ir.shadeColor(cr,nr);return cr+=lr,ur})}},{key:"applyColorTypes",value:function(er,tr){var ir=this,nr=this.w;er.forEach(function(sr){nr.globals[sr].colors=nr.config[sr].colors===void 0?ir.isColorFn?nr.config.colors:tr:nr.config[sr].colors.slice(),ir.pushExtraColors(nr.globals[sr].colors)})}},{key:"applyDataLabelsColors",value:function(er){var tr=this.w;tr.globals.dataLabels.style.colors=tr.config.dataLabels.style.colors===void 0?er:tr.config.dataLabels.style.colors.slice(),this.pushExtraColors(tr.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var er=this.w;er.globals.radarPolygons.fill.colors=er.config.plotOptions.radar.polygons.fill.colors===void 0?[er.config.theme.mode==="dark"?"#424242":"none"]:er.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(er.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(er){var tr=this.w;tr.globals.markers.colors=tr.config.markers.colors===void 0?er:tr.config.markers.colors.slice(),this.pushExtraColors(tr.globals.markers.colors)}},{key:"pushExtraColors",value:function(er,tr){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,nr=this.w,sr=tr||nr.globals.series.length;if(ir===null&&(ir=this.isBarDistributed||this.isHeatmapDistributed||nr.config.chart.type==="heatmap"&&nr.config.plotOptions.heatmap&&nr.config.plotOptions.heatmap.colorScale.inverse),ir&&nr.globals.series.length&&(sr=nr.globals.series[nr.globals.maxValsInArrayIndex].length*nr.globals.series.length),er.length<sr)for(var ar=sr-er.length,or=0;or<ar;or++)er.push(er[or])}},{key:"updateThemeOptions",value:function(er){er.chart=er.chart||{},er.tooltip=er.tooltip||{};var tr=er.theme.mode,ir=tr==="dark"?"palette4":tr==="light"?"palette1":er.theme.palette||"palette1",nr=tr==="dark"?"#f6f7f8":tr==="light"?"#373d3f":er.chart.foreColor||"#373d3f";return er.tooltip.theme=tr||"light",er.chart.foreColor=nr,er.theme.palette=ir,er}},{key:"predefined",value:function(){var er={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return er[this.w.config.theme.palette]||er.default}}]),rr}(),ha=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(er){var tr=this.w,ir=er==="title"?tr.config.title:tr.config.subtitle,nr=tr.globals.svgWidth/2,sr=ir.offsetY,ar="middle";if(ir.align==="left"?(nr=10,ar="start"):ir.align==="right"&&(nr=tr.globals.svgWidth-10,ar="end"),nr+=ir.offsetX,sr=sr+parseInt(ir.style.fontSize,10)+ir.margin/2,ir.text!==void 0){var or=new Mi(this.ctx).drawText({x:nr,y:sr,text:ir.text,textAnchor:ar,fontSize:ir.style.fontSize,fontFamily:ir.style.fontFamily,fontWeight:ir.style.fontWeight,foreColor:ir.style.color,opacity:1});or.node.setAttribute("class","apexcharts-".concat(er,"-text")),tr.globals.dom.Paper.add(or)}}}]),rr}(),ca=function(){function rr(er){i(this,rr),this.w=er.w,this.dCtx=er}return s(rr,[{key:"getTitleSubtitleCoords",value:function(er){var tr=this.w,ir=0,nr=0,sr=er==="title"?tr.config.title.floating:tr.config.subtitle.floating,ar=tr.globals.dom.baseEl.querySelector(".apexcharts-".concat(er,"-text"));if(ar!==null&&!sr){var or=ar.getBoundingClientRect();ir=or.width,nr=tr.globals.axisCharts?or.height+5:or.height}return{width:ir,height:nr}}},{key:"getLegendsRect",value:function(){var er=this.w,tr=er.globals.dom.elLegendWrap;er.config.legend.height||er.config.legend.position!=="top"&&er.config.legend.position!=="bottom"||(tr.style.maxHeight=er.globals.svgHeight/2+"px");var ir=Object.assign({},v.getBoundingClientRect(tr));return tr!==null&&!er.config.legend.floating&&er.config.legend.show?this.dCtx.lgRect={x:ir.x,y:ir.y,height:ir.height,width:ir.height===0?0:ir.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},er.config.legend.position!=="left"&&er.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>er.globals.svgWidth&&(this.dCtx.lgRect.width=er.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var er=this,tr=this.w,ir=[];tr.config.series.forEach(function(lr,cr){lr.data.forEach(function(ur,hr){var dr;dr=tr.globals.series[cr][hr],nr=tr.config.dataLabels.formatter(dr,{ctx:er.dCtx.ctx,seriesIndex:cr,dataPointIndex:hr,w:tr}),ir.push(nr)})});var nr=v.getLargestStringFromArr(ir),sr=new Mi(this.dCtx.ctx),ar=tr.config.dataLabels.style,or=sr.getTextRects(nr,parseInt(ar.fontSize),ar.fontFamily);return{width:1.05*or.width,height:or.height}}},{key:"getLargestStringFromMultiArr",value:function(er,tr){var ir=er;if(this.w.globals.isMultiLineX){var nr=tr.map(function(ar,or){return Array.isArray(ar)?ar.length:1}),sr=Math.max.apply(Math,f(nr));ir=tr[nr.indexOf(sr)]}return ir}}]),rr}(),da=function(){function rr(er){i(this,rr),this.w=er.w,this.dCtx=er}return s(rr,[{key:"getxAxisLabelsCoords",value:function(){var er,tr=this.w,ir=tr.globals.labels.slice();if(tr.config.xaxis.convertedCatToNumeric&&ir.length===0&&(ir=tr.globals.categoryLabels),tr.globals.timescaleLabels.length>0){var nr=this.getxAxisTimeScaleLabelsCoords();er={width:nr.width,height:nr.height},tr.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=tr.config.legend.position!=="left"&&tr.config.legend.position!=="right"||tr.config.legend.floating?0:this.dCtx.lgRect.width;var sr=tr.globals.xLabelFormatter,ar=v.getLargestStringFromArr(ir),or=this.dCtx.dimHelpers.getLargestStringFromMultiArr(ar,ir);tr.globals.isBarHorizontal&&(or=ar=tr.globals.yAxisScale[0].result.reduce(function(pr,mr){return pr.length>mr.length?pr:mr},0));var lr=new Xi(this.dCtx.ctx),cr=ar;ar=lr.xLabelFormat(sr,ar,cr,{i:void 0,dateFormatter:new zi(this.dCtx.ctx).formatDate,w:tr}),or=lr.xLabelFormat(sr,or,cr,{i:void 0,dateFormatter:new zi(this.dCtx.ctx).formatDate,w:tr}),(tr.config.xaxis.convertedCatToNumeric&&ar===void 0||String(ar).trim()==="")&&(or=ar="1");var ur=new Mi(this.dCtx.ctx),hr=ur.getTextRects(ar,tr.config.xaxis.labels.style.fontSize),dr=hr;if(ar!==or&&(dr=ur.getTextRects(or,tr.config.xaxis.labels.style.fontSize)),(er={width:hr.width>=dr.width?hr.width:dr.width,height:hr.height>=dr.height?hr.height:dr.height}).width*ir.length>tr.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&tr.config.xaxis.labels.rotate!==0||tr.config.xaxis.labels.rotateAlways){if(!tr.globals.isBarHorizontal){tr.globals.rotateXLabels=!0;var gr=function(pr){return ur.getTextRects(pr,tr.config.xaxis.labels.style.fontSize,tr.config.xaxis.labels.style.fontFamily,"rotate(".concat(tr.config.xaxis.labels.rotate," 0 0)"),!1)};hr=gr(ar),ar!==or&&(dr=gr(or)),er.height=(hr.height>dr.height?hr.height:dr.height)/1.5,er.width=hr.width>dr.width?hr.width:dr.width}}else tr.globals.rotateXLabels=!1}return tr.config.xaxis.labels.show||(er={width:0,height:0}),{width:er.width,height:er.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var er,tr=this.w;if(!tr.globals.hasXaxisGroups)return{width:0,height:0};var ir,nr=((er=tr.config.xaxis.group.style)===null||er===void 0?void 0:er.fontSize)||tr.config.xaxis.labels.style.fontSize,sr=tr.globals.groups.map(function(hr){return hr.title}),ar=v.getLargestStringFromArr(sr),or=this.dCtx.dimHelpers.getLargestStringFromMultiArr(ar,sr),lr=new Mi(this.dCtx.ctx),cr=lr.getTextRects(ar,nr),ur=cr;return ar!==or&&(ur=lr.getTextRects(or,nr)),ir={width:cr.width>=ur.width?cr.width:ur.width,height:cr.height>=ur.height?cr.height:ur.height},tr.config.xaxis.labels.show||(ir={width:0,height:0}),{width:ir.width,height:ir.height}}},{key:"getxAxisTitleCoords",value:function(){var er=this.w,tr=0,ir=0;if(er.config.xaxis.title.text!==void 0){var nr=new Mi(this.dCtx.ctx).getTextRects(er.config.xaxis.title.text,er.config.xaxis.title.style.fontSize);tr=nr.width,ir=nr.height}return{width:tr,height:ir}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var er,tr=this.w;this.dCtx.timescaleLabels=tr.globals.timescaleLabels.slice();var ir=this.dCtx.timescaleLabels.map(function(sr){return sr.value}),nr=ir.reduce(function(sr,ar){return sr===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):sr.length>ar.length?sr:ar},0);return 1.05*(er=new Mi(this.dCtx.ctx).getTextRects(nr,tr.config.xaxis.labels.style.fontSize)).width*ir.length>tr.globals.gridWidth&&tr.config.xaxis.labels.rotate!==0&&(tr.globals.overlappingXLabels=!0),er}},{key:"additionalPaddingXLabels",value:function(er){var tr=this,ir=this.w,nr=ir.globals,sr=ir.config,ar=sr.xaxis.type,or=er.width;nr.skipLastTimelinelabel=!1,nr.skipFirstTimelinelabel=!1;var lr=ir.config.yaxis[0].opposite&&ir.globals.isBarHorizontal,cr=function(ur,hr){sr.yaxis.length>1&&function(dr){return nr.collapsedSeriesIndices.indexOf(dr)!==-1}(hr)||function(dr){if(tr.dCtx.timescaleLabels&&tr.dCtx.timescaleLabels.length){var gr=tr.dCtx.timescaleLabels[0],pr=tr.dCtx.timescaleLabels[tr.dCtx.timescaleLabels.length-1].position+or/1.75-tr.dCtx.yAxisWidthRight,mr=gr.position-or/1.75+tr.dCtx.yAxisWidthLeft,vr=ir.config.legend.position==="right"&&tr.dCtx.lgRect.width>0?tr.dCtx.lgRect.width:0;pr>nr.svgWidth-nr.translateX-vr&&(nr.skipLastTimelinelabel=!0),mr<-(dr.show&&!dr.floating||sr.chart.type!=="bar"&&sr.chart.type!=="candlestick"&&sr.chart.type!=="rangeBar"&&sr.chart.type!=="boxPlot"?10:or/1.75)&&(nr.skipFirstTimelinelabel=!0)}else ar==="datetime"?tr.dCtx.gridPad.right<or&&!nr.rotateXLabels&&(nr.skipLastTimelinelabel=!0):ar!=="datetime"&&tr.dCtx.gridPad.right<or/2-tr.dCtx.yAxisWidthRight&&!nr.rotateXLabels&&!ir.config.xaxis.labels.trim&&(tr.dCtx.xPadRight=or/2+1)}(ur)};sr.yaxis.forEach(function(ur,hr){lr?(tr.dCtx.gridPad.left<or&&(tr.dCtx.xPadLeft=or/2+1),tr.dCtx.xPadRight=or/2+1):cr(ur,hr)})}}]),rr}(),ua=function(){function rr(er){i(this,rr),this.w=er.w,this.dCtx=er}return s(rr,[{key:"getyAxisLabelsCoords",value:function(){var er=this,tr=this.w,ir=[],nr=10,sr=new Ri(this.dCtx.ctx);return tr.config.yaxis.map(function(ar,or){var lr={seriesIndex:or,dataPointIndex:-1,w:tr},cr=tr.globals.yAxisScale[or],ur=0;if(!sr.isYAxisHidden(or)&&ar.labels.show&&ar.labels.minWidth!==void 0&&(ur=ar.labels.minWidth),!sr.isYAxisHidden(or)&&ar.labels.show&&cr.result.length){var hr=tr.globals.yLabelFormatters[or],dr=cr.niceMin===Number.MIN_VALUE?0:cr.niceMin,gr=cr.result.reduce(function(Pr,Tr){var Vr,Ar;return((Vr=String(hr(Pr,lr)))===null||Vr===void 0?void 0:Vr.length)>((Ar=String(hr(Tr,lr)))===null||Ar===void 0?void 0:Ar.length)?Pr:Tr},dr),pr=gr=hr(gr,lr);if(gr!==void 0&&gr.length!==0||(gr=cr.niceMax),tr.globals.isBarHorizontal){nr=0;var mr=tr.globals.labels.slice();gr=v.getLargestStringFromArr(mr),gr=hr(gr,{seriesIndex:or,dataPointIndex:-1,w:tr}),pr=er.dCtx.dimHelpers.getLargestStringFromMultiArr(gr,mr)}var vr=new Mi(er.dCtx.ctx),yr="rotate(".concat(ar.labels.rotate," 0 0)"),br=vr.getTextRects(gr,ar.labels.style.fontSize,ar.labels.style.fontFamily,yr,!1),wr=br;gr!==pr&&(wr=vr.getTextRects(pr,ar.labels.style.fontSize,ar.labels.style.fontFamily,yr,!1)),ir.push({width:(ur>wr.width||ur>br.width?ur:wr.width>br.width?wr.width:br.width)+nr,height:wr.height>br.height?wr.height:br.height})}else ir.push({width:0,height:0})}),ir}},{key:"getyAxisTitleCoords",value:function(){var er=this,tr=this.w,ir=[];return tr.config.yaxis.map(function(nr,sr){if(nr.show&&nr.title.text!==void 0){var ar=new Mi(er.dCtx.ctx),or="rotate(".concat(nr.title.rotate," 0 0)"),lr=ar.getTextRects(nr.title.text,nr.title.style.fontSize,nr.title.style.fontFamily,or,!1);ir.push({width:lr.width,height:lr.height})}else ir.push({width:0,height:0})}),ir}},{key:"getTotalYAxisWidth",value:function(){var er=this.w,tr=0,ir=0,nr=0,sr=er.globals.yAxisScale.length>1?10:0,ar=new Ri(this.dCtx.ctx),or=function(lr,cr){var ur=er.config.yaxis[cr].floating,hr=0;lr.width>0&&!ur?(hr=lr.width+sr,function(dr){return er.globals.ignoreYAxisIndexes.indexOf(dr)>-1}(cr)&&(hr=hr-lr.width-sr)):hr=ur||ar.isYAxisHidden(cr)?0:5,er.config.yaxis[cr].opposite?nr+=hr:ir+=hr,tr+=hr};return er.globals.yLabelsCoords.map(function(lr,cr){or(lr,cr)}),er.globals.yTitleCoords.map(function(lr,cr){or(lr,cr)}),er.globals.isBarHorizontal&&!er.config.yaxis[0].floating&&(tr=er.globals.yLabelsCoords[0].width+er.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=ir,this.dCtx.yAxisWidthRight=nr,tr}}]),rr}(),ga=function(){function rr(er){i(this,rr),this.w=er.w,this.dCtx=er}return s(rr,[{key:"gridPadForColumnsInNumericAxis",value:function(er){var tr=this.w,ir=tr.config,nr=tr.globals;if(nr.noData||nr.collapsedSeries.length+nr.ancillaryCollapsedSeries.length===ir.series.length)return 0;var sr=function(gr){return["bar","rangeBar","candlestick","boxPlot"].includes(gr)},ar=ir.chart.type,or=0,lr=sr(ar)?ir.series.length:1;nr.comboBarCount>0&&(lr=nr.comboBarCount),nr.collapsedSeries.forEach(function(gr){sr(gr.type)&&(lr-=1)}),ir.chart.stacked&&(lr=1);var cr=sr(ar)||nr.comboBarCount>0,ur=Math.abs(nr.initialMaxX-nr.initialMinX);if(cr&&nr.isXNumeric&&!nr.isBarHorizontal&&lr>0&&ur!==0){ur<=3&&(ur=nr.dataPoints);var hr=ur/er,dr=nr.minXDiff&&nr.minXDiff/hr>0?nr.minXDiff/hr:0;dr>er/2&&(dr/=2),(or=dr*parseInt(ir.plotOptions.bar.columnWidth,10)/100)<1&&(or=1),nr.barPadForNumericAxis=or}return or}},{key:"gridPadFortitleSubtitle",value:function(){var er=this,tr=this.w,ir=tr.globals,nr=this.dCtx.isSparkline||!ir.axisCharts?0:10;["title","subtitle"].forEach(function(or){tr.config[or].text!==void 0?nr+=tr.config[or].margin:nr+=er.dCtx.isSparkline||!ir.axisCharts?0:5}),!tr.config.legend.show||tr.config.legend.position!=="bottom"||tr.config.legend.floating||ir.axisCharts||(nr+=10);var sr=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),ar=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");ir.gridHeight-=sr.height+ar.height+nr,ir.translateY+=sr.height+ar.height+nr}},{key:"setGridXPosForDualYAxis",value:function(er,tr){var ir=this.w,nr=new Ri(this.dCtx.ctx);ir.config.yaxis.forEach(function(sr,ar){ir.globals.ignoreYAxisIndexes.indexOf(ar)!==-1||sr.floating||nr.isYAxisHidden(ar)||(sr.opposite&&(ir.globals.translateX-=tr[ar].width+er[ar].width+parseInt(sr.labels.style.fontSize,10)/1.2+12),ir.globals.translateX<2&&(ir.globals.translateX=2))})}}]),rr}(),pa=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ca(this),this.dimYAxis=new ua(this),this.dimXAxis=new da(this),this.dimGrid=new ga(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return s(rr,[{key:"plotCoords",value:function(){var er=this,tr=this.w,ir=tr.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var nr=Array.isArray(tr.config.stroke.width)?Math.max.apply(Math,f(tr.config.stroke.width)):tr.config.stroke.width;this.isSparkline&&((tr.config.markers.discrete.length>0||tr.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(ar){var or=p(ar,2),lr=or[0],cr=or[1];er.gridPad[lr]=Math.max(cr,er.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(nr/2,this.gridPad.top),this.gridPad.bottom=Math.max(nr/2,this.gridPad.bottom)),ir.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),ir.gridHeight=ir.gridHeight-this.gridPad.top-this.gridPad.bottom,ir.gridWidth=ir.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var sr=this.dimGrid.gridPadForColumnsInNumericAxis(ir.gridWidth);ir.gridWidth=ir.gridWidth-2*sr,ir.translateX=ir.translateX+this.gridPad.left+this.xPadLeft+(sr>0?sr:0),ir.translateY=ir.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var er=this,tr=this.w,ir=tr.globals,nr=this.dimYAxis.getyAxisLabelsCoords(),sr=this.dimYAxis.getyAxisTitleCoords();ir.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),tr.globals.yLabelsCoords=[],tr.globals.yTitleCoords=[],tr.config.yaxis.map(function(gr,pr){tr.globals.yLabelsCoords.push({width:nr[pr].width,index:pr}),tr.globals.yTitleCoords.push({width:sr[pr].width,index:pr})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var ar=this.dimXAxis.getxAxisLabelsCoords(),or=this.dimXAxis.getxAxisGroupLabelsCoords(),lr=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(ar,lr,or),ir.translateXAxisY=tr.globals.rotateXLabels?this.xAxisHeight/8:-4,ir.translateXAxisX=tr.globals.rotateXLabels&&tr.globals.isXNumeric&&tr.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,tr.globals.isBarHorizontal&&(ir.rotateXLabels=!1,ir.translateXAxisY=parseInt(tr.config.xaxis.labels.style.fontSize,10)/1.5*-1),ir.translateXAxisY=ir.translateXAxisY+tr.config.xaxis.labels.offsetY,ir.translateXAxisX=ir.translateXAxisX+tr.config.xaxis.labels.offsetX;var cr=this.yAxisWidth,ur=this.xAxisHeight;ir.xAxisLabelsHeight=this.xAxisHeight-lr.height,ir.xAxisGroupLabelsHeight=ir.xAxisLabelsHeight-ar.height,ir.xAxisLabelsWidth=this.xAxisWidth,ir.xAxisHeight=this.xAxisHeight;var hr=10;(tr.config.chart.type==="radar"||this.isSparkline)&&(cr=0,ur=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||tr.config.chart.type==="treemap")&&(cr=0,ur=0,hr=0),this.isSparkline||tr.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(ar);var dr=function(){ir.translateX=cr+er.datalabelsCoords.width,ir.gridHeight=ir.svgHeight-er.lgRect.height-ur-(er.isSparkline||tr.config.chart.type==="treemap"?0:tr.globals.rotateXLabels?10:15),ir.gridWidth=ir.svgWidth-cr-2*er.datalabelsCoords.width};switch(tr.config.xaxis.position==="top"&&(hr=ir.xAxisHeight-tr.config.xaxis.axisTicks.height-5),tr.config.legend.position){case"bottom":ir.translateY=hr,dr();break;case"top":ir.translateY=this.lgRect.height+hr,dr();break;case"left":ir.translateY=hr,ir.translateX=this.lgRect.width+cr+this.datalabelsCoords.width,ir.gridHeight=ir.svgHeight-ur-12,ir.gridWidth=ir.svgWidth-this.lgRect.width-cr-2*this.datalabelsCoords.width;break;case"right":ir.translateY=hr,ir.translateX=cr+this.datalabelsCoords.width,ir.gridHeight=ir.svgHeight-ur-12,ir.gridWidth=ir.svgWidth-this.lgRect.width-cr-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(sr,nr),new ia(this.ctx).setYAxisXPosition(nr,sr)}},{key:"setDimensionsForNonAxisCharts",value:function(){var er=this.w,tr=er.globals,ir=er.config,nr=0;er.config.legend.show&&!er.config.legend.floating&&(nr=20);var sr=ir.chart.type==="pie"||ir.chart.type==="polarArea"||ir.chart.type==="donut"?"pie":"radialBar",ar=ir.plotOptions[sr].offsetY,or=ir.plotOptions[sr].offsetX;if(!ir.legend.show||ir.legend.floating){tr.gridHeight=tr.svgHeight;var lr=tr.dom.elWrap.getBoundingClientRect().width;return tr.gridWidth=Math.min(lr,tr.gridHeight),tr.translateY=ar,void(tr.translateX=or+(tr.svgWidth-tr.gridWidth)/2)}switch(ir.legend.position){case"bottom":tr.gridHeight=tr.svgHeight-this.lgRect.height,tr.gridWidth=tr.svgWidth,tr.translateY=ar-10,tr.translateX=or+(tr.svgWidth-tr.gridWidth)/2;break;case"top":tr.gridHeight=tr.svgHeight-this.lgRect.height,tr.gridWidth=tr.svgWidth,tr.translateY=this.lgRect.height+ar+10,tr.translateX=or+(tr.svgWidth-tr.gridWidth)/2;break;case"left":tr.gridWidth=tr.svgWidth-this.lgRect.width-nr,tr.gridHeight=ir.chart.height!=="auto"?tr.svgHeight:tr.gridWidth,tr.translateY=ar,tr.translateX=or+this.lgRect.width+nr;break;case"right":tr.gridWidth=tr.svgWidth-this.lgRect.width-nr-5,tr.gridHeight=ir.chart.height!=="auto"?tr.svgHeight:tr.gridWidth,tr.translateY=ar,tr.translateX=or+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(er,tr,ir){var nr=this.w,sr=nr.globals.hasXaxisGroups?2:1,ar=ir.height+er.height+tr.height,or=nr.globals.isMultiLineX?1.2:nr.globals.LINE_HEIGHT_RATIO,lr=nr.globals.rotateXLabels?22:10,cr=nr.globals.rotateXLabels&&nr.config.legend.position==="bottom"?10:0;this.xAxisHeight=ar*or+sr*lr+cr,this.xAxisWidth=er.width,this.xAxisHeight-tr.height>nr.config.xaxis.labels.maxHeight&&(this.xAxisHeight=nr.config.xaxis.labels.maxHeight),nr.config.xaxis.labels.minHeight&&this.xAxisHeight<nr.config.xaxis.labels.minHeight&&(this.xAxisHeight=nr.config.xaxis.labels.minHeight),nr.config.xaxis.floating&&(this.xAxisHeight=0);var ur=0,hr=0;nr.config.yaxis.forEach(function(dr){ur+=dr.labels.minWidth,hr+=dr.labels.maxWidth}),this.yAxisWidth<ur&&(this.yAxisWidth=ur),this.yAxisWidth>hr&&(this.yAxisWidth=hr)}}]),rr}(),fa=function(){function rr(er){i(this,rr),this.w=er.w,this.lgCtx=er}return s(rr,[{key:"getLegendStyles",value:function(){var er,tr,ir,nr=document.createElement("style");nr.setAttribute("type","text/css");var sr=((er=this.lgCtx.ctx)===null||er===void 0||(tr=er.opts)===null||tr===void 0||(ir=tr.chart)===null||ir===void 0?void 0:ir.nonce)||this.w.config.chart.nonce;sr&&nr.setAttribute("nonce",sr);var ar=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return nr.appendChild(ar),nr}},{key:"getLegendDimensions",value:function(){var er=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),tr=er.width;return{clwh:er.height,clww:tr}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(er,tr){var ir=this,nr=this.w;if(nr.globals.axisCharts||nr.config.chart.type==="radialBar"){nr.globals.resized=!0;var sr=null,ar=null;nr.globals.risingSeries=[],nr.globals.axisCharts?(sr=nr.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(er,"']")),ar=parseInt(sr.getAttribute("data:realIndex"),10)):(sr=nr.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(er+1,"']")),ar=parseInt(sr.getAttribute("rel"),10)-1),tr?[{cs:nr.globals.collapsedSeries,csi:nr.globals.collapsedSeriesIndices},{cs:nr.globals.ancillaryCollapsedSeries,csi:nr.globals.ancillaryCollapsedSeriesIndices}].forEach(function(ur){ir.riseCollapsedSeries(ur.cs,ur.csi,ar)}):this.hideSeries({seriesEl:sr,realIndex:ar})}else{var or=nr.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(er+1,"'] path")),lr=nr.config.chart.type;if(lr==="pie"||lr==="polarArea"||lr==="donut"){var cr=nr.config.plotOptions.pie.donut.labels;new Mi(this.lgCtx.ctx).pathMouseDown(or,null),this.lgCtx.ctx.pie.printDataLabelsInner(or.node,cr)}or.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(er){var tr=er.realIndex,ir=this.w,nr=ir.globals,sr=v.clone(ir.config.series);if(nr.axisCharts){var ar=ir.config.yaxis[nr.seriesYAxisReverseMap[tr]],or={index:tr,data:sr[tr].data.slice(),type:sr[tr].type||ir.config.chart.type};if(ar&&ar.show&&ar.showAlways)nr.ancillaryCollapsedSeriesIndices.indexOf(tr)<0&&(nr.ancillaryCollapsedSeries.push(or),nr.ancillaryCollapsedSeriesIndices.push(tr));else if(nr.collapsedSeriesIndices.indexOf(tr)<0){nr.collapsedSeries.push(or),nr.collapsedSeriesIndices.push(tr);var lr=nr.risingSeries.indexOf(tr);nr.risingSeries.splice(lr,1)}}else nr.collapsedSeries.push({index:tr,data:sr[tr]}),nr.collapsedSeriesIndices.push(tr);return nr.allSeriesCollapsed=nr.collapsedSeries.length+nr.ancillaryCollapsedSeries.length===ir.config.series.length,this._getSeriesBasedOnCollapsedState(sr)}},{key:"hideSeries",value:function(er){for(var tr=er.seriesEl,ir=er.realIndex,nr=this.w,sr=this.getSeriesAfterCollapsing({realIndex:ir}),ar=tr.childNodes,or=0;or<ar.length;or++)ar[or].classList.contains("apexcharts-series-markers-wrap")&&(ar[or].classList.contains("apexcharts-hide")?ar[or].classList.remove("apexcharts-hide"):ar[or].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(sr,nr.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(er,tr,ir){var nr=this.w,sr=v.clone(nr.config.series);if(er.length>0){for(var ar=0;ar<er.length;ar++)er[ar].index===ir&&(nr.globals.axisCharts?sr[ir].data=er[ar].data.slice():sr[ir]=er[ar].data,typeof sr[ir]!="number"&&(sr[ir].hidden=!1),er.splice(ar,1),tr.splice(ar,1),nr.globals.risingSeries.push(ir));sr=this._getSeriesBasedOnCollapsedState(sr),this.lgCtx.ctx.updateHelpers._updateSeries(sr,nr.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(er){var tr=this.w,ir=0;return tr.globals.axisCharts?er.forEach(function(nr,sr){tr.globals.collapsedSeriesIndices.indexOf(sr)<0&&tr.globals.ancillaryCollapsedSeriesIndices.indexOf(sr)<0||(er[sr].data=[],ir++)}):er.forEach(function(nr,sr){!tr.globals.collapsedSeriesIndices.indexOf(sr)<0&&(er[sr]=0,ir++)}),tr.globals.allSeriesCollapsed=ir===er.length,er}}]),rr}(),xa=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new fa(this)}return s(rr,[{key:"init",value:function(){var er=this.w,tr=er.globals,ir=er.config,nr=ir.legend.showForSingleSeries&&tr.series.length===1||this.isBarsDistributed||tr.series.length>1;if(this.legendHelpers.appendToForeignObject(),(nr||!tr.axisCharts)&&ir.legend.show){for(;tr.dom.elLegendWrap.firstChild;)tr.dom.elLegendWrap.removeChild(tr.dom.elLegendWrap.firstChild);this.drawLegends(),ir.legend.position==="bottom"||ir.legend.position==="top"?this.legendAlignHorizontal():ir.legend.position!=="right"&&ir.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(er){var tr=er.i,ir=er.fillcolor,nr=this.w,sr=document.createElement("span");sr.classList.add("apexcharts-legend-marker");var ar=nr.config.legend.markers.shape||nr.config.markers.shape,or=ar;Array.isArray(ar)&&(or=ar[tr]);var lr=Array.isArray(nr.config.legend.markers.size)?parseFloat(nr.config.legend.markers.size[tr]):parseFloat(nr.config.legend.markers.size),cr=Array.isArray(nr.config.legend.markers.offsetX)?parseFloat(nr.config.legend.markers.offsetX[tr]):parseFloat(nr.config.legend.markers.offsetX),ur=Array.isArray(nr.config.legend.markers.offsetY)?parseFloat(nr.config.legend.markers.offsetY[tr]):parseFloat(nr.config.legend.markers.offsetY),hr=Array.isArray(nr.config.legend.markers.strokeWidth)?parseFloat(nr.config.legend.markers.strokeWidth[tr]):parseFloat(nr.config.legend.markers.strokeWidth),dr=sr.style;if(dr.height=2*(lr+hr)+"px",dr.width=2*(lr+hr)+"px",dr.left=cr+"px",dr.top=ur+"px",nr.config.legend.markers.customHTML)dr.background="transparent",dr.color=ir[tr],Array.isArray(nr.config.legend.markers.customHTML)?nr.config.legend.markers.customHTML[tr]&&(sr.innerHTML=nr.config.legend.markers.customHTML[tr]()):sr.innerHTML=nr.config.legend.markers.customHTML();else{var gr=new Vi(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(or),seriesIndex:tr,strokeWidth:hr,size:lr}),pr=window.SVG().addTo(sr).size("100%","100%"),mr=new Mi(this.ctx).drawMarker(0,0,u(u({},gr),{},{pointFillColor:Array.isArray(ir)?ir[tr]:gr.pointFillColor,shape:or}));nr.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(vr){vr.node.classList.contains("apexcharts-marker-triangle")?vr.node.style.transform="translate(50%, 45%)":vr.node.style.transform="translate(50%, 50%)"}),pr.add(mr)}return sr}},{key:"drawLegends",value:function(){var er=this,tr=this,ir=this.w,nr=ir.config.legend.fontFamily,sr=ir.globals.seriesNames,ar=ir.config.legend.markers.fillColors?ir.config.legend.markers.fillColors.slice():ir.globals.colors.slice();if(ir.config.chart.type==="heatmap"){var or=ir.config.plotOptions.heatmap.colorScale.ranges;sr=or.map(function(gr){return gr.name?gr.name:gr.from+" - "+gr.to}),ar=or.map(function(gr){return gr.color})}else this.isBarsDistributed&&(sr=ir.globals.labels.slice());ir.config.legend.customLegendItems.length&&(sr=ir.config.legend.customLegendItems);var lr=ir.globals.legendFormatter,cr=ir.config.legend.inverseOrder,ur=[];ir.globals.seriesGroups.length>1&&ir.config.legend.clusterGroupedSeries&&ir.globals.seriesGroups.forEach(function(gr,pr){ur[pr]=document.createElement("div"),ur[pr].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(pr)),ir.config.legend.clusterGroupedSeriesOrientation==="horizontal"?ir.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):ur[pr].classList.add("apexcharts-legend-group-vertical")});for(var hr=function(gr){var pr,mr=lr(sr[gr],{seriesIndex:gr,w:ir}),vr=!1,yr=!1;if(ir.globals.collapsedSeries.length>0)for(var br=0;br<ir.globals.collapsedSeries.length;br++)ir.globals.collapsedSeries[br].index===gr&&(vr=!0);if(ir.globals.ancillaryCollapsedSeriesIndices.length>0)for(var wr=0;wr<ir.globals.ancillaryCollapsedSeriesIndices.length;wr++)ir.globals.ancillaryCollapsedSeriesIndices[wr]===gr&&(yr=!0);var Pr=er.createLegendMarker({i:gr,fillcolor:ar});Mi.setAttrs(Pr,{rel:gr+1,"data:collapsed":vr||yr}),(vr||yr)&&Pr.classList.add("apexcharts-inactive-legend");var Tr=document.createElement("div"),Vr=document.createElement("span");Vr.classList.add("apexcharts-legend-text"),Vr.innerHTML=Array.isArray(mr)?mr.join(" "):mr;var Ar=ir.config.legend.labels.useSeriesColors?ir.globals.colors[gr]:Array.isArray(ir.config.legend.labels.colors)?(pr=ir.config.legend.labels.colors)===null||pr===void 0?void 0:pr[gr]:ir.config.legend.labels.colors;Ar||(Ar=ir.config.chart.foreColor),Vr.style.color=Ar,Vr.style.fontSize=parseFloat(ir.config.legend.fontSize)+"px",Vr.style.fontWeight=ir.config.legend.fontWeight,Vr.style.fontFamily=nr||ir.config.chart.fontFamily,Mi.setAttrs(Vr,{rel:gr+1,i:gr,"data:default-text":encodeURIComponent(mr),"data:collapsed":vr||yr}),Tr.appendChild(Pr),Tr.appendChild(Vr);var xr=new Pi(er.ctx);ir.config.legend.showForZeroSeries||xr.getSeriesTotalByIndex(gr)===0&&xr.seriesHaveSameValues(gr)&&!xr.isSeriesNull(gr)&&ir.globals.collapsedSeriesIndices.indexOf(gr)===-1&&ir.globals.ancillaryCollapsedSeriesIndices.indexOf(gr)===-1&&Tr.classList.add("apexcharts-hidden-zero-series"),ir.config.legend.showForNullSeries||xr.isSeriesNull(gr)&&ir.globals.collapsedSeriesIndices.indexOf(gr)===-1&&ir.globals.ancillaryCollapsedSeriesIndices.indexOf(gr)===-1&&Tr.classList.add("apexcharts-hidden-null-series"),ur.length?ir.globals.seriesGroups.forEach(function(Er,Cr){var Rr;Er.includes((Rr=ir.config.series[gr])===null||Rr===void 0?void 0:Rr.name)&&(ir.globals.dom.elLegendWrap.appendChild(ur[Cr]),ur[Cr].appendChild(Tr))}):ir.globals.dom.elLegendWrap.appendChild(Tr),ir.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(ir.config.legend.horizontalAlign)),ir.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+ir.config.legend.position),Tr.classList.add("apexcharts-legend-series"),Tr.style.margin="".concat(ir.config.legend.itemMargin.vertical,"px ").concat(ir.config.legend.itemMargin.horizontal,"px"),ir.globals.dom.elLegendWrap.style.width=ir.config.legend.width?ir.config.legend.width+"px":"",ir.globals.dom.elLegendWrap.style.height=ir.config.legend.height?ir.config.legend.height+"px":"",Mi.setAttrs(Tr,{rel:gr+1,seriesName:v.escapeString(sr[gr]),"data:collapsed":vr||yr}),(vr||yr)&&Tr.classList.add("apexcharts-inactive-legend"),ir.config.legend.onItemClick.toggleDataSeries||Tr.classList.add("apexcharts-no-click")},dr=cr?sr.length-1:0;cr?dr>=0:dr<=sr.length-1;cr?dr--:dr++)hr(dr);ir.globals.dom.elWrap.addEventListener("click",tr.onLegendClick,!0),ir.config.legend.onItemHover.highlightDataSeries&&ir.config.legend.customLegendItems.length===0&&(ir.globals.dom.elWrap.addEventListener("mousemove",tr.onLegendHovered,!0),ir.globals.dom.elWrap.addEventListener("mouseout",tr.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(er,tr){var ir=this.w,nr=ir.globals.dom.elLegendWrap,sr=nr.clientHeight,ar=0,or=0;if(ir.config.legend.position==="bottom")or=ir.globals.svgHeight-Math.min(sr,ir.globals.svgHeight/2)-5;else if(ir.config.legend.position==="top"){var lr=new pa(this.ctx),cr=lr.dimHelpers.getTitleSubtitleCoords("title").height,ur=lr.dimHelpers.getTitleSubtitleCoords("subtitle").height;or=(cr>0?cr-10:0)+(ur>0?ur-10:0)}nr.style.position="absolute",ar=ar+er+ir.config.legend.offsetX,or=or+tr+ir.config.legend.offsetY,nr.style.left=ar+"px",nr.style.top=or+"px",ir.config.legend.position==="right"&&(nr.style.left="auto",nr.style.right=25+ir.config.legend.offsetX+"px"),["width","height"].forEach(function(hr){nr.style[hr]&&(nr.style[hr]=parseInt(ir.config.legend[hr],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var er=this.w;er.globals.dom.elLegendWrap.style.right=0;var tr=new pa(this.ctx),ir=tr.dimHelpers.getTitleSubtitleCoords("title"),nr=tr.dimHelpers.getTitleSubtitleCoords("subtitle"),sr=0;er.config.legend.position==="top"&&(sr=ir.height+nr.height+er.config.title.margin+er.config.subtitle.margin-10),this.setLegendWrapXY(20,sr)}},{key:"legendAlignVertical",value:function(){var er=this.w,tr=this.legendHelpers.getLegendDimensions(),ir=0;er.config.legend.position==="left"&&(ir=20),er.config.legend.position==="right"&&(ir=er.globals.svgWidth-tr.clww-10),this.setLegendWrapXY(ir,20)}},{key:"onLegendHovered",value:function(er){var tr=this.w,ir=er.target.classList.contains("apexcharts-legend-series")||er.target.classList.contains("apexcharts-legend-text")||er.target.classList.contains("apexcharts-legend-marker");if(tr.config.chart.type==="heatmap"||this.isBarsDistributed){if(ir){var nr=parseInt(er.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,nr,this.w]),new Zi(this.ctx).highlightRangeInSeries(er,er.target)}}else!er.target.classList.contains("apexcharts-inactive-legend")&&ir&&new Zi(this.ctx).toggleSeriesOnHover(er,er.target)}},{key:"onLegendClick",value:function(er){var tr=this.w;if(!tr.config.legend.customLegendItems.length&&(er.target.classList.contains("apexcharts-legend-series")||er.target.classList.contains("apexcharts-legend-text")||er.target.classList.contains("apexcharts-legend-marker"))){var ir=parseInt(er.target.getAttribute("rel"),10)-1,nr=er.target.getAttribute("data:collapsed")==="true",sr=this.w.config.chart.events.legendClick;typeof sr=="function"&&sr(this.ctx,ir,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,ir,this.w]);var ar=this.w.config.legend.markers.onClick;typeof ar=="function"&&er.target.classList.contains("apexcharts-legend-marker")&&(ar(this.ctx,ir,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,ir,this.w])),tr.config.chart.type!=="treemap"&&tr.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&tr.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(ir,nr)}}}]),rr}(),ba=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w;var tr=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=tr.globals.minX,this.maxX=tr.globals.maxX}return s(rr,[{key:"createToolbar",value:function(){var er=this,tr=this.w,ir=function(){return document.createElement("div")},nr=ir();if(nr.setAttribute("class","apexcharts-toolbar"),nr.style.top=tr.config.chart.toolbar.offsetY+"px",nr.style.right=3-tr.config.chart.toolbar.offsetX+"px",tr.globals.dom.elWrap.appendChild(nr),this.elZoom=ir(),this.elZoomIn=ir(),this.elZoomOut=ir(),this.elPan=ir(),this.elSelection=ir(),this.elZoomReset=ir(),this.elMenuIcon=ir(),this.elMenu=ir(),this.elCustomIcons=[],this.t=tr.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var sr=0;sr<this.t.customIcons.length;sr++)this.elCustomIcons.push(ir());var ar=[],or=function(hr,dr,gr){var pr=hr.toLowerCase();er.t[pr]&&tr.config.chart.zoom.enabled&&ar.push({el:dr,icon:typeof er.t[pr]=="string"?er.t[pr]:gr,title:er.localeValues[hr],class:"apexcharts-".concat(pr,"-icon")})};or("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),or("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var lr=function(hr){er.t[hr]&&tr.config.chart[hr].enabled&&ar.push({el:hr==="zoom"?er.elZoom:er.elSelection,icon:typeof er.t[hr]=="string"?er.t[hr]:hr==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:er.localeValues[hr==="zoom"?"selectionZoom":"selection"],class:tr.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(hr,"-icon")})};lr("zoom"),lr("selection"),this.t.pan&&tr.config.chart.zoom.enabled&&ar.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:tr.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),or("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&ar.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var cr=0;cr<this.elCustomIcons.length;cr++)ar.push({el:this.elCustomIcons[cr],icon:this.t.customIcons[cr].icon,title:this.t.customIcons[cr].title,index:this.t.customIcons[cr].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[cr].class});ar.forEach(function(hr,dr){hr.index&&v.moveIndexInArray(ar,dr,hr.index)});for(var ur=0;ur<ar.length;ur++)Mi.setAttrs(ar[ur].el,{class:ar[ur].class,title:ar[ur].title}),ar[ur].el.innerHTML=ar[ur].icon,nr.appendChild(ar[ur].el);this._createHamburgerMenu(nr),tr.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):tr.globals.panEnabled?this.elPan.classList.add(this.selectedClass):tr.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(er){this.elMenuItems=[],er.appendChild(this.elMenu),Mi.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var tr=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],ir=0;ir<tr.length;ir++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[ir].innerHTML=tr[ir].title,Mi.setAttrs(this.elMenuItems[ir],{class:"apexcharts-menu-item ".concat(tr[ir].name),title:tr[ir].title}),this.elMenu.appendChild(this.elMenuItems[ir])}},{key:"addToolbarEventListeners",value:function(){var er=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(ir){ir.classList.contains("exportSVG")?ir.addEventListener("click",er.handleDownload.bind(er,"svg")):ir.classList.contains("exportPNG")?ir.addEventListener("click",er.handleDownload.bind(er,"png")):ir.classList.contains("exportCSV")&&ir.addEventListener("click",er.handleDownload.bind(er,"csv"))});for(var tr=0;tr<this.t.customIcons.length;tr++)this.elCustomIcons[tr].addEventListener("click",this.t.customIcons[tr].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(er){this.ctx.getSyncedCharts().forEach(function(tr){tr.ctx.toolbar.toggleOtherControls();var ir=er==="selection"?tr.ctx.toolbar.elSelection:tr.ctx.toolbar.elZoom,nr=er==="selection"?"selectionEnabled":"zoomEnabled";tr.w.globals[nr]=!tr.w.globals[nr],ir.classList.contains(tr.ctx.toolbar.selectedClass)?ir.classList.remove(tr.ctx.toolbar.selectedClass):ir.classList.add(tr.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var er=this.w;this.elZoom||(this.elZoom=er.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=er.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=er.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(er){this.toggleOtherControls(),er==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var tr=er==="pan"?this.elPan:this.elZoom,ir=er==="pan"?this.elZoom:this.elPan;tr&&tr.classList.add(this.selectedClass),ir&&ir.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(er){er.ctx.toolbar.toggleOtherControls(),er.w.globals.panEnabled=!er.w.globals.panEnabled,er.ctx.toolbar.elPan.classList.contains(er.ctx.toolbar.selectedClass)?er.ctx.toolbar.elPan.classList.remove(er.ctx.toolbar.selectedClass):er.ctx.toolbar.elPan.classList.add(er.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var er=this,tr=this.w;tr.globals.panEnabled=!1,tr.globals.zoomEnabled=!1,tr.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(ir){ir&&ir.classList.remove(er.selectedClass)})}},{key:"handleZoomIn",value:function(){var er=this.w;er.globals.isRangeBar&&(this.minX=er.globals.minY,this.maxX=er.globals.maxY);var tr=(this.minX+this.maxX)/2,ir=(this.minX+tr)/2,nr=(this.maxX+tr)/2,sr=this._getNewMinXMaxX(ir,nr);er.globals.disableZoomIn||this.zoomUpdateOptions(sr.minX,sr.maxX)}},{key:"handleZoomOut",value:function(){var er=this.w;if(er.globals.isRangeBar&&(this.minX=er.globals.minY,this.maxX=er.globals.maxY),!(er.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var tr=(this.minX+this.maxX)/2,ir=this.minX-(tr-this.minX),nr=this.maxX-(tr-this.maxX),sr=this._getNewMinXMaxX(ir,nr);er.globals.disableZoomOut||this.zoomUpdateOptions(sr.minX,sr.maxX)}}},{key:"_getNewMinXMaxX",value:function(er,tr){var ir=this.w.config.xaxis.convertedCatToNumeric;return{minX:ir?Math.floor(er):er,maxX:ir?Math.floor(tr):tr}}},{key:"zoomUpdateOptions",value:function(er,tr){var ir=this.w;if(er!==void 0||tr!==void 0){if(!(ir.config.xaxis.convertedCatToNumeric&&(er<1&&(er=1,tr=ir.globals.dataPoints),tr-er<2))){var nr={min:er,max:tr},sr=this.getBeforeZoomRange(nr);sr&&(nr=sr.xaxis);var ar={xaxis:nr},or=v.clone(ir.globals.initialConfig.yaxis);ir.config.chart.group||(ar.yaxis=or),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(ar,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(nr,or)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(er,tr){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:er,yaxis:tr})}},{key:"getBeforeZoomRange",value:function(er,tr){var ir=null;return typeof this.ev.beforeZoom=="function"&&(ir=this.ev.beforeZoom(this,{xaxis:er,yaxis:tr})),ir}},{key:"toggleMenu",value:function(){var er=this;window.setTimeout(function(){er.elMenu.classList.contains("apexcharts-menu-open")?er.elMenu.classList.remove("apexcharts-menu-open"):er.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(er){var tr=this.w,ir=new Ji(this.ctx);switch(er){case"svg":ir.exportToSVG(this.ctx);break;case"png":ir.exportToPng(this.ctx);break;case"csv":ir.exportToCSV({series:tr.config.series,columnDelimiter:tr.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(er){this.ctx.getSyncedCharts().forEach(function(tr){var ir=tr.w;if(ir.globals.lastXAxis.min=ir.globals.initialConfig.xaxis.min,ir.globals.lastXAxis.max=ir.globals.initialConfig.xaxis.max,tr.updateHelpers.revertDefaultAxisMinMax(),typeof ir.config.chart.events.beforeResetZoom=="function"){var nr=ir.config.chart.events.beforeResetZoom(tr,ir);nr&&tr.updateHelpers.revertDefaultAxisMinMax(nr)}typeof ir.config.chart.events.zoomed=="function"&&tr.ctx.toolbar.zoomCallback({min:ir.config.xaxis.min,max:ir.config.xaxis.max}),ir.globals.zoomed=!1;var sr=tr.ctx.series.emptyCollapsedSeries(v.clone(ir.globals.initialSeries));tr.updateHelpers._updateSeries(sr,ir.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),rr}(),ma=function(rr){h(tr,ba);var er=n(tr);function tr(ir){var nr;return i(this,tr),(nr=er.call(this,ir)).ctx=ir,nr.w=ir.w,nr.dragged=!1,nr.graphics=new Mi(nr.ctx),nr.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],nr.clientX=0,nr.clientY=0,nr.startX=0,nr.endX=0,nr.dragX=0,nr.startY=0,nr.endY=0,nr.dragY=0,nr.moveDirection="none",nr.debounceTimer=null,nr.debounceDelay=100,nr.wheelDelay=400,nr}return s(tr,[{key:"init",value:function(ir){var nr=this,sr=ir.xyRatios,ar=this.w,or=this;this.xyRatios=sr,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=ar.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new kt(0,0,ar.globals.gridWidth,ar.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),ar.globals.dom.Paper.add(this.zoomRect),ar.globals.dom.Paper.add(this.selectionRect),ar.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:ar.globals.gridWidth,maxY:ar.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):ar.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:ar.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=ar.globals.dom.baseEl.querySelector("".concat(ar.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(lr){nr.hoverArea.addEventListener(lr,or.svgMouseEvents.bind(or,sr),{capture:!1,passive:!0})}),ar.config.chart.zoom.enabled&&ar.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",or.mouseWheelEvent.bind(or),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(ir,nr){var sr=this.w,ar=this.ctx.toolbar,or=sr.globals.zoomEnabled?sr.config.chart.zoom.type:sr.config.chart.selection.type,lr=sr.config.chart.toolbar.autoSelected;if(nr.shiftKey?(this.shiftWasPressed=!0,ar.enableZoomPanFromToolbar(lr==="pan"?"zoom":"pan")):this.shiftWasPressed&&(ar.enableZoomPanFromToolbar(lr),this.shiftWasPressed=!1),nr.target){var cr,ur=nr.target.classList;if(nr.target.parentNode&&nr.target.parentNode!==null&&(cr=nr.target.parentNode.classList),!(ur.contains("apexcharts-legend-marker")||ur.contains("apexcharts-legend-text")||cr&&cr.contains("apexcharts-toolbar"))){if(this.clientX=nr.type==="touchmove"||nr.type==="touchstart"?nr.touches[0].clientX:nr.type==="touchend"?nr.changedTouches[0].clientX:nr.clientX,this.clientY=nr.type==="touchmove"||nr.type==="touchstart"?nr.touches[0].clientY:nr.type==="touchend"?nr.changedTouches[0].clientY:nr.clientY,nr.type==="mousedown"&&nr.which===1||nr.type==="touchstart"){var hr=this.gridRect.getBoundingClientRect();this.startX=this.clientX-hr.left-sr.globals.barPadForNumericAxis,this.startY=this.clientY-hr.top,this.dragged=!1,this.w.globals.mousedown=!0}(nr.type==="mousemove"&&nr.which===1||nr.type==="touchmove")&&(this.dragged=!0,sr.globals.panEnabled?(sr.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:or,xyRatios:ir})):(this.w.globals.mousedown&&sr.globals.zoomEnabled||this.w.globals.mousedown&&sr.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:or}))),nr.type!=="mouseup"&&nr.type!=="touchend"&&nr.type!=="mouseleave"||this.handleMouseUp({zoomtype:or}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(ir){var nr,sr=ir.zoomtype,ar=ir.isResized,or=this.w,lr=(nr=this.gridRect)===null||nr===void 0?void 0:nr.getBoundingClientRect();lr&&(this.w.globals.mousedown||ar)&&(this.endX=this.clientX-lr.left-or.globals.barPadForNumericAxis,this.endY=this.clientY-lr.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(or.globals.zoomEnabled||or.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:sr}),or.globals.panEnabled&&or.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),or.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(ir){var nr=this,sr=this.w;ir.preventDefault();var ar=Date.now();ar-sr.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(ir),sr.globals.lastWheelExecution=ar),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){ar-sr.globals.lastWheelExecution>nr.wheelDelay&&(nr.executeMouseWheelZoom(ir),sr.globals.lastWheelExecution=ar)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(ir){var nr,sr=this.w;this.minX=sr.globals.isRangeBar?sr.globals.minY:sr.globals.minX,this.maxX=sr.globals.isRangeBar?sr.globals.maxY:sr.globals.maxX;var ar=(nr=this.gridRect)===null||nr===void 0?void 0:nr.getBoundingClientRect();if(ar){var or,lr,cr,ur=(ir.clientX-ar.left)/ar.width,hr=this.minX,dr=this.maxX,gr=dr-hr;if(ir.deltaY<0){var pr=hr+ur*gr;lr=pr-(or=.5*gr)/2,cr=pr+or/2}else lr=hr-(or=1.5*gr)/2,cr=dr+or/2;if(!sr.globals.isRangeBar){lr=Math.max(lr,sr.globals.initialMinX),cr=Math.min(cr,sr.globals.initialMaxX);var mr=.01*(sr.globals.initialMaxX-sr.globals.initialMinX);if(cr-lr<mr){var vr=(lr+cr)/2;lr=vr-mr/2,cr=vr+mr/2}}var yr=this._getNewMinXMaxX(lr,cr);isNaN(yr.minX)||isNaN(yr.maxX)||this.zoomUpdateOptions(yr.minX,yr.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var ir=this,nr=this.w;if(this.selectionRect){var sr=this.selectionRect.node.getBoundingClientRect();sr.width>0&&sr.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(ar,or,lr,cr,ur){return ur==="l"||ur==="r"?ar.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):ar.circle(0)},updateHandle:function(ar,or){return ar.center(or[0],or[1])}}).resize().on("resize",function(){var ar=nr.globals.zoomEnabled?nr.config.chart.zoom.type:nr.config.chart.selection.type;ir.handleMouseUp({zoomtype:ar,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var ir=this.w,nr=this.xyRatios;if(!ir.globals.zoomEnabled){if(ir.globals.selection!==void 0&&ir.globals.selection!==null)this.drawSelectionRect(u(u({},ir.globals.selection),{},{translateX:ir.globals.translateX,translateY:ir.globals.translateY}));else if(ir.config.chart.selection.xaxis.min!==void 0&&ir.config.chart.selection.xaxis.max!==void 0){var sr=(ir.config.chart.selection.xaxis.min-ir.globals.minX)/nr.xRatio,ar=ir.globals.gridWidth-(ir.globals.maxX-ir.config.chart.selection.xaxis.max)/nr.xRatio-sr;ir.globals.isRangeBar&&(sr=(ir.config.chart.selection.xaxis.min-ir.globals.yAxisScale[0].niceMin)/nr.invertedYRatio,ar=(ir.config.chart.selection.xaxis.max-ir.config.chart.selection.xaxis.min)/nr.invertedYRatio);var or={x:sr,y:0,width:ar,height:ir.globals.gridHeight,translateX:ir.globals.translateX,translateY:ir.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(or),this.makeSelectionRectDraggable(),typeof ir.config.chart.events.selection=="function"&&ir.config.chart.events.selection(this.ctx,{xaxis:{min:ir.config.chart.selection.xaxis.min,max:ir.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(ir){var nr=ir.x,sr=ir.y,ar=ir.width,or=ir.height,lr=ir.translateX,cr=lr===void 0?0:lr,ur=ir.translateY,hr=ur===void 0?0:ur,dr=this.w,gr=this.zoomRect,pr=this.selectionRect;if(this.dragged||dr.globals.selection!==null){var mr={transform:"translate("+cr+", "+hr+")"};dr.globals.zoomEnabled&&this.dragged&&(ar<0&&(ar=1),gr.attr({x:nr,y:sr,width:ar,height:or,fill:dr.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":dr.config.chart.zoom.zoomedArea.fill.opacity,stroke:dr.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":dr.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":dr.config.chart.zoom.zoomedArea.stroke.opacity}),Mi.setAttrs(gr.node,mr)),dr.globals.selectionEnabled&&(pr.attr({x:nr,y:sr,width:ar>0?ar:0,height:or>0?or:0,fill:dr.config.chart.selection.fill.color,"fill-opacity":dr.config.chart.selection.fill.opacity,stroke:dr.config.chart.selection.stroke.color,"stroke-width":dr.config.chart.selection.stroke.width,"stroke-dasharray":dr.config.chart.selection.stroke.dashArray,"stroke-opacity":dr.config.chart.selection.stroke.opacity}),Mi.setAttrs(pr.node,mr))}}},{key:"hideSelectionRect",value:function(ir){ir&&ir.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(ir){var nr=ir.context,sr=ir.zoomtype,ar=this.w,or=nr,lr=this.gridRect.getBoundingClientRect(),cr=or.startX-1,ur=or.startY,hr=!1,dr=!1,gr=or.clientX-lr.left-ar.globals.barPadForNumericAxis,pr=or.clientY-lr.top,mr=gr-cr,vr=pr-ur,yr={translateX:ar.globals.translateX,translateY:ar.globals.translateY};return Math.abs(mr+cr)>ar.globals.gridWidth?mr=ar.globals.gridWidth-cr:gr<0&&(mr=cr),cr>gr&&(hr=!0,mr=Math.abs(mr)),ur>pr&&(dr=!0,vr=Math.abs(vr)),yr=u(u({},yr=sr==="x"?{x:hr?cr-mr:cr,y:0,width:mr,height:ar.globals.gridHeight}:sr==="y"?{x:0,y:dr?ur-vr:ur,width:ar.globals.gridWidth,height:vr}:{x:hr?cr-mr:cr,y:dr?ur-vr:ur,width:mr,height:vr}),{},{translateX:ar.globals.translateX,translateY:ar.globals.translateY}),or.drawSelectionRect(yr),or.selectionDragging("resizing"),yr}},{key:"selectionDragging",value:function(ir,nr){var sr=this,ar=this.w;if(nr){nr.preventDefault();var or=nr.detail,lr=or.handler,cr=or.box,ur=cr.x,hr=cr.y;ur<this.constraints.x&&(ur=this.constraints.x),hr<this.constraints.y&&(hr=this.constraints.y),cr.x2>this.constraints.x2&&(ur=this.constraints.x2-cr.w),cr.y2>this.constraints.y2&&(hr=this.constraints.y2-cr.h),lr.move(ur,hr);var dr=this.xyRatios,gr=this.selectionRect,pr=0;ir==="resizing"&&(pr=30);var mr=function(yr){return parseFloat(gr.node.getAttribute(yr))},vr={x:mr("x"),y:mr("y"),width:mr("width"),height:mr("height")};ar.globals.selection=vr,typeof ar.config.chart.events.selection=="function"&&ar.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var yr,br,wr,Pr,Tr=sr.gridRect.getBoundingClientRect(),Vr=gr.node.getBoundingClientRect();ar.globals.isRangeBar?(yr=ar.globals.yAxisScale[0].niceMin+(Vr.left-Tr.left)*dr.invertedYRatio,br=ar.globals.yAxisScale[0].niceMin+(Vr.right-Tr.left)*dr.invertedYRatio,wr=0,Pr=1):(yr=ar.globals.xAxisScale.niceMin+(Vr.left-Tr.left)*dr.xRatio,br=ar.globals.xAxisScale.niceMin+(Vr.right-Tr.left)*dr.xRatio,wr=ar.globals.yAxisScale[0].niceMin+(Tr.bottom-Vr.bottom)*dr.yRatio[0],Pr=ar.globals.yAxisScale[0].niceMax-(Vr.top-Tr.top)*dr.yRatio[0]);var Ar={xaxis:{min:yr,max:br},yaxis:{min:wr,max:Pr}};ar.config.chart.events.selection(sr.ctx,Ar),ar.config.chart.brush.enabled&&ar.config.chart.events.brushScrolled!==void 0&&ar.config.chart.events.brushScrolled(sr.ctx,Ar)},pr))}}},{key:"selectionDrawn",value:function(ir){var nr,sr,ar=ir.context,or=ir.zoomtype,lr=this.w,cr=ar,ur=this.xyRatios,hr=this.ctx.toolbar,dr=lr.globals.zoomEnabled?cr.zoomRect.node.getBoundingClientRect():cr.selectionRect.node.getBoundingClientRect(),gr=cr.gridRect.getBoundingClientRect(),pr=dr.left-gr.left-lr.globals.barPadForNumericAxis,mr=dr.right-gr.left-lr.globals.barPadForNumericAxis,vr=dr.top-gr.top,yr=dr.bottom-gr.top;lr.globals.isRangeBar?(nr=lr.globals.yAxisScale[0].niceMin+pr*ur.invertedYRatio,sr=lr.globals.yAxisScale[0].niceMin+mr*ur.invertedYRatio):(nr=lr.globals.xAxisScale.niceMin+pr*ur.xRatio,sr=lr.globals.xAxisScale.niceMin+mr*ur.xRatio);var br=[],wr=[];if(lr.config.yaxis.forEach(function(Cr,Rr){var kr=lr.globals.seriesYAxisMap[Rr][0],Sr=lr.globals.yAxisScale[Rr].niceMax-ur.yRatio[kr]*vr,Nr=lr.globals.yAxisScale[Rr].niceMax-ur.yRatio[kr]*yr;br.push(Sr),wr.push(Nr)}),cr.dragged&&(cr.dragX>10||cr.dragY>10)&&nr!==sr){if(lr.globals.zoomEnabled){var Pr=v.clone(lr.globals.initialConfig.yaxis),Tr=v.clone(lr.globals.initialConfig.xaxis);if(lr.globals.zoomed=!0,lr.config.xaxis.convertedCatToNumeric&&(nr=Math.floor(nr),sr=Math.floor(sr),nr<1&&(nr=1,sr=lr.globals.dataPoints),sr-nr<2&&(sr=nr+1)),or!=="xy"&&or!=="x"||(Tr={min:nr,max:sr}),or!=="xy"&&or!=="y"||Pr.forEach(function(Cr,Rr){Pr[Rr].min=wr[Rr],Pr[Rr].max=br[Rr]}),hr){var Vr=hr.getBeforeZoomRange(Tr,Pr);Vr&&(Tr=Vr.xaxis?Vr.xaxis:Tr,Pr=Vr.yaxis?Vr.yaxis:Pr)}var Ar={xaxis:Tr};lr.config.chart.group||(Ar.yaxis=Pr),cr.ctx.updateHelpers._updateOptions(Ar,!1,cr.w.config.chart.animations.dynamicAnimation.enabled),typeof lr.config.chart.events.zoomed=="function"&&hr.zoomCallback(Tr,Pr)}else if(lr.globals.selectionEnabled){var xr,Er=null;xr={min:nr,max:sr},or!=="xy"&&or!=="y"||(Er=v.clone(lr.config.yaxis)).forEach(function(Cr,Rr){Er[Rr].min=wr[Rr],Er[Rr].max=br[Rr]}),lr.globals.selection=cr.selection,typeof lr.config.chart.events.selection=="function"&&lr.config.chart.events.selection(cr.ctx,{xaxis:xr,yaxis:Er})}}}},{key:"panDragging",value:function(ir){var nr=ir.context,sr=this.w,ar=nr;if(sr.globals.lastClientPosition.x!==void 0){var or=sr.globals.lastClientPosition.x-ar.clientX,lr=sr.globals.lastClientPosition.y-ar.clientY;Math.abs(or)>Math.abs(lr)&&or>0?this.moveDirection="left":Math.abs(or)>Math.abs(lr)&&or<0?this.moveDirection="right":Math.abs(lr)>Math.abs(or)&&lr>0?this.moveDirection="up":Math.abs(lr)>Math.abs(or)&&lr<0&&(this.moveDirection="down")}sr.globals.lastClientPosition={x:ar.clientX,y:ar.clientY};var cr=sr.globals.isRangeBar?sr.globals.minY:sr.globals.minX,ur=sr.globals.isRangeBar?sr.globals.maxY:sr.globals.maxX;sr.config.xaxis.convertedCatToNumeric||ar.panScrolled(cr,ur)}},{key:"delayedPanScrolled",value:function(){var ir=this.w,nr=ir.globals.minX,sr=ir.globals.maxX,ar=(ir.globals.maxX-ir.globals.minX)/2;this.moveDirection==="left"?(nr=ir.globals.minX+ar,sr=ir.globals.maxX+ar):this.moveDirection==="right"&&(nr=ir.globals.minX-ar,sr=ir.globals.maxX-ar),nr=Math.floor(nr),sr=Math.floor(sr),this.updateScrolledChart({xaxis:{min:nr,max:sr}},nr,sr)}},{key:"panScrolled",value:function(ir,nr){var sr=this.w,ar=this.xyRatios,or=v.clone(sr.globals.initialConfig.yaxis),lr=ar.xRatio,cr=sr.globals.minX,ur=sr.globals.maxX;sr.globals.isRangeBar&&(lr=ar.invertedYRatio,cr=sr.globals.minY,ur=sr.globals.maxY),this.moveDirection==="left"?(ir=cr+sr.globals.gridWidth/15*lr,nr=ur+sr.globals.gridWidth/15*lr):this.moveDirection==="right"&&(ir=cr-sr.globals.gridWidth/15*lr,nr=ur-sr.globals.gridWidth/15*lr),sr.globals.isRangeBar||(ir<sr.globals.initialMinX||nr>sr.globals.initialMaxX)&&(ir=cr,nr=ur);var hr={xaxis:{min:ir,max:nr}};sr.config.chart.group||(hr.yaxis=or),this.updateScrolledChart(hr,ir,nr)}},{key:"updateScrolledChart",value:function(ir,nr,sr){var ar=this.w;this.ctx.updateHelpers._updateOptions(ir,!1,!1),typeof ar.config.chart.events.scrolled=="function"&&ar.config.chart.events.scrolled(this.ctx,{xaxis:{min:nr,max:sr}})}}]),tr}(),va=function(){function rr(er){i(this,rr),this.w=er.w,this.ttCtx=er,this.ctx=er.ctx}return s(rr,[{key:"getNearestValues",value:function(er){var tr=er.hoverArea,ir=er.elGrid,nr=er.clientX,sr=er.clientY,ar=this.w,or=ir.getBoundingClientRect(),lr=or.width,cr=or.height,ur=lr/(ar.globals.dataPoints-1),hr=cr/ar.globals.dataPoints,dr=this.hasBars();!ar.globals.comboCharts&&!dr||ar.config.xaxis.convertedCatToNumeric||(ur=lr/ar.globals.dataPoints);var gr=nr-or.left-ar.globals.barPadForNumericAxis,pr=sr-or.top;gr<0||pr<0||gr>lr||pr>cr?(tr.classList.remove("hovering-zoom"),tr.classList.remove("hovering-pan")):ar.globals.zoomEnabled?(tr.classList.remove("hovering-pan"),tr.classList.add("hovering-zoom")):ar.globals.panEnabled&&(tr.classList.remove("hovering-zoom"),tr.classList.add("hovering-pan"));var mr=Math.round(gr/ur),vr=Math.floor(pr/hr);dr&&!ar.config.xaxis.convertedCatToNumeric&&(mr=Math.ceil(gr/ur),mr-=1);var yr=null,br=null,wr=ar.globals.seriesXvalues.map(function(xr){return xr.filter(function(Er){return v.isNumber(Er)})}),Pr=ar.globals.seriesYvalues.map(function(xr){return xr.filter(function(Er){return v.isNumber(Er)})});if(ar.globals.isXNumeric){var Tr=this.ttCtx.getElGrid().getBoundingClientRect(),Vr=gr*(Tr.width/lr),Ar=pr*(Tr.height/cr);yr=(br=this.closestInMultiArray(Vr,Ar,wr,Pr)).index,mr=br.j,yr!==null&&ar.globals.hasNullValues&&(wr=ar.globals.seriesXvalues[yr],mr=(br=this.closestInArray(Vr,wr)).j)}return ar.globals.capturedSeriesIndex=yr===null?-1:yr,(!mr||mr<1)&&(mr=0),ar.globals.isBarHorizontal?ar.globals.capturedDataPointIndex=vr:ar.globals.capturedDataPointIndex=mr,{capturedSeries:yr,j:ar.globals.isBarHorizontal?vr:mr,hoverX:gr,hoverY:pr}}},{key:"getFirstActiveXArray",value:function(er){for(var tr=this.w,ir=0,nr=er.map(function(ar,or){return ar.length>0?or:-1}),sr=0;sr<nr.length;sr++)if(nr[sr]!==-1&&tr.globals.collapsedSeriesIndices.indexOf(sr)===-1&&tr.globals.ancillaryCollapsedSeriesIndices.indexOf(sr)===-1){ir=nr[sr];break}return ir}},{key:"closestInMultiArray",value:function(er,tr,ir,nr){for(var sr,ar=this.w,or=1/0,lr=null,cr=null,ur=0;ur<ir.length;ur++)if(sr=ur,ar.globals.collapsedSeriesIndices.indexOf(sr)===-1&&ar.globals.ancillaryCollapsedSeriesIndices.indexOf(sr)===-1)for(var hr=ir[ur],dr=nr[ur],gr=Math.min(hr.length,dr.length),pr=0;pr<gr;pr++){var mr=er-hr[pr],vr=Math.sqrt(mr*mr);if(!ar.globals.allSeriesHasEqualX){var yr=tr-dr[pr];vr=Math.sqrt(mr*mr+yr*yr)}vr<or&&(or=vr,lr=ur,cr=pr)}return{index:lr,j:cr}}},{key:"closestInArray",value:function(er,tr){for(var ir=tr[0],nr=null,sr=Math.abs(er-ir),ar=0;ar<tr.length;ar++){var or=Math.abs(er-tr[ar]);or<sr&&(sr=or,nr=ar)}return{j:nr}}},{key:"isXoverlap",value:function(er){var tr=[],ir=this.w.globals.seriesX.filter(function(sr){return sr[0]!==void 0});if(ir.length>0)for(var nr=0;nr<ir.length-1;nr++)ir[nr][er]!==void 0&&ir[nr+1][er]!==void 0&&ir[nr][er]!==ir[nr+1][er]&&tr.push("unEqual");return tr.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var er=!0,tr=this.w.globals.initialSeries,ir=0;ir<tr.length-1;ir++)if(tr[ir].data.length!==tr[ir+1].data.length){er=!1;break}return er}},{key:"getBarsHeight",value:function(er){return f(er).reduce(function(tr,ir){return tr+ir.getBBox().height},0)}},{key:"getElMarkers",value:function(er){return typeof er=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(er,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var er=this,tr=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ir=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");ir=f(ir),tr&&(ir=ir.filter(function(sr){var ar=Number(sr.getAttribute("data:realIndex"));return er.w.globals.collapsedSeriesIndices.indexOf(ar)===-1})),ir.sort(function(sr,ar){var or=Number(sr.getAttribute("data:realIndex")),lr=Number(ar.getAttribute("data:realIndex"));return lr<or?1:lr>or?-1:0});var nr=[];return ir.forEach(function(sr){nr.push(sr.querySelector(".apexcharts-marker"))}),nr}},{key:"hasMarkers",value:function(er){return this.getElMarkers(er).length>0}},{key:"getPathFromPoint",value:function(er,tr){var ir=Number(er.getAttribute("cx")),nr=Number(er.getAttribute("cy")),sr=er.getAttribute("shape");return new Mi(this.ctx).getMarkerPath(ir,nr,sr,tr)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(er){var tr=this.w,ir=tr.config.markers.hover.size;return ir===void 0&&(ir=tr.globals.markers.size[er]+tr.config.markers.hover.sizeOffset),ir}},{key:"toggleAllTooltipSeriesGroups",value:function(er){var tr=this.w,ir=this.ttCtx;ir.allTooltipSeriesGroups.length===0&&(ir.allTooltipSeriesGroups=tr.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var nr=ir.allTooltipSeriesGroups,sr=0;sr<nr.length;sr++)er==="enable"?(nr[sr].classList.add("apexcharts-active"),nr[sr].style.display=tr.config.tooltip.items.display):(nr[sr].classList.remove("apexcharts-active"),nr[sr].style.display="none")}}]),rr}(),ya=function(){function rr(er){i(this,rr),this.w=er.w,this.ctx=er.ctx,this.ttCtx=er,this.tooltipUtil=new va(er)}return s(rr,[{key:"drawSeriesTexts",value:function(er){var tr=er.shared,ir=tr===void 0||tr,nr=er.ttItems,sr=er.i,ar=sr===void 0?0:sr,or=er.j,lr=or===void 0?null:or,cr=er.y1,ur=er.y2,hr=er.e,dr=this.w;dr.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:ar,j:lr,y1:cr,y2:ur,w:dr}):this.toggleActiveInactiveSeries(ir,ar);var gr=this.getValuesToPrint({i:ar,j:lr});this.printLabels({i:ar,j:lr,values:gr,ttItems:nr,shared:ir,e:hr});var pr=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=pr.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=pr.getBoundingClientRect().height}},{key:"printLabels",value:function(er){var tr,ir=this,nr=er.i,sr=er.j,ar=er.values,or=er.ttItems,lr=er.shared,cr=er.e,ur=this.w,hr=[],dr=function(Tr){return ur.globals.seriesGoals[Tr]&&ur.globals.seriesGoals[Tr][sr]&&Array.isArray(ur.globals.seriesGoals[Tr][sr])},gr=ar.xVal,pr=ar.zVal,mr=ar.xAxisTTVal,vr="",yr=ur.globals.colors[nr];sr!==null&&ur.config.plotOptions.bar.distributed&&(yr=ur.globals.colors[sr]);for(var br=function(Tr,Vr){var Ar=ir.getFormatters(nr);vr=ir.getSeriesName({fn:Ar.yLbTitleFormatter,index:nr,seriesIndex:nr,j:sr}),ur.config.chart.type==="treemap"&&(vr=Ar.yLbTitleFormatter(String(ur.config.series[nr].data[sr].x),{series:ur.globals.series,seriesIndex:nr,dataPointIndex:sr,w:ur}));var xr=ur.config.tooltip.inverseOrder?Vr:Tr;if(ur.globals.axisCharts){var Er=function(kr){var Sr,Nr,Hr,zr;return ur.globals.isRangeData?Ar.yLbFormatter((Sr=ur.globals.seriesRangeStart)===null||Sr===void 0||(Nr=Sr[kr])===null||Nr===void 0?void 0:Nr[sr],{series:ur.globals.seriesRangeStart,seriesIndex:kr,dataPointIndex:sr,w:ur})+" - "+Ar.yLbFormatter((Hr=ur.globals.seriesRangeEnd)===null||Hr===void 0||(zr=Hr[kr])===null||zr===void 0?void 0:zr[sr],{series:ur.globals.seriesRangeEnd,seriesIndex:kr,dataPointIndex:sr,w:ur}):Ar.yLbFormatter(ur.globals.series[kr][sr],{series:ur.globals.series,seriesIndex:kr,dataPointIndex:sr,w:ur})};if(lr)Ar=ir.getFormatters(xr),vr=ir.getSeriesName({fn:Ar.yLbTitleFormatter,index:xr,seriesIndex:nr,j:sr}),yr=ur.globals.colors[xr],tr=Er(xr),dr(xr)&&(hr=ur.globals.seriesGoals[xr][sr].map(function(kr){return{attrs:kr,val:Ar.yLbFormatter(kr.value,{seriesIndex:xr,dataPointIndex:sr,w:ur})}}));else{var Cr,Rr=cr==null||(Cr=cr.target)===null||Cr===void 0?void 0:Cr.getAttribute("fill");Rr&&(Rr.indexOf("url")!==-1?Rr.indexOf("Pattern")!==-1&&(yr=ur.globals.dom.baseEl.querySelector(Rr.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):yr=Rr),tr=Er(nr),dr(nr)&&Array.isArray(ur.globals.seriesGoals[nr][sr])&&(hr=ur.globals.seriesGoals[nr][sr].map(function(kr){return{attrs:kr,val:Ar.yLbFormatter(kr.value,{seriesIndex:nr,dataPointIndex:sr,w:ur})}}))}}sr===null&&(tr=Ar.yLbFormatter(ur.globals.series[nr],u(u({},ur),{},{seriesIndex:nr,dataPointIndex:nr}))),ir.DOMHandling({i:nr,t:xr,j:sr,ttItems:or,values:{val:tr,goalVals:hr,xVal:gr,xAxisTTVal:mr,zVal:pr},seriesName:vr,shared:lr,pColor:yr})},wr=0,Pr=ur.globals.series.length-1;wr<ur.globals.series.length;wr++,Pr--)br(wr,Pr)}},{key:"getFormatters",value:function(er){var tr,ir=this.w,nr=ir.globals.yLabelFormatters[er];return ir.globals.ttVal!==void 0?Array.isArray(ir.globals.ttVal)?(nr=ir.globals.ttVal[er]&&ir.globals.ttVal[er].formatter,tr=ir.globals.ttVal[er]&&ir.globals.ttVal[er].title&&ir.globals.ttVal[er].title.formatter):(nr=ir.globals.ttVal.formatter,typeof ir.globals.ttVal.title.formatter=="function"&&(tr=ir.globals.ttVal.title.formatter)):tr=ir.config.tooltip.y.title.formatter,typeof nr!="function"&&(nr=ir.globals.yLabelFormatters[0]?ir.globals.yLabelFormatters[0]:function(sr){return sr}),typeof tr!="function"&&(tr=function(sr){return sr?sr+": ":""}),{yLbFormatter:nr,yLbTitleFormatter:tr}}},{key:"getSeriesName",value:function(er){var tr=er.fn,ir=er.index,nr=er.seriesIndex,sr=er.j,ar=this.w;return tr(String(ar.globals.seriesNames[ir]),{series:ar.globals.series,seriesIndex:nr,dataPointIndex:sr,w:ar})}},{key:"DOMHandling",value:function(er){er.i;var tr=er.t,ir=er.j,nr=er.ttItems,sr=er.values,ar=er.seriesName,or=er.shared,lr=er.pColor,cr=this.w,ur=this.ttCtx,hr=sr.val,dr=sr.goalVals,gr=sr.xVal,pr=sr.xAxisTTVal,mr=sr.zVal,vr=null;vr=nr[tr].children,cr.config.tooltip.fillSeriesColor&&(nr[tr].style.backgroundColor=lr,vr[0].style.display="none"),ur.showTooltipTitle&&(ur.tooltipTitle===null&&(ur.tooltipTitle=cr.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),ur.tooltipTitle.innerHTML=gr),ur.isXAxisTooltipEnabled&&(ur.xaxisTooltipText.innerHTML=pr!==""?pr:gr);var yr=nr[tr].querySelector(".apexcharts-tooltip-text-y-label");yr&&(yr.innerHTML=ar||"");var br=nr[tr].querySelector(".apexcharts-tooltip-text-y-value");br&&(br.innerHTML=hr!==void 0?hr:""),vr[0]&&vr[0].classList.contains("apexcharts-tooltip-marker")&&(cr.config.tooltip.marker.fillColors&&Array.isArray(cr.config.tooltip.marker.fillColors)&&(lr=cr.config.tooltip.marker.fillColors[tr]),cr.config.tooltip.fillSeriesColor?vr[0].style.backgroundColor=lr:vr[0].style.color=lr),cr.config.tooltip.marker.show||(vr[0].style.display="none");var wr=nr[tr].querySelector(".apexcharts-tooltip-text-goals-label"),Pr=nr[tr].querySelector(".apexcharts-tooltip-text-goals-value");if(dr.length&&cr.globals.seriesGoals[tr]){var Tr=function(){var xr="<div>",Er="<div>";dr.forEach(function(Cr,Rr){xr+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Cr.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Cr.attrs.name,"</div>"),Er+="<div>".concat(Cr.val,"</div>")}),wr.innerHTML=xr+"</div>",Pr.innerHTML=Er+"</div>"};or?cr.globals.seriesGoals[tr][ir]&&Array.isArray(cr.globals.seriesGoals[tr][ir])?Tr():(wr.innerHTML="",Pr.innerHTML=""):Tr()}else wr.innerHTML="",Pr.innerHTML="";if(mr!==null&&(nr[tr].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=cr.config.tooltip.z.title,nr[tr].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=mr!==void 0?mr:""),or&&vr[0]){if(cr.config.tooltip.hideEmptySeries){var Vr=nr[tr].querySelector(".apexcharts-tooltip-marker"),Ar=nr[tr].querySelector(".apexcharts-tooltip-text");parseFloat(hr)==0?(Vr.style.display="none",Ar.style.display="none"):(Vr.style.display="block",Ar.style.display="block")}hr==null||cr.globals.ancillaryCollapsedSeriesIndices.indexOf(tr)>-1||cr.globals.collapsedSeriesIndices.indexOf(tr)>-1||Array.isArray(ur.tConfig.enabledOnSeries)&&ur.tConfig.enabledOnSeries.indexOf(tr)===-1?vr[0].parentNode.style.display="none":vr[0].parentNode.style.display=cr.config.tooltip.items.display}else Array.isArray(ur.tConfig.enabledOnSeries)&&ur.tConfig.enabledOnSeries.indexOf(tr)===-1&&(vr[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(er,tr){var ir=this.w;if(er)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var nr=ir.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(tr));nr&&(nr.classList.add("apexcharts-active"),nr.style.display=ir.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(er){var tr=er.i,ir=er.j,nr=this.w,sr=this.ctx.series.filteredSeriesX(),ar="",or="",lr=null,cr=null,ur={series:nr.globals.series,seriesIndex:tr,dataPointIndex:ir,w:nr},hr=nr.globals.ttZFormatter;ir===null?cr=nr.globals.series[tr]:nr.globals.isXNumeric&&nr.config.chart.type!=="treemap"?(ar=sr[tr][ir],sr[tr].length===0&&(ar=sr[this.tooltipUtil.getFirstActiveXArray(sr)][ir])):ar=new $i(this.ctx).isFormatXY()?nr.config.series[tr].data[ir]!==void 0?nr.config.series[tr].data[ir].x:"":nr.globals.labels[ir]!==void 0?nr.globals.labels[ir]:"";var dr=ar;return nr.globals.isXNumeric&&nr.config.xaxis.type==="datetime"?ar=new Xi(this.ctx).xLabelFormat(nr.globals.ttKeyFormatter,dr,dr,{i:void 0,dateFormatter:new zi(this.ctx).formatDate,w:this.w}):ar=nr.globals.isBarHorizontal?nr.globals.yLabelFormatters[0](dr,ur):nr.globals.xLabelFormatter(dr,ur),nr.config.tooltip.x.formatter!==void 0&&(ar=nr.globals.ttKeyFormatter(dr,ur)),nr.globals.seriesZ.length>0&&nr.globals.seriesZ[tr].length>0&&(lr=hr(nr.globals.seriesZ[tr][ir],nr)),or=typeof nr.config.xaxis.tooltip.formatter=="function"?nr.globals.xaxisTooltipFormatter(dr,ur):ar,{val:Array.isArray(cr)?cr.join(" "):cr,xVal:Array.isArray(ar)?ar.join(" "):ar,xAxisTTVal:Array.isArray(or)?or.join(" "):or,zVal:lr}}},{key:"handleCustomTooltip",value:function(er){var tr=er.i,ir=er.j,nr=er.y1,sr=er.y2,ar=er.w,or=this.ttCtx.getElTooltip(),lr=ar.config.tooltip.custom;Array.isArray(lr)&&lr[tr]&&(lr=lr[tr]);var cr=lr({ctx:this.ctx,series:ar.globals.series,seriesIndex:tr,dataPointIndex:ir,y1:nr,y2:sr,w:ar});typeof cr=="string"?or.innerHTML=cr:(cr instanceof Element||typeof cr.nodeName=="string")&&(or.innerHTML="",or.appendChild(cr.cloneNode(!0)))}}]),rr}(),wa=function(){function rr(er){i(this,rr),this.ttCtx=er,this.ctx=er.ctx,this.w=er.w}return s(rr,[{key:"moveXCrosshairs",value:function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ir=this.ttCtx,nr=this.w,sr=ir.getElXCrosshairs(),ar=er-ir.xcrosshairsWidth/2,or=nr.globals.labels.slice().length;if(tr!==null&&(ar=nr.globals.gridWidth/or*tr),sr===null||nr.globals.isBarHorizontal||(sr.setAttribute("x",ar),sr.setAttribute("x1",ar),sr.setAttribute("x2",ar),sr.setAttribute("y2",nr.globals.gridHeight),sr.classList.add("apexcharts-active")),ar<0&&(ar=0),ar>nr.globals.gridWidth&&(ar=nr.globals.gridWidth),ir.isXAxisTooltipEnabled){var lr=ar;nr.config.xaxis.crosshairs.width!=="tickWidth"&&nr.config.xaxis.crosshairs.width!=="barWidth"||(lr=ar+ir.xcrosshairsWidth/2),this.moveXAxisTooltip(lr)}}},{key:"moveYCrosshairs",value:function(er){var tr=this.ttCtx;tr.ycrosshairs!==null&&Mi.setAttrs(tr.ycrosshairs,{y1:er,y2:er}),tr.ycrosshairsHidden!==null&&Mi.setAttrs(tr.ycrosshairsHidden,{y1:er,y2:er})}},{key:"moveXAxisTooltip",value:function(er){var tr=this.w,ir=this.ttCtx;if(ir.xaxisTooltip!==null&&ir.xcrosshairsWidth!==0){ir.xaxisTooltip.classList.add("apexcharts-active");var nr=ir.xaxisOffY+tr.config.xaxis.tooltip.offsetY+tr.globals.translateY+1+tr.config.xaxis.offsetY;if(er-=ir.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(er)){er+=tr.globals.translateX;var sr;sr=new Mi(this.ctx).getTextRects(ir.xaxisTooltipText.innerHTML),ir.xaxisTooltipText.style.minWidth=sr.width+"px",ir.xaxisTooltip.style.left=er+"px",ir.xaxisTooltip.style.top=nr+"px"}}}},{key:"moveYAxisTooltip",value:function(er){var tr=this.w,ir=this.ttCtx;ir.yaxisTTEls===null&&(ir.yaxisTTEls=tr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var nr=parseInt(ir.ycrosshairsHidden.getAttribute("y1"),10),sr=tr.globals.translateY+nr,ar=ir.yaxisTTEls[er].getBoundingClientRect().height,or=tr.globals.translateYAxisX[er]-2;tr.config.yaxis[er].opposite&&(or-=26),sr-=ar/2,tr.globals.ignoreYAxisIndexes.indexOf(er)===-1?(ir.yaxisTTEls[er].classList.add("apexcharts-active"),ir.yaxisTTEls[er].style.top=sr+"px",ir.yaxisTTEls[er].style.left=or+tr.config.yaxis[er].tooltip.offsetX+"px"):ir.yaxisTTEls[er].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(er,tr){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,nr=this.w,sr=this.ttCtx,ar=sr.getElTooltip(),or=sr.tooltipRect,lr=ir!==null?parseFloat(ir):1,cr=parseFloat(er)+lr+5,ur=parseFloat(tr)+lr/2;if(cr>nr.globals.gridWidth/2&&(cr=cr-or.ttWidth-lr-10),cr>nr.globals.gridWidth-or.ttWidth-10&&(cr=nr.globals.gridWidth-or.ttWidth),cr<-20&&(cr=-20),nr.config.tooltip.followCursor){var hr=sr.getElGrid().getBoundingClientRect();(cr=sr.e.clientX-hr.left)>nr.globals.gridWidth/2&&(cr-=sr.tooltipRect.ttWidth),(ur=sr.e.clientY+nr.globals.translateY-hr.top)>nr.globals.gridHeight/2&&(ur-=sr.tooltipRect.ttHeight)}else nr.globals.isBarHorizontal||or.ttHeight/2+ur>nr.globals.gridHeight&&(ur=nr.globals.gridHeight-or.ttHeight+nr.globals.translateY);isNaN(cr)||(cr+=nr.globals.translateX,ar.style.left=cr+"px",ar.style.top=ur+"px")}},{key:"moveMarkers",value:function(er,tr){var ir=this.w,nr=this.ttCtx;if(ir.globals.markers.size[er]>0)for(var sr=ir.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(er,"'] .apexcharts-marker")),ar=0;ar<sr.length;ar++)parseInt(sr[ar].getAttribute("rel"),10)===tr&&(nr.marker.resetPointsSize(),nr.marker.enlargeCurrentPoint(tr,sr[ar]));else nr.marker.resetPointsSize(),this.moveDynamicPointOnHover(tr,er)}},{key:"moveDynamicPointOnHover",value:function(er,tr){var ir,nr,sr,ar,or=this.w,lr=this.ttCtx,cr=new Mi(this.ctx),ur=or.globals.pointsArray,hr=lr.tooltipUtil.getHoverMarkerSize(tr),dr=or.config.series[tr].type;if(!dr||dr!=="column"&&dr!=="candlestick"&&dr!=="boxPlot"){sr=(ir=ur[tr][er])===null||ir===void 0?void 0:ir[0],ar=((nr=ur[tr][er])===null||nr===void 0?void 0:nr[1])||0;var gr=or.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(tr,"'] .apexcharts-series-markers path"));if(gr&&ar<or.globals.gridHeight&&ar>0){var pr=gr.getAttribute("shape"),mr=cr.getMarkerPath(sr,ar,pr,1.5*hr);gr.setAttribute("d",mr)}this.moveXCrosshairs(sr),lr.fixedTooltip||this.moveTooltip(sr,ar,hr)}}},{key:"moveDynamicPointsOnHover",value:function(er){var tr,ir=this.ttCtx,nr=ir.w,sr=0,ar=0,or=nr.globals.pointsArray,lr=new Zi(this.ctx),cr=new Mi(this.ctx);tr=lr.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var ur=ir.tooltipUtil.getHoverMarkerSize(tr);if(or[tr]&&(sr=or[tr][er][0],ar=or[tr][er][1]),!isNaN(sr)){var hr=ir.tooltipUtil.getAllMarkers();if(hr.length)for(var dr=0;dr<nr.globals.series.length;dr++){var gr=or[dr];if(nr.globals.comboCharts&&gr===void 0&&hr.splice(dr,0,null),gr&&gr.length){var pr=or[dr][er][1],mr=void 0;hr[dr].setAttribute("cx",sr);var vr=hr[dr].getAttribute("shape");if(nr.config.chart.type==="rangeArea"&&!nr.globals.comboCharts){var yr=er+nr.globals.series[dr].length;mr=or[dr][yr][1],pr-=Math.abs(pr-mr)/2}if(pr!==null&&!isNaN(pr)&&pr<nr.globals.gridHeight+ur&&pr+ur>0){var br=cr.getMarkerPath(sr,pr,vr,ur);hr[dr].setAttribute("d",br)}else hr[dr].setAttribute("d","")}}this.moveXCrosshairs(sr),ir.fixedTooltip||this.moveTooltip(sr,ar||nr.globals.gridHeight,ur)}}},{key:"moveStickyTooltipOverBars",value:function(er,tr){var ir=this.w,nr=this.ttCtx,sr=ir.globals.columnSeries?ir.globals.columnSeries.length:ir.globals.series.length;ir.config.chart.stacked&&(sr=ir.globals.barGroups.length);var ar=sr>=2&&sr%2==0?Math.floor(sr/2):Math.floor(sr/2)+1;ir.globals.isBarHorizontal&&(ar=new Zi(this.ctx).getActiveConfigSeriesIndex("desc")+1);var or=ir.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(ar,"'] path[j='").concat(er,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(ar,"'] path[j='").concat(er,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(ar,"'] path[j='").concat(er,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(ar,"'] path[j='").concat(er,"']"));or||typeof tr!="number"||(or=ir.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(tr,"'] path[j='").concat(er,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(tr,"'] path[j='").concat(er,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(tr,"'] path[j='").concat(er,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(tr,"'] path[j='").concat(er,"']")));var lr=or?parseFloat(or.getAttribute("cx")):0,cr=or?parseFloat(or.getAttribute("cy")):0,ur=or?parseFloat(or.getAttribute("barWidth")):0,hr=nr.getElGrid().getBoundingClientRect(),dr=or&&(or.classList.contains("apexcharts-candlestick-area")||or.classList.contains("apexcharts-boxPlot-area"));ir.globals.isXNumeric?(or&&!dr&&(lr-=sr%2!=0?ur/2:0),or&&dr&&(lr-=ur/2)):ir.globals.isBarHorizontal||(lr=nr.xAxisTicksPositions[er-1]+nr.dataPointsDividedWidth/2,isNaN(lr)&&(lr=nr.xAxisTicksPositions[er]-nr.dataPointsDividedWidth/2)),ir.globals.isBarHorizontal?cr-=nr.tooltipRect.ttHeight:ir.config.tooltip.followCursor?cr=nr.e.clientY-hr.top-nr.tooltipRect.ttHeight/2:cr+nr.tooltipRect.ttHeight+15>ir.globals.gridHeight&&(cr=ir.globals.gridHeight),ir.globals.isBarHorizontal||this.moveXCrosshairs(lr),nr.fixedTooltip||this.moveTooltip(lr,cr||ir.globals.gridHeight)}}]),rr}(),ka=function(){function rr(er){i(this,rr),this.w=er.w,this.ttCtx=er,this.ctx=er.ctx,this.tooltipPosition=new wa(er)}return s(rr,[{key:"drawDynamicPoints",value:function(){var er=this.w,tr=new Mi(this.ctx),ir=new Vi(this.ctx),nr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series");nr=f(nr),er.config.chart.stacked&&nr.sort(function(hr,dr){return parseFloat(hr.getAttribute("data:realIndex"))-parseFloat(dr.getAttribute("data:realIndex"))});for(var sr=0;sr<nr.length;sr++){var ar=nr[sr].querySelector(".apexcharts-series-markers-wrap");if(ar!==null){var or=void 0,lr="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));er.config.chart.type!=="line"&&er.config.chart.type!=="area"||er.globals.comboCharts||er.config.tooltip.intersect||(lr+=" no-pointer-events");var cr=ir.getMarkerConfig({cssClass:lr,seriesIndex:Number(ar.getAttribute("data:realIndex"))});(or=tr.drawMarker(0,0,cr)).node.setAttribute("default-marker-size",0);var ur=document.createElementNS(er.globals.SVGNS,"g");ur.classList.add("apexcharts-series-markers"),ur.appendChild(or.node),ar.appendChild(ur)}}}},{key:"enlargeCurrentPoint",value:function(er,tr){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,sr=this.w;sr.config.chart.type!=="bubble"&&this.newPointSize(er,tr);var ar=tr.getAttribute("cx"),or=tr.getAttribute("cy");if(ir!==null&&nr!==null&&(ar=ir,or=nr),this.tooltipPosition.moveXCrosshairs(ar),!this.fixedTooltip){if(sr.config.chart.type==="radar"){var lr=this.ttCtx.getElGrid().getBoundingClientRect();ar=this.ttCtx.e.clientX-lr.left}this.tooltipPosition.moveTooltip(ar,or,sr.config.markers.hover.size)}}},{key:"enlargePoints",value:function(er){for(var tr=this.w,ir=this,nr=this.ttCtx,sr=er,ar=tr.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),or=tr.config.markers.hover.size,lr=0;lr<ar.length;lr++){var cr=ar[lr].getAttribute("rel"),ur=ar[lr].getAttribute("index");if(or===void 0&&(or=tr.globals.markers.size[ur]+tr.config.markers.hover.sizeOffset),sr===parseInt(cr,10)){ir.newPointSize(sr,ar[lr]);var hr=ar[lr].getAttribute("cx"),dr=ar[lr].getAttribute("cy");ir.tooltipPosition.moveXCrosshairs(hr),nr.fixedTooltip||ir.tooltipPosition.moveTooltip(hr,dr,or)}else ir.oldPointSize(ar[lr])}}},{key:"newPointSize",value:function(er,tr){var ir=this.w,nr=ir.config.markers.hover.size,sr=er===0?tr.parentNode.firstChild:tr.parentNode.lastChild;if(sr.getAttribute("default-marker-size")!=="0"){var ar=parseInt(sr.getAttribute("index"),10);nr===void 0&&(nr=ir.globals.markers.size[ar]+ir.config.markers.hover.sizeOffset),nr<0&&(nr=0);var or=this.ttCtx.tooltipUtil.getPathFromPoint(tr,nr);tr.setAttribute("d",or)}}},{key:"oldPointSize",value:function(er){var tr=parseFloat(er.getAttribute("default-marker-size")),ir=this.ttCtx.tooltipUtil.getPathFromPoint(er,tr);er.setAttribute("d",ir)}},{key:"resetPointsSize",value:function(){for(var er=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),tr=0;tr<er.length;tr++){var ir=parseFloat(er[tr].getAttribute("default-marker-size"));if(v.isNumber(ir)&&ir>0){var nr=this.ttCtx.tooltipUtil.getPathFromPoint(er[tr],ir);er[tr].setAttribute("d",nr)}else er[tr].setAttribute("d","M0,0")}}}]),rr}(),Aa=function(){function rr(er){i(this,rr),this.w=er.w;var tr=this.w;this.ttCtx=er,this.isVerticalGroupedRangeBar=!tr.globals.isBarHorizontal&&tr.config.chart.type==="rangeBar"&&tr.config.plotOptions.bar.rangeBarGroupRows}return s(rr,[{key:"getAttr",value:function(er,tr){return parseFloat(er.target.getAttribute(tr))}},{key:"handleHeatTreeTooltip",value:function(er){var tr=er.e,ir=er.opt,nr=er.x,sr=er.y,ar=er.type,or=this.ttCtx,lr=this.w;if(tr.target.classList.contains("apexcharts-".concat(ar,"-rect"))){var cr=this.getAttr(tr,"i"),ur=this.getAttr(tr,"j"),hr=this.getAttr(tr,"cx"),dr=this.getAttr(tr,"cy"),gr=this.getAttr(tr,"width"),pr=this.getAttr(tr,"height");if(or.tooltipLabels.drawSeriesTexts({ttItems:ir.ttItems,i:cr,j:ur,shared:!1,e:tr}),lr.globals.capturedSeriesIndex=cr,lr.globals.capturedDataPointIndex=ur,nr=hr+or.tooltipRect.ttWidth/2+gr,sr=dr+or.tooltipRect.ttHeight/2-pr/2,or.tooltipPosition.moveXCrosshairs(hr+gr/2),nr>lr.globals.gridWidth/2&&(nr=hr-or.tooltipRect.ttWidth/2+gr),or.w.config.tooltip.followCursor){var mr=lr.globals.dom.elWrap.getBoundingClientRect();nr=lr.globals.clientX-mr.left-(nr>lr.globals.gridWidth/2?or.tooltipRect.ttWidth:0),sr=lr.globals.clientY-mr.top-(sr>lr.globals.gridHeight/2?or.tooltipRect.ttHeight:0)}}return{x:nr,y:sr}}},{key:"handleMarkerTooltip",value:function(er){var tr,ir,nr=er.e,sr=er.opt,ar=er.x,or=er.y,lr=this.w,cr=this.ttCtx;if(nr.target.classList.contains("apexcharts-marker")){var ur=parseInt(sr.paths.getAttribute("cx"),10),hr=parseInt(sr.paths.getAttribute("cy"),10),dr=parseFloat(sr.paths.getAttribute("val"));if(ir=parseInt(sr.paths.getAttribute("rel"),10),tr=parseInt(sr.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,cr.intersect){var gr=v.findAncestor(sr.paths,"apexcharts-series");gr&&(tr=parseInt(gr.getAttribute("data:realIndex"),10))}if(cr.tooltipLabels.drawSeriesTexts({ttItems:sr.ttItems,i:tr,j:ir,shared:!cr.showOnIntersect&&lr.config.tooltip.shared,e:nr}),nr.type==="mouseup"&&cr.markerClick(nr,tr,ir),lr.globals.capturedSeriesIndex=tr,lr.globals.capturedDataPointIndex=ir,ar=ur,or=hr+lr.globals.translateY-1.4*cr.tooltipRect.ttHeight,cr.w.config.tooltip.followCursor){var pr=cr.getElGrid().getBoundingClientRect();or=cr.e.clientY+lr.globals.translateY-pr.top}dr<0&&(or=hr),cr.marker.enlargeCurrentPoint(ir,sr.paths,ar,or)}return{x:ar,y:or}}},{key:"handleBarTooltip",value:function(er){var tr,ir,nr=er.e,sr=er.opt,ar=this.w,or=this.ttCtx,lr=or.getElTooltip(),cr=0,ur=0,hr=0,dr=this.getBarTooltipXY({e:nr,opt:sr});if(dr.j!==null||dr.barHeight!==0||dr.barWidth!==0){tr=dr.i;var gr=dr.j;if(ar.globals.capturedSeriesIndex=tr,ar.globals.capturedDataPointIndex=gr,ar.globals.isBarHorizontal&&or.tooltipUtil.hasBars()||!ar.config.tooltip.shared?(ur=dr.x,hr=dr.y,ir=Array.isArray(ar.config.stroke.width)?ar.config.stroke.width[tr]:ar.config.stroke.width,cr=ur):ar.globals.comboCharts||ar.config.tooltip.shared||(cr/=2),isNaN(hr)&&(hr=ar.globals.svgHeight-or.tooltipRect.ttHeight),parseInt(sr.paths.parentNode.getAttribute("data:realIndex"),10),ur+or.tooltipRect.ttWidth>ar.globals.gridWidth?ur-=or.tooltipRect.ttWidth:ur<0&&(ur=0),or.w.config.tooltip.followCursor){var pr=or.getElGrid().getBoundingClientRect();hr=or.e.clientY-pr.top}or.tooltip===null&&(or.tooltip=ar.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),ar.config.tooltip.shared||(ar.globals.comboBarCount>0?or.tooltipPosition.moveXCrosshairs(cr+ir/2):or.tooltipPosition.moveXCrosshairs(cr)),!or.fixedTooltip&&(!ar.config.tooltip.shared||ar.globals.isBarHorizontal&&or.tooltipUtil.hasBars())&&(hr=hr+ar.globals.translateY-or.tooltipRect.ttHeight/2,lr.style.left=ur+ar.globals.translateX+"px",lr.style.top=hr+"px")}}},{key:"getBarTooltipXY",value:function(er){var tr=this,ir=er.e,nr=er.opt,sr=this.w,ar=null,or=this.ttCtx,lr=0,cr=0,ur=0,hr=0,dr=0,gr=ir.target.classList;if(gr.contains("apexcharts-bar-area")||gr.contains("apexcharts-candlestick-area")||gr.contains("apexcharts-boxPlot-area")||gr.contains("apexcharts-rangebar-area")){var pr=ir.target,mr=pr.getBoundingClientRect(),vr=nr.elGrid.getBoundingClientRect(),yr=mr.height;dr=mr.height;var br=mr.width,wr=parseInt(pr.getAttribute("cx"),10),Pr=parseInt(pr.getAttribute("cy"),10);hr=parseFloat(pr.getAttribute("barWidth"));var Tr=ir.type==="touchmove"?ir.touches[0].clientX:ir.clientX;ar=parseInt(pr.getAttribute("j"),10),lr=parseInt(pr.parentNode.getAttribute("rel"),10)-1;var Vr=pr.getAttribute("data-range-y1"),Ar=pr.getAttribute("data-range-y2");sr.globals.comboCharts&&(lr=parseInt(pr.parentNode.getAttribute("data:realIndex"),10));var xr=function(Cr){return sr.globals.isXNumeric?wr-br/2:tr.isVerticalGroupedRangeBar?wr+br/2:wr-or.dataPointsDividedWidth+br/2},Er=function(){return Pr-or.dataPointsDividedHeight+yr/2-or.tooltipRect.ttHeight/2};or.tooltipLabels.drawSeriesTexts({ttItems:nr.ttItems,i:lr,j:ar,y1:Vr?parseInt(Vr,10):null,y2:Ar?parseInt(Ar,10):null,shared:!or.showOnIntersect&&sr.config.tooltip.shared,e:ir}),sr.config.tooltip.followCursor?sr.globals.isBarHorizontal?(cr=Tr-vr.left+15,ur=Er()):(cr=xr(),ur=ir.clientY-vr.top-or.tooltipRect.ttHeight/2-15):sr.globals.isBarHorizontal?((cr=wr)<or.xyRatios.baseLineInvertedY&&(cr=wr-or.tooltipRect.ttWidth),ur=Er()):(cr=xr(),ur=Pr)}return{x:cr,y:ur,barHeight:dr,barWidth:hr,i:lr,j:ar}}}]),rr}(),Ca=function(){function rr(er){i(this,rr),this.w=er.w,this.ttCtx=er}return s(rr,[{key:"drawXaxisTooltip",value:function(){var er=this.w,tr=this.ttCtx,ir=er.config.xaxis.position==="bottom";tr.xaxisOffY=ir?er.globals.gridHeight+1:-er.globals.xAxisHeight-er.config.xaxis.axisTicks.height+3;var nr=ir?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",sr=er.globals.dom.elWrap;tr.isXAxisTooltipEnabled&&er.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(tr.xaxisTooltip=document.createElement("div"),tr.xaxisTooltip.setAttribute("class",nr+" apexcharts-theme-"+er.config.tooltip.theme),sr.appendChild(tr.xaxisTooltip),tr.xaxisTooltipText=document.createElement("div"),tr.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),tr.xaxisTooltipText.style.fontFamily=er.config.xaxis.tooltip.style.fontFamily||er.config.chart.fontFamily,tr.xaxisTooltipText.style.fontSize=er.config.xaxis.tooltip.style.fontSize,tr.xaxisTooltip.appendChild(tr.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var er=this.w,tr=this.ttCtx,ir=0;ir<er.config.yaxis.length;ir++){var nr=er.config.yaxis[ir].opposite||er.config.yaxis[ir].crosshairs.opposite;tr.yaxisOffX=nr?er.globals.gridWidth+1:1;var sr="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(ir,nr?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),ar=er.globals.dom.elWrap;er.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(ir))===null&&(tr.yaxisTooltip=document.createElement("div"),tr.yaxisTooltip.setAttribute("class",sr+" apexcharts-theme-"+er.config.tooltip.theme),ar.appendChild(tr.yaxisTooltip),ir===0&&(tr.yaxisTooltipText=[]),tr.yaxisTooltipText[ir]=document.createElement("div"),tr.yaxisTooltipText[ir].classList.add("apexcharts-yaxistooltip-text"),tr.yaxisTooltip.appendChild(tr.yaxisTooltipText[ir]))}}},{key:"setXCrosshairWidth",value:function(){var er=this.w,tr=this.ttCtx,ir=tr.getElXCrosshairs();if(tr.xcrosshairsWidth=parseInt(er.config.xaxis.crosshairs.width,10),er.globals.comboCharts){var nr=er.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(nr!==null&&er.config.xaxis.crosshairs.width==="barWidth"){var sr=parseFloat(nr.getAttribute("barWidth"));tr.xcrosshairsWidth=sr}else if(er.config.xaxis.crosshairs.width==="tickWidth"){var ar=er.globals.labels.length;tr.xcrosshairsWidth=er.globals.gridWidth/ar}}else if(er.config.xaxis.crosshairs.width==="tickWidth"){var or=er.globals.labels.length;tr.xcrosshairsWidth=er.globals.gridWidth/or}else if(er.config.xaxis.crosshairs.width==="barWidth"){var lr=er.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(lr!==null){var cr=parseFloat(lr.getAttribute("barWidth"));tr.xcrosshairsWidth=cr}else tr.xcrosshairsWidth=1}er.globals.isBarHorizontal&&(tr.xcrosshairsWidth=0),ir!==null&&tr.xcrosshairsWidth>0&&ir.setAttribute("width",tr.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var er=this.w,tr=this.ttCtx;tr.ycrosshairs=er.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),tr.ycrosshairsHidden=er.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(er,tr,ir){var nr=this.ttCtx,sr=this.w,ar=sr.globals,or=ar.seriesYAxisMap[er];if(nr.yaxisTooltips[er]&&or.length>0){var lr=ar.yLabelFormatters[er],cr=nr.getElGrid().getBoundingClientRect(),ur=or[0],hr=0;ir.yRatio.length>1&&(hr=ur);var dr=(tr-cr.top)*ir.yRatio[hr],gr=ar.maxYArr[ur]-ar.minYArr[ur],pr=ar.minYArr[ur]+(gr-dr);sr.config.yaxis[er].reversed&&(pr=ar.maxYArr[ur]-(gr-dr)),nr.tooltipPosition.moveYCrosshairs(tr-cr.top),nr.yaxisTooltipText[er].innerHTML=lr(pr),nr.tooltipPosition.moveYAxisTooltip(er)}}}]),rr}(),Sa=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w;var tr=this.w;this.tConfig=tr.config.tooltip,this.tooltipUtil=new va(this),this.tooltipLabels=new ya(this),this.tooltipPosition=new wa(this),this.marker=new ka(this),this.intersect=new Aa(this),this.axesTooltip=new Ca(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!tr.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return s(rr,[{key:"getElTooltip",value:function(er){return er||(er=this),er.w.globals.dom.baseEl?er.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(er){var tr=this.w;this.xyRatios=er,this.isXAxisTooltipEnabled=tr.config.xaxis.tooltip.enabled&&tr.globals.axisCharts,this.yaxisTooltips=tr.config.yaxis.map(function(ar,or){return!!(ar.show&&ar.tooltip.enabled&&tr.globals.axisCharts)}),this.allTooltipSeriesGroups=[],tr.globals.axisCharts||(this.showTooltipTitle=!1);var ir=document.createElement("div");if(ir.classList.add("apexcharts-tooltip"),tr.config.tooltip.cssClass&&ir.classList.add(tr.config.tooltip.cssClass),ir.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),tr.globals.dom.elWrap.appendChild(ir),tr.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var nr=new Qi(this.ctx);this.xAxisTicksPositions=nr.getXAxisTicksPositions()}if(!tr.globals.comboCharts&&!this.tConfig.intersect&&tr.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),tr.config.markers.size!==0&&tr.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),tr.globals.collapsedSeries.length!==tr.globals.series.length){this.dataPointsDividedHeight=tr.globals.gridHeight/tr.globals.dataPoints,this.dataPointsDividedWidth=tr.globals.gridWidth/tr.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||tr.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,ir.appendChild(this.tooltipTitle));var sr=tr.globals.series.length;(tr.globals.xyCharts||tr.globals.comboCharts)&&this.tConfig.shared&&(sr=this.showOnIntersect?1:tr.globals.series.length),this.legendLabels=tr.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(sr),this.addSVGEvents()}}},{key:"createTTElements",value:function(er){for(var tr=this,ir=this.w,nr=[],sr=this.getElTooltip(),ar=function(lr){var cr=document.createElement("div");cr.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(lr)),cr.style.order=ir.config.tooltip.inverseOrder?er-lr:lr+1;var ur=document.createElement("span");ur.classList.add("apexcharts-tooltip-marker"),ir.config.tooltip.fillSeriesColor?ur.style.backgroundColor=ir.globals.colors[lr]:ur.style.color=ir.globals.colors[lr];var hr=ir.config.markers.shape,dr=hr;Array.isArray(hr)&&(dr=hr[lr]),ur.setAttribute("shape",dr),cr.appendChild(ur);var gr=document.createElement("div");gr.classList.add("apexcharts-tooltip-text"),gr.style.fontFamily=tr.tConfig.style.fontFamily||ir.config.chart.fontFamily,gr.style.fontSize=tr.tConfig.style.fontSize,["y","goals","z"].forEach(function(pr){var mr=document.createElement("div");mr.classList.add("apexcharts-tooltip-".concat(pr,"-group"));var vr=document.createElement("span");vr.classList.add("apexcharts-tooltip-text-".concat(pr,"-label")),mr.appendChild(vr);var yr=document.createElement("span");yr.classList.add("apexcharts-tooltip-text-".concat(pr,"-value")),mr.appendChild(yr),gr.appendChild(mr)}),cr.appendChild(gr),sr.appendChild(cr),nr.push(cr)},or=0;or<er;or++)ar(or);return nr}},{key:"addSVGEvents",value:function(){var er=this.w,tr=er.config.chart.type,ir=this.getElTooltip(),nr=!(tr!=="bar"&&tr!=="candlestick"&&tr!=="boxPlot"&&tr!=="rangeBar"),sr=tr==="area"||tr==="line"||tr==="scatter"||tr==="bubble"||tr==="radar",ar=er.globals.dom.Paper.node,or=this.getElGrid();or&&(this.seriesBound=or.getBoundingClientRect());var lr,cr=[],ur=[],hr={hoverArea:ar,elGrid:or,tooltipEl:ir,tooltipY:cr,tooltipX:ur,ttItems:this.ttItems};if(er.globals.axisCharts&&(sr?lr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):nr?lr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):tr!=="heatmap"&&tr!=="treemap"||(lr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),lr&&lr.length))for(var dr=0;dr<lr.length;dr++)cr.push(lr[dr].getAttribute("cy")),ur.push(lr[dr].getAttribute("cx"));if(er.globals.xyCharts&&!this.showOnIntersect||er.globals.comboCharts&&!this.showOnIntersect||nr&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([ar],hr);else if(nr&&!er.globals.comboCharts||sr&&this.showOnIntersect)this.addDatapointEventsListeners(hr);else if(!er.globals.axisCharts||tr==="heatmap"||tr==="treemap"){var gr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(gr,hr)}if(this.showOnIntersect){var pr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");pr.length>0&&this.addPathsEventListeners(pr,hr),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(hr)}}},{key:"drawFixedTooltipRect",value:function(){var er=this.w,tr=this.getElTooltip(),ir=tr.getBoundingClientRect(),nr=ir.width+10,sr=ir.height+10,ar=this.tConfig.fixed.offsetX,or=this.tConfig.fixed.offsetY,lr=this.tConfig.fixed.position.toLowerCase();return lr.indexOf("right")>-1&&(ar=ar+er.globals.svgWidth-nr+10),lr.indexOf("bottom")>-1&&(or=or+er.globals.svgHeight-sr-10),tr.style.left=ar+"px",tr.style.top=or+"px",{x:ar,y:or,ttWidth:nr,ttHeight:sr}}},{key:"addDatapointEventsListeners",value:function(er){var tr=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(tr,er)}},{key:"addPathsEventListeners",value:function(er,tr){for(var ir=this,nr=function(ar){var or={paths:er[ar],tooltipEl:tr.tooltipEl,tooltipY:tr.tooltipY,tooltipX:tr.tooltipX,elGrid:tr.elGrid,hoverArea:tr.hoverArea,ttItems:tr.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(lr){return er[ar].addEventListener(lr,ir.onSeriesHover.bind(ir,or),{capture:!1,passive:!0})})},sr=0;sr<er.length;sr++)nr(sr)}},{key:"onSeriesHover",value:function(er,tr){var ir=this,nr=Date.now()-this.lastHoverTime;nr>=20?this.seriesHover(er,tr):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){ir.seriesHover(er,tr)},20-nr))}},{key:"seriesHover",value:function(er,tr){var ir=this;this.lastHoverTime=Date.now();var nr=[],sr=this.w;sr.config.chart.group&&(nr=this.ctx.getGroupedCharts()),sr.globals.axisCharts&&(sr.globals.minX===-1/0&&sr.globals.maxX===1/0||sr.globals.dataPoints===0)||(nr.length?nr.forEach(function(ar){var or=ir.getElTooltip(ar),lr={paths:er.paths,tooltipEl:or,tooltipY:er.tooltipY,tooltipX:er.tooltipX,elGrid:er.elGrid,hoverArea:er.hoverArea,ttItems:ar.w.globals.tooltip.ttItems};ar.w.globals.minX===ir.w.globals.minX&&ar.w.globals.maxX===ir.w.globals.maxX&&ar.w.globals.tooltip.seriesHoverByContext({chartCtx:ar,ttCtx:ar.w.globals.tooltip,opt:lr,e:tr})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:er,e:tr}))}},{key:"seriesHoverByContext",value:function(er){var tr=er.chartCtx,ir=er.ttCtx,nr=er.opt,sr=er.e,ar=tr.w,or=this.getElTooltip(tr);or&&(ir.tooltipRect={x:0,y:0,ttWidth:or.getBoundingClientRect().width,ttHeight:or.getBoundingClientRect().height},ir.e=sr,ir.tooltipUtil.hasBars()&&!ar.globals.comboCharts&&!ir.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Zi(tr).toggleSeriesOnHover(sr,sr.target.parentNode),ir.fixedTooltip&&ir.drawFixedTooltipRect(),ar.globals.axisCharts?ir.axisChartsTooltips({e:sr,opt:nr,tooltipRect:ir.tooltipRect}):ir.nonAxisChartsTooltips({e:sr,opt:nr,tooltipRect:ir.tooltipRect}))}},{key:"axisChartsTooltips",value:function(er){var tr,ir,nr=er.e,sr=er.opt,ar=this.w,or=sr.elGrid.getBoundingClientRect(),lr=nr.type==="touchmove"?nr.touches[0].clientX:nr.clientX,cr=nr.type==="touchmove"?nr.touches[0].clientY:nr.clientY;if(this.clientY=cr,this.clientX=lr,ar.globals.capturedSeriesIndex=-1,ar.globals.capturedDataPointIndex=-1,cr<or.top||cr>or.top+or.height)this.handleMouseOut(sr);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!ar.config.tooltip.shared){var ur=parseInt(sr.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(ur)<0)return void this.handleMouseOut(sr)}var hr=this.getElTooltip(),dr=this.getElXCrosshairs(),gr=[];ar.config.chart.group&&(gr=this.ctx.getSyncedCharts());var pr=ar.globals.xyCharts||ar.config.chart.type==="bar"&&!ar.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||ar.globals.comboCharts&&this.tooltipUtil.hasBars();if(nr.type==="mousemove"||nr.type==="touchmove"||nr.type==="mouseup"){if(ar.globals.collapsedSeries.length+ar.globals.ancillaryCollapsedSeries.length===ar.globals.series.length)return;dr!==null&&dr.classList.add("apexcharts-active");var mr=this.yaxisTooltips.filter(function(br){return br===!0});if(this.ycrosshairs!==null&&mr.length&&this.ycrosshairs.classList.add("apexcharts-active"),pr&&!this.showOnIntersect||gr.length>1)this.handleStickyTooltip(nr,lr,cr,sr);else if(ar.config.chart.type==="heatmap"||ar.config.chart.type==="treemap"){var vr=this.intersect.handleHeatTreeTooltip({e:nr,opt:sr,x:tr,y:ir,type:ar.config.chart.type});tr=vr.x,ir=vr.y,hr.style.left=tr+"px",hr.style.top=ir+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:nr,opt:sr}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:nr,opt:sr,x:tr,y:ir});if(this.yaxisTooltips.length)for(var yr=0;yr<ar.config.yaxis.length;yr++)this.axesTooltip.drawYaxisTooltipText(yr,cr,this.xyRatios);ar.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),sr.tooltipEl.classList.add("apexcharts-active")}else nr.type!=="mouseout"&&nr.type!=="touchend"||this.handleMouseOut(sr)}}},{key:"nonAxisChartsTooltips",value:function(er){var tr=er.e,ir=er.opt,nr=er.tooltipRect,sr=this.w,ar=ir.paths.getAttribute("rel"),or=this.getElTooltip(),lr=sr.globals.dom.elWrap.getBoundingClientRect();if(tr.type==="mousemove"||tr.type==="touchmove"){sr.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),or.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:ir.ttItems,i:parseInt(ar,10)-1,shared:!1});var cr=sr.globals.clientX-lr.left-nr.ttWidth/2,ur=sr.globals.clientY-lr.top-nr.ttHeight-10;if(or.style.left=cr+"px",or.style.top=ur+"px",sr.config.legend.tooltipHoverFormatter){var hr=ar-1,dr=(0,sr.config.legend.tooltipHoverFormatter)(this.legendLabels[hr].getAttribute("data:default-text"),{seriesIndex:hr,dataPointIndex:hr,w:sr});this.legendLabels[hr].innerHTML=dr}}else tr.type!=="mouseout"&&tr.type!=="touchend"||(or.classList.remove("apexcharts-active"),sr.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),sr.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(gr){var pr=gr.getAttribute("data:default-text");gr.innerHTML=decodeURIComponent(pr)}))}},{key:"handleStickyTooltip",value:function(er,tr,ir,nr){var sr=this.w,ar=this.tooltipUtil.getNearestValues({context:this,hoverArea:nr.hoverArea,elGrid:nr.elGrid,clientX:tr,clientY:ir}),or=ar.j,lr=ar.capturedSeries;sr.globals.collapsedSeriesIndices.includes(lr)&&(lr=null);var cr=nr.elGrid.getBoundingClientRect();if(ar.hoverX<0||ar.hoverX>cr.width)this.handleMouseOut(nr);else if(lr!==null)this.handleStickyCapturedSeries(er,lr,nr,or);else if(this.tooltipUtil.isXoverlap(or)||sr.globals.isBarHorizontal){var ur=sr.globals.series.findIndex(function(hr,dr){return!sr.globals.collapsedSeriesIndices.includes(dr)});this.create(er,this,ur,or,nr.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(er,tr,ir,nr){var sr=this.w;if(!this.tConfig.shared&&sr.globals.series[tr][nr]===null)return void this.handleMouseOut(ir);if(sr.globals.series[tr][nr]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(nr)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(er,this,tr,nr,ir.ttItems):this.create(er,this,tr,nr,ir.ttItems,!1);else if(this.tooltipUtil.isXoverlap(nr)){var ar=sr.globals.series.findIndex(function(or,lr){return!sr.globals.collapsedSeriesIndices.includes(lr)});this.create(er,this,ar,nr,ir.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var er=this.w,tr=new Mi(this.ctx),ir=er.globals.dom.Paper.find(".apexcharts-bar-area"),nr=0;nr<ir.length;nr++)tr.pathMouseLeave(ir[nr])}},{key:"handleMouseOut",value:function(er){var tr=this.w,ir=this.getElXCrosshairs();if(tr.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),er.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),tr.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),ir!==null&&ir.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=tr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var nr=0;nr<this.yaxisTTEls.length;nr++)this.yaxisTTEls[nr].classList.remove("apexcharts-active")}tr.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(sr){var ar=sr.getAttribute("data:default-text");sr.innerHTML=decodeURIComponent(ar)})}},{key:"markerClick",value:function(er,tr,ir){var nr=this.w;typeof nr.config.chart.events.markerClick=="function"&&nr.config.chart.events.markerClick(er,this.ctx,{seriesIndex:tr,dataPointIndex:ir,w:nr}),this.ctx.events.fireEvent("markerClick",[er,this.ctx,{seriesIndex:tr,dataPointIndex:ir,w:nr}])}},{key:"create",value:function(er,tr,ir,nr,sr){var ar,or,lr,cr,ur,hr,dr,gr,pr,mr,vr,yr,br,wr,Pr,Tr,Vr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Ar=this.w,xr=tr;er.type==="mouseup"&&this.markerClick(er,ir,nr),Vr===null&&(Vr=this.tConfig.shared);var Er=this.tooltipUtil.hasMarkers(ir),Cr=this.tooltipUtil.getElBars(),Rr=function(){Ar.globals.markers.largestSize>0?xr.marker.enlargePoints(nr):xr.tooltipPosition.moveDynamicPointsOnHover(nr)};if(Ar.config.legend.tooltipHoverFormatter){var kr=Ar.config.legend.tooltipHoverFormatter,Sr=Array.from(this.legendLabels);Sr.forEach(function(pn){var fn=pn.getAttribute("data:default-text");pn.innerHTML=decodeURIComponent(fn)});for(var Nr=0;Nr<Sr.length;Nr++){var Hr=Sr[Nr],zr=parseInt(Hr.getAttribute("i"),10),$r=decodeURIComponent(Hr.getAttribute("data:default-text")),jr=kr($r,{seriesIndex:Vr?zr:ir,dataPointIndex:nr,w:Ar});if(Vr)Hr.innerHTML=Ar.globals.collapsedSeriesIndices.indexOf(zr)<0?jr:$r;else if(Hr.innerHTML=zr===ir?jr:$r,ir===zr)break}}var Jr=u(u({ttItems:sr,i:ir,j:nr},((ar=Ar.globals.seriesRange)===null||ar===void 0||(or=ar[ir])===null||or===void 0||(lr=or[nr])===null||lr===void 0||(cr=lr.y[0])===null||cr===void 0?void 0:cr.y1)!==void 0&&{y1:(ur=Ar.globals.seriesRange)===null||ur===void 0||(hr=ur[ir])===null||hr===void 0||(dr=hr[nr])===null||dr===void 0||(gr=dr.y[0])===null||gr===void 0?void 0:gr.y1}),((pr=Ar.globals.seriesRange)===null||pr===void 0||(mr=pr[ir])===null||mr===void 0||(vr=mr[nr])===null||vr===void 0||(yr=vr.y[0])===null||yr===void 0?void 0:yr.y2)!==void 0&&{y2:(br=Ar.globals.seriesRange)===null||br===void 0||(wr=br[ir])===null||wr===void 0||(Pr=wr[nr])===null||Pr===void 0||(Tr=Pr.y[0])===null||Tr===void 0?void 0:Tr.y2});if(Vr){if(xr.tooltipLabels.drawSeriesTexts(u(u({},Jr),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Er)Rr();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Cr),this.barSeriesHeight>0)){var ln=new Mi(this.ctx),un=Ar.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(nr,"']"));this.deactivateHoverFilter(),xr.tooltipPosition.moveStickyTooltipOverBars(nr,ir),xr.tooltipUtil.getAllMarkers(!0).length&&Rr();for(var Qr=0;Qr<un.length;Qr++)ln.pathMouseEnter(un[Qr])}}else xr.tooltipLabels.drawSeriesTexts(u({shared:!1},Jr)),this.tooltipUtil.hasBars()&&xr.tooltipPosition.moveStickyTooltipOverBars(nr,ir),Er&&xr.tooltipPosition.moveMarkers(ir,nr)}}]),rr}(),La=function(){function rr(er){i(this,rr),this.w=er.w,this.barCtx=er,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return s(rr,[{key:"handleBarDataLabels",value:function(er){var tr,ir,nr=er.x,sr=er.y,ar=er.y1,or=er.y2,lr=er.i,cr=er.j,ur=er.realIndex,hr=er.columnGroupIndex,dr=er.series,gr=er.barHeight,pr=er.barWidth,mr=er.barXPosition,vr=er.barYPosition,yr=er.visibleSeries,br=er.renderedPath,wr=this.w,Pr=new Mi(this.barCtx.ctx),Tr=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[ur]:this.barCtx.strokeWidth;wr.globals.isXNumeric&&!wr.globals.isBarHorizontal?(tr=nr+parseFloat(pr*(yr+1)),ir=sr+parseFloat(gr*(yr+1))-Tr):(tr=nr+parseFloat(pr*yr),ir=sr+parseFloat(gr*yr));var Vr,Ar=null,xr=nr,Er=sr,Cr={},Rr=wr.config.dataLabels,kr=this.barCtx.barOptions.dataLabels,Sr=this.barCtx.barOptions.dataLabels.total;vr!==void 0&&this.barCtx.isRangeBar&&(ir=vr,Er=vr),mr!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(tr=mr,xr=mr);var Nr=Rr.offsetX,Hr=Rr.offsetY,zr={width:0,height:0};if(wr.config.dataLabels.enabled){var $r=wr.globals.series[lr][cr];zr=Pr.getTextRects(wr.config.dataLabels.formatter?wr.config.dataLabels.formatter($r,u(u({},wr),{},{seriesIndex:lr,dataPointIndex:cr,w:wr})):wr.globals.yLabelFormatters[0]($r),parseFloat(Rr.style.fontSize))}var jr={x:nr,y:sr,i:lr,j:cr,realIndex:ur,columnGroupIndex:hr,renderedPath:br,bcx:tr,bcy:ir,barHeight:gr,barWidth:pr,textRects:zr,strokeWidth:Tr,dataLabelsX:xr,dataLabelsY:Er,dataLabelsConfig:Rr,barDataLabelsConfig:kr,barTotalDataLabelsConfig:Sr,offX:Nr,offY:Hr};return Cr=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(jr):this.calculateColumnsDataLabelsPosition(jr),br.attr({cy:Cr.bcy,cx:Cr.bcx,j:cr,val:wr.globals.series[lr][cr],barHeight:gr,barWidth:pr}),Vr=this.drawCalculatedDataLabels({x:Cr.dataLabelsX,y:Cr.dataLabelsY,val:this.barCtx.isRangeBar?[ar,or]:wr.config.chart.stackType==="100%"?dr[ur][cr]:wr.globals.series[ur][cr],i:ur,j:cr,barWidth:pr,barHeight:gr,textRects:zr,dataLabelsConfig:Rr}),wr.config.chart.stacked&&Sr.enabled&&(Ar=this.drawTotalDataLabels({x:Cr.totalDataLabelsX,y:Cr.totalDataLabelsY,barWidth:pr,barHeight:gr,realIndex:ur,textAnchor:Cr.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:ur,j:cr}),dataLabelsConfig:Rr,barTotalDataLabelsConfig:Sr})),{dataLabels:Vr,totalDataLabels:Ar}}},{key:"getStackedTotalDataLabel",value:function(er){var tr=er.realIndex,ir=er.j,nr=this.w,sr=this.barCtx.stackedSeriesTotals[ir];return this.totalFormatter&&(sr=this.totalFormatter(sr,u(u({},nr),{},{seriesIndex:tr,dataPointIndex:ir,w:nr}))),sr}},{key:"calculateColumnsDataLabelsPosition",value:function(er){var tr=this,ir=this.w,nr=er.i,sr=er.j,ar=er.realIndex;er.columnGroupIndex;var or,lr,cr=er.y,ur=er.bcx,hr=er.barWidth,dr=er.barHeight,gr=er.textRects,pr=er.dataLabelsX,mr=er.dataLabelsY,vr=er.dataLabelsConfig,yr=er.barDataLabelsConfig,br=er.barTotalDataLabelsConfig,wr=er.strokeWidth,Pr=er.offX,Tr=er.offY,Vr=ur;dr=Math.abs(dr);var Ar=ir.config.plotOptions.bar.dataLabels.orientation==="vertical",xr=this.barCtx.barHelpers.getZeroValueEncounters({i:nr,j:sr}).zeroEncounters;ur-=wr/2;var Er=ir.globals.gridWidth/ir.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?pr+=hr/2:(pr=ir.globals.isXNumeric?ur-hr/2+Pr:ur-Er+hr/2+Pr,!ir.config.chart.stacked&&xr>0&&ir.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(pr-=hr*xr)),Ar&&(pr=pr+gr.height/2-wr/2-2);var Cr=ir.globals.series[nr][sr]<0,Rr=cr;switch(this.barCtx.isReversed&&(Rr=cr+(Cr?dr:-dr)),yr.position){case"center":mr=Ar?Cr?Rr-dr/2+Tr:Rr+dr/2-Tr:Cr?Rr-dr/2+gr.height/2+Tr:Rr+dr/2+gr.height/2-Tr;break;case"bottom":mr=Ar?Cr?Rr-dr+Tr:Rr+dr-Tr:Cr?Rr-dr+gr.height+wr+Tr:Rr+dr-gr.height/2+wr-Tr;break;case"top":mr=Ar?Cr?Rr+Tr:Rr-Tr:Cr?Rr-gr.height/2-Tr:Rr+gr.height+Tr}var kr=Rr;if(ir.globals.seriesGroups.forEach(function(Hr){var zr;(zr=tr.barCtx[Hr.join(",")])===null||zr===void 0||zr.prevY.forEach(function($r){kr=Cr?Math.max($r[sr],kr):Math.min($r[sr],kr)})}),this.barCtx.lastActiveBarSerieIndex===ar&&br.enabled){var Sr=new Mi(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:ar,j:sr}),vr.fontSize);or=Cr?kr-Sr.height/2-Tr-br.offsetY+18:kr+Sr.height+Tr+br.offsetY-18;var Nr=Er;lr=Vr+(ir.globals.isXNumeric?-hr*ir.globals.barGroups.length/2:ir.globals.barGroups.length*hr/2-(ir.globals.barGroups.length-1)*hr-Nr)+br.offsetX}return ir.config.chart.stacked||(mr<0?mr=0+wr:mr+gr.height/3>ir.globals.gridHeight&&(mr=ir.globals.gridHeight-wr)),{bcx:ur,bcy:cr,dataLabelsX:pr,dataLabelsY:mr,totalDataLabelsX:lr,totalDataLabelsY:or,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(er){var tr=this,ir=this.w,nr=er.x,sr=er.i,ar=er.j,or=er.realIndex,lr=er.bcy,cr=er.barHeight,ur=er.barWidth,hr=er.textRects,dr=er.dataLabelsX,gr=er.strokeWidth,pr=er.dataLabelsConfig,mr=er.barDataLabelsConfig,vr=er.barTotalDataLabelsConfig,yr=er.offX,br=er.offY,wr=ir.globals.gridHeight/ir.globals.dataPoints,Pr=this.barCtx.barHelpers.getZeroValueEncounters({i:sr,j:ar}).zeroEncounters;ur=Math.abs(ur);var Tr,Vr,Ar=lr-(this.barCtx.isRangeBar?0:wr)+cr/2+hr.height/2+br-3;!ir.config.chart.stacked&&Pr>0&&ir.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Ar-=cr*Pr);var xr="start",Er=ir.globals.series[sr][ar]<0,Cr=nr;switch(this.barCtx.isReversed&&(Cr=nr+(Er?-ur:ur),xr=Er?"start":"end"),mr.position){case"center":dr=Er?Cr+ur/2-yr:Math.max(hr.width/2,Cr-ur/2)+yr;break;case"bottom":dr=Er?Cr+ur-gr-yr:Cr-ur+gr+yr;break;case"top":dr=Er?Cr-gr-yr:Cr-gr+yr}var Rr=Cr;if(ir.globals.seriesGroups.forEach(function(Sr){var Nr;(Nr=tr.barCtx[Sr.join(",")])===null||Nr===void 0||Nr.prevX.forEach(function(Hr){Rr=Er?Math.min(Hr[ar],Rr):Math.max(Hr[ar],Rr)})}),this.barCtx.lastActiveBarSerieIndex===or&&vr.enabled){var kr=new Mi(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:or,j:ar}),pr.fontSize);Er?(Tr=Rr-gr-yr-vr.offsetX,xr="end"):Tr=Rr+yr+vr.offsetX+(this.barCtx.isReversed?-(ur+gr):gr),Vr=Ar-hr.height/2+kr.height/2+vr.offsetY+gr,ir.globals.barGroups.length>1&&(Vr-=ir.globals.barGroups.length/2*(cr/2))}return ir.config.chart.stacked||(pr.textAnchor==="start"?dr-hr.width<0?dr=Er?hr.width+gr:gr:dr+hr.width>ir.globals.gridWidth&&(dr=Er?ir.globals.gridWidth-gr:ir.globals.gridWidth-hr.width-gr):pr.textAnchor==="middle"?dr-hr.width/2<0?dr=hr.width/2+gr:dr+hr.width/2>ir.globals.gridWidth&&(dr=ir.globals.gridWidth-hr.width/2-gr):pr.textAnchor==="end"&&(dr<1?dr=hr.width+gr:dr+1>ir.globals.gridWidth&&(dr=ir.globals.gridWidth-hr.width-gr))),{bcx:nr,bcy:lr,dataLabelsX:dr,dataLabelsY:Ar,totalDataLabelsX:Tr,totalDataLabelsY:Vr,totalDataLabelsAnchor:xr}}},{key:"drawCalculatedDataLabels",value:function(er){var tr=er.x,ir=er.y,nr=er.val,sr=er.i,ar=er.j,or=er.textRects,lr=er.barHeight,cr=er.barWidth,ur=er.dataLabelsConfig,hr=this.w,dr="rotate(0)";hr.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(dr="rotate(-90, ".concat(tr,", ").concat(ir,")"));var gr=new qi(this.barCtx.ctx),pr=new Mi(this.barCtx.ctx),mr=ur.formatter,vr=null,yr=hr.globals.collapsedSeriesIndices.indexOf(sr)>-1;if(ur.enabled&&!yr){vr=pr.group({class:"apexcharts-data-labels",transform:dr});var br="";nr!==void 0&&(br=mr(nr,u(u({},hr),{},{seriesIndex:sr,dataPointIndex:ar,w:hr}))),!nr&&hr.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(br="");var wr=hr.globals.series[sr][ar]<0,Pr=hr.config.plotOptions.bar.dataLabels.position;hr.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(Pr==="top"&&(ur.textAnchor=wr?"end":"start"),Pr==="center"&&(ur.textAnchor="middle"),Pr==="bottom"&&(ur.textAnchor=wr?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&cr<pr.getTextRects(br,parseFloat(ur.style.fontSize)).width&&(br=""),hr.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?or.width/1.6>Math.abs(cr)&&(br=""):or.height/1.6>Math.abs(lr)&&(br=""));var Tr=u({},ur);this.barCtx.isHorizontal&&nr<0&&(ur.textAnchor==="start"?Tr.textAnchor="end":ur.textAnchor==="end"&&(Tr.textAnchor="start")),gr.plotDataLabelsText({x:tr,y:ir,text:br,i:sr,j:ar,parent:vr,dataLabelsConfig:Tr,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return vr}},{key:"drawTotalDataLabels",value:function(er){var tr=er.x,ir=er.y,nr=er.val,sr=er.realIndex,ar=er.textAnchor,or=er.barTotalDataLabelsConfig;this.w;var lr,cr=new Mi(this.barCtx.ctx);return or.enabled&&tr!==void 0&&ir!==void 0&&this.barCtx.lastActiveBarSerieIndex===sr&&(lr=cr.drawText({x:tr,y:ir,foreColor:or.style.color,text:nr,textAnchor:ar,fontFamily:or.style.fontFamily,fontSize:or.style.fontSize,fontWeight:or.style.fontWeight})),lr}}]),rr}(),Ma=function(){function rr(er){i(this,rr),this.w=er.w,this.barCtx=er}return s(rr,[{key:"initVariables",value:function(er){var tr=this.w;this.barCtx.series=er,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var ir=0;ir<er.length;ir++)if(er[ir].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=er[ir].length),tr.globals.isXNumeric)for(var nr=0;nr<er[ir].length;nr++)tr.globals.seriesX[ir][nr]>tr.globals.minX&&tr.globals.seriesX[ir][nr]<tr.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=tr.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(tr.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],tr.globals.comboCharts||this.checkZeroSeries({series:er})}},{key:"initialPositions",value:function(er){var tr,ir,nr,sr,ar,or,lr,cr,ur=this.w,hr=ur.globals.dataPoints;this.barCtx.isRangeBar&&(hr=ur.globals.labels.length);var dr=this.barCtx.seriesLen;if(ur.config.plotOptions.bar.rangeBarGroupRows&&(dr=1),this.barCtx.isHorizontal)ar=(nr=ur.globals.gridHeight/hr)/dr,ur.globals.isXNumeric&&(ar=(nr=ur.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),ar=ar*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(ar=parseInt(this.barCtx.barOptions.barHeight,10)),cr=this.barCtx.baseLineInvertedY+ur.globals.padHorizontal+(this.barCtx.isReversed?ur.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(cr=ur.globals.gridWidth/2),ir=(nr-ar*this.barCtx.seriesLen)/2;else{if(sr=ur.globals.gridWidth/this.barCtx.visibleItems,ur.config.xaxis.convertedCatToNumeric&&(sr=ur.globals.gridWidth/ur.globals.dataPoints),or=sr/dr*parseInt(this.barCtx.barOptions.columnWidth,10)/100,ur.globals.isXNumeric){var gr=this.barCtx.xRatio;ur.globals.minXDiff&&ur.globals.minXDiff!==.5&&ur.globals.minXDiff/gr>0&&(sr=ur.globals.minXDiff/gr),(or=sr/dr*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(or=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(or=parseInt(this.barCtx.barOptions.columnWidth,10)),lr=ur.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?ur.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),ur.globals.isXNumeric?tr=this.barCtx.getBarXForNumericXAxis({x:tr,j:0,realIndex:er,barWidth:or}).x:tr=ur.globals.padHorizontal+v.noExponents(sr-or*this.barCtx.seriesLen)/2}return ur.globals.barHeight=ar,ur.globals.barWidth=or,{x:tr,y:ir,yDivision:nr,xDivision:sr,barHeight:ar,barWidth:or,zeroH:lr,zeroW:cr}}},{key:"initializeStackedPrevVars",value:function(er){er.w.globals.seriesGroups.forEach(function(tr){er[tr]||(er[tr]={}),er[tr].prevY=[],er[tr].prevX=[],er[tr].prevYF=[],er[tr].prevXF=[],er[tr].prevYVal=[],er[tr].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(er){er.w.globals.seriesGroups.forEach(function(tr){er[tr]||(er[tr]={}),er[tr].xArrj=[],er[tr].xArrjF=[],er[tr].xArrjVal=[],er[tr].yArrj=[],er[tr].yArrjF=[],er[tr].yArrjVal=[]})}},{key:"getPathFillColor",value:function(er,tr,ir,nr){var sr,ar,or,lr,cr=this.w,ur=this.barCtx.ctx.fill,hr=null,dr=this.barCtx.barOptions.distributed?ir:tr,gr=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(pr){er[tr][ir]>=pr.from&&er[tr][ir]<=pr.to&&(hr=pr.color,gr=!0)}),{color:ur.fillPath({seriesNumber:this.barCtx.barOptions.distributed?dr:nr,dataPointIndex:ir,color:hr,value:er[tr][ir],fillConfig:(sr=cr.config.series[tr].data[ir])===null||sr===void 0?void 0:sr.fill,fillType:(ar=cr.config.series[tr].data[ir])!==null&&ar!==void 0&&(or=ar.fill)!==null&&or!==void 0&&or.type?(lr=cr.config.series[tr].data[ir])===null||lr===void 0?void 0:lr.fill.type:Array.isArray(cr.config.fill.type)?cr.config.fill.type[nr]:cr.config.fill.type}),useRangeColor:gr}}},{key:"getStrokeWidth",value:function(er,tr,ir){var nr=0,sr=this.w;return this.barCtx.series[er][tr]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,sr.config.stroke.show&&(this.barCtx.isNullValue||(nr=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[ir]:this.barCtx.strokeWidth)),nr}},{key:"createBorderRadiusArr",value:function(er){var tr,ir=this.w,nr=!this.w.config.chart.stacked||ir.config.plotOptions.bar.borderRadius<=0,sr=er.length,ar=0|((tr=er[0])===null||tr===void 0?void 0:tr.length),or=Array.from({length:sr},function(){return Array(ar).fill(nr?"top":"none")});if(nr)return or;for(var lr=0;lr<ar;lr++){for(var cr=[],ur=[],hr=0,dr=0;dr<sr;dr++){var gr=er[dr][lr];gr>0?(cr.push(dr),hr++):gr<0&&(ur.push(dr),hr++)}if(cr.length>0&&ur.length===0)if(cr.length===1)or[cr[0]][lr]="both";else{var pr,mr=cr[0],vr=cr[cr.length-1],yr=r(cr);try{for(yr.s();!(pr=yr.n()).done;){var br=pr.value;or[br][lr]=br===mr?"bottom":br===vr?"top":"none"}}catch(zr){yr.e(zr)}finally{yr.f()}}else if(ur.length>0&&cr.length===0)if(ur.length===1)or[ur[0]][lr]="both";else{var wr,Pr=Math.max.apply(Math,ur),Tr=Math.min.apply(Math,ur),Vr=r(ur);try{for(Vr.s();!(wr=Vr.n()).done;){var Ar=wr.value;or[Ar][lr]=Ar===Pr?"bottom":Ar===Tr?"top":"none"}}catch(zr){Vr.e(zr)}finally{Vr.f()}}else if(cr.length>0&&ur.length>0){var xr,Er=cr[cr.length-1],Cr=r(cr);try{for(Cr.s();!(xr=Cr.n()).done;){var Rr=xr.value;or[Rr][lr]=Rr===Er?"top":"none"}}catch(zr){Cr.e(zr)}finally{Cr.f()}var kr,Sr=Math.max.apply(Math,ur),Nr=r(ur);try{for(Nr.s();!(kr=Nr.n()).done;){var Hr=kr.value;or[Hr][lr]=Hr===Sr?"bottom":"none"}}catch(zr){Nr.e(zr)}finally{Nr.f()}}else hr===1&&(or[cr[0]||ur[0]][lr]="both")}return or}},{key:"barBackground",value:function(er){var tr=er.j,ir=er.i,nr=er.x1,sr=er.x2,ar=er.y1,or=er.y2,lr=er.elSeries,cr=this.w,ur=new Mi(this.barCtx.ctx),hr=new Zi(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&hr===ir){tr>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(tr%=this.barCtx.barOptions.colors.backgroundBarColors.length);var dr=this.barCtx.barOptions.colors.backgroundBarColors[tr],gr=ur.drawRect(nr!==void 0?nr:0,ar!==void 0?ar:0,sr!==void 0?sr:cr.globals.gridWidth,or!==void 0?or:cr.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,dr,this.barCtx.barOptions.colors.backgroundBarOpacity);lr.add(gr),gr.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(er){var tr,ir=er.barWidth,nr=er.barXPosition,sr=er.y1,ar=er.y2,or=er.strokeWidth,lr=er.isReversed,cr=er.series,ur=er.seriesGroup,hr=er.realIndex,dr=er.i,gr=er.j,pr=er.w,mr=new Mi(this.barCtx.ctx);(or=Array.isArray(or)?or[hr]:or)||(or=0);var vr=ir,yr=nr;(tr=pr.config.series[hr].data[gr])!==null&&tr!==void 0&&tr.columnWidthOffset&&(yr=nr-pr.config.series[hr].data[gr].columnWidthOffset/2,vr=ir+pr.config.series[hr].data[gr].columnWidthOffset);var br=or/2,wr=yr+br,Pr=yr+vr-br,Tr=(cr[dr][gr]>=0?1:-1)*(lr?-1:1);sr+=.001-br*Tr,ar+=.001+br*Tr;var Vr=mr.move(wr,sr),Ar=mr.move(wr,sr),xr=mr.line(Pr,sr);if(pr.globals.previousPaths.length>0&&(Ar=this.barCtx.getPreviousPath(hr,gr,!1)),Vr=Vr+mr.line(wr,ar)+mr.line(Pr,ar)+xr+(pr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[hr][gr]==="both"?" Z":" z"),Ar=Ar+mr.line(wr,sr)+xr+xr+xr+xr+xr+mr.line(wr,sr)+(pr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[hr][gr]==="both"?" Z":" z"),this.arrBorderRadius[hr][gr]!=="none"&&(Vr=mr.roundPathCorners(Vr,pr.config.plotOptions.bar.borderRadius)),pr.config.chart.stacked){var Er=this.barCtx;(Er=this.barCtx[ur]).yArrj.push(ar-br*Tr),Er.yArrjF.push(Math.abs(sr-ar+or*Tr)),Er.yArrjVal.push(this.barCtx.series[dr][gr])}return{pathTo:Vr,pathFrom:Ar}}},{key:"getBarpaths",value:function(er){var tr,ir=er.barYPosition,nr=er.barHeight,sr=er.x1,ar=er.x2,or=er.strokeWidth,lr=er.isReversed,cr=er.series,ur=er.seriesGroup,hr=er.realIndex,dr=er.i,gr=er.j,pr=er.w,mr=new Mi(this.barCtx.ctx);(or=Array.isArray(or)?or[hr]:or)||(or=0);var vr=ir,yr=nr;(tr=pr.config.series[hr].data[gr])!==null&&tr!==void 0&&tr.barHeightOffset&&(vr=ir-pr.config.series[hr].data[gr].barHeightOffset/2,yr=nr+pr.config.series[hr].data[gr].barHeightOffset);var br=or/2,wr=vr+br,Pr=vr+yr-br,Tr=(cr[dr][gr]>=0?1:-1)*(lr?-1:1);sr+=.001+br*Tr,ar+=.001-br*Tr;var Vr=mr.move(sr,wr),Ar=mr.move(sr,wr);pr.globals.previousPaths.length>0&&(Ar=this.barCtx.getPreviousPath(hr,gr,!1));var xr=mr.line(sr,Pr);if(Vr=Vr+mr.line(ar,wr)+mr.line(ar,Pr)+xr+(pr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[hr][gr]==="both"?" Z":" z"),Ar=Ar+mr.line(sr,wr)+xr+xr+xr+xr+xr+mr.line(sr,wr)+(pr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[hr][gr]==="both"?" Z":" z"),this.arrBorderRadius[hr][gr]!=="none"&&(Vr=mr.roundPathCorners(Vr,pr.config.plotOptions.bar.borderRadius)),pr.config.chart.stacked){var Er=this.barCtx;(Er=this.barCtx[ur]).xArrj.push(ar+br*Tr),Er.xArrjF.push(Math.abs(sr-ar-or*Tr)),Er.xArrjVal.push(this.barCtx.series[dr][gr])}return{pathTo:Vr,pathFrom:Ar}}},{key:"checkZeroSeries",value:function(er){for(var tr=er.series,ir=this.w,nr=0;nr<tr.length;nr++){for(var sr=0,ar=0;ar<tr[ir.globals.maxValsInArrayIndex].length;ar++)sr+=tr[nr][ar];sr===0&&this.barCtx.zeroSerieses.push(nr)}}},{key:"getXForValue",value:function(er,tr){var ir=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?tr:null;return er!=null&&(ir=tr+er/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?er/this.barCtx.invertedYRatio:0)),ir}},{key:"getYForValue",value:function(er,tr,ir){var nr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?tr:null;return er!=null&&(nr=tr-er/this.barCtx.yRatio[ir]+2*(this.barCtx.isReversed?er/this.barCtx.yRatio[ir]:0)),nr}},{key:"getGoalValues",value:function(er,tr,ir,nr,sr,ar){var or=this,lr=this.w,cr=[],ur=function(gr,pr){var mr;cr.push((o(mr={},er,er==="x"?or.getXForValue(gr,tr,!1):or.getYForValue(gr,ir,ar,!1)),o(mr,"attrs",pr),mr))};if(lr.globals.seriesGoals[nr]&&lr.globals.seriesGoals[nr][sr]&&Array.isArray(lr.globals.seriesGoals[nr][sr])&&lr.globals.seriesGoals[nr][sr].forEach(function(gr){ur(gr.value,gr)}),this.barCtx.barOptions.isDumbbell&&lr.globals.seriesRange.length){var hr=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:lr.globals.colors,dr={strokeHeight:er==="x"?0:lr.globals.markers.size[nr],strokeWidth:er==="x"?lr.globals.markers.size[nr]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(hr[nr])?hr[nr][0]:hr[nr]};ur(lr.globals.seriesRangeStart[nr][sr],dr),ur(lr.globals.seriesRangeEnd[nr][sr],u(u({},dr),{},{strokeColor:Array.isArray(hr[nr])?hr[nr][1]:hr[nr]}))}return cr}},{key:"drawGoalLine",value:function(er){var tr=er.barXPosition,ir=er.barYPosition,nr=er.goalX,sr=er.goalY,ar=er.barWidth,or=er.barHeight,lr=new Mi(this.barCtx.ctx),cr=lr.group({className:"apexcharts-bar-goals-groups"});cr.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:cr.node}),cr.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var ur=null;return this.barCtx.isHorizontal?Array.isArray(nr)&&nr.forEach(function(hr){if(hr.x>=-1&&hr.x<=lr.w.globals.gridWidth+1){var dr=hr.attrs.strokeHeight!==void 0?hr.attrs.strokeHeight:or/2,gr=ir+dr+or/2;ur=lr.drawLine(hr.x,gr-2*dr,hr.x,gr,hr.attrs.strokeColor?hr.attrs.strokeColor:void 0,hr.attrs.strokeDashArray,hr.attrs.strokeWidth?hr.attrs.strokeWidth:2,hr.attrs.strokeLineCap),cr.add(ur)}}):Array.isArray(sr)&&sr.forEach(function(hr){if(hr.y>=-1&&hr.y<=lr.w.globals.gridHeight+1){var dr=hr.attrs.strokeWidth!==void 0?hr.attrs.strokeWidth:ar/2,gr=tr+dr+ar/2;ur=lr.drawLine(gr-2*dr,hr.y,gr,hr.y,hr.attrs.strokeColor?hr.attrs.strokeColor:void 0,hr.attrs.strokeDashArray,hr.attrs.strokeHeight?hr.attrs.strokeHeight:2,hr.attrs.strokeLineCap),cr.add(ur)}}),cr}},{key:"drawBarShadow",value:function(er){var tr=er.prevPaths,ir=er.currPaths,nr=er.color,sr=this.w,ar=tr.x,or=tr.x1,lr=tr.barYPosition,cr=ir.x,ur=ir.x1,hr=ir.barYPosition,dr=lr+ir.barHeight,gr=new Mi(this.barCtx.ctx),pr=new v,mr=gr.move(or,dr)+gr.line(ar,dr)+gr.line(cr,hr)+gr.line(ur,hr)+gr.line(or,dr)+(sr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return gr.drawPath({d:mr,fill:pr.shadeColor(.5,v.rgb2hex(nr)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(er){var tr,ir=er.i,nr=er.j,sr=this.w,ar=0,or=0;return(sr.config.plotOptions.bar.horizontal?sr.globals.series.map(function(lr,cr){return cr}):((tr=sr.globals.columnSeries)===null||tr===void 0?void 0:tr.i.map(function(lr){return lr}))||[]).forEach(function(lr){var cr=sr.globals.seriesPercent[lr][nr];cr&&ar++,lr<ir&&cr===0&&or++}),{nonZeroColumns:ar,zeroEncounters:or}}},{key:"getGroupIndex",value:function(er){var tr=this.w,ir=tr.globals.seriesGroups.findIndex(function(ar){return ar.indexOf(tr.globals.seriesNames[er])>-1}),nr=this.barCtx.columnGroupIndices,sr=nr.indexOf(ir);return sr<0&&(nr.push(ir),sr=nr.length-1),{groupIndex:ir,columnGroupIndex:sr}}}]),rr}(),Pa=function(){function rr(er,tr){i(this,rr),this.ctx=er,this.w=er.w;var ir=this.w;this.barOptions=ir.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=ir.config.stroke.width,this.isNullValue=!1,this.isRangeBar=ir.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!ir.globals.isBarHorizontal&&ir.globals.seriesRange.length&&ir.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=tr,this.xyRatios!==null&&(this.xRatio=tr.xRatio,this.yRatio=tr.yRatio,this.invertedXRatio=tr.invertedXRatio,this.invertedYRatio=tr.invertedYRatio,this.baseLineY=tr.baseLineY,this.baseLineInvertedY=tr.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var nr=new Zi(this.ctx);this.lastActiveBarSerieIndex=nr.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var sr=nr.getBarSeriesIndices(),ar=new Pi(this.ctx);this.stackedSeriesTotals=ar.getStackedSeriesTotals(this.w.config.series.map(function(or,lr){return sr.indexOf(lr)===-1?lr:-1}).filter(function(or){return or!==-1})),this.barHelpers=new Ma(this)}return s(rr,[{key:"draw",value:function(er,tr){var ir=this.w,nr=new Mi(this.ctx),sr=new Pi(this.ctx,ir);er=sr.getLogSeries(er),this.series=er,this.yRatio=sr.getLogYRatios(this.yRatio),this.barHelpers.initVariables(er);var ar=nr.group({class:"apexcharts-bar-series apexcharts-plot-series"});ir.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var or=0,lr=0;or<er.length;or++,lr++){var cr,ur,hr,dr,gr=void 0,pr=void 0,mr=[],vr=[],yr=ir.globals.comboCharts?tr[or]:or,br=this.barHelpers.getGroupIndex(yr).columnGroupIndex,wr=nr.group({class:"apexcharts-series",rel:or+1,seriesName:v.escapeString(ir.globals.seriesNames[yr]),"data:realIndex":yr});this.ctx.series.addCollapsedClassToSeries(wr,yr),er[or].length>0&&(this.visibleI=this.visibleI+1);var Pr=0,Tr=0;this.yRatio.length>1&&(this.yaxisIndex=ir.globals.seriesYAxisReverseMap[yr],this.translationsIndex=yr);var Vr=this.translationsIndex;this.isReversed=ir.config.yaxis[this.yaxisIndex]&&ir.config.yaxis[this.yaxisIndex].reversed;var Ar=this.barHelpers.initialPositions(yr);pr=Ar.y,Pr=Ar.barHeight,ur=Ar.yDivision,dr=Ar.zeroW,gr=Ar.x,Tr=Ar.barWidth,cr=Ar.xDivision,hr=Ar.zeroH,this.isHorizontal||vr.push(gr+Tr/2);var xr=nr.group({class:"apexcharts-datalabels","data:realIndex":yr});ir.globals.delayedElements.push({el:xr.node}),xr.node.classList.add("apexcharts-element-hidden");var Er=nr.group({class:"apexcharts-bar-goals-markers"}),Cr=nr.group({class:"apexcharts-bar-shadows"});ir.globals.delayedElements.push({el:Cr.node}),Cr.node.classList.add("apexcharts-element-hidden");for(var Rr=0;Rr<er[or].length;Rr++){var kr=this.barHelpers.getStrokeWidth(or,Rr,yr),Sr=null,Nr={indexes:{i:or,j:Rr,realIndex:yr,translationsIndex:Vr,bc:lr},x:gr,y:pr,strokeWidth:kr,elSeries:wr};this.isHorizontal?(Sr=this.drawBarPaths(u(u({},Nr),{},{barHeight:Pr,zeroW:dr,yDivision:ur})),Tr=this.series[or][Rr]/this.invertedYRatio):(Sr=this.drawColumnPaths(u(u({},Nr),{},{xDivision:cr,barWidth:Tr,zeroH:hr})),Pr=this.series[or][Rr]/this.yRatio[Vr]);var Hr=this.barHelpers.getPathFillColor(er,or,Rr,yr);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Rr>0){var zr,$r=this.barHelpers.drawBarShadow({color:typeof Hr.color=="string"&&((zr=Hr.color)===null||zr===void 0?void 0:zr.indexOf("url"))===-1?Hr.color:v.hexToRgba(ir.globals.colors[or]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Sr});Cr.add($r),ir.config.chart.dropShadow.enabled&&new Li(this.ctx).dropShadow($r,ir.config.chart.dropShadow,yr)}this.pathArr.push(Sr);var jr=this.barHelpers.drawGoalLine({barXPosition:Sr.barXPosition,barYPosition:Sr.barYPosition,goalX:Sr.goalX,goalY:Sr.goalY,barHeight:Pr,barWidth:Tr});jr&&Er.add(jr),pr=Sr.y,gr=Sr.x,Rr>0&&vr.push(gr+Tr/2),mr.push(pr),this.renderSeries(u(u({realIndex:yr,pathFill:Hr.color},Hr.useRangeColor?{lineFill:Hr.color}:{}),{},{j:Rr,i:or,columnGroupIndex:br,pathFrom:Sr.pathFrom,pathTo:Sr.pathTo,strokeWidth:kr,elSeries:wr,x:gr,y:pr,series:er,barHeight:Math.abs(Sr.barHeight?Sr.barHeight:Pr),barWidth:Math.abs(Sr.barWidth?Sr.barWidth:Tr),elDataLabelsWrap:xr,elGoalsMarkers:Er,elBarShadows:Cr,visibleSeries:this.visibleI,type:"bar"}))}ir.globals.seriesXvalues[yr]=vr,ir.globals.seriesYvalues[yr]=mr,ar.add(wr)}return ar}},{key:"renderSeries",value:function(er){var tr=er.realIndex,ir=er.pathFill,nr=er.lineFill,sr=er.j,ar=er.i,or=er.columnGroupIndex,lr=er.pathFrom,cr=er.pathTo,ur=er.strokeWidth,hr=er.elSeries,dr=er.x,gr=er.y,pr=er.y1,mr=er.y2,vr=er.series,yr=er.barHeight,br=er.barWidth,wr=er.barXPosition,Pr=er.barYPosition,Tr=er.elDataLabelsWrap,Vr=er.elGoalsMarkers,Ar=er.elBarShadows,xr=er.visibleSeries,Er=er.type,Cr=er.classes,Rr=this.w,kr=new Mi(this.ctx);if(!nr){var Sr=typeof Rr.globals.stroke.colors[tr]=="function"?function(jr){var Jr,ln=Rr.config.stroke.colors;return Array.isArray(ln)&&ln.length>0&&((Jr=ln[jr])||(Jr=""),typeof Jr=="function")?Jr({value:Rr.globals.series[jr][sr],dataPointIndex:sr,w:Rr}):Jr}(tr):Rr.globals.stroke.colors[tr];nr=this.barOptions.distributed?Rr.globals.stroke.colors[sr]:Sr}Rr.config.series[ar].data[sr]&&Rr.config.series[ar].data[sr].strokeColor&&(nr=Rr.config.series[ar].data[sr].strokeColor),this.isNullValue&&(ir="none");var Nr=sr/Rr.config.chart.animations.animateGradually.delay*(Rr.config.chart.animations.speed/Rr.globals.dataPoints)/2.4,Hr=kr.renderPaths({i:ar,j:sr,realIndex:tr,pathFrom:lr,pathTo:cr,stroke:nr,strokeWidth:ur,strokeLineCap:Rr.config.stroke.lineCap,fill:ir,animationDelay:Nr,initialSpeed:Rr.config.chart.animations.speed,dataChangeSpeed:Rr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Er,"-area ").concat(Cr),chartType:Er});Hr.attr("clip-path","url(#gridRectBarMask".concat(Rr.globals.cuid,")"));var zr=Rr.config.forecastDataPoints;zr.count>0&&sr>=Rr.globals.dataPoints-zr.count&&(Hr.node.setAttribute("stroke-dasharray",zr.dashArray),Hr.node.setAttribute("stroke-width",zr.strokeWidth),Hr.node.setAttribute("fill-opacity",zr.fillOpacity)),pr!==void 0&&mr!==void 0&&(Hr.attr("data-range-y1",pr),Hr.attr("data-range-y2",mr)),new Li(this.ctx).setSelectionFilter(Hr,tr,sr),hr.add(Hr);var $r=new La(this).handleBarDataLabels({x:dr,y:gr,y1:pr,y2:mr,i:ar,j:sr,series:vr,realIndex:tr,columnGroupIndex:or,barHeight:yr,barWidth:br,barXPosition:wr,barYPosition:Pr,renderedPath:Hr,visibleSeries:xr});return $r.dataLabels!==null&&Tr.add($r.dataLabels),$r.totalDataLabels&&Tr.add($r.totalDataLabels),hr.add(Tr),Vr&&hr.add(Vr),Ar&&hr.add(Ar),hr}},{key:"drawBarPaths",value:function(er){var tr,ir=er.indexes,nr=er.barHeight,sr=er.strokeWidth,ar=er.zeroW,or=er.x,lr=er.y,cr=er.yDivision,ur=er.elSeries,hr=this.w,dr=ir.i,gr=ir.j;if(hr.globals.isXNumeric)tr=(lr=(hr.globals.seriesX[dr][gr]-hr.globals.minX)/this.invertedXRatio-nr)+nr*this.visibleI;else if(hr.config.plotOptions.bar.hideZeroBarsWhenGrouped){var pr=this.barHelpers.getZeroValueEncounters({i:dr,j:gr}),mr=pr.nonZeroColumns,vr=pr.zeroEncounters;mr>0&&(nr=this.seriesLen*nr/mr),tr=lr+nr*this.visibleI,tr-=nr*vr}else tr=lr+nr*this.visibleI;this.isFunnel&&(ar-=(this.barHelpers.getXForValue(this.series[dr][gr],ar)-ar)/2),or=this.barHelpers.getXForValue(this.series[dr][gr],ar);var yr=this.barHelpers.getBarpaths({barYPosition:tr,barHeight:nr,x1:ar,x2:or,strokeWidth:sr,isReversed:this.isReversed,series:this.series,realIndex:ir.realIndex,i:dr,j:gr,w:hr});return hr.globals.isXNumeric||(lr+=cr),this.barHelpers.barBackground({j:gr,i:dr,y1:tr-nr*this.visibleI,y2:nr*this.seriesLen,elSeries:ur}),{pathTo:yr.pathTo,pathFrom:yr.pathFrom,x1:ar,x:or,y:lr,goalX:this.barHelpers.getGoalValues("x",ar,null,dr,gr),barYPosition:tr,barHeight:nr}}},{key:"drawColumnPaths",value:function(er){var tr,ir=er.indexes,nr=er.x,sr=er.y,ar=er.xDivision,or=er.barWidth,lr=er.zeroH,cr=er.strokeWidth,ur=er.elSeries,hr=this.w,dr=ir.realIndex,gr=ir.translationsIndex,pr=ir.i,mr=ir.j,vr=ir.bc;if(hr.globals.isXNumeric){var yr=this.getBarXForNumericXAxis({x:nr,j:mr,realIndex:dr,barWidth:or});nr=yr.x,tr=yr.barXPosition}else if(hr.config.plotOptions.bar.hideZeroBarsWhenGrouped){var br=this.barHelpers.getZeroValueEncounters({i:pr,j:mr}),wr=br.nonZeroColumns,Pr=br.zeroEncounters;wr>0&&(or=this.seriesLen*or/wr),tr=nr+or*this.visibleI,tr-=or*Pr}else tr=nr+or*this.visibleI;sr=this.barHelpers.getYForValue(this.series[pr][mr],lr,gr);var Tr=this.barHelpers.getColumnPaths({barXPosition:tr,barWidth:or,y1:lr,y2:sr,strokeWidth:cr,isReversed:this.isReversed,series:this.series,realIndex:dr,i:pr,j:mr,w:hr});return hr.globals.isXNumeric||(nr+=ar),this.barHelpers.barBackground({bc:vr,j:mr,i:pr,x1:tr-cr/2-or*this.visibleI,x2:or*this.seriesLen+cr/2,elSeries:ur}),{pathTo:Tr.pathTo,pathFrom:Tr.pathFrom,x:nr,y:sr,goalY:this.barHelpers.getGoalValues("y",null,lr,pr,mr,gr),barXPosition:tr,barWidth:or}}},{key:"getBarXForNumericXAxis",value:function(er){var tr=er.x,ir=er.barWidth,nr=er.realIndex,sr=er.j,ar=this.w,or=nr;return ar.globals.seriesX[nr].length||(or=ar.globals.maxValsInArrayIndex),v.isNumber(ar.globals.seriesX[or][sr])&&(tr=(ar.globals.seriesX[or][sr]-ar.globals.minX)/this.xRatio-ir*this.seriesLen/2),{barXPosition:tr+ir*this.visibleI,x:tr}}},{key:"getPreviousPath",value:function(er,tr){for(var ir,nr=this.w,sr=0;sr<nr.globals.previousPaths.length;sr++){var ar=nr.globals.previousPaths[sr];ar.paths&&ar.paths.length>0&&parseInt(ar.realIndex,10)===parseInt(er,10)&&nr.globals.previousPaths[sr].paths[tr]!==void 0&&(ir=nr.globals.previousPaths[sr].paths[tr].d)}return ir}}]),rr}(),Ia=function(rr){h(tr,Pa);var er=n(tr);function tr(){return i(this,tr),er.apply(this,arguments)}return s(tr,[{key:"draw",value:function(ir,nr){var sr=this,ar=this.w;this.graphics=new Mi(this.ctx),this.bar=new Pa(this.ctx,this.xyRatios);var or=new Pi(this.ctx,ar);ir=or.getLogSeries(ir),this.yRatio=or.getLogYRatios(this.yRatio),this.barHelpers.initVariables(ir),ar.config.chart.stackType==="100%"&&(ir=ar.globals.comboCharts?nr.map(function(pr){return ar.globals.seriesPercent[pr]}):ar.globals.seriesPercent.slice()),this.series=ir,this.barHelpers.initializeStackedPrevVars(this);for(var lr=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),cr=0,ur=0,hr=function(pr,mr){var vr=void 0,yr=void 0,br=void 0,wr=void 0,Pr=ar.globals.comboCharts?nr[pr]:pr,Tr=sr.barHelpers.getGroupIndex(Pr),Vr=Tr.groupIndex,Ar=Tr.columnGroupIndex;sr.groupCtx=sr[ar.globals.seriesGroups[Vr]];var xr=[],Er=[],Cr=0;sr.yRatio.length>1&&(sr.yaxisIndex=ar.globals.seriesYAxisReverseMap[Pr][0],Cr=Pr),sr.isReversed=ar.config.yaxis[sr.yaxisIndex]&&ar.config.yaxis[sr.yaxisIndex].reversed;var Rr=sr.graphics.group({class:"apexcharts-series",seriesName:v.escapeString(ar.globals.seriesNames[Pr]),rel:pr+1,"data:realIndex":Pr});sr.ctx.series.addCollapsedClassToSeries(Rr,Pr);var kr=sr.graphics.group({class:"apexcharts-datalabels","data:realIndex":Pr}),Sr=sr.graphics.group({class:"apexcharts-bar-goals-markers"}),Nr=0,Hr=0,zr=sr.initialPositions(cr,ur,vr,yr,br,wr,Cr);ur=zr.y,Nr=zr.barHeight,yr=zr.yDivision,wr=zr.zeroW,cr=zr.x,Hr=zr.barWidth,vr=zr.xDivision,br=zr.zeroH,ar.globals.barHeight=Nr,ar.globals.barWidth=Hr,sr.barHelpers.initializeStackedXYVars(sr),sr.groupCtx.prevY.length===1&&sr.groupCtx.prevY[0].every(function(An){return isNaN(An)})&&(sr.groupCtx.prevY[0]=sr.groupCtx.prevY[0].map(function(){return br}),sr.groupCtx.prevYF[0]=sr.groupCtx.prevYF[0].map(function(){return 0}));for(var $r=0;$r<ar.globals.dataPoints;$r++){var jr=sr.barHelpers.getStrokeWidth(pr,$r,Pr),Jr={indexes:{i:pr,j:$r,realIndex:Pr,translationsIndex:Cr,bc:mr},strokeWidth:jr,x:cr,y:ur,elSeries:Rr,columnGroupIndex:Ar,seriesGroup:ar.globals.seriesGroups[Vr]},ln=null;sr.isHorizontal?(ln=sr.drawStackedBarPaths(u(u({},Jr),{},{zeroW:wr,barHeight:Nr,yDivision:yr})),Hr=sr.series[pr][$r]/sr.invertedYRatio):(ln=sr.drawStackedColumnPaths(u(u({},Jr),{},{xDivision:vr,barWidth:Hr,zeroH:br})),Nr=sr.series[pr][$r]/sr.yRatio[Cr]);var un=sr.barHelpers.drawGoalLine({barXPosition:ln.barXPosition,barYPosition:ln.barYPosition,goalX:ln.goalX,goalY:ln.goalY,barHeight:Nr,barWidth:Hr});un&&Sr.add(un),ur=ln.y,cr=ln.x,xr.push(cr),Er.push(ur);var Qr=sr.barHelpers.getPathFillColor(ir,pr,$r,Pr),pn="",fn=ar.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(sr.barHelpers.arrBorderRadius[Pr][$r]==="bottom"&&ar.globals.series[Pr][$r]>0||sr.barHelpers.arrBorderRadius[Pr][$r]==="top"&&ar.globals.series[Pr][$r]<0)&&(pn=fn),Rr=sr.renderSeries(u(u({realIndex:Pr,pathFill:Qr.color},Qr.useRangeColor?{lineFill:Qr.color}:{}),{},{j:$r,i:pr,columnGroupIndex:Ar,pathFrom:ln.pathFrom,pathTo:ln.pathTo,strokeWidth:jr,elSeries:Rr,x:cr,y:ur,series:ir,barHeight:Nr,barWidth:Hr,elDataLabelsWrap:kr,elGoalsMarkers:Sr,type:"bar",visibleSeries:Ar,classes:pn}))}ar.globals.seriesXvalues[Pr]=xr,ar.globals.seriesYvalues[Pr]=Er,sr.groupCtx.prevY.push(sr.groupCtx.yArrj),sr.groupCtx.prevYF.push(sr.groupCtx.yArrjF),sr.groupCtx.prevYVal.push(sr.groupCtx.yArrjVal),sr.groupCtx.prevX.push(sr.groupCtx.xArrj),sr.groupCtx.prevXF.push(sr.groupCtx.xArrjF),sr.groupCtx.prevXVal.push(sr.groupCtx.xArrjVal),lr.add(Rr)},dr=0,gr=0;dr<ir.length;dr++,gr++)hr(dr,gr);return lr}},{key:"initialPositions",value:function(ir,nr,sr,ar,or,lr,cr){var ur,hr,dr=this.w;if(this.isHorizontal){ar=dr.globals.gridHeight/dr.globals.dataPoints;var gr=dr.config.plotOptions.bar.barHeight;ur=String(gr).indexOf("%")===-1?parseInt(gr,10):ar*parseInt(gr,10)/100,lr=dr.globals.padHorizontal+(this.isReversed?dr.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),nr=(ar-ur)/2}else{hr=sr=dr.globals.gridWidth/dr.globals.dataPoints;var pr=dr.config.plotOptions.bar.columnWidth;dr.globals.isXNumeric&&dr.globals.dataPoints>1?hr=(sr=dr.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(pr).indexOf("%")===-1?hr=parseInt(pr,10):hr*=parseInt(pr,10)/100,or=this.isReversed?this.baseLineY[cr]:dr.globals.gridHeight-this.baseLineY[cr],ir=dr.globals.padHorizontal+(sr-hr)/2}var mr=dr.globals.barGroups.length||1;return{x:ir,y:nr,yDivision:ar,xDivision:sr,barHeight:ur/mr,barWidth:hr/mr,zeroH:or,zeroW:lr}}},{key:"drawStackedBarPaths",value:function(ir){for(var nr,sr=ir.indexes,ar=ir.barHeight,or=ir.strokeWidth,lr=ir.zeroW,cr=ir.x,ur=ir.y,hr=ir.columnGroupIndex,dr=ir.seriesGroup,gr=ir.yDivision,pr=ir.elSeries,mr=this.w,vr=ur+hr*ar,yr=sr.i,br=sr.j,wr=sr.realIndex,Pr=sr.translationsIndex,Tr=0,Vr=0;Vr<this.groupCtx.prevXF.length;Vr++)Tr+=this.groupCtx.prevXF[Vr][br];var Ar=yr;if(mr.config.series[wr].name&&(Ar=dr.indexOf(mr.config.series[wr].name)),Ar>0){var xr=lr;this.groupCtx.prevXVal[Ar-1][br]<0?xr=this.series[yr][br]>=0?this.groupCtx.prevX[Ar-1][br]+Tr-2*(this.isReversed?Tr:0):this.groupCtx.prevX[Ar-1][br]:this.groupCtx.prevXVal[Ar-1][br]>=0&&(xr=this.series[yr][br]>=0?this.groupCtx.prevX[Ar-1][br]:this.groupCtx.prevX[Ar-1][br]-Tr+2*(this.isReversed?Tr:0)),nr=xr}else nr=lr;cr=this.series[yr][br]===null?nr:nr+this.series[yr][br]/this.invertedYRatio-2*(this.isReversed?this.series[yr][br]/this.invertedYRatio:0);var Er=this.barHelpers.getBarpaths({barYPosition:vr,barHeight:ar,x1:nr,x2:cr,strokeWidth:or,isReversed:this.isReversed,series:this.series,realIndex:sr.realIndex,seriesGroup:dr,i:yr,j:br,w:mr});return this.barHelpers.barBackground({j:br,i:yr,y1:vr,y2:ar,elSeries:pr}),ur+=gr,{pathTo:Er.pathTo,pathFrom:Er.pathFrom,goalX:this.barHelpers.getGoalValues("x",lr,null,yr,br,Pr),barXPosition:nr,barYPosition:vr,x:cr,y:ur}}},{key:"drawStackedColumnPaths",value:function(ir){var nr=ir.indexes,sr=ir.x,ar=ir.y,or=ir.xDivision,lr=ir.barWidth,cr=ir.zeroH,ur=ir.columnGroupIndex,hr=ir.seriesGroup,dr=ir.elSeries,gr=this.w,pr=nr.i,mr=nr.j,vr=nr.bc,yr=nr.realIndex,br=nr.translationsIndex;if(gr.globals.isXNumeric){var wr=gr.globals.seriesX[yr][mr];wr||(wr=0),sr=(wr-gr.globals.minX)/this.xRatio-lr/2*gr.globals.barGroups.length}for(var Pr,Tr=sr+ur*lr,Vr=0,Ar=0;Ar<this.groupCtx.prevYF.length;Ar++)Vr+=isNaN(this.groupCtx.prevYF[Ar][mr])?0:this.groupCtx.prevYF[Ar][mr];var xr=pr;if(hr&&(xr=hr.indexOf(gr.globals.seriesNames[yr])),xr>0&&!gr.globals.isXNumeric||xr>0&&gr.globals.isXNumeric&&gr.globals.seriesX[yr-1][mr]===gr.globals.seriesX[yr][mr]){var Er,Cr,Rr,kr=Math.min(this.yRatio.length+1,yr+1);if(this.groupCtx.prevY[xr-1]!==void 0&&this.groupCtx.prevY[xr-1].length)for(var Sr=1;Sr<kr;Sr++){var Nr;if(!isNaN((Nr=this.groupCtx.prevY[xr-Sr])===null||Nr===void 0?void 0:Nr[mr])){Rr=this.groupCtx.prevY[xr-Sr][mr];break}}for(var Hr=1;Hr<kr;Hr++){var zr,$r;if(((zr=this.groupCtx.prevYVal[xr-Hr])===null||zr===void 0?void 0:zr[mr])<0){Cr=this.series[pr][mr]>=0?Rr-Vr+2*(this.isReversed?Vr:0):Rr;break}if((($r=this.groupCtx.prevYVal[xr-Hr])===null||$r===void 0?void 0:$r[mr])>=0){Cr=this.series[pr][mr]>=0?Rr:Rr+Vr-2*(this.isReversed?Vr:0);break}}Cr===void 0&&(Cr=gr.globals.gridHeight),Pr=(Er=this.groupCtx.prevYF[0])!==null&&Er!==void 0&&Er.every(function(Jr){return Jr===0})&&this.groupCtx.prevYF.slice(1,xr).every(function(Jr){return Jr.every(function(ln){return isNaN(ln)})})?cr:Cr}else Pr=cr;ar=this.series[pr][mr]?Pr-this.series[pr][mr]/this.yRatio[br]+2*(this.isReversed?this.series[pr][mr]/this.yRatio[br]:0):Pr;var jr=this.barHelpers.getColumnPaths({barXPosition:Tr,barWidth:lr,y1:Pr,y2:ar,yRatio:this.yRatio[br],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:hr,realIndex:nr.realIndex,i:pr,j:mr,w:gr});return this.barHelpers.barBackground({bc:vr,j:mr,i:pr,x1:Tr,x2:lr,elSeries:dr}),{pathTo:jr.pathTo,pathFrom:jr.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,cr,pr,mr),barXPosition:Tr,x:gr.globals.isXNumeric?sr:sr+or,y:ar}}}]),tr}(),Ta=function(rr){h(tr,Pa);var er=n(tr);function tr(){return i(this,tr),er.apply(this,arguments)}return s(tr,[{key:"draw",value:function(ir,nr,sr){var ar=this,or=this.w,lr=new Mi(this.ctx),cr=or.globals.comboCharts?nr:or.config.chart.type,ur=new ji(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=or.config.plotOptions.bar.horizontal;var hr=new Pi(this.ctx,or);ir=hr.getLogSeries(ir),this.series=ir,this.yRatio=hr.getLogYRatios(this.yRatio),this.barHelpers.initVariables(ir);for(var dr=lr.group({class:"apexcharts-".concat(cr,"-series apexcharts-plot-series")}),gr=function(mr){ar.isBoxPlot=or.config.chart.type==="boxPlot"||or.config.series[mr].type==="boxPlot";var vr,yr,br,wr,Pr=void 0,Tr=void 0,Vr=[],Ar=[],xr=or.globals.comboCharts?sr[mr]:mr,Er=ar.barHelpers.getGroupIndex(xr).columnGroupIndex,Cr=lr.group({class:"apexcharts-series",seriesName:v.escapeString(or.globals.seriesNames[xr]),rel:mr+1,"data:realIndex":xr});ar.ctx.series.addCollapsedClassToSeries(Cr,xr),ir[mr].length>0&&(ar.visibleI=ar.visibleI+1);var Rr,kr,Sr=0;ar.yRatio.length>1&&(ar.yaxisIndex=or.globals.seriesYAxisReverseMap[xr][0],Sr=xr);var Nr=ar.barHelpers.initialPositions(xr);Tr=Nr.y,Rr=Nr.barHeight,yr=Nr.yDivision,wr=Nr.zeroW,Pr=Nr.x,kr=Nr.barWidth,vr=Nr.xDivision,br=Nr.zeroH,Ar.push(Pr+kr/2);for(var Hr=lr.group({class:"apexcharts-datalabels","data:realIndex":xr}),zr=lr.group({class:"apexcharts-bar-goals-markers"}),$r=function(Jr){var ln=ar.barHelpers.getStrokeWidth(mr,Jr,xr),un=null,Qr={indexes:{i:mr,j:Jr,realIndex:xr,translationsIndex:Sr},x:Pr,y:Tr,strokeWidth:ln,elSeries:Cr};un=ar.isHorizontal?ar.drawHorizontalBoxPaths(u(u({},Qr),{},{yDivision:yr,barHeight:Rr,zeroW:wr})):ar.drawVerticalBoxPaths(u(u({},Qr),{},{xDivision:vr,barWidth:kr,zeroH:br})),Tr=un.y,Pr=un.x;var pn=ar.barHelpers.drawGoalLine({barXPosition:un.barXPosition,barYPosition:un.barYPosition,goalX:un.goalX,goalY:un.goalY,barHeight:Rr,barWidth:kr});pn&&zr.add(pn),Jr>0&&Ar.push(Pr+kr/2),Vr.push(Tr),un.pathTo.forEach(function(fn,An){var dn=!ar.isBoxPlot&&ar.candlestickOptions.wick.useFillColor?un.color[An]:or.globals.stroke.colors[mr],Br=ur.fillPath({seriesNumber:xr,dataPointIndex:Jr,color:un.color[An],value:ir[mr][Jr]});ar.renderSeries({realIndex:xr,pathFill:Br,lineFill:dn,j:Jr,i:mr,pathFrom:un.pathFrom,pathTo:fn,strokeWidth:ln,elSeries:Cr,x:Pr,y:Tr,series:ir,columnGroupIndex:Er,barHeight:Rr,barWidth:kr,elDataLabelsWrap:Hr,elGoalsMarkers:zr,visibleSeries:ar.visibleI,type:or.config.chart.type})})},jr=0;jr<or.globals.dataPoints;jr++)$r(jr);or.globals.seriesXvalues[xr]=Ar,or.globals.seriesYvalues[xr]=Vr,dr.add(Cr)},pr=0;pr<ir.length;pr++)gr(pr);return dr}},{key:"drawVerticalBoxPaths",value:function(ir){var nr=ir.indexes,sr=ir.x;ir.y;var ar=ir.xDivision,or=ir.barWidth,lr=ir.zeroH,cr=ir.strokeWidth,ur=this.w,hr=new Mi(this.ctx),dr=nr.i,gr=nr.j,pr=ur.config.plotOptions.candlestick.colors,mr=this.boxOptions.colors,vr=nr.realIndex,yr=function(Hr){return Array.isArray(Hr)?Hr[vr]:Hr},br=yr(pr.upward),wr=yr(pr.downward),Pr=this.yRatio[nr.translationsIndex],Tr=this.getOHLCValue(vr,gr),Vr=lr,Ar=lr,xr=Tr.o<Tr.c?[br]:[wr];this.isBoxPlot&&(xr=[yr(mr.lower),yr(mr.upper)]);var Er=Math.min(Tr.o,Tr.c),Cr=Math.max(Tr.o,Tr.c),Rr=Tr.m;ur.globals.isXNumeric&&(sr=(ur.globals.seriesX[vr][gr]-ur.globals.minX)/this.xRatio-or/2);var kr=sr+or*this.visibleI;this.series[dr][gr]===void 0||this.series[dr][gr]===null?(Er=lr,Cr=lr):(Er=lr-Er/Pr,Cr=lr-Cr/Pr,Vr=lr-Tr.h/Pr,Ar=lr-Tr.l/Pr,Rr=lr-Tr.m/Pr);var Sr=hr.move(kr,lr),Nr=hr.move(kr+or/2,Er);return ur.globals.previousPaths.length>0&&(Nr=this.getPreviousPath(vr,gr,!0)),Sr=this.isBoxPlot?[hr.move(kr,Er)+hr.line(kr+or/2,Er)+hr.line(kr+or/2,Vr)+hr.line(kr+or/4,Vr)+hr.line(kr+or-or/4,Vr)+hr.line(kr+or/2,Vr)+hr.line(kr+or/2,Er)+hr.line(kr+or,Er)+hr.line(kr+or,Rr)+hr.line(kr,Rr)+hr.line(kr,Er+cr/2),hr.move(kr,Rr)+hr.line(kr+or,Rr)+hr.line(kr+or,Cr)+hr.line(kr+or/2,Cr)+hr.line(kr+or/2,Ar)+hr.line(kr+or-or/4,Ar)+hr.line(kr+or/4,Ar)+hr.line(kr+or/2,Ar)+hr.line(kr+or/2,Cr)+hr.line(kr,Cr)+hr.line(kr,Rr)+"z"]:[hr.move(kr,Cr)+hr.line(kr+or/2,Cr)+hr.line(kr+or/2,Vr)+hr.line(kr+or/2,Cr)+hr.line(kr+or,Cr)+hr.line(kr+or,Er)+hr.line(kr+or/2,Er)+hr.line(kr+or/2,Ar)+hr.line(kr+or/2,Er)+hr.line(kr,Er)+hr.line(kr,Cr-cr/2)],Nr+=hr.move(kr,Er),ur.globals.isXNumeric||(sr+=ar),{pathTo:Sr,pathFrom:Nr,x:sr,y:Cr,goalY:this.barHelpers.getGoalValues("y",null,lr,dr,gr,nr.translationsIndex),barXPosition:kr,color:xr}}},{key:"drawHorizontalBoxPaths",value:function(ir){var nr=ir.indexes;ir.x;var sr=ir.y,ar=ir.yDivision,or=ir.barHeight,lr=ir.zeroW,cr=ir.strokeWidth,ur=this.w,hr=new Mi(this.ctx),dr=nr.i,gr=nr.j,pr=this.boxOptions.colors.lower;this.isBoxPlot&&(pr=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var mr=this.invertedYRatio,vr=nr.realIndex,yr=this.getOHLCValue(vr,gr),br=lr,wr=lr,Pr=Math.min(yr.o,yr.c),Tr=Math.max(yr.o,yr.c),Vr=yr.m;ur.globals.isXNumeric&&(sr=(ur.globals.seriesX[vr][gr]-ur.globals.minX)/this.invertedXRatio-or/2);var Ar=sr+or*this.visibleI;this.series[dr][gr]===void 0||this.series[dr][gr]===null?(Pr=lr,Tr=lr):(Pr=lr+Pr/mr,Tr=lr+Tr/mr,br=lr+yr.h/mr,wr=lr+yr.l/mr,Vr=lr+yr.m/mr);var xr=hr.move(lr,Ar),Er=hr.move(Pr,Ar+or/2);return ur.globals.previousPaths.length>0&&(Er=this.getPreviousPath(vr,gr,!0)),xr=[hr.move(Pr,Ar)+hr.line(Pr,Ar+or/2)+hr.line(br,Ar+or/2)+hr.line(br,Ar+or/2-or/4)+hr.line(br,Ar+or/2+or/4)+hr.line(br,Ar+or/2)+hr.line(Pr,Ar+or/2)+hr.line(Pr,Ar+or)+hr.line(Vr,Ar+or)+hr.line(Vr,Ar)+hr.line(Pr+cr/2,Ar),hr.move(Vr,Ar)+hr.line(Vr,Ar+or)+hr.line(Tr,Ar+or)+hr.line(Tr,Ar+or/2)+hr.line(wr,Ar+or/2)+hr.line(wr,Ar+or-or/4)+hr.line(wr,Ar+or/4)+hr.line(wr,Ar+or/2)+hr.line(Tr,Ar+or/2)+hr.line(Tr,Ar)+hr.line(Vr,Ar)+"z"],Er+=hr.move(Pr,Ar),ur.globals.isXNumeric||(sr+=ar),{pathTo:xr,pathFrom:Er,x:Tr,y:sr,goalX:this.barHelpers.getGoalValues("x",lr,null,dr,gr),barYPosition:Ar,color:pr}}},{key:"getOHLCValue",value:function(ir,nr){var sr=this.w,ar=new Pi(this.ctx,sr),or=ar.getLogValAtSeriesIndex(sr.globals.seriesCandleH[ir][nr],ir),lr=ar.getLogValAtSeriesIndex(sr.globals.seriesCandleO[ir][nr],ir),cr=ar.getLogValAtSeriesIndex(sr.globals.seriesCandleM[ir][nr],ir),ur=ar.getLogValAtSeriesIndex(sr.globals.seriesCandleC[ir][nr],ir),hr=ar.getLogValAtSeriesIndex(sr.globals.seriesCandleL[ir][nr],ir);return{o:this.isBoxPlot?or:lr,h:this.isBoxPlot?lr:or,m:cr,l:this.isBoxPlot?ur:hr,c:this.isBoxPlot?hr:ur}}}]),tr}(),za=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"checkColorRange",value:function(){var er=this.w,tr=!1,ir=er.config.plotOptions[er.config.chart.type];return ir.colorScale.ranges.length>0&&ir.colorScale.ranges.map(function(nr,sr){nr.from<=0&&(tr=!0)}),tr}},{key:"getShadeColor",value:function(er,tr,ir,nr){var sr=this.w,ar=1,or=sr.config.plotOptions[er].shadeIntensity,lr=this.determineColor(er,tr,ir);sr.globals.hasNegs||nr?ar=sr.config.plotOptions[er].reverseNegativeShade?lr.percent<0?lr.percent/100*(1.25*or):(1-lr.percent/100)*(1.25*or):lr.percent<=0?1-(1+lr.percent/100)*or:(1-lr.percent/100)*or:(ar=1-lr.percent/100,er==="treemap"&&(ar=(1-lr.percent/100)*(1.25*or)));var cr=lr.color,ur=new v;if(sr.config.plotOptions[er].enableShades)if(this.w.config.theme.mode==="dark"){var hr=ur.shadeColor(-1*ar,lr.color);cr=v.hexToRgba(v.isColorHex(hr)?hr:v.rgb2hex(hr),sr.config.fill.opacity)}else{var dr=ur.shadeColor(ar,lr.color);cr=v.hexToRgba(v.isColorHex(dr)?dr:v.rgb2hex(dr),sr.config.fill.opacity)}return{color:cr,colorProps:lr}}},{key:"determineColor",value:function(er,tr,ir){var nr=this.w,sr=nr.globals.series[tr][ir],ar=nr.config.plotOptions[er],or=ar.colorScale.inverse?ir:tr;ar.distributed&&nr.config.chart.type==="treemap"&&(or=ir);var lr=nr.globals.colors[or],cr=null,ur=Math.min.apply(Math,f(nr.globals.series[tr])),hr=Math.max.apply(Math,f(nr.globals.series[tr]));ar.distributed||er!=="heatmap"||(ur=nr.globals.minY,hr=nr.globals.maxY),ar.colorScale.min!==void 0&&(ur=ar.colorScale.min<nr.globals.minY?ar.colorScale.min:nr.globals.minY,hr=ar.colorScale.max>nr.globals.maxY?ar.colorScale.max:nr.globals.maxY);var dr=Math.abs(hr)+Math.abs(ur),gr=100*sr/(dr===0?dr-1e-6:dr);return ar.colorScale.ranges.length>0&&ar.colorScale.ranges.map(function(pr,mr){if(sr>=pr.from&&sr<=pr.to){lr=pr.color,cr=pr.foreColor?pr.foreColor:null,ur=pr.from,hr=pr.to;var vr=Math.abs(hr)+Math.abs(ur);gr=100*sr/(vr===0?vr-1e-6:vr)}}),{color:lr,foreColor:cr,percent:gr}}},{key:"calculateDataLabels",value:function(er){var tr=er.text,ir=er.x,nr=er.y,sr=er.i,ar=er.j,or=er.colorProps,lr=er.fontSize,cr=this.w.config.dataLabels,ur=new Mi(this.ctx),hr=new qi(this.ctx),dr=null;if(cr.enabled){dr=ur.group({class:"apexcharts-data-labels"});var gr=cr.offsetX,pr=cr.offsetY,mr=ir+gr,vr=nr+parseFloat(cr.style.fontSize)/3+pr;hr.plotDataLabelsText({x:mr,y:vr,text:tr,i:sr,j:ar,color:or.foreColor,parent:dr,fontSize:lr,dataLabelsConfig:cr})}return dr}},{key:"addListeners",value:function(er){var tr=new Mi(this.ctx);er.node.addEventListener("mouseenter",tr.pathMouseEnter.bind(this,er)),er.node.addEventListener("mouseleave",tr.pathMouseLeave.bind(this,er)),er.node.addEventListener("mousedown",tr.pathMouseDown.bind(this,er))}}]),rr}(),Xa=function(){function rr(er,tr){i(this,rr),this.ctx=er,this.w=er.w,this.xRatio=tr.xRatio,this.yRatio=tr.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new za(er),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return s(rr,[{key:"draw",value:function(er){var tr=this.w,ir=new Mi(this.ctx),nr=ir.group({class:"apexcharts-heatmap"});nr.attr("clip-path","url(#gridRectMask".concat(tr.globals.cuid,")"));var sr=tr.globals.gridWidth/tr.globals.dataPoints,ar=tr.globals.gridHeight/tr.globals.series.length,or=0,lr=!1;this.negRange=this.helpers.checkColorRange();var cr=er.slice();tr.config.yaxis[0].reversed&&(lr=!0,cr.reverse());for(var ur=lr?0:cr.length-1;lr?ur<cr.length:ur>=0;lr?ur++:ur--){var hr=ir.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:v.escapeString(tr.globals.seriesNames[ur]),rel:ur+1,"data:realIndex":ur});if(this.ctx.series.addCollapsedClassToSeries(hr,ur),tr.config.chart.dropShadow.enabled){var dr=tr.config.chart.dropShadow;new Li(this.ctx).dropShadow(hr,dr,ur)}for(var gr=0,pr=tr.config.plotOptions.heatmap.shadeIntensity,mr=0,vr=0;vr<tr.globals.dataPoints;vr++)if(tr.globals.seriesX.length&&!tr.globals.allSeriesHasEqualX&&tr.globals.minX+tr.globals.minXDiff*vr<tr.globals.seriesX[ur][mr])gr+=sr;else{if(mr>=cr[ur].length)break;var yr=this.helpers.getShadeColor(tr.config.chart.type,ur,mr,this.negRange),br=yr.color,wr=yr.colorProps;tr.config.fill.type==="image"&&(br=new ji(this.ctx).fillPath({seriesNumber:ur,dataPointIndex:mr,opacity:tr.globals.hasNegs?wr.percent<0?1-(1+wr.percent/100):pr+wr.percent/100:wr.percent/100,patternID:v.randomId(),width:tr.config.fill.image.width?tr.config.fill.image.width:sr,height:tr.config.fill.image.height?tr.config.fill.image.height:ar}));var Pr=this.rectRadius,Tr=ir.drawRect(gr,or,sr,ar,Pr);if(Tr.attr({cx:gr,cy:or}),Tr.node.classList.add("apexcharts-heatmap-rect"),hr.add(Tr),Tr.attr({fill:br,i:ur,index:ur,j:mr,val:er[ur][mr],"stroke-width":this.strokeWidth,stroke:tr.config.plotOptions.heatmap.useFillColorAsStroke?br:tr.globals.stroke.colors[0],color:br}),this.helpers.addListeners(Tr),tr.config.chart.animations.enabled&&!tr.globals.dataChanged){var Vr=1;tr.globals.resized||(Vr=tr.config.chart.animations.speed),this.animateHeatMap(Tr,gr,or,sr,ar,Vr)}if(tr.globals.dataChanged){var Ar=1;if(this.dynamicAnim.enabled&&tr.globals.shouldAnimate){Ar=this.dynamicAnim.speed;var xr=tr.globals.previousPaths[ur]&&tr.globals.previousPaths[ur][mr]&&tr.globals.previousPaths[ur][mr].color;xr||(xr="rgba(255, 255, 255, 0)"),this.animateHeatColor(Tr,v.isColorHex(xr)?xr:v.rgb2hex(xr),v.isColorHex(br)?br:v.rgb2hex(br),Ar)}}var Er=(0,tr.config.dataLabels.formatter)(tr.globals.series[ur][mr],{value:tr.globals.series[ur][mr],seriesIndex:ur,dataPointIndex:mr,w:tr}),Cr=this.helpers.calculateDataLabels({text:Er,x:gr+sr/2,y:or+ar/2,i:ur,j:mr,colorProps:wr,series:cr});Cr!==null&&hr.add(Cr),gr+=sr,mr++}or+=ar,nr.add(hr)}var Rr=tr.globals.yAxisScale[0].result.slice();return tr.config.yaxis[0].reversed?Rr.unshift(""):Rr.push(""),tr.globals.yAxisScale[0].result=Rr,nr}},{key:"animateHeatMap",value:function(er,tr,ir,nr,sr,ar){var or=new y(this.ctx);or.animateRect(er,{x:tr+nr/2,y:ir+sr/2,width:0,height:0},{x:tr,y:ir,width:nr,height:sr},ar,function(){or.animationCompleted(er)})}},{key:"animateHeatColor",value:function(er,tr,ir,nr){er.attr({fill:tr}).animate(nr).attr({fill:ir})}}]),rr}(),Ra=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"drawYAxisTexts",value:function(er,tr,ir,nr){var sr=this.w,ar=sr.config.yaxis[0],or=sr.globals.yLabelFormatters[0];return new Mi(this.ctx).drawText({x:er+ar.labels.offsetX,y:tr+ar.labels.offsetY,text:or(nr,ir),textAnchor:"middle",fontSize:ar.labels.style.fontSize,fontFamily:ar.labels.style.fontFamily,foreColor:Array.isArray(ar.labels.style.colors)?ar.labels.style.colors[ir]:ar.labels.style.colors})}}]),rr}(),Ea=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w;var tr=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=tr.globals.stroke.colors!==void 0?tr.globals.stroke.colors:tr.globals.colors,this.defaultSize=Math.min(tr.globals.gridWidth,tr.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=tr.globals.gridWidth/2,tr.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(tr.config.plotOptions.pie.endAngle-tr.config.plotOptions.pie.startAngle),this.initialAngle=tr.config.plotOptions.pie.startAngle%this.fullAngle,tr.globals.radialSize=this.defaultSize/2.05-tr.config.stroke.width-(tr.config.chart.sparkline.enabled?0:tr.config.chart.dropShadow.blur),this.donutSize=tr.globals.radialSize*parseInt(tr.config.plotOptions.pie.donut.size,10)/100;var ir=tr.config.plotOptions.pie.customScale,nr=tr.globals.gridWidth/2,sr=tr.globals.gridHeight/2;this.translateX=nr-nr*ir,this.translateY=sr-sr*ir,this.dataLabelsGroup=new Mi(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(ir,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return s(rr,[{key:"draw",value:function(er){var tr=this,ir=this.w,nr=new Mi(this.ctx),sr=nr.group({class:"apexcharts-pie"});if(ir.globals.noData)return sr;for(var ar=0,or=0;or<er.length;or++)ar+=v.negToZero(er[or]);var lr=[],cr=nr.group();ar===0&&(ar=1e-5),er.forEach(function(wr){tr.maxY=Math.max(tr.maxY,wr)}),ir.config.yaxis[0].max&&(this.maxY=ir.config.yaxis[0].max),ir.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(sr);for(var ur=0;ur<er.length;ur++){var hr=this.fullAngle*v.negToZero(er[ur])/ar;lr.push(hr),this.chartType==="polarArea"?(lr[ur]=this.fullAngle/er.length,this.sliceSizes.push(ir.globals.radialSize*er[ur]/this.maxY)):this.sliceSizes.push(ir.globals.radialSize)}if(ir.globals.dataChanged){for(var dr,gr=0,pr=0;pr<ir.globals.previousPaths.length;pr++)gr+=v.negToZero(ir.globals.previousPaths[pr]);for(var mr=0;mr<ir.globals.previousPaths.length;mr++)dr=this.fullAngle*v.negToZero(ir.globals.previousPaths[mr])/gr,this.prevSectorAngleArr.push(dr)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var vr=nr.drawCircle(this.donutSize);vr.attr({cx:this.centerX,cy:this.centerY,fill:ir.config.plotOptions.pie.donut.background?ir.config.plotOptions.pie.donut.background:"transparent"}),cr.add(vr)}var yr=this.drawArcs(lr,er);if(this.sliceLabels.forEach(function(wr){yr.add(wr)}),cr.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(ir.config.plotOptions.pie.customScale,")")}),cr.add(yr),sr.add(cr),this.donutDataLabels.show){var br=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});sr.add(br)}return ir.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(sr),sr}},{key:"drawArcs",value:function(er,tr){var ir=this.w,nr=new Li(this.ctx),sr=new Mi(this.ctx),ar=new ji(this.ctx),or=sr.group({class:"apexcharts-slices"}),lr=this.initialAngle,cr=this.initialAngle,ur=this.initialAngle,hr=this.initialAngle;this.strokeWidth=ir.config.stroke.show?ir.config.stroke.width:0;for(var dr=0;dr<er.length;dr++){var gr=sr.group({class:"apexcharts-series apexcharts-pie-series",seriesName:v.escapeString(ir.globals.seriesNames[dr]),rel:dr+1,"data:realIndex":dr});or.add(gr),cr=hr,ur=(lr=ur)+er[dr],hr=cr+this.prevSectorAngleArr[dr];var pr=ur<lr?this.fullAngle+ur-lr:ur-lr,mr=ar.fillPath({seriesNumber:dr,size:this.sliceSizes[dr],value:tr[dr]}),vr=this.getChangedPath(cr,hr),yr=sr.drawPath({d:vr,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[dr]:this.lineColorArr,strokeWidth:0,fill:mr,fillOpacity:ir.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(dr)});if(yr.attr({index:0,j:dr}),nr.setSelectionFilter(yr,0,dr),ir.config.chart.dropShadow.enabled){var br=ir.config.chart.dropShadow;nr.dropShadow(yr,br,dr)}this.addListeners(yr,this.donutDataLabels),Mi.setAttrs(yr.node,{"data:angle":pr,"data:startAngle":lr,"data:strokeWidth":this.strokeWidth,"data:value":tr[dr]});var wr={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?wr=v.polarToCartesian(this.centerX,this.centerY,ir.globals.radialSize/1.25+ir.config.plotOptions.pie.dataLabels.offset,(lr+pr/2)%this.fullAngle):this.chartType==="donut"&&(wr=v.polarToCartesian(this.centerX,this.centerY,(ir.globals.radialSize+this.donutSize)/2+ir.config.plotOptions.pie.dataLabels.offset,(lr+pr/2)%this.fullAngle)),gr.add(yr);var Pr=0;if(!this.initialAnim||ir.globals.resized||ir.globals.dataChanged?this.animBeginArr.push(0):((Pr=pr/this.fullAngle*ir.config.chart.animations.speed)===0&&(Pr=1),this.animDur=Pr+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&ir.globals.dataChanged?this.animatePaths(yr,{size:this.sliceSizes[dr],endAngle:ur,startAngle:lr,prevStartAngle:cr,prevEndAngle:hr,animateStartingPos:!0,i:dr,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:ir.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(yr,{size:this.sliceSizes[dr],endAngle:ur,startAngle:lr,i:dr,totalItems:er.length-1,animBeginArr:this.animBeginArr,dur:Pr}),ir.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&yr.node.addEventListener("mouseup",this.pieClicked.bind(this,dr)),ir.globals.selectedDataPoints[0]!==void 0&&ir.globals.selectedDataPoints[0].indexOf(dr)>-1&&this.pieClicked(dr),ir.config.dataLabels.enabled){var Tr=wr.x,Vr=wr.y,Ar=100*pr/this.fullAngle+"%";if(pr!==0&&ir.config.plotOptions.pie.dataLabels.minAngleToShowLabel<er[dr]){var xr=ir.config.dataLabels.formatter;xr!==void 0&&(Ar=xr(ir.globals.seriesPercent[dr][0],{seriesIndex:dr,w:ir}));var Er=ir.globals.dataLabels.style.colors[dr],Cr=sr.group({class:"apexcharts-datalabels"}),Rr=sr.drawText({x:Tr,y:Vr,text:Ar,textAnchor:"middle",fontSize:ir.config.dataLabels.style.fontSize,fontFamily:ir.config.dataLabels.style.fontFamily,fontWeight:ir.config.dataLabels.style.fontWeight,foreColor:Er});if(Cr.add(Rr),ir.config.dataLabels.dropShadow.enabled){var kr=ir.config.dataLabels.dropShadow;nr.dropShadow(Rr,kr)}Rr.node.classList.add("apexcharts-pie-label"),ir.config.chart.animations.animate&&ir.globals.resized===!1&&(Rr.node.classList.add("apexcharts-pie-label-delay"),Rr.node.style.animationDelay=ir.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Cr)}}}return or}},{key:"addListeners",value:function(er,tr){var ir=new Mi(this.ctx);er.node.addEventListener("mouseenter",ir.pathMouseEnter.bind(this,er)),er.node.addEventListener("mouseleave",ir.pathMouseLeave.bind(this,er)),er.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,er.node,tr)),er.node.addEventListener("mousedown",ir.pathMouseDown.bind(this,er)),this.donutDataLabels.total.showAlways||(er.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,er.node,tr)),er.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,er.node,tr)))}},{key:"animatePaths",value:function(er,tr){var ir=this.w,nr=tr.endAngle<tr.startAngle?this.fullAngle+tr.endAngle-tr.startAngle:tr.endAngle-tr.startAngle,sr=nr,ar=tr.startAngle,or=tr.startAngle;tr.prevStartAngle!==void 0&&tr.prevEndAngle!==void 0&&(ar=tr.prevEndAngle,sr=tr.prevEndAngle<tr.prevStartAngle?this.fullAngle+tr.prevEndAngle-tr.prevStartAngle:tr.prevEndAngle-tr.prevStartAngle),tr.i===ir.config.series.length-1&&(nr+or>this.fullAngle?tr.endAngle=tr.endAngle-(nr+or):nr+or<this.fullAngle&&(tr.endAngle=tr.endAngle+(this.fullAngle-(nr+or)))),nr===this.fullAngle&&(nr=this.fullAngle-.01),this.animateArc(er,ar,or,nr,sr,tr)}},{key:"animateArc",value:function(er,tr,ir,nr,sr,ar){var or,lr=this,cr=this.w,ur=new y(this.ctx),hr=ar.size;(isNaN(tr)||isNaN(sr))&&(tr=ir,sr=nr,ar.dur=0);var dr=nr,gr=ir,pr=tr<ir?this.fullAngle+tr-ir:tr-ir;cr.globals.dataChanged&&ar.shouldSetPrevPaths&&ar.prevEndAngle&&(or=lr.getPiePath({me:lr,startAngle:ar.prevStartAngle,angle:ar.prevEndAngle<ar.prevStartAngle?this.fullAngle+ar.prevEndAngle-ar.prevStartAngle:ar.prevEndAngle-ar.prevStartAngle,size:hr}),er.attr({d:or})),ar.dur!==0?er.animate(ar.dur,ar.animBeginArr[ar.i]).after(function(){lr.chartType!=="pie"&&lr.chartType!=="donut"&&lr.chartType!=="polarArea"||this.animate(cr.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":lr.strokeWidth}),ar.i===cr.config.series.length-1&&ur.animationCompleted(er)}).during(function(mr){dr=pr+(nr-pr)*mr,ar.animateStartingPos&&(dr=sr+(nr-sr)*mr,gr=tr-sr+(ir-(tr-sr))*mr),or=lr.getPiePath({me:lr,startAngle:gr,angle:dr,size:hr}),er.node.setAttribute("data:pathOrig",or),er.attr({d:or})}):(or=lr.getPiePath({me:lr,startAngle:gr,angle:nr,size:hr}),ar.isTrack||(cr.globals.animationEnded=!0),er.node.setAttribute("data:pathOrig",or),er.attr({d:or,"stroke-width":lr.strokeWidth}))}},{key:"pieClicked",value:function(er){var tr,ir=this.w,nr=this,sr=nr.sliceSizes[er]+(ir.config.plotOptions.pie.expandOnClick?4:0),ar=ir.globals.dom.Paper.findOne(".apexcharts-".concat(nr.chartType.toLowerCase(),"-slice-").concat(er));if(ar.attr("data:pieClicked")!=="true"){var or=ir.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(or,function(hr){hr.setAttribute("data:pieClicked","false");var dr=hr.getAttribute("data:pathOrig");dr&&hr.setAttribute("d",dr)}),ir.globals.capturedDataPointIndex=er,ar.attr("data:pieClicked","true");var lr=parseInt(ar.attr("data:startAngle"),10),cr=parseInt(ar.attr("data:angle"),10);tr=nr.getPiePath({me:nr,startAngle:lr,angle:cr,size:sr}),cr!==360&&ar.plot(tr)}else{ar.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(ar.node,this.donutDataLabels);var ur=ar.attr("data:pathOrig");ar.attr({d:ur})}}},{key:"getChangedPath",value:function(er,tr){var ir="";return this.dynamicAnim&&this.w.globals.dataChanged&&(ir=this.getPiePath({me:this,startAngle:er,angle:tr-er,size:this.size})),ir}},{key:"getPiePath",value:function(er){var tr,ir=er.me,nr=er.startAngle,sr=er.angle,ar=er.size,or=new Mi(this.ctx),lr=nr,cr=Math.PI*(lr-90)/180,ur=sr+nr;Math.ceil(ur)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(ur=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(ur)>this.fullAngle&&(ur-=this.fullAngle);var hr=Math.PI*(ur-90)/180,dr=ir.centerX+ar*Math.cos(cr),gr=ir.centerY+ar*Math.sin(cr),pr=ir.centerX+ar*Math.cos(hr),mr=ir.centerY+ar*Math.sin(hr),vr=v.polarToCartesian(ir.centerX,ir.centerY,ir.donutSize,ur),yr=v.polarToCartesian(ir.centerX,ir.centerY,ir.donutSize,lr),br=sr>180?1:0,wr=["M",dr,gr,"A",ar,ar,0,br,1,pr,mr];return tr=ir.chartType==="donut"?[].concat(wr,["L",vr.x,vr.y,"A",ir.donutSize,ir.donutSize,0,br,0,yr.x,yr.y,"L",dr,gr,"z"]).join(" "):ir.chartType==="pie"||ir.chartType==="polarArea"?[].concat(wr,["L",ir.centerX,ir.centerY,"L",dr,gr]).join(" "):[].concat(wr).join(" "),or.roundPathCorners(tr,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(er){var tr=this.w,ir=new ta(this.ctx),nr=new Mi(this.ctx),sr=new Ra(this.ctx),ar=nr.group(),or=nr.group(),lr=ir.niceScale(0,Math.ceil(this.maxY),0),cr=lr.result.reverse(),ur=lr.result.length;this.maxY=lr.niceMax;for(var hr=tr.globals.radialSize,dr=hr/(ur-1),gr=0;gr<ur-1;gr++){var pr=nr.drawCircle(hr);if(pr.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":tr.config.plotOptions.polarArea.rings.strokeWidth,stroke:tr.config.plotOptions.polarArea.rings.strokeColor}),tr.config.yaxis[0].show){var mr=sr.drawYAxisTexts(this.centerX,this.centerY-hr+parseInt(tr.config.yaxis[0].labels.style.fontSize,10)/2,gr,cr[gr]);or.add(mr)}ar.add(pr),hr-=dr}this.drawSpokes(er),er.add(ar),er.add(or)}},{key:"renderInnerDataLabels",value:function(er,tr,ir){var nr=this.w,sr=new Mi(this.ctx),ar=tr.total.show;er.node.innerHTML="",er.node.style.opacity=ir.opacity;var or,lr,cr=ir.centerX,ur=this.donutDataLabels.total.label?ir.centerY:ir.centerY-ir.centerY/6;or=tr.name.color===void 0?nr.globals.colors[0]:tr.name.color;var hr=tr.name.fontSize,dr=tr.name.fontFamily,gr=tr.name.fontWeight;lr=tr.value.color===void 0?nr.config.chart.foreColor:tr.value.color;var pr=tr.value.formatter,mr="",vr="";if(ar?(or=tr.total.color,hr=tr.total.fontSize,dr=tr.total.fontFamily,gr=tr.total.fontWeight,vr=this.donutDataLabels.total.label?tr.total.label:"",mr=tr.total.formatter(nr)):nr.globals.series.length===1&&(mr=pr(nr.globals.series[0],nr),vr=nr.globals.seriesNames[0]),vr&&(vr=tr.name.formatter(vr,tr.total.show,nr)),tr.name.show){var yr=sr.drawText({x:cr,y:ur+parseFloat(tr.name.offsetY),text:vr,textAnchor:"middle",foreColor:or,fontSize:hr,fontWeight:gr,fontFamily:dr});yr.node.classList.add("apexcharts-datalabel-label"),er.add(yr)}if(tr.value.show){var br=tr.name.show?parseFloat(tr.value.offsetY)+16:tr.value.offsetY,wr=sr.drawText({x:cr,y:ur+br,text:mr,textAnchor:"middle",foreColor:lr,fontWeight:tr.value.fontWeight,fontSize:tr.value.fontSize,fontFamily:tr.value.fontFamily});wr.node.classList.add("apexcharts-datalabel-value"),er.add(wr)}return er}},{key:"printInnerLabels",value:function(er,tr,ir,nr){var sr,ar=this.w;nr?sr=er.name.color===void 0?ar.globals.colors[parseInt(nr.parentNode.getAttribute("rel"),10)-1]:er.name.color:ar.globals.series.length>1&&er.total.show&&(sr=er.total.color);var or=ar.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),lr=ar.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");ir=(0,er.value.formatter)(ir,ar),nr||typeof er.total.formatter!="function"||(ir=er.total.formatter(ar));var cr=tr===er.total.label;tr=this.donutDataLabels.total.label?er.name.formatter(tr,cr,ar):"",or!==null&&(or.textContent=tr),lr!==null&&(lr.textContent=ir),or!==null&&(or.style.fill=sr)}},{key:"printDataLabelsInner",value:function(er,tr){var ir=this.w,nr=er.getAttribute("data:value"),sr=ir.globals.seriesNames[parseInt(er.parentNode.getAttribute("rel"),10)-1];ir.globals.series.length>1&&this.printInnerLabels(tr,sr,nr,er);var ar=ir.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");ar!==null&&(ar.style.opacity=1)}},{key:"drawSpokes",value:function(er){var tr=this,ir=this.w,nr=new Mi(this.ctx),sr=ir.config.plotOptions.polarArea.spokes;if(sr.strokeWidth!==0){for(var ar=[],or=360/ir.globals.series.length,lr=0;lr<ir.globals.series.length;lr++)ar.push(v.polarToCartesian(this.centerX,this.centerY,ir.globals.radialSize,ir.config.plotOptions.pie.startAngle+or*lr));ar.forEach(function(cr,ur){var hr=nr.drawLine(cr.x,cr.y,tr.centerX,tr.centerY,Array.isArray(sr.connectorColors)?sr.connectorColors[ur]:sr.connectorColors);er.add(hr)})}}},{key:"revertDataLabelsInner",value:function(){var er=this.w;if(this.donutDataLabels.show){var tr=er.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),ir=this.renderInnerDataLabels(tr,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});er.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(ir)}}}]),rr}(),Ya=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var tr=this.w;this.graphics=new Mi(this.ctx),this.lineColorArr=tr.globals.stroke.colors!==void 0?tr.globals.stroke.colors:tr.globals.colors,this.defaultSize=tr.globals.svgHeight<tr.globals.svgWidth?tr.globals.gridHeight:tr.globals.gridWidth,this.isLog=tr.config.yaxis[0].logarithmic,this.logBase=tr.config.yaxis[0].logBase,this.coreUtils=new Pi(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,tr.globals.maxY,0):tr.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):tr.globals.minY,this.polygons=tr.config.plotOptions.radar.polygons,this.strokeWidth=tr.config.stroke.show?tr.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-tr.config.chart.dropShadow.blur,tr.config.xaxis.labels.show&&(this.size=this.size-tr.globals.xAxisLabelsWidth/1.75),tr.config.plotOptions.radar.size!==void 0&&(this.size=tr.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return s(rr,[{key:"draw",value:function(er){var tr=this,ir=this.w,nr=new ji(this.ctx),sr=[],ar=new qi(this.ctx);er.length&&(this.dataPointsLen=er[ir.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var or=ir.globals.gridWidth/2,lr=ir.globals.gridHeight/2,cr=or+ir.config.plotOptions.radar.offsetX,ur=lr+ir.config.plotOptions.radar.offsetY,hr=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(cr||0,", ").concat(ur||0,")")}),dr=[],gr=null,pr=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),er.forEach(function(vr,yr){var br=vr.length===ir.globals.dataPoints,wr=tr.graphics.group().attr({class:"apexcharts-series","data:longestSeries":br,seriesName:v.escapeString(ir.globals.seriesNames[yr]),rel:yr+1,"data:realIndex":yr});tr.dataRadiusOfPercent[yr]=[],tr.dataRadius[yr]=[],tr.angleArr[yr]=[],vr.forEach(function(Sr,Nr){var Hr=Math.abs(tr.maxValue-tr.minValue);Sr-=tr.minValue,tr.isLog&&(Sr=tr.coreUtils.getLogVal(tr.logBase,Sr,0)),tr.dataRadiusOfPercent[yr][Nr]=Sr/Hr,tr.dataRadius[yr][Nr]=tr.dataRadiusOfPercent[yr][Nr]*tr.size,tr.angleArr[yr][Nr]=Nr*tr.disAngle}),dr=tr.getDataPointsPos(tr.dataRadius[yr],tr.angleArr[yr]);var Pr=tr.createPaths(dr,{x:0,y:0});gr=tr.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),pr=tr.graphics.group({class:"apexcharts-datalabels","data:realIndex":yr}),ir.globals.delayedElements.push({el:gr.node,index:yr});var Tr={i:yr,realIndex:yr,animationDelay:yr,initialSpeed:ir.config.chart.animations.speed,dataChangeSpeed:ir.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:ir.globals.stroke.colors[yr],strokeLineCap:ir.config.stroke.lineCap},Vr=null;ir.globals.previousPaths.length>0&&(Vr=tr.getPreviousPath(yr));for(var Ar=0;Ar<Pr.linePathsTo.length;Ar++){var xr=tr.graphics.renderPaths(u(u({},Tr),{},{pathFrom:Vr===null?Pr.linePathsFrom[Ar]:Vr,pathTo:Pr.linePathsTo[Ar],strokeWidth:Array.isArray(tr.strokeWidth)?tr.strokeWidth[yr]:tr.strokeWidth,fill:"none",drawShadow:!1}));wr.add(xr);var Er=nr.fillPath({seriesNumber:yr}),Cr=tr.graphics.renderPaths(u(u({},Tr),{},{pathFrom:Vr===null?Pr.areaPathsFrom[Ar]:Vr,pathTo:Pr.areaPathsTo[Ar],strokeWidth:0,fill:Er,drawShadow:!1}));if(ir.config.chart.dropShadow.enabled){var Rr=new Li(tr.ctx),kr=ir.config.chart.dropShadow;Rr.dropShadow(Cr,Object.assign({},kr,{noUserSpaceOnUse:!0}),yr)}wr.add(Cr)}vr.forEach(function(Sr,Nr){var Hr=new Vi(tr.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:yr,dataPointIndex:Nr}),zr=tr.graphics.drawMarker(dr[Nr].x,dr[Nr].y,Hr);zr.attr("rel",Nr),zr.attr("j",Nr),zr.attr("index",yr),zr.node.setAttribute("default-marker-size",Hr.pSize);var $r=tr.graphics.group({class:"apexcharts-series-markers"});$r&&$r.add(zr),gr.add($r),wr.add(gr);var jr=ir.config.dataLabels;if(jr.enabled){var Jr=jr.formatter(ir.globals.series[yr][Nr],{seriesIndex:yr,dataPointIndex:Nr,w:ir});ar.plotDataLabelsText({x:dr[Nr].x,y:dr[Nr].y,text:Jr,textAnchor:"middle",i:yr,j:yr,parent:pr,offsetCorrection:!1,dataLabelsConfig:u({},jr)})}wr.add(pr)}),sr.push(wr)}),this.drawPolygons({parent:hr}),ir.config.xaxis.labels.show){var mr=this.drawXAxisTexts();hr.add(mr)}return sr.forEach(function(vr){hr.add(vr)}),hr.add(this.yaxisLabels),hr}},{key:"drawPolygons",value:function(er){for(var tr=this,ir=this.w,nr=er.parent,sr=new Ra(this.ctx),ar=ir.globals.yAxisScale[0].result.reverse(),or=ar.length,lr=[],cr=this.size/(or-1),ur=0;ur<or;ur++)lr[ur]=cr*ur;lr.reverse();var hr=[],dr=[];lr.forEach(function(gr,pr){var mr=v.getPolygonPos(gr,tr.dataPointsLen),vr="";mr.forEach(function(yr,br){if(pr===0){var wr=tr.graphics.drawLine(yr.x,yr.y,0,0,Array.isArray(tr.polygons.connectorColors)?tr.polygons.connectorColors[br]:tr.polygons.connectorColors);dr.push(wr)}br===0&&tr.yaxisLabelsTextsPos.push({x:yr.x,y:yr.y}),vr+=yr.x+","+yr.y+" "}),hr.push(vr)}),hr.forEach(function(gr,pr){var mr=tr.polygons.strokeColors,vr=tr.polygons.strokeWidth,yr=tr.graphics.drawPolygon(gr,Array.isArray(mr)?mr[pr]:mr,Array.isArray(vr)?vr[pr]:vr,ir.globals.radarPolygons.fill.colors[pr]);nr.add(yr)}),dr.forEach(function(gr){nr.add(gr)}),ir.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(gr,pr){var mr=sr.drawYAxisTexts(gr.x,gr.y,pr,ar[pr]);tr.yaxisLabels.add(mr)})}},{key:"drawXAxisTexts",value:function(){var er=this,tr=this.w,ir=tr.config.xaxis.labels,nr=this.graphics.group({class:"apexcharts-xaxis"}),sr=v.getPolygonPos(this.size,this.dataPointsLen);return tr.globals.labels.forEach(function(ar,or){var lr=tr.config.xaxis.labels.formatter,cr=new qi(er.ctx);if(sr[or]){var ur=er.getTextPos(sr[or],er.size),hr=lr(ar,{seriesIndex:-1,dataPointIndex:or,w:tr});cr.plotDataLabelsText({x:ur.newX,y:ur.newY,text:hr,textAnchor:ur.textAnchor,i:or,j:or,parent:nr,className:"apexcharts-xaxis-label",color:Array.isArray(ir.style.colors)&&ir.style.colors[or]?ir.style.colors[or]:"#a8a8a8",dataLabelsConfig:u({textAnchor:ur.textAnchor,dropShadow:{enabled:!1}},ir),offsetCorrection:!1}).on("click",function(dr){if(typeof tr.config.chart.events.xAxisLabelClick=="function"){var gr=Object.assign({},tr,{labelIndex:or});tr.config.chart.events.xAxisLabelClick(dr,er.ctx,gr)}})}}),nr}},{key:"createPaths",value:function(er,tr){var ir=this,nr=[],sr=[],ar=[],or=[];if(er.length){sr=[this.graphics.move(tr.x,tr.y)],or=[this.graphics.move(tr.x,tr.y)];var lr=this.graphics.move(er[0].x,er[0].y),cr=this.graphics.move(er[0].x,er[0].y);er.forEach(function(ur,hr){lr+=ir.graphics.line(ur.x,ur.y),cr+=ir.graphics.line(ur.x,ur.y),hr===er.length-1&&(lr+="Z",cr+="Z")}),nr.push(lr),ar.push(cr)}return{linePathsFrom:sr,linePathsTo:nr,areaPathsFrom:or,areaPathsTo:ar}}},{key:"getTextPos",value:function(er,tr){var ir="middle",nr=er.x,sr=er.y;return Math.abs(er.x)>=10?er.x>0?(ir="start",nr+=10):er.x<0&&(ir="end",nr-=10):ir="middle",Math.abs(er.y)>=tr-10&&(er.y<0?sr-=10:er.y>0&&(sr+=10)),{textAnchor:ir,newX:nr,newY:sr}}},{key:"getPreviousPath",value:function(er){for(var tr=this.w,ir=null,nr=0;nr<tr.globals.previousPaths.length;nr++){var sr=tr.globals.previousPaths[nr];sr.paths.length>0&&parseInt(sr.realIndex,10)===parseInt(er,10)&&tr.globals.previousPaths[nr].paths[0]!==void 0&&(ir=tr.globals.previousPaths[nr].paths[0].d)}return ir}},{key:"getDataPointsPos",value:function(er,tr){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;er=er||[],tr=tr||[];for(var nr=[],sr=0;sr<ir;sr++){var ar={};ar.x=er[sr]*Math.sin(tr[sr]),ar.y=-er[sr]*Math.cos(tr[sr]),nr.push(ar)}return nr}}]),rr}(),Ha=function(rr){h(tr,Ea);var er=n(tr);function tr(ir){var nr;i(this,tr),(nr=er.call(this,ir)).ctx=ir,nr.w=ir.w,nr.animBeginArr=[0],nr.animDur=0;var sr=nr.w;return nr.startAngle=sr.config.plotOptions.radialBar.startAngle,nr.endAngle=sr.config.plotOptions.radialBar.endAngle,nr.totalAngle=Math.abs(sr.config.plotOptions.radialBar.endAngle-sr.config.plotOptions.radialBar.startAngle),nr.trackStartAngle=sr.config.plotOptions.radialBar.track.startAngle,nr.trackEndAngle=sr.config.plotOptions.radialBar.track.endAngle,nr.barLabels=nr.w.config.plotOptions.radialBar.barLabels,nr.donutDataLabels=nr.w.config.plotOptions.radialBar.dataLabels,nr.radialDataLabels=nr.donutDataLabels,nr.trackStartAngle||(nr.trackStartAngle=nr.startAngle),nr.trackEndAngle||(nr.trackEndAngle=nr.endAngle),nr.endAngle===360&&(nr.endAngle=359.99),nr.margin=parseInt(sr.config.plotOptions.radialBar.track.margin,10),nr.onBarLabelClick=nr.onBarLabelClick.bind(e(nr)),nr}return s(tr,[{key:"draw",value:function(ir){var nr=this.w,sr=new Mi(this.ctx),ar=sr.group({class:"apexcharts-radialbar"});if(nr.globals.noData)return ar;var or=sr.group(),lr=this.defaultSize/2,cr=nr.globals.gridWidth/2,ur=this.defaultSize/2.05;nr.config.chart.sparkline.enabled||(ur=ur-nr.config.stroke.width-nr.config.chart.dropShadow.blur);var hr=nr.globals.fill.colors;if(nr.config.plotOptions.radialBar.track.show){var dr=this.drawTracks({size:ur,centerX:cr,centerY:lr,colorArr:hr,series:ir});or.add(dr)}var gr=this.drawArcs({size:ur,centerX:cr,centerY:lr,colorArr:hr,series:ir}),pr=360;nr.config.plotOptions.radialBar.startAngle<0&&(pr=this.totalAngle);var mr=(360-pr)/360;if(nr.globals.radialSize=ur-ur*mr,this.radialDataLabels.value.show){var vr=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);nr.globals.radialSize+=vr*mr}return or.add(gr.g),nr.config.plotOptions.radialBar.hollow.position==="front"&&(gr.g.add(gr.elHollow),gr.dataLabels&&gr.g.add(gr.dataLabels)),ar.add(or),ar}},{key:"drawTracks",value:function(ir){var nr=this.w,sr=new Mi(this.ctx),ar=sr.group({class:"apexcharts-tracks"}),or=new Li(this.ctx),lr=new ji(this.ctx),cr=this.getStrokeWidth(ir);ir.size=ir.size-cr/2;for(var ur=0;ur<ir.series.length;ur++){var hr=sr.group({class:"apexcharts-radialbar-track apexcharts-track"});ar.add(hr),hr.attr({rel:ur+1}),ir.size=ir.size-cr-this.margin;var dr=nr.config.plotOptions.radialBar.track,gr=lr.fillPath({seriesNumber:0,size:ir.size,fillColors:Array.isArray(dr.background)?dr.background[ur]:dr.background,solid:!0}),pr=this.trackStartAngle,mr=this.trackEndAngle;Math.abs(mr)+Math.abs(pr)>=360&&(mr=360-Math.abs(this.startAngle)-.1);var vr=sr.drawPath({d:"",stroke:gr,strokeWidth:cr*parseInt(dr.strokeWidth,10)/100,fill:"none",strokeOpacity:dr.opacity,classes:"apexcharts-radialbar-area"});if(dr.dropShadow.enabled){var yr=dr.dropShadow;or.dropShadow(vr,yr)}hr.add(vr),vr.attr("id","apexcharts-radialbarTrack-"+ur),this.animatePaths(vr,{centerX:ir.centerX,centerY:ir.centerY,endAngle:mr,startAngle:pr,size:ir.size,i:ur,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return ar}},{key:"drawArcs",value:function(ir){var nr=this.w,sr=new Mi(this.ctx),ar=new ji(this.ctx),or=new Li(this.ctx),lr=sr.group(),cr=this.getStrokeWidth(ir);ir.size=ir.size-cr/2;var ur=nr.config.plotOptions.radialBar.hollow.background,hr=ir.size-cr*ir.series.length-this.margin*ir.series.length-cr*parseInt(nr.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,dr=hr-nr.config.plotOptions.radialBar.hollow.margin;nr.config.plotOptions.radialBar.hollow.image!==void 0&&(ur=this.drawHollowImage(ir,lr,hr,ur));var gr=this.drawHollow({size:dr,centerX:ir.centerX,centerY:ir.centerY,fill:ur||"transparent"});if(nr.config.plotOptions.radialBar.hollow.dropShadow.enabled){var pr=nr.config.plotOptions.radialBar.hollow.dropShadow;or.dropShadow(gr,pr)}var mr=1;!this.radialDataLabels.total.show&&nr.globals.series.length>1&&(mr=0);var vr=null;if(this.radialDataLabels.show){var yr=nr.globals.dom.Paper.findOne(".apexcharts-datalabels-group");vr=this.renderInnerDataLabels(yr,this.radialDataLabels,{hollowSize:hr,centerX:ir.centerX,centerY:ir.centerY,opacity:mr})}nr.config.plotOptions.radialBar.hollow.position==="back"&&(lr.add(gr),vr&&lr.add(vr));var br=!1;nr.config.plotOptions.radialBar.inverseOrder&&(br=!0);for(var wr=br?ir.series.length-1:0;br?wr>=0:wr<ir.series.length;br?wr--:wr++){var Pr=sr.group({class:"apexcharts-series apexcharts-radial-series",seriesName:v.escapeString(nr.globals.seriesNames[wr])});lr.add(Pr),Pr.attr({rel:wr+1,"data:realIndex":wr}),this.ctx.series.addCollapsedClassToSeries(Pr,wr),ir.size=ir.size-cr-this.margin;var Tr=ar.fillPath({seriesNumber:wr,size:ir.size,value:ir.series[wr]}),Vr=this.startAngle,Ar=void 0,xr=v.negToZero(ir.series[wr]>100?100:ir.series[wr])/100,Er=Math.round(this.totalAngle*xr)+this.startAngle,Cr=void 0;nr.globals.dataChanged&&(Ar=this.startAngle,Cr=Math.round(this.totalAngle*v.negToZero(nr.globals.previousPaths[wr])/100)+Ar),Math.abs(Er)+Math.abs(Vr)>360&&(Er-=.01),Math.abs(Cr)+Math.abs(Ar)>360&&(Cr-=.01);var Rr=Er-Vr,kr=Array.isArray(nr.config.stroke.dashArray)?nr.config.stroke.dashArray[wr]:nr.config.stroke.dashArray,Sr=sr.drawPath({d:"",stroke:Tr,strokeWidth:cr,fill:"none",fillOpacity:nr.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+wr,strokeDashArray:kr});if(Mi.setAttrs(Sr.node,{"data:angle":Rr,"data:value":ir.series[wr]}),nr.config.chart.dropShadow.enabled){var Nr=nr.config.chart.dropShadow;or.dropShadow(Sr,Nr,wr)}if(or.setSelectionFilter(Sr,0,wr),this.addListeners(Sr,this.radialDataLabels),Pr.add(Sr),Sr.attr({index:0,j:wr}),this.barLabels.enabled){var Hr=v.polarToCartesian(ir.centerX,ir.centerY,ir.size,Vr),zr=this.barLabels.formatter(nr.globals.seriesNames[wr],{seriesIndex:wr,w:nr}),$r=["apexcharts-radialbar-label"];this.barLabels.onClick||$r.push("apexcharts-no-click");var jr=this.barLabels.useSeriesColors?nr.globals.colors[wr]:nr.config.chart.foreColor;jr||(jr=nr.config.chart.foreColor);var Jr=Hr.x+this.barLabels.offsetX,ln=Hr.y+this.barLabels.offsetY,un=sr.drawText({x:Jr,y:ln,text:zr,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:jr,cssClass:$r.join(" ")});un.on("click",this.onBarLabelClick),un.attr({rel:wr+1}),Vr!==0&&un.attr({"transform-origin":"".concat(Jr," ").concat(ln),transform:"rotate(".concat(Vr," 0 0)")}),Pr.add(un)}var Qr=0;!this.initialAnim||nr.globals.resized||nr.globals.dataChanged||(Qr=nr.config.chart.animations.speed),nr.globals.dataChanged&&(Qr=nr.config.chart.animations.dynamicAnimation.speed),this.animDur=Qr/(1.2*ir.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Sr,{centerX:ir.centerX,centerY:ir.centerY,endAngle:Er,startAngle:Vr,prevEndAngle:Cr,prevStartAngle:Ar,size:ir.size,i:wr,totalItems:2,animBeginArr:this.animBeginArr,dur:Qr,shouldSetPrevPaths:!0})}return{g:lr,elHollow:gr,dataLabels:vr}}},{key:"drawHollow",value:function(ir){var nr=new Mi(this.ctx).drawCircle(2*ir.size);return nr.attr({class:"apexcharts-radialbar-hollow",cx:ir.centerX,cy:ir.centerY,r:ir.size,fill:ir.fill}),nr}},{key:"drawHollowImage",value:function(ir,nr,sr,ar){var or=this.w,lr=new ji(this.ctx),cr=v.randomId(),ur=or.config.plotOptions.radialBar.hollow.image;if(or.config.plotOptions.radialBar.hollow.imageClipped)lr.clippedImgArea({width:sr,height:sr,image:ur,patternID:"pattern".concat(or.globals.cuid).concat(cr)}),ar="url(#pattern".concat(or.globals.cuid).concat(cr,")");else{var hr=or.config.plotOptions.radialBar.hollow.imageWidth,dr=or.config.plotOptions.radialBar.hollow.imageHeight;if(hr===void 0&&dr===void 0){var gr=or.globals.dom.Paper.image(ur,function(mr){this.move(ir.centerX-mr.width/2+or.config.plotOptions.radialBar.hollow.imageOffsetX,ir.centerY-mr.height/2+or.config.plotOptions.radialBar.hollow.imageOffsetY)});nr.add(gr)}else{var pr=or.globals.dom.Paper.image(ur,function(mr){this.move(ir.centerX-hr/2+or.config.plotOptions.radialBar.hollow.imageOffsetX,ir.centerY-dr/2+or.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(hr,dr)});nr.add(pr)}}return ar}},{key:"getStrokeWidth",value:function(ir){var nr=this.w;return ir.size*(100-parseInt(nr.config.plotOptions.radialBar.hollow.size,10))/100/(ir.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(ir){var nr=parseInt(ir.target.getAttribute("rel"),10)-1,sr=this.barLabels.onClick,ar=this.w;sr&&sr(ar.globals.seriesNames[nr],{w:ar,seriesIndex:nr})}}]),tr}(),Oa=function(rr){h(tr,Pa);var er=n(tr);function tr(){return i(this,tr),er.apply(this,arguments)}return s(tr,[{key:"draw",value:function(ir,nr){var sr=this.w,ar=new Mi(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=ir,this.seriesRangeStart=sr.globals.seriesRangeStart,this.seriesRangeEnd=sr.globals.seriesRangeEnd,this.barHelpers.initVariables(ir);for(var or=ar.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),lr=0;lr<ir.length;lr++){var cr,ur,hr,dr,gr=void 0,pr=void 0,mr=sr.globals.comboCharts?nr[lr]:lr,vr=this.barHelpers.getGroupIndex(mr).columnGroupIndex,yr=ar.group({class:"apexcharts-series",seriesName:v.escapeString(sr.globals.seriesNames[mr]),rel:lr+1,"data:realIndex":mr});this.ctx.series.addCollapsedClassToSeries(yr,mr),ir[lr].length>0&&(this.visibleI=this.visibleI+1);var br=0,wr=0,Pr=0;this.yRatio.length>1&&(this.yaxisIndex=sr.globals.seriesYAxisReverseMap[mr][0],Pr=mr);var Tr=this.barHelpers.initialPositions(mr);pr=Tr.y,dr=Tr.zeroW,gr=Tr.x,wr=Tr.barWidth,br=Tr.barHeight,cr=Tr.xDivision,ur=Tr.yDivision,hr=Tr.zeroH;for(var Vr=ar.group({class:"apexcharts-datalabels","data:realIndex":mr}),Ar=ar.group({class:"apexcharts-rangebar-goals-markers"}),xr=0;xr<sr.globals.dataPoints;xr++){var Er=this.barHelpers.getStrokeWidth(lr,xr,mr),Cr=this.seriesRangeStart[lr][xr],Rr=this.seriesRangeEnd[lr][xr],kr=null,Sr=null,Nr=null,Hr={x:gr,y:pr,strokeWidth:Er,elSeries:yr},zr=this.seriesLen;if(sr.config.plotOptions.bar.rangeBarGroupRows&&(zr=1),sr.config.series[lr].data[xr]===void 0)break;if(this.isHorizontal){Nr=pr+br*this.visibleI;var $r=(ur-br*zr)/2;if(sr.config.series[lr].data[xr].x){var jr=this.detectOverlappingBars({i:lr,j:xr,barYPosition:Nr,srty:$r,barHeight:br,yDivision:ur,initPositions:Tr});br=jr.barHeight,Nr=jr.barYPosition}wr=(kr=this.drawRangeBarPaths(u({indexes:{i:lr,j:xr,realIndex:mr},barHeight:br,barYPosition:Nr,zeroW:dr,yDivision:ur,y1:Cr,y2:Rr},Hr))).barWidth}else{sr.globals.isXNumeric&&(gr=(sr.globals.seriesX[lr][xr]-sr.globals.minX)/this.xRatio-wr/2),Sr=gr+wr*this.visibleI;var Jr=(cr-wr*zr)/2;if(sr.config.series[lr].data[xr].x){var ln=this.detectOverlappingBars({i:lr,j:xr,barXPosition:Sr,srtx:Jr,barWidth:wr,xDivision:cr,initPositions:Tr});wr=ln.barWidth,Sr=ln.barXPosition}br=(kr=this.drawRangeColumnPaths(u({indexes:{i:lr,j:xr,realIndex:mr,translationsIndex:Pr},barWidth:wr,barXPosition:Sr,zeroH:hr,xDivision:cr},Hr))).barHeight}var un=this.barHelpers.drawGoalLine({barXPosition:kr.barXPosition,barYPosition:Nr,goalX:kr.goalX,goalY:kr.goalY,barHeight:br,barWidth:wr});un&&Ar.add(un),pr=kr.y,gr=kr.x;var Qr=this.barHelpers.getPathFillColor(ir,lr,xr,mr);this.renderSeries({realIndex:mr,pathFill:Qr.color,lineFill:Qr.useRangeColor?Qr.color:sr.globals.stroke.colors[mr],j:xr,i:lr,x:gr,y:pr,y1:Cr,y2:Rr,pathFrom:kr.pathFrom,pathTo:kr.pathTo,strokeWidth:Er,elSeries:yr,series:ir,barHeight:br,barWidth:wr,barXPosition:Sr,barYPosition:Nr,columnGroupIndex:vr,elDataLabelsWrap:Vr,elGoalsMarkers:Ar,visibleSeries:this.visibleI,type:"rangebar"})}or.add(yr)}return or}},{key:"detectOverlappingBars",value:function(ir){var nr=ir.i,sr=ir.j,ar=ir.barYPosition,or=ir.barXPosition,lr=ir.srty,cr=ir.srtx,ur=ir.barHeight,hr=ir.barWidth,dr=ir.yDivision,gr=ir.xDivision,pr=ir.initPositions,mr=this.w,vr=[],yr=mr.config.series[nr].data[sr].rangeName,br=mr.config.series[nr].data[sr].x,wr=Array.isArray(br)?br.join(" "):br,Pr=mr.globals.labels.map(function(Vr){return Array.isArray(Vr)?Vr.join(" "):Vr}).indexOf(wr),Tr=mr.globals.seriesRange[nr].findIndex(function(Vr){return Vr.x===wr&&Vr.overlaps.length>0});return this.isHorizontal?(ar=mr.config.plotOptions.bar.rangeBarGroupRows?lr+dr*Pr:lr+ur*this.visibleI+dr*Pr,Tr>-1&&!mr.config.plotOptions.bar.rangeBarOverlap&&(vr=mr.globals.seriesRange[nr][Tr].overlaps).indexOf(yr)>-1&&(ar=(ur=pr.barHeight/vr.length)*this.visibleI+dr*(100-parseInt(this.barOptions.barHeight,10))/100/2+ur*(this.visibleI+vr.indexOf(yr))+dr*Pr)):(Pr>-1&&!mr.globals.timescaleLabels.length&&(or=mr.config.plotOptions.bar.rangeBarGroupRows?cr+gr*Pr:cr+hr*this.visibleI+gr*Pr),Tr>-1&&!mr.config.plotOptions.bar.rangeBarOverlap&&(vr=mr.globals.seriesRange[nr][Tr].overlaps).indexOf(yr)>-1&&(or=(hr=pr.barWidth/vr.length)*this.visibleI+gr*(100-parseInt(this.barOptions.barWidth,10))/100/2+hr*(this.visibleI+vr.indexOf(yr))+gr*Pr)),{barYPosition:ar,barXPosition:or,barHeight:ur,barWidth:hr}}},{key:"drawRangeColumnPaths",value:function(ir){var nr=ir.indexes,sr=ir.x,ar=ir.xDivision,or=ir.barWidth,lr=ir.barXPosition,cr=ir.zeroH,ur=this.w,hr=nr.i,dr=nr.j,gr=nr.realIndex,pr=nr.translationsIndex,mr=this.yRatio[pr],vr=this.getRangeValue(gr,dr),yr=Math.min(vr.start,vr.end),br=Math.max(vr.start,vr.end);this.series[hr][dr]===void 0||this.series[hr][dr]===null?yr=cr:(yr=cr-yr/mr,br=cr-br/mr);var wr=Math.abs(br-yr),Pr=this.barHelpers.getColumnPaths({barXPosition:lr,barWidth:or,y1:yr,y2:br,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:gr,i:gr,j:dr,w:ur});if(ur.globals.isXNumeric){var Tr=this.getBarXForNumericXAxis({x:sr,j:dr,realIndex:gr,barWidth:or});sr=Tr.x,lr=Tr.barXPosition}else sr+=ar;return{pathTo:Pr.pathTo,pathFrom:Pr.pathFrom,barHeight:wr,x:sr,y:vr.start<0&&vr.end<0?yr:br,goalY:this.barHelpers.getGoalValues("y",null,cr,hr,dr,pr),barXPosition:lr}}},{key:"preventBarOverflow",value:function(ir){var nr=this.w;return ir<0&&(ir=0),ir>nr.globals.gridWidth&&(ir=nr.globals.gridWidth),ir}},{key:"drawRangeBarPaths",value:function(ir){var nr=ir.indexes,sr=ir.y,ar=ir.y1,or=ir.y2,lr=ir.yDivision,cr=ir.barHeight,ur=ir.barYPosition,hr=ir.zeroW,dr=this.w,gr=nr.realIndex,pr=nr.j,mr=this.preventBarOverflow(hr+ar/this.invertedYRatio),vr=this.preventBarOverflow(hr+or/this.invertedYRatio),yr=this.getRangeValue(gr,pr),br=Math.abs(vr-mr),wr=this.barHelpers.getBarpaths({barYPosition:ur,barHeight:cr,x1:mr,x2:vr,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:gr,realIndex:gr,j:pr,w:dr});return dr.globals.isXNumeric||(sr+=lr),{pathTo:wr.pathTo,pathFrom:wr.pathFrom,barWidth:br,x:yr.start<0&&yr.end<0?mr:vr,goalX:this.barHelpers.getGoalValues("x",hr,null,gr,pr),y:sr}}},{key:"getRangeValue",value:function(ir,nr){var sr=this.w;return{start:sr.globals.seriesRangeStart[ir][nr],end:sr.globals.seriesRangeEnd[ir][nr]}}}]),tr}(),Fa=function(){function rr(er){i(this,rr),this.w=er.w,this.lineCtx=er}return s(rr,[{key:"sameValueSeriesFix",value:function(er,tr){var ir=this.w;if((ir.config.fill.type==="gradient"||ir.config.fill.type[er]==="gradient")&&new Pi(this.lineCtx.ctx,ir).seriesHaveSameValues(er)){var nr=tr[er].slice();nr[nr.length-1]=nr[nr.length-1]+1e-6,tr[er]=nr}return tr}},{key:"calculatePoints",value:function(er){var tr=er.series,ir=er.realIndex,nr=er.x,sr=er.y,ar=er.i,or=er.j,lr=er.prevY,cr=this.w,ur=[],hr=[],dr=this.lineCtx.categoryAxisCorrection+cr.config.markers.offsetX;return cr.globals.isXNumeric&&(dr=(cr.globals.seriesX[ir][0]-cr.globals.minX)/this.lineCtx.xRatio+cr.config.markers.offsetX),or===0&&(ur.push(dr),hr.push(v.isNumber(tr[ar][0])?lr+cr.config.markers.offsetY:null)),ur.push(nr+cr.config.markers.offsetX),hr.push(v.isNumber(tr[ar][or+1])?sr+cr.config.markers.offsetY:null),{x:ur,y:hr}}},{key:"checkPreviousPaths",value:function(er){for(var tr=er.pathFromLine,ir=er.pathFromArea,nr=er.realIndex,sr=this.w,ar=0;ar<sr.globals.previousPaths.length;ar++){var or=sr.globals.previousPaths[ar];(or.type==="line"||or.type==="area")&&or.paths.length>0&&parseInt(or.realIndex,10)===parseInt(nr,10)&&(or.type==="line"?(this.lineCtx.appendPathFrom=!1,tr=sr.globals.previousPaths[ar].paths[0].d):or.type==="area"&&(this.lineCtx.appendPathFrom=!1,ir=sr.globals.previousPaths[ar].paths[0].d,sr.config.stroke.show&&sr.globals.previousPaths[ar].paths[1]&&(tr=sr.globals.previousPaths[ar].paths[1].d)))}return{pathFromLine:tr,pathFromArea:ir}}},{key:"determineFirstPrevY",value:function(er){var tr,ir,nr,sr=er.i,ar=er.realIndex,or=er.series,lr=er.prevY,cr=er.lineYPosition,ur=er.translationsIndex,hr=this.w,dr=hr.config.chart.stacked&&!hr.globals.comboCharts||hr.config.chart.stacked&&hr.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((tr=this.w.config.series[ar])===null||tr===void 0?void 0:tr.type)==="bar"||((ir=this.w.config.series[ar])===null||ir===void 0?void 0:ir.type)==="column");if(((nr=or[sr])===null||nr===void 0?void 0:nr[0])!==void 0)lr=(cr=dr&&sr>0?this.lineCtx.prevSeriesY[sr-1][0]:this.lineCtx.zeroY)-or[sr][0]/this.lineCtx.yRatio[ur]+2*(this.lineCtx.isReversed?or[sr][0]/this.lineCtx.yRatio[ur]:0);else if(dr&&sr>0&&or[sr][0]===void 0){for(var gr=sr-1;gr>=0;gr--)if(or[gr][0]!==null&&or[gr][0]!==void 0){lr=cr=this.lineCtx.prevSeriesY[gr][0];break}}return{prevY:lr,lineYPosition:cr}}}]),rr}(),Da=function(rr){for(var er,tr,ir,nr,sr=function(ur){for(var hr=[],dr=ur[0],gr=ur[1],pr=hr[0]=Wa(dr,gr),mr=1,vr=ur.length-1;mr<vr;mr++)dr=gr,gr=ur[mr+1],hr[mr]=.5*(pr+(pr=Wa(dr,gr)));return hr[mr]=pr,hr}(rr),ar=rr.length-1,or=[],lr=0;lr<ar;lr++)ir=Wa(rr[lr],rr[lr+1]),Math.abs(ir)<1e-6?sr[lr]=sr[lr+1]=0:(nr=(er=sr[lr]/ir)*er+(tr=sr[lr+1]/ir)*tr)>9&&(nr=3*ir/Math.sqrt(nr),sr[lr]=nr*er,sr[lr+1]=nr*tr);for(var cr=0;cr<=ar;cr++)nr=(rr[Math.min(ar,cr+1)][0]-rr[Math.max(0,cr-1)][0])/(6*(1+sr[cr]*sr[cr])),or.push([nr||0,sr[cr]*nr||0]);return or},_a=function(rr){var er=Da(rr),tr=rr[1],ir=rr[0],nr=[],sr=er[1],ar=er[0];nr.push(ir,[ir[0]+ar[0],ir[1]+ar[1],tr[0]-sr[0],tr[1]-sr[1],tr[0],tr[1]]);for(var or=2,lr=er.length;or<lr;or++){var cr=rr[or],ur=er[or];nr.push([cr[0]-ur[0],cr[1]-ur[1],cr[0],cr[1]])}return nr},Na=function(rr,er,tr){var ir=rr.slice(er,tr);if(er){if(tr-er>1&&ir[1].length<6){var nr=ir[0].length;ir[1]=[2*ir[0][nr-2]-ir[0][nr-4],2*ir[0][nr-1]-ir[0][nr-3]].concat(ir[1])}ir[0]=ir[0].slice(-2)}return ir};function Wa(rr,er){return(er[1]-rr[1])/(er[0]-rr[0])}var Ba=function(){function rr(er,tr,ir){i(this,rr),this.ctx=er,this.w=er.w,this.xyRatios=tr,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||ir,this.scatter=new Ui(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Fa(this),this.markers=new Vi(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return s(rr,[{key:"draw",value:function(er,tr,ir,nr){var sr,ar=this.w,or=new Mi(this.ctx),lr=ar.globals.comboCharts?tr:ar.config.chart.type,cr=or.group({class:"apexcharts-".concat(lr,"-series apexcharts-plot-series")}),ur=new Pi(this.ctx,ar);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,er=ur.getLogSeries(er),this.yRatio=ur.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var hr=[],dr=0;dr<er.length;dr++){er=this.lineHelpers.sameValueSeriesFix(dr,er);var gr=ar.globals.comboCharts?ir[dr]:dr,pr=this.yRatio.length>1?gr:0;this._initSerieVariables(er,dr,gr);var mr=[],vr=[],yr=[],br=ar.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,gr),ar.globals.isXNumeric&&ar.globals.seriesX.length>0&&(br=(ar.globals.seriesX[gr][0]-ar.globals.minX)/this.xRatio),yr.push(br);var wr,Pr=br,Tr=void 0,Vr=Pr,Ar=this.zeroY,xr=this.zeroY;Ar=this.lineHelpers.determineFirstPrevY({i:dr,realIndex:gr,series:er,prevY:Ar,lineYPosition:0,translationsIndex:pr}).prevY,ar.config.stroke.curve==="monotoneCubic"&&er[dr][0]===null?mr.push(null):mr.push(Ar),wr=Ar,lr==="rangeArea"&&(Tr=xr=this.lineHelpers.determineFirstPrevY({i:dr,realIndex:gr,series:nr,prevY:xr,lineYPosition:0,translationsIndex:pr}).prevY,vr.push(mr[0]!==null?xr:null));var Er=this._calculatePathsFrom({type:lr,series:er,i:dr,realIndex:gr,translationsIndex:pr,prevX:Vr,prevY:Ar,prevY2:xr}),Cr=[mr[0]],Rr=[vr[0]],kr={type:lr,series:er,realIndex:gr,translationsIndex:pr,i:dr,x:br,y:1,pX:Pr,pY:wr,pathsFrom:Er,linePaths:[],areaPaths:[],seriesIndex:ir,lineYPosition:0,xArrj:yr,yArrj:mr,y2Arrj:vr,seriesRangeEnd:nr},Sr=this._iterateOverDataPoints(u(u({},kr),{},{iterations:lr==="rangeArea"?er[dr].length-1:void 0,isRangeStart:!0}));if(lr==="rangeArea"){for(var Nr=this._calculatePathsFrom({series:nr,i:dr,realIndex:gr,prevX:Vr,prevY:xr}),Hr=this._iterateOverDataPoints(u(u({},kr),{},{series:nr,xArrj:[br],yArrj:Cr,y2Arrj:Rr,pY:Tr,areaPaths:Sr.areaPaths,pathsFrom:Nr,iterations:nr[dr].length-1,isRangeStart:!1})),zr=Sr.linePaths.length/2,$r=0;$r<zr;$r++)Sr.linePaths[$r]=Hr.linePaths[$r+zr]+Sr.linePaths[$r];Sr.linePaths.splice(zr),Sr.pathFromLine=Hr.pathFromLine+Sr.pathFromLine}else Sr.pathFromArea+="z";this._handlePaths({type:lr,realIndex:gr,i:dr,paths:Sr}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),hr.push(this.elSeries)}if(((sr=ar.config.series[0])===null||sr===void 0?void 0:sr.zIndex)!==void 0&&hr.sort(function(ln,un){return Number(ln.node.getAttribute("zIndex"))-Number(un.node.getAttribute("zIndex"))}),ar.config.chart.stacked)for(var jr=hr.length-1;jr>=0;jr--)cr.add(hr[jr]);else for(var Jr=0;Jr<hr.length;Jr++)cr.add(hr[Jr]);return cr}},{key:"_initSerieVariables",value:function(er,tr,ir){var nr=this.w,sr=new Mi(this.ctx);this.xDivision=nr.globals.gridWidth/(nr.globals.dataPoints-(nr.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(nr.config.stroke.width)?nr.config.stroke.width[ir]:nr.config.stroke.width;var ar=0;if(this.yRatio.length>1&&(this.yaxisIndex=nr.globals.seriesYAxisReverseMap[ir],ar=ir),this.isReversed=nr.config.yaxis[this.yaxisIndex]&&nr.config.yaxis[this.yaxisIndex].reversed,this.zeroY=nr.globals.gridHeight-this.baseLineY[ar]-(this.isReversed?nr.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[ar]:0),this.areaBottomY=this.zeroY,(this.zeroY>nr.globals.gridHeight||nr.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=nr.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=sr.group({class:"apexcharts-series",zIndex:nr.config.series[ir].zIndex!==void 0?nr.config.series[ir].zIndex:ir,seriesName:v.escapeString(nr.globals.seriesNames[ir])}),this.elPointsMain=sr.group({class:"apexcharts-series-markers-wrap","data:realIndex":ir}),nr.globals.hasNullValues){var or=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[nr.globals.gridHeight+nr.globals.markers.largestSize]},seriesIndex:tr,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});or!==null&&this.elPointsMain.add(or)}this.elDataLabelsWrap=sr.group({class:"apexcharts-datalabels","data:realIndex":ir});var lr=er[tr].length===nr.globals.dataPoints;this.elSeries.attr({"data:longestSeries":lr,rel:tr+1,"data:realIndex":ir}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(er){var tr,ir,nr,sr,ar=er.type,or=er.series,lr=er.i,cr=er.realIndex,ur=er.translationsIndex,hr=er.prevX,dr=er.prevY,gr=er.prevY2,pr=this.w,mr=new Mi(this.ctx);if(or[lr][0]===null){for(var vr=0;vr<or[lr].length;vr++)if(or[lr][vr]!==null){hr=this.xDivision*vr,dr=this.zeroY-or[lr][vr]/this.yRatio[ur],tr=mr.move(hr,dr),ir=mr.move(hr,this.areaBottomY);break}}else tr=mr.move(hr,dr),ar==="rangeArea"&&(tr=mr.move(hr,gr)+mr.line(hr,dr)),ir=mr.move(hr,this.areaBottomY)+mr.line(hr,dr);if(nr=mr.move(0,this.areaBottomY)+mr.line(0,this.areaBottomY),sr=mr.move(0,this.areaBottomY)+mr.line(0,this.areaBottomY),pr.globals.previousPaths.length>0){var yr=this.lineHelpers.checkPreviousPaths({pathFromLine:nr,pathFromArea:sr,realIndex:cr});nr=yr.pathFromLine,sr=yr.pathFromArea}return{prevX:hr,prevY:dr,linePath:tr,areaPath:ir,pathFromLine:nr,pathFromArea:sr}}},{key:"_handlePaths",value:function(er){var tr=er.type,ir=er.realIndex,nr=er.i,sr=er.paths,ar=this.w,or=new Mi(this.ctx),lr=new ji(this.ctx);this.prevSeriesY.push(sr.yArrj),ar.globals.seriesXvalues[ir]=sr.xArrj,ar.globals.seriesYvalues[ir]=sr.yArrj;var cr=ar.config.forecastDataPoints;if(cr.count>0&&tr!=="rangeArea"){var ur=ar.globals.seriesXvalues[ir][ar.globals.seriesXvalues[ir].length-cr.count-1],hr=or.drawRect(ur,0,ar.globals.gridWidth,ar.globals.gridHeight,0);ar.globals.dom.elForecastMask.appendChild(hr.node);var dr=or.drawRect(0,0,ur,ar.globals.gridHeight,0);ar.globals.dom.elNonForecastMask.appendChild(dr.node)}this.pointsChart||ar.globals.delayedElements.push({el:this.elPointsMain.node,index:ir});var gr={i:nr,realIndex:ir,animationDelay:nr,initialSpeed:ar.config.chart.animations.speed,dataChangeSpeed:ar.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(tr)};if(tr==="area")for(var pr=lr.fillPath({seriesNumber:ir}),mr=0;mr<sr.areaPaths.length;mr++){var vr=or.renderPaths(u(u({},gr),{},{pathFrom:sr.pathFromArea,pathTo:sr.areaPaths[mr],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:pr}));this.elSeries.add(vr)}if(ar.config.stroke.show&&!this.pointsChart){var yr=null;if(tr==="line")yr=lr.fillPath({seriesNumber:ir,i:nr});else if(ar.config.stroke.fill.type==="solid")yr=ar.globals.stroke.colors[ir];else{var br=ar.config.fill;ar.config.fill=ar.config.stroke.fill,yr=lr.fillPath({seriesNumber:ir,i:nr}),ar.config.fill=br}for(var wr=0;wr<sr.linePaths.length;wr++){var Pr=yr;tr==="rangeArea"&&(Pr=lr.fillPath({seriesNumber:ir}));var Tr=u(u({},gr),{},{pathFrom:sr.pathFromLine,pathTo:sr.linePaths[wr],stroke:yr,strokeWidth:this.strokeWidth,strokeLineCap:ar.config.stroke.lineCap,fill:tr==="rangeArea"?Pr:"none"}),Vr=or.renderPaths(Tr);if(this.elSeries.add(Vr),Vr.attr("fill-rule","evenodd"),cr.count>0&&tr!=="rangeArea"){var Ar=or.renderPaths(Tr);Ar.node.setAttribute("stroke-dasharray",cr.dashArray),cr.strokeWidth&&Ar.node.setAttribute("stroke-width",cr.strokeWidth),this.elSeries.add(Ar),Ar.attr("clip-path","url(#forecastMask".concat(ar.globals.cuid,")")),Vr.attr("clip-path","url(#nonForecastMask".concat(ar.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(er){var tr,ir,nr=this,sr=er.type,ar=er.series,or=er.iterations,lr=er.realIndex,cr=er.translationsIndex,ur=er.i,hr=er.x,dr=er.y,gr=er.pX,pr=er.pY,mr=er.pathsFrom,vr=er.linePaths,yr=er.areaPaths,br=er.seriesIndex,wr=er.lineYPosition,Pr=er.xArrj,Tr=er.yArrj,Vr=er.y2Arrj,Ar=er.isRangeStart,xr=er.seriesRangeEnd,Er=this.w,Cr=new Mi(this.ctx),Rr=this.yRatio,kr=mr.prevY,Sr=mr.linePath,Nr=mr.areaPath,Hr=mr.pathFromLine,zr=mr.pathFromArea,$r=v.isNumber(Er.globals.minYArr[lr])?Er.globals.minYArr[lr]:Er.globals.minY;or||(or=Er.globals.dataPoints>1?Er.globals.dataPoints-1:Er.globals.dataPoints);var jr=function(qr,Zr){return Zr-qr/Rr[cr]+2*(nr.isReversed?qr/Rr[cr]:0)},Jr=dr,ln=Er.config.chart.stacked&&!Er.globals.comboCharts||Er.config.chart.stacked&&Er.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((tr=this.w.config.series[lr])===null||tr===void 0?void 0:tr.type)==="bar"||((ir=this.w.config.series[lr])===null||ir===void 0?void 0:ir.type)==="column"),un=Er.config.stroke.curve;Array.isArray(un)&&(un=Array.isArray(br)?un[br[ur]]:un[ur]);for(var Qr,pn=0,fn=0;fn<or&&ar[ur].length!==0;fn++){var An=ar[ur][fn+1]===void 0||ar[ur][fn+1]===null;if(Er.globals.isXNumeric){var dn=Er.globals.seriesX[lr][fn+1];Er.globals.seriesX[lr][fn+1]===void 0&&(dn=Er.globals.seriesX[lr][or-1]),hr=(dn-Er.globals.minX)/this.xRatio}else hr+=this.xDivision;ln?ur>0&&Er.globals.collapsedSeries.length<Er.config.series.length-1?wr=this.prevSeriesY[function(qr){for(var Zr=qr;Zr>0;Zr--){if(!(Er.globals.collapsedSeriesIndices.indexOf((br==null?void 0:br[Zr])||Zr)>-1))return Zr;Zr--}return 0}(ur-1)][fn+1]:wr=this.zeroY:wr=this.zeroY,An?dr=jr($r,wr):(dr=jr(ar[ur][fn+1],wr),sr==="rangeArea"&&(Jr=jr(xr[ur][fn+1],wr))),Pr.push(ar[ur][fn+1]===null?null:hr),!An||Er.config.stroke.curve!=="smooth"&&Er.config.stroke.curve!=="monotoneCubic"?(Tr.push(dr),Vr.push(Jr)):(Tr.push(null),Vr.push(null));var Br=this.lineHelpers.calculatePoints({series:ar,x:hr,y:dr,realIndex:lr,i:ur,j:fn,prevY:kr}),Gr=this._createPaths({type:sr,series:ar,i:ur,realIndex:lr,j:fn,x:hr,y:dr,y2:Jr,xArrj:Pr,yArrj:Tr,y2Arrj:Vr,pX:gr,pY:pr,pathState:pn,segmentStartX:Qr,linePath:Sr,areaPath:Nr,linePaths:vr,areaPaths:yr,curve:un,isRangeStart:Ar});yr=Gr.areaPaths,vr=Gr.linePaths,gr=Gr.pX,pr=Gr.pY,pn=Gr.pathState,Qr=Gr.segmentStartX,Nr=Gr.areaPath,Sr=Gr.linePath,!this.appendPathFrom||Er.globals.hasNullValues||un==="monotoneCubic"&&sr==="rangeArea"||(Hr+=Cr.line(hr,this.areaBottomY),zr+=Cr.line(hr,this.areaBottomY)),this.handleNullDataPoints(ar,Br,ur,fn,lr),this._handleMarkersAndLabels({type:sr,pointsPos:Br,i:ur,j:fn,realIndex:lr,isRangeStart:Ar})}return{yArrj:Tr,xArrj:Pr,pathFromArea:zr,areaPaths:yr,pathFromLine:Hr,linePaths:vr,linePath:Sr,areaPath:Nr}}},{key:"_handleMarkersAndLabels",value:function(er){var tr=er.type,ir=er.pointsPos,nr=er.isRangeStart,sr=er.i,ar=er.j,or=er.realIndex,lr=this.w,cr=new qi(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,ar,{realIndex:or,pointsPos:ir,zRatio:this.zRatio,elParent:this.elPointsMain});else{lr.globals.series[sr].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var ur=this.markers.plotChartMarkers({pointsPos:ir,seriesIndex:or,j:ar+1});ur!==null&&this.elPointsMain.add(ur)}var hr=cr.drawDataLabel({type:tr,isRangeStart:nr,pos:ir,i:or,j:ar+1});hr!==null&&this.elDataLabelsWrap.add(hr)}},{key:"_createPaths",value:function(er){var tr=er.type,ir=er.series,nr=er.i;er.realIndex;var sr,ar=er.j,or=er.x,lr=er.y,cr=er.xArrj,ur=er.yArrj,hr=er.y2,dr=er.y2Arrj,gr=er.pX,pr=er.pY,mr=er.pathState,vr=er.segmentStartX,yr=er.linePath,br=er.areaPath,wr=er.linePaths,Pr=er.areaPaths,Tr=er.curve,Vr=er.isRangeStart,Ar=new Mi(this.ctx),xr=this.areaBottomY,Er=tr==="rangeArea",Cr=tr==="rangeArea"&&Vr;switch(Tr){case"monotoneCubic":var Rr=Vr?ur:dr;switch(mr){case 0:if(Rr[ar+1]===null)break;mr=1;case 1:if(!(Er?cr.length===ir[nr].length:ar===ir[nr].length-2))break;case 2:var kr=Vr?cr:cr.slice().reverse(),Sr=Vr?Rr:Rr.slice().reverse(),Nr=(sr=Sr,kr.map(function(dn,Br){return[dn,sr[Br]]}).filter(function(dn){return dn[1]!==null})),Hr=Nr.length>1?_a(Nr):Nr,zr=[];Er&&(Cr?Pr=Nr:zr=Pr.reverse());var $r=0,jr=0;if(function(dn,Br){for(var Gr=function(Or){var Lr=[],Dr=0;return Or.forEach(function(Wr){Wr!==null?Dr++:Dr>0&&(Lr.push(Dr),Dr=0)}),Dr>0&&Lr.push(Dr),Lr}(dn),qr=[],Zr=0,yn=0;Zr<Gr.length;yn+=Gr[Zr++])qr[Zr]=Na(Br,yn,yn+Gr[Zr]);return qr}(Sr,Hr).forEach(function(dn){$r++;var Br=function(Zr){for(var yn="",Or=0;Or<Zr.length;Or++){var Lr=Zr[Or],Dr=Lr.length;Dr>4?(yn+="C".concat(Lr[0],", ").concat(Lr[1]),yn+=", ".concat(Lr[2],", ").concat(Lr[3]),yn+=", ".concat(Lr[4],", ").concat(Lr[5])):Dr>2&&(yn+="S".concat(Lr[0],", ").concat(Lr[1]),yn+=", ".concat(Lr[2],", ").concat(Lr[3]))}return yn}(dn),Gr=jr,qr=(jr+=dn.length)-1;Cr?yr=Ar.move(Nr[Gr][0],Nr[Gr][1])+Br:Er?yr=Ar.move(zr[Gr][0],zr[Gr][1])+Ar.line(Nr[Gr][0],Nr[Gr][1])+Br+Ar.line(zr[qr][0],zr[qr][1]):(yr=Ar.move(Nr[Gr][0],Nr[Gr][1])+Br,br=yr+Ar.line(Nr[qr][0],xr)+Ar.line(Nr[Gr][0],xr)+"z",Pr.push(br)),wr.push(yr)}),Er&&$r>1&&!Cr){var Jr=wr.slice($r).reverse();wr.splice($r),Jr.forEach(function(dn){return wr.push(dn)})}mr=0}break;case"smooth":var ln=.35*(or-gr);if(ir[nr][ar]===null)mr=0;else switch(mr){case 0:if(vr=gr,yr=Cr?Ar.move(gr,dr[ar])+Ar.line(gr,pr):Ar.move(gr,pr),br=Ar.move(gr,pr),ir[nr][ar+1]===null||ir[nr][ar+1]===void 0){wr.push(yr),Pr.push(br);break}if(mr=1,ar<ir[nr].length-2){var un=Ar.curve(gr+ln,pr,or-ln,lr,or,lr);yr+=un,br+=un;break}case 1:if(ir[nr][ar+1]===null)yr+=Cr?Ar.line(gr,hr):Ar.move(gr,pr),br+=Ar.line(gr,xr)+Ar.line(vr,xr)+"z",wr.push(yr),Pr.push(br),mr=-1;else{var Qr=Ar.curve(gr+ln,pr,or-ln,lr,or,lr);yr+=Qr,br+=Qr,ar>=ir[nr].length-2&&(Cr&&(yr+=Ar.curve(or,lr,or,lr,or,hr)+Ar.move(or,hr)),br+=Ar.curve(or,lr,or,lr,or,xr)+Ar.line(vr,xr)+"z",wr.push(yr),Pr.push(br),mr=-1)}}gr=or,pr=lr;break;default:var pn=function(dn,Br,Gr){var qr=[];switch(dn){case"stepline":qr=Ar.line(Br,null,"H")+Ar.line(null,Gr,"V");break;case"linestep":qr=Ar.line(null,Gr,"V")+Ar.line(Br,null,"H");break;case"straight":qr=Ar.line(Br,Gr)}return qr};if(ir[nr][ar]===null)mr=0;else switch(mr){case 0:if(vr=gr,yr=Cr?Ar.move(gr,dr[ar])+Ar.line(gr,pr):Ar.move(gr,pr),br=Ar.move(gr,pr),ir[nr][ar+1]===null||ir[nr][ar+1]===void 0){wr.push(yr),Pr.push(br);break}if(mr=1,ar<ir[nr].length-2){var fn=pn(Tr,or,lr);yr+=fn,br+=fn;break}case 1:if(ir[nr][ar+1]===null)yr+=Cr?Ar.line(gr,hr):Ar.move(gr,pr),br+=Ar.line(gr,xr)+Ar.line(vr,xr)+"z",wr.push(yr),Pr.push(br),mr=-1;else{var An=pn(Tr,or,lr);yr+=An,br+=An,ar>=ir[nr].length-2&&(Cr&&(yr+=Ar.line(or,hr)),br+=Ar.line(or,xr)+Ar.line(vr,xr)+"z",wr.push(yr),Pr.push(br),mr=-1)}}gr=or,pr=lr}return{linePaths:wr,areaPaths:Pr,pX:gr,pY:pr,pathState:mr,segmentStartX:vr,linePath:yr,areaPath:br}}},{key:"handleNullDataPoints",value:function(er,tr,ir,nr,sr){var ar=this.w;if(er[ir][nr]===null&&ar.config.markers.showNullDataPoints||er[ir].length===1){var or=this.strokeWidth-ar.config.markers.strokeWidth/2;or>0||(or=0);var lr=this.markers.plotChartMarkers({pointsPos:tr,seriesIndex:sr,j:nr+1,pSize:or,alwaysDrawMarker:!0});lr!==null&&this.elPointsMain.add(lr)}}}]),rr}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function rr(or,lr,cr,ur){this.xoffset=or,this.yoffset=lr,this.height=ur,this.width=cr,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(hr){var dr,gr=[],pr=this.xoffset,mr=this.yoffset,vr=sr(hr)/this.height,yr=sr(hr)/this.width;if(this.width>=this.height)for(dr=0;dr<hr.length;dr++)gr.push([pr,mr,pr+vr,mr+hr[dr]/vr]),mr+=hr[dr]/vr;else for(dr=0;dr<hr.length;dr++)gr.push([pr,mr,pr+hr[dr]/yr,mr+yr]),pr+=hr[dr]/yr;return gr},this.cutArea=function(hr){var dr;if(this.width>=this.height){var gr=hr/this.height,pr=this.width-gr;dr=new rr(this.xoffset+gr,this.yoffset,pr,this.height)}else{var mr=hr/this.width,vr=this.height-mr;dr=new rr(this.xoffset,this.yoffset+mr,this.width,vr)}return dr}}function er(or,lr,cr,ur,hr){ur=ur===void 0?0:ur,hr=hr===void 0?0:hr;var dr=tr(function(gr,pr){var mr,vr=[],yr=pr/sr(gr);for(mr=0;mr<gr.length;mr++)vr[mr]=gr[mr]*yr;return vr}(or,lr*cr),[],new rr(ur,hr,lr,cr),[]);return function(gr){var pr,mr,vr=[];for(pr=0;pr<gr.length;pr++)for(mr=0;mr<gr[pr].length;mr++)vr.push(gr[pr][mr]);return vr}(dr)}function tr(or,lr,cr,ur){var hr,dr,gr;if(or.length!==0)return hr=cr.shortestEdge(),function(pr,mr,vr){var yr;if(pr.length===0)return!0;(yr=pr.slice()).push(mr);var br=ir(pr,vr),wr=ir(yr,vr);return br>=wr}(lr,dr=or[0],hr)?(lr.push(dr),tr(or.slice(1),lr,cr,ur)):(gr=cr.cutArea(sr(lr),ur),ur.push(cr.getCoordinates(lr)),tr(or,[],gr,ur)),ur;ur.push(cr.getCoordinates(lr))}function ir(or,lr){var cr=Math.min.apply(Math,or),ur=Math.max.apply(Math,or),hr=sr(or);return Math.max(Math.pow(lr,2)*ur/Math.pow(hr,2),Math.pow(hr,2)/(Math.pow(lr,2)*cr))}function nr(or){return or&&or.constructor===Array}function sr(or){var lr,cr=0;for(lr=0;lr<or.length;lr++)cr+=or[lr];return cr}function ar(or){var lr,cr=0;if(nr(or[0]))for(lr=0;lr<or.length;lr++)cr+=ar(or[lr]);else cr=sr(or);return cr}return function or(lr,cr,ur,hr,dr){hr=hr===void 0?0:hr,dr=dr===void 0?0:dr;var gr,pr,mr=[],vr=[];if(nr(lr[0])){for(pr=0;pr<lr.length;pr++)mr[pr]=ar(lr[pr]);for(gr=er(mr,cr,ur,hr,dr),pr=0;pr<lr.length;pr++)vr.push(or(lr[pr],gr[pr][2]-gr[pr][0],gr[pr][3]-gr[pr][1],gr[pr][0],gr[pr][1]))}else vr=er(lr,cr,ur,hr,dr);return vr}}();var Ga=function(){function rr(er,tr){i(this,rr),this.ctx=er,this.w=er.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new za(er),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return s(rr,[{key:"draw",value:function(er){var tr=this,ir=this.w,nr=new Mi(this.ctx),sr=new ji(this.ctx),ar=nr.group({class:"apexcharts-treemap"});if(ir.globals.noData)return ar;var or=[];return er.forEach(function(lr){var cr=lr.map(function(ur){return Math.abs(ur)});or.push(cr)}),this.negRange=this.helpers.checkColorRange(),ir.config.series.forEach(function(lr,cr){lr.data.forEach(function(ur){Array.isArray(tr.labels[cr])||(tr.labels[cr]=[]),tr.labels[cr].push(ur.x)})}),window.TreemapSquared.generate(or,ir.globals.gridWidth,ir.globals.gridHeight).forEach(function(lr,cr){var ur=nr.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:v.escapeString(ir.globals.seriesNames[cr]),rel:cr+1,"data:realIndex":cr});if(ir.config.chart.dropShadow.enabled){var hr=ir.config.chart.dropShadow;new Li(tr.ctx).dropShadow(ar,hr,cr)}var dr=nr.group({class:"apexcharts-data-labels"}),gr={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};lr.forEach(function(Hr,zr){var $r=Hr[0],jr=Hr[1],Jr=Hr[2],ln=Hr[3];gr.xMin=Math.min(gr.xMin,$r),gr.yMin=Math.min(gr.yMin,jr),gr.xMax=Math.max(gr.xMax,Jr),gr.yMax=Math.max(gr.yMax,ln);var un=tr.helpers.getShadeColor(ir.config.chart.type,cr,zr,tr.negRange),Qr=un.color,pn=sr.fillPath({color:Qr,seriesNumber:cr,dataPointIndex:zr}),fn=nr.drawRect($r,jr,Jr-$r,ln-jr,ir.config.plotOptions.treemap.borderRadius,"#fff",1,tr.strokeWidth,ir.config.plotOptions.treemap.useFillColorAsStroke?Qr:ir.globals.stroke.colors[cr]);fn.attr({cx:$r,cy:jr,index:cr,i:cr,j:zr,width:Jr-$r,height:ln-jr,fill:pn}),fn.node.classList.add("apexcharts-treemap-rect"),tr.helpers.addListeners(fn);var An={x:$r+(Jr-$r)/2,y:jr+(ln-jr)/2,width:0,height:0},dn={x:$r,y:jr,width:Jr-$r,height:ln-jr};if(ir.config.chart.animations.enabled&&!ir.globals.dataChanged){var Br=1;ir.globals.resized||(Br=ir.config.chart.animations.speed),tr.animateTreemap(fn,An,dn,Br)}if(ir.globals.dataChanged){var Gr=1;tr.dynamicAnim.enabled&&ir.globals.shouldAnimate&&(Gr=tr.dynamicAnim.speed,ir.globals.previousPaths[cr]&&ir.globals.previousPaths[cr][zr]&&ir.globals.previousPaths[cr][zr].rect&&(An=ir.globals.previousPaths[cr][zr].rect),tr.animateTreemap(fn,An,dn,Gr))}var qr=tr.getFontSize(Hr),Zr=ir.config.dataLabels.formatter(tr.labels[cr][zr],{value:ir.globals.series[cr][zr],seriesIndex:cr,dataPointIndex:zr,w:ir});ir.config.plotOptions.treemap.dataLabels.format==="truncate"&&(qr=parseInt(ir.config.dataLabels.style.fontSize,10),Zr=tr.truncateLabels(Zr,qr,$r,jr,Jr,ln));var yn=null;ir.globals.series[cr][zr]&&(yn=tr.helpers.calculateDataLabels({text:Zr,x:($r+Jr)/2,y:(jr+ln)/2+tr.strokeWidth/2+qr/3,i:cr,j:zr,colorProps:un,fontSize:qr,series:er})),ir.config.dataLabels.enabled&&yn&&tr.rotateToFitLabel(yn,qr,Zr,$r,jr,Jr,ln),ur.add(fn),yn!==null&&ur.add(yn)});var pr=ir.config.plotOptions.treemap.seriesTitle;if(ir.config.series.length>1&&pr&&pr.show){var mr=ir.config.series[cr].name||"";if(mr&&gr.xMin<1/0&&gr.yMin<1/0){var vr=pr.offsetX,yr=pr.offsetY,br=pr.borderColor,wr=pr.borderWidth,Pr=pr.borderRadius,Tr=pr.style,Vr=Tr.color||ir.config.chart.foreColor,Ar={left:Tr.padding.left,right:Tr.padding.right,top:Tr.padding.top,bottom:Tr.padding.bottom},xr=nr.getTextRects(mr,Tr.fontSize,Tr.fontFamily),Er=xr.width+Ar.left+Ar.right,Cr=xr.height+Ar.top+Ar.bottom,Rr=gr.xMin+(vr||0),kr=gr.yMin+(yr||0),Sr=nr.drawRect(Rr,kr,Er,Cr,Pr,Tr.background,1,wr,br),Nr=nr.drawText({x:Rr+Ar.left,y:kr+Ar.top+.75*xr.height,text:mr,fontSize:Tr.fontSize,fontFamily:Tr.fontFamily,fontWeight:Tr.fontWeight,foreColor:Vr,cssClass:Tr.cssClass||""});ur.add(Sr),ur.add(Nr)}}ur.add(dr),ar.add(ur)}),ar}},{key:"getFontSize",value:function(er){var tr=this.w,ir=function nr(sr){var ar,or=0;if(Array.isArray(sr[0]))for(ar=0;ar<sr.length;ar++)or+=nr(sr[ar]);else for(ar=0;ar<sr.length;ar++)or+=sr[ar].length;return or}(this.labels)/function nr(sr){var ar,or=0;if(Array.isArray(sr[0]))for(ar=0;ar<sr.length;ar++)or+=nr(sr[ar]);else for(ar=0;ar<sr.length;ar++)or+=1;return or}(this.labels);return function(nr,sr){var ar=nr*sr,or=Math.pow(ar,.5);return Math.min(or/ir,parseInt(tr.config.dataLabels.style.fontSize,10))}(er[2]-er[0],er[3]-er[1])}},{key:"rotateToFitLabel",value:function(er,tr,ir,nr,sr,ar,or){var lr=new Mi(this.ctx),cr=lr.getTextRects(ir,tr);if(cr.width+this.w.config.stroke.width+5>ar-nr&&cr.width<=or-sr){var ur=lr.rotateAroundCenter(er.node);er.node.setAttribute("transform","rotate(-90 ".concat(ur.x," ").concat(ur.y,") translate(").concat(cr.height/3,")"))}}},{key:"truncateLabels",value:function(er,tr,ir,nr,sr,ar){var or=new Mi(this.ctx),lr=or.getTextRects(er,tr).width+this.w.config.stroke.width+5>sr-ir&&ar-nr>sr-ir?ar-nr:sr-ir,cr=or.getTextBasedOnMaxWidth({text:er,maxWidth:lr,fontSize:tr});return er.length!==cr.length&&lr/tr<5?"":cr}},{key:"animateTreemap",value:function(er,tr,ir,nr){var sr=new y(this.ctx);sr.animateRect(er,tr,ir,nr,function(){sr.animationCompleted(er)})}}]),rr}(),ja=86400,Va=10/ja,Ua=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return s(rr,[{key:"calculateTimeScaleTicks",value:function(er,tr){var ir=this,nr=this.w;if(nr.globals.allSeriesCollapsed)return nr.globals.labels=[],nr.globals.timescaleLabels=[],[];var sr=new zi(this.ctx),ar=(tr-er)/864e5;this.determineInterval(ar),nr.globals.disableZoomIn=!1,nr.globals.disableZoomOut=!1,ar<Va?nr.globals.disableZoomIn=!0:ar>5e4&&(nr.globals.disableZoomOut=!0);var or=sr.getTimeUnitsfromTimestamp(er,tr,this.utc),lr=nr.globals.gridWidth/ar,cr=lr/24,ur=cr/60,hr=ur/60,dr=Math.floor(24*ar),gr=Math.floor(1440*ar),pr=Math.floor(ar*ja),mr=Math.floor(ar),vr=Math.floor(ar/30),yr=Math.floor(ar/365),br={minMillisecond:or.minMillisecond,minSecond:or.minSecond,minMinute:or.minMinute,minHour:or.minHour,minDate:or.minDate,minMonth:or.minMonth,minYear:or.minYear},wr={firstVal:br,currentMillisecond:br.minMillisecond,currentSecond:br.minSecond,currentMinute:br.minMinute,currentHour:br.minHour,currentMonthDate:br.minDate,currentDate:br.minDate,currentMonth:br.minMonth,currentYear:br.minYear,daysWidthOnXAxis:lr,hoursWidthOnXAxis:cr,minutesWidthOnXAxis:ur,secondsWidthOnXAxis:hr,numberOfSeconds:pr,numberOfMinutes:gr,numberOfHours:dr,numberOfDays:mr,numberOfMonths:vr,numberOfYears:yr};switch(this.tickInterval){case"years":this.generateYearScale(wr);break;case"months":case"half_year":this.generateMonthScale(wr);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(wr);break;case"hours":this.generateHourScale(wr);break;case"minutes_fives":case"minutes":this.generateMinuteScale(wr);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(wr)}var Pr=this.timeScaleArray.map(function(Tr){var Vr={position:Tr.position,unit:Tr.unit,year:Tr.year,day:Tr.day?Tr.day:1,hour:Tr.hour?Tr.hour:0,month:Tr.month+1};return Tr.unit==="month"?u(u({},Vr),{},{day:1,value:Tr.value+1}):Tr.unit==="day"||Tr.unit==="hour"?u(u({},Vr),{},{value:Tr.value}):Tr.unit==="minute"?u(u({},Vr),{},{value:Tr.value,minute:Tr.value}):Tr.unit==="second"?u(u({},Vr),{},{value:Tr.value,minute:Tr.minute,second:Tr.second}):Tr});return Pr.filter(function(Tr){var Vr=1,Ar=Math.ceil(nr.globals.gridWidth/120),xr=Tr.value;nr.config.xaxis.tickAmount!==void 0&&(Ar=nr.config.xaxis.tickAmount),Pr.length>Ar&&(Vr=Math.floor(Pr.length/Ar));var Er=!1,Cr=!1;switch(ir.tickInterval){case"years":Tr.unit==="year"&&(Er=!0);break;case"half_year":Vr=7,Tr.unit==="year"&&(Er=!0);break;case"months":Vr=1,Tr.unit==="year"&&(Er=!0);break;case"months_fortnight":Vr=15,Tr.unit!=="year"&&Tr.unit!=="month"||(Er=!0),xr===30&&(Cr=!0);break;case"months_days":Vr=10,Tr.unit==="month"&&(Er=!0),xr===30&&(Cr=!0);break;case"week_days":Vr=8,Tr.unit==="month"&&(Er=!0);break;case"days":Vr=1,Tr.unit==="month"&&(Er=!0);break;case"hours":Tr.unit==="day"&&(Er=!0);break;case"minutes_fives":case"seconds_fives":xr%5!=0&&(Cr=!0);break;case"seconds_tens":xr%10!=0&&(Cr=!0)}if(ir.tickInterval==="hours"||ir.tickInterval==="minutes_fives"||ir.tickInterval==="seconds_tens"||ir.tickInterval==="seconds_fives"){if(!Cr)return!0}else if((xr%Vr==0||Er)&&!Cr)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(er,tr){var ir=this.w,nr=this.formatDates(er),sr=this.removeOverlappingTS(nr);ir.globals.timescaleLabels=sr.slice(),new pa(this.ctx).plotCoords()}},{key:"determineInterval",value:function(er){var tr=24*er,ir=60*tr;switch(!0){case er/365>5:this.tickInterval="years";break;case er>800:this.tickInterval="half_year";break;case er>180:this.tickInterval="months";break;case er>90:this.tickInterval="months_fortnight";break;case er>60:this.tickInterval="months_days";break;case er>30:this.tickInterval="week_days";break;case er>2:this.tickInterval="days";break;case tr>2.4:this.tickInterval="hours";break;case ir>15:this.tickInterval="minutes_fives";break;case ir>5:this.tickInterval="minutes";break;case ir>1:this.tickInterval="seconds_tens";break;case 60*ir>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(er){var tr=er.firstVal,ir=er.currentMonth,nr=er.currentYear,sr=er.daysWidthOnXAxis,ar=er.numberOfYears,or=tr.minYear,lr=0,cr=new zi(this.ctx),ur="year";if(tr.minDate>1||tr.minMonth>0){var hr=cr.determineRemainingDaysOfYear(tr.minYear,tr.minMonth,tr.minDate);lr=(cr.determineDaysOfYear(tr.minYear)-hr+1)*sr,or=tr.minYear+1,this.timeScaleArray.push({position:lr,value:or,unit:ur,year:or,month:v.monthMod(ir+1)})}else tr.minDate===1&&tr.minMonth===0&&this.timeScaleArray.push({position:lr,value:or,unit:ur,year:nr,month:v.monthMod(ir+1)});for(var dr=or,gr=lr,pr=0;pr<ar;pr++)dr++,gr=cr.determineDaysOfYear(dr-1)*sr+gr,this.timeScaleArray.push({position:gr,value:dr,unit:ur,year:dr,month:1})}},{key:"generateMonthScale",value:function(er){var tr=er.firstVal,ir=er.currentMonthDate,nr=er.currentMonth,sr=er.currentYear,ar=er.daysWidthOnXAxis,or=er.numberOfMonths,lr=nr,cr=0,ur=new zi(this.ctx),hr="month",dr=0;if(tr.minDate>1){cr=(ur.determineDaysOfMonths(nr+1,tr.minYear)-ir+1)*ar,lr=v.monthMod(nr+1);var gr=sr+dr,pr=v.monthMod(lr),mr=lr;lr===0&&(hr="year",mr=gr,pr=1,gr+=dr+=1),this.timeScaleArray.push({position:cr,value:mr,unit:hr,year:gr,month:pr})}else this.timeScaleArray.push({position:cr,value:lr,unit:hr,year:sr,month:v.monthMod(nr)});for(var vr=lr+1,yr=cr,br=0,wr=1;br<or;br++,wr++){(vr=v.monthMod(vr))===0?(hr="year",dr+=1):hr="month";var Pr=this._getYear(sr,vr,dr);yr=ur.determineDaysOfMonths(vr,Pr)*ar+yr;var Tr=vr===0?Pr:vr;this.timeScaleArray.push({position:yr,value:Tr,unit:hr,year:Pr,month:vr===0?1:vr}),vr++}}},{key:"generateDayScale",value:function(er){var tr=er.firstVal,ir=er.currentMonth,nr=er.currentYear,sr=er.hoursWidthOnXAxis,ar=er.numberOfDays,or=new zi(this.ctx),lr="day",cr=tr.minDate+1,ur=cr,hr=function(wr,Pr,Tr){return wr>or.determineDaysOfMonths(Pr+1,Tr)&&(ur=1,lr="month",gr=Pr+=1),Pr},dr=(24-tr.minHour)*sr,gr=cr,pr=hr(ur,ir,nr);tr.minHour===0&&tr.minDate===1?(dr=0,gr=v.monthMod(tr.minMonth),lr="month",ur=tr.minDate):tr.minDate!==1&&tr.minHour===0&&tr.minMinute===0&&(dr=0,cr=tr.minDate,gr=cr,pr=hr(ur=cr,ir,nr),gr!==1&&(lr="day")),this.timeScaleArray.push({position:dr,value:gr,unit:lr,year:this._getYear(nr,pr,0),month:v.monthMod(pr),day:ur});for(var mr=dr,vr=0;vr<ar;vr++){lr="day",pr=hr(ur+=1,pr,this._getYear(nr,pr,0));var yr=this._getYear(nr,pr,0);mr=24*sr+mr;var br=ur===1?v.monthMod(pr):ur;this.timeScaleArray.push({position:mr,value:br,unit:lr,year:yr,month:v.monthMod(pr),day:br})}}},{key:"generateHourScale",value:function(er){var tr=er.firstVal,ir=er.currentDate,nr=er.currentMonth,sr=er.currentYear,ar=er.minutesWidthOnXAxis,or=er.numberOfHours,lr=new zi(this.ctx),cr="hour",ur=function(Vr,Ar){return Vr>lr.determineDaysOfMonths(Ar+1,sr)&&(vr=1,Ar+=1),{month:Ar,date:vr}},hr=function(Vr,Ar){return Vr>lr.determineDaysOfMonths(Ar+1,sr)?Ar+=1:Ar},dr=60-(tr.minMinute+tr.minSecond/60),gr=dr*ar,pr=tr.minHour+1,mr=pr;dr===60&&(gr=0,mr=pr=tr.minHour);var vr=ir;mr>=24&&(mr=0,cr="day",pr=vr+=1);var yr=ur(vr,nr).month;yr=hr(vr,yr),pr>31&&(pr=vr=1),this.timeScaleArray.push({position:gr,value:pr,unit:cr,day:vr,hour:mr,year:sr,month:v.monthMod(yr)}),mr++;for(var br=gr,wr=0;wr<or;wr++){cr="hour",mr>=24&&(mr=0,cr="day",yr=ur(vr+=1,yr).month,yr=hr(vr,yr));var Pr=this._getYear(sr,yr,0);br=60*ar+br;var Tr=mr===0?vr:mr;this.timeScaleArray.push({position:br,value:Tr,unit:cr,hour:mr,day:vr,year:Pr,month:v.monthMod(yr)}),mr++}}},{key:"generateMinuteScale",value:function(er){for(var tr=er.currentMillisecond,ir=er.currentSecond,nr=er.currentMinute,sr=er.currentHour,ar=er.currentDate,or=er.currentMonth,lr=er.currentYear,cr=er.minutesWidthOnXAxis,ur=er.secondsWidthOnXAxis,hr=er.numberOfMinutes,dr=nr+1,gr=ar,pr=or,mr=lr,vr=sr,yr=(60-ir-tr/1e3)*ur,br=0;br<hr;br++)dr>=60&&(dr=0,(vr+=1)===24&&(vr=0)),this.timeScaleArray.push({position:yr,value:dr,unit:"minute",hour:vr,minute:dr,day:gr,year:this._getYear(mr,pr,0),month:v.monthMod(pr)}),yr+=cr,dr++}},{key:"generateSecondScale",value:function(er){for(var tr=er.currentMillisecond,ir=er.currentSecond,nr=er.currentMinute,sr=er.currentHour,ar=er.currentDate,or=er.currentMonth,lr=er.currentYear,cr=er.secondsWidthOnXAxis,ur=er.numberOfSeconds,hr=ir+1,dr=nr,gr=ar,pr=or,mr=lr,vr=sr,yr=(1e3-tr)/1e3*cr,br=0;br<ur;br++)hr>=60&&(hr=0,++dr>=60&&(dr=0,++vr===24&&(vr=0))),this.timeScaleArray.push({position:yr,value:hr,unit:"second",hour:vr,minute:dr,second:hr,day:gr,year:this._getYear(mr,pr,0),month:v.monthMod(pr)}),yr+=cr,hr++}},{key:"createRawDateString",value:function(er,tr){var ir=er.year;return er.month===0&&(er.month=1),ir+="-"+("0"+er.month.toString()).slice(-2),er.unit==="day"?ir+=er.unit==="day"?"-"+("0"+tr).slice(-2):"-01":ir+="-"+("0"+(er.day?er.day:"1")).slice(-2),er.unit==="hour"?ir+=er.unit==="hour"?"T"+("0"+tr).slice(-2):"T00":ir+="T"+("0"+(er.hour?er.hour:"0")).slice(-2),er.unit==="minute"?ir+=":"+("0"+tr).slice(-2):ir+=":"+(er.minute?("0"+er.minute).slice(-2):"00"),er.unit==="second"?ir+=":"+("0"+tr).slice(-2):ir+=":00",this.utc&&(ir+=".000Z"),ir}},{key:"formatDates",value:function(er){var tr=this,ir=this.w;return er.map(function(nr){var sr=nr.value.toString(),ar=new zi(tr.ctx),or=tr.createRawDateString(nr,sr),lr=ar.getDate(ar.parseDate(or));if(tr.utc||(lr=ar.getDate(ar.parseDateWithTimezone(or))),ir.config.xaxis.labels.format===void 0){var cr="dd MMM",ur=ir.config.xaxis.labels.datetimeFormatter;nr.unit==="year"&&(cr=ur.year),nr.unit==="month"&&(cr=ur.month),nr.unit==="day"&&(cr=ur.day),nr.unit==="hour"&&(cr=ur.hour),nr.unit==="minute"&&(cr=ur.minute),nr.unit==="second"&&(cr=ur.second),sr=ar.formatDate(lr,cr)}else sr=ar.formatDate(lr,ir.config.xaxis.labels.format);return{dateString:or,position:nr.position,value:sr,unit:nr.unit,year:nr.year,month:nr.month}})}},{key:"removeOverlappingTS",value:function(er){var tr,ir=this,nr=new Mi(this.ctx),sr=!1;er.length>0&&er[0].value&&er.every(function(lr){return lr.value.length===er[0].value.length})&&(sr=!0,tr=nr.getTextRects(er[0].value).width);var ar=0,or=er.map(function(lr,cr){if(cr>0&&ir.w.config.xaxis.labels.hideOverlappingLabels){var ur=sr?tr:nr.getTextRects(er[ar].value).width,hr=er[ar].position;return lr.position>hr+ur+10?(ar=cr,lr):null}return lr});return or=or.filter(function(lr){return lr!==null})}},{key:"_getYear",value:function(er,tr,ir){return er+Math.floor(tr/12)+ir}}]),rr}(),qa=function(){function rr(er,tr){i(this,rr),this.ctx=tr,this.w=tr.w,this.el=er}return s(rr,[{key:"setupElements",value:function(){var er=this.w,tr=er.globals,ir=er.config,nr=ir.chart.type;tr.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(nr),tr.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(nr),tr.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(nr)&&ir.plotOptions.bar.horizontal,tr.chartClass=".apexcharts".concat(tr.chartID),tr.dom.baseEl=this.el,tr.dom.elWrap=document.createElement("div"),Mi.setAttrs(tr.dom.elWrap,{id:tr.chartClass.substring(1),class:"apexcharts-canvas ".concat(tr.chartClass.substring(1))}),this.el.appendChild(tr.dom.elWrap),tr.dom.Paper=window.SVG().addTo(tr.dom.elWrap),tr.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(ir.chart.offsetX,", ").concat(ir.chart.offsetY,")")}),tr.dom.Paper.node.style.background=ir.theme.mode!=="dark"||ir.chart.background?ir.theme.mode!=="light"||ir.chart.background?ir.chart.background:"#fff":"#424242",this.setSVGDimensions(),tr.dom.elLegendForeign=document.createElementNS(tr.SVGNS,"foreignObject"),Mi.setAttrs(tr.dom.elLegendForeign,{x:0,y:0,width:tr.svgWidth,height:tr.svgHeight}),tr.dom.elLegendWrap=document.createElement("div"),tr.dom.elLegendWrap.classList.add("apexcharts-legend"),tr.dom.elWrap.appendChild(tr.dom.elLegendWrap),tr.dom.Paper.node.appendChild(tr.dom.elLegendForeign),tr.dom.elGraphical=tr.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),tr.dom.elDefs=tr.dom.Paper.defs(),tr.dom.Paper.add(tr.dom.elGraphical),tr.dom.elGraphical.add(tr.dom.elDefs)}},{key:"plotChartType",value:function(er,tr){var ir=this.w,nr=this.ctx,sr=ir.config,ar=ir.globals,or={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},lr=sr.chart.type||"line",cr=null,ur=0;ar.series.forEach(function(Vr,Ar){var xr=er[Ar].type==="column"?"bar":er[Ar].type||(lr==="column"?"bar":lr);or[xr]?(xr==="rangeArea"?(or[xr].series.push(ar.seriesRangeStart[Ar]),or[xr].seriesRangeEnd.push(ar.seriesRangeEnd[Ar])):or[xr].series.push(Vr),or[xr].i.push(Ar),xr==="bar"&&(ir.globals.columnSeries=or.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(xr)?cr=xr:console.warn("You have specified an unrecognized series type (".concat(xr,").")),lr!==xr&&xr!=="scatter"&&ur++}),ur>0&&(cr&&console.warn("Chart or series type ".concat(cr," cannot appear with other chart or series types.")),or.bar.series.length>0&&sr.plotOptions.bar.horizontal&&(ur-=or.bar.series.length,or.bar={series:[],i:[]},ir.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),ar.comboCharts||(ar.comboCharts=ur>0);var hr=new Ba(nr,tr),dr=new Ta(nr,tr);nr.pie=new Ea(nr);var gr=new Ha(nr);nr.rangeBar=new Oa(nr,tr);var pr=new Ya(nr),mr=[];if(ar.comboCharts){var vr,yr,br=new Pi(nr);if(or.area.series.length>0&&(vr=mr).push.apply(vr,f(br.drawSeriesByGroup(or.area,ar.areaGroups,"area",hr))),or.bar.series.length>0)if(sr.chart.stacked){var wr=new Ia(nr,tr);mr.push(wr.draw(or.bar.series,or.bar.i))}else nr.bar=new Pa(nr,tr),mr.push(nr.bar.draw(or.bar.series,or.bar.i));if(or.rangeArea.series.length>0&&mr.push(hr.draw(or.rangeArea.series,"rangeArea",or.rangeArea.i,or.rangeArea.seriesRangeEnd)),or.line.series.length>0&&(yr=mr).push.apply(yr,f(br.drawSeriesByGroup(or.line,ar.lineGroups,"line",hr))),or.candlestick.series.length>0&&mr.push(dr.draw(or.candlestick.series,"candlestick",or.candlestick.i)),or.boxPlot.series.length>0&&mr.push(dr.draw(or.boxPlot.series,"boxPlot",or.boxPlot.i)),or.rangeBar.series.length>0&&mr.push(nr.rangeBar.draw(or.rangeBar.series,or.rangeBar.i)),or.scatter.series.length>0){var Pr=new Ba(nr,tr,!0);mr.push(Pr.draw(or.scatter.series,"scatter",or.scatter.i))}if(or.bubble.series.length>0){var Tr=new Ba(nr,tr,!0);mr.push(Tr.draw(or.bubble.series,"bubble",or.bubble.i))}}else switch(sr.chart.type){case"line":mr=hr.draw(ar.series,"line");break;case"area":mr=hr.draw(ar.series,"area");break;case"bar":sr.chart.stacked?mr=new Ia(nr,tr).draw(ar.series):(nr.bar=new Pa(nr,tr),mr=nr.bar.draw(ar.series));break;case"candlestick":mr=new Ta(nr,tr).draw(ar.series,"candlestick");break;case"boxPlot":mr=new Ta(nr,tr).draw(ar.series,sr.chart.type);break;case"rangeBar":mr=nr.rangeBar.draw(ar.series);break;case"rangeArea":mr=hr.draw(ar.seriesRangeStart,"rangeArea",void 0,ar.seriesRangeEnd);break;case"heatmap":mr=new Xa(nr,tr).draw(ar.series);break;case"treemap":mr=new Ga(nr,tr).draw(ar.series);break;case"pie":case"donut":case"polarArea":mr=nr.pie.draw(ar.series);break;case"radialBar":mr=gr.draw(ar.series);break;case"radar":mr=pr.draw(ar.series);break;default:mr=hr.draw(ar.series)}return mr}},{key:"setSVGDimensions",value:function(){var er=this.w,tr=er.globals,ir=er.config;ir.chart.width=ir.chart.width||"100%",ir.chart.height=ir.chart.height||"auto",tr.svgWidth=ir.chart.width,tr.svgHeight=ir.chart.height;var nr=v.getDimensions(this.el),sr=ir.chart.width.toString().split(/[0-9]+/g).pop();sr==="%"?v.isNumber(nr[0])&&(nr[0].width===0&&(nr=v.getDimensions(this.el.parentNode)),tr.svgWidth=nr[0]*parseInt(ir.chart.width,10)/100):sr!=="px"&&sr!==""||(tr.svgWidth=parseInt(ir.chart.width,10));var ar=String(ir.chart.height).toString().split(/[0-9]+/g).pop();if(tr.svgHeight!=="auto"&&tr.svgHeight!=="")if(ar==="%"){var or=v.getDimensions(this.el.parentNode);tr.svgHeight=or[1]*parseInt(ir.chart.height,10)/100}else tr.svgHeight=parseInt(ir.chart.height,10);else tr.svgHeight=tr.axisCharts?tr.svgWidth/1.61:tr.svgWidth/1.2;if(tr.svgWidth=Math.max(tr.svgWidth,0),tr.svgHeight=Math.max(tr.svgHeight,0),Mi.setAttrs(tr.dom.Paper.node,{width:tr.svgWidth,height:tr.svgHeight}),ar!=="%"){var lr=ir.chart.sparkline.enabled?0:tr.axisCharts?ir.chart.parentHeightOffset:0;tr.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(tr.svgHeight+lr,"px")}tr.dom.elWrap.style.width="".concat(tr.svgWidth,"px"),tr.dom.elWrap.style.height="".concat(tr.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var er=this.w.globals,tr=er.translateY,ir=er.translateX;Mi.setAttrs(er.dom.elGraphical.node,{transform:"translate(".concat(ir,", ").concat(tr,")")})}},{key:"resizeNonAxisCharts",value:function(){var er=this.w,tr=er.globals,ir=0,nr=er.config.chart.sparkline.enabled?1:15;nr+=er.config.grid.padding.bottom,["top","bottom"].includes(er.config.legend.position)&&er.config.legend.show&&!er.config.legend.floating&&(ir=new xa(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var sr=er.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),ar=2.05*er.globals.radialSize;if(sr&&!er.config.chart.sparkline.enabled&&er.config.plotOptions.radialBar.startAngle!==0){var or=v.getBoundingClientRect(sr);ar=or.bottom;var lr=or.bottom-or.top;ar=Math.max(2.05*er.globals.radialSize,lr)}var cr=Math.ceil(ar+tr.translateY+ir+nr);tr.dom.elLegendForeign&&tr.dom.elLegendForeign.setAttribute("height",cr),er.config.chart.height&&String(er.config.chart.height).includes("%")||(tr.dom.elWrap.style.height="".concat(cr,"px"),Mi.setAttrs(tr.dom.Paper.node,{height:cr}),tr.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(cr,"px"))}},{key:"coreCalculations",value:function(){new ea(this.ctx).init()}},{key:"resetGlobals",value:function(){var er=this,tr=function(){return er.w.config.series.map(function(){return[]})},ir=new Bi,nr=this.w.globals;ir.initGlobalVars(nr),nr.seriesXvalues=tr(),nr.seriesYvalues=tr()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var er=this.w,tr=null;if(er.globals.axisCharts){if(er.config.xaxis.crosshairs.position==="back"&&new na(this.ctx).drawXCrosshairs(),er.config.yaxis[0].crosshairs.position==="back"&&new na(this.ctx).drawYCrosshairs(),er.config.xaxis.type==="datetime"&&er.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Ua(this.ctx);var ir=[];isFinite(er.globals.minX)&&isFinite(er.globals.maxX)&&!er.globals.isBarHorizontal?ir=this.ctx.timeScale.calculateTimeScaleTicks(er.globals.minX,er.globals.maxX):er.globals.isBarHorizontal&&(ir=this.ctx.timeScale.calculateTimeScaleTicks(er.globals.minY,er.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(ir)}tr=new Pi(this.ctx).getCalculatedRatios()}return tr}},{key:"updateSourceChart",value:function(er){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:er.w.globals.minX,max:er.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var er=this,tr=this.ctx,ir=this.w;if(ir.config.chart.brush.enabled&&typeof ir.config.chart.events.selection!="function"){var nr=Array.isArray(ir.config.chart.brush.targets)?ir.config.chart.brush.targets:[ir.config.chart.brush.target];nr.forEach(function(sr){var ar=tr.constructor.getChartByID(sr);ar.w.globals.brushSource=er.ctx,typeof ar.w.config.chart.events.zoomed!="function"&&(ar.w.config.chart.events.zoomed=function(){return er.updateSourceChart(ar)}),typeof ar.w.config.chart.events.scrolled!="function"&&(ar.w.config.chart.events.scrolled=function(){return er.updateSourceChart(ar)})}),ir.config.chart.events.selection=function(sr,ar){nr.forEach(function(or){tr.constructor.getChartByID(or).ctx.updateHelpers._updateOptions({xaxis:{min:ar.xaxis.min,max:ar.xaxis.max}},!1,!1,!1,!1)})}}}}]),rr}(),Za=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"_updateOptions",value:function(er){var tr=this,ir=arguments.length>1&&arguments[1]!==void 0&&arguments[1],nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],sr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],ar=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(or){var lr=[tr.ctx];sr&&(lr=tr.ctx.getSyncedCharts()),tr.ctx.w.globals.isExecCalled&&(lr=[tr.ctx],tr.ctx.w.globals.isExecCalled=!1),lr.forEach(function(cr,ur){var hr=cr.w;if(hr.globals.shouldAnimate=nr,ir||(hr.globals.resized=!0,hr.globals.dataChanged=!0,nr&&cr.series.getPreviousPaths()),er&&b(er)==="object"&&(cr.config=new Wi(er),er=Pi.extendArrayProps(cr.config,er,hr),cr.w.globals.chartID!==tr.ctx.w.globals.chartID&&delete er.series,hr.config=v.extend(hr.config,er),ar&&(hr.globals.lastXAxis=er.xaxis?v.clone(er.xaxis):[],hr.globals.lastYAxis=er.yaxis?v.clone(er.yaxis):[],hr.globals.initialConfig=v.extend({},hr.config),hr.globals.initialSeries=v.clone(hr.config.series),er.series))){for(var dr=0;dr<hr.globals.collapsedSeriesIndices.length;dr++){var gr=hr.config.series[hr.globals.collapsedSeriesIndices[dr]];hr.globals.collapsedSeries[dr].data=hr.globals.axisCharts?gr.data.slice():gr}for(var pr=0;pr<hr.globals.ancillaryCollapsedSeriesIndices.length;pr++){var mr=hr.config.series[hr.globals.ancillaryCollapsedSeriesIndices[pr]];hr.globals.ancillaryCollapsedSeries[pr].data=hr.globals.axisCharts?mr.data.slice():mr}cr.series.emptyCollapsedSeries(hr.config.series)}return cr.update(er).then(function(){ur===lr.length-1&&or(cr)})})})}},{key:"_updateSeries",value:function(er,tr){var ir=this,nr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(sr){var ar,or=ir.w;return or.globals.shouldAnimate=tr,or.globals.dataChanged=!0,tr&&ir.ctx.series.getPreviousPaths(),or.globals.axisCharts?((ar=er.map(function(lr,cr){return ir._extendSeries(lr,cr)})).length===0&&(ar=[{data:[]}]),or.config.series=ar):or.config.series=er.slice(),nr&&(or.globals.initialConfig.series=v.clone(or.config.series),or.globals.initialSeries=v.clone(or.config.series)),ir.ctx.update().then(function(){sr(ir.ctx)})})}},{key:"_extendSeries",value:function(er,tr){var ir=this.w,nr=ir.config.series[tr];return u(u({},ir.config.series[tr]),{},{name:er.name?er.name:nr==null?void 0:nr.name,color:er.color?er.color:nr==null?void 0:nr.color,type:er.type?er.type:nr==null?void 0:nr.type,group:er.group?er.group:nr==null?void 0:nr.group,hidden:er.hidden!==void 0?er.hidden:nr==null?void 0:nr.hidden,data:er.data?er.data:nr==null?void 0:nr.data,zIndex:er.zIndex!==void 0?er.zIndex:tr})}},{key:"toggleDataPointSelection",value:function(er,tr){var ir=this.w,nr=null,sr=".apexcharts-series[data\\:realIndex='".concat(er,"']");return ir.globals.axisCharts?nr=ir.globals.dom.Paper.findOne("".concat(sr," path[j='").concat(tr,"'], ").concat(sr," circle[j='").concat(tr,"'], ").concat(sr," rect[j='").concat(tr,"']")):tr===void 0&&(nr=ir.globals.dom.Paper.findOne("".concat(sr," path[j='").concat(er,"']")),ir.config.chart.type!=="pie"&&ir.config.chart.type!=="polarArea"&&ir.config.chart.type!=="donut"||this.ctx.pie.pieClicked(er)),nr?(new Mi(this.ctx).pathMouseDown(nr,null),nr.node?nr.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(er){var tr=this.w;if(["min","max"].forEach(function(nr){er.xaxis[nr]!==void 0&&(tr.config.xaxis[nr]=er.xaxis[nr],tr.globals.lastXAxis[nr]=er.xaxis[nr])}),er.xaxis.categories&&er.xaxis.categories.length&&(tr.config.xaxis.categories=er.xaxis.categories),tr.config.xaxis.convertedCatToNumeric){var ir=new Ni(er);er=ir.convertCatToNumericXaxis(er,this.ctx)}return er}},{key:"forceYAxisUpdate",value:function(er){return er.chart&&er.chart.stacked&&er.chart.stackType==="100%"&&(Array.isArray(er.yaxis)?er.yaxis.forEach(function(tr,ir){er.yaxis[ir].min=0,er.yaxis[ir].max=100}):(er.yaxis.min=0,er.yaxis.max=100)),er}},{key:"revertDefaultAxisMinMax",value:function(er){var tr=this,ir=this.w,nr=ir.globals.lastXAxis,sr=ir.globals.lastYAxis;er&&er.xaxis&&(nr=er.xaxis),er&&er.yaxis&&(sr=er.yaxis),ir.config.xaxis.min=nr.min,ir.config.xaxis.max=nr.max;var ar=function(or){sr[or]!==void 0&&(ir.config.yaxis[or].min=sr[or].min,ir.config.yaxis[or].max=sr[or].max)};ir.config.yaxis.map(function(or,lr){ir.globals.zoomed||sr[lr]!==void 0?ar(lr):tr.ctx.opts.yaxis[lr]!==void 0&&(or.min=tr.ctx.opts.yaxis[lr].min,or.max=tr.ctx.opts.yaxis[lr].max)})}}]),rr}();(function(){function rr(){for(var sr=arguments.length>0&&arguments[0]!==hr?arguments[0]:[],ar=arguments.length>1?arguments[1]:hr,or=arguments.length>2?arguments[2]:hr,lr=arguments.length>3?arguments[3]:hr,cr=arguments.length>4?arguments[4]:hr,ur=arguments.length>5?arguments[5]:hr,hr=arguments.length>6?arguments[6]:hr,dr=sr.slice(ar,or||hr),gr=lr.slice(cr,ur||hr),pr=0,mr={pos:[0,0],start:[0,0]},vr={pos:[0,0],start:[0,0]};dr[pr]=er.call(mr,dr[pr]),gr[pr]=er.call(vr,gr[pr]),dr[pr][0]!=gr[pr][0]||dr[pr][0]=="M"||dr[pr][0]=="A"&&(dr[pr][4]!=gr[pr][4]||dr[pr][5]!=gr[pr][5])?(Array.prototype.splice.apply(dr,[pr,1].concat(ir.call(mr,dr[pr]))),Array.prototype.splice.apply(gr,[pr,1].concat(ir.call(vr,gr[pr])))):(dr[pr]=tr.call(mr,dr[pr]),gr[pr]=tr.call(vr,gr[pr])),!(++pr==dr.length&&pr==gr.length);)pr==dr.length&&dr.push(["C",mr.pos[0],mr.pos[1],mr.pos[0],mr.pos[1],mr.pos[0],mr.pos[1]]),pr==gr.length&&gr.push(["C",vr.pos[0],vr.pos[1],vr.pos[0],vr.pos[1],vr.pos[0],vr.pos[1]]);return{start:dr,dest:gr}}function er(sr){switch(sr[0]){case"z":case"Z":sr[0]="L",sr[1]=this.start[0],sr[2]=this.start[1];break;case"H":sr[0]="L",sr[2]=this.pos[1];break;case"V":sr[0]="L",sr[2]=sr[1],sr[1]=this.pos[0];break;case"T":sr[0]="Q",sr[3]=sr[1],sr[4]=sr[2],sr[1]=this.reflection[1],sr[2]=this.reflection[0];break;case"S":sr[0]="C",sr[6]=sr[4],sr[5]=sr[3],sr[4]=sr[2],sr[3]=sr[1],sr[2]=this.reflection[1],sr[1]=this.reflection[0]}return sr}function tr(sr){var ar=sr.length;return this.pos=[sr[ar-2],sr[ar-1]],"SCQT".indexOf(sr[0])!=-1&&(this.reflection=[2*this.pos[0]-sr[ar-4],2*this.pos[1]-sr[ar-3]]),sr}function ir(sr){var ar=[sr];switch(sr[0]){case"M":return this.pos=this.start=[sr[1],sr[2]],ar;case"L":sr[5]=sr[3]=sr[1],sr[6]=sr[4]=sr[2],sr[1]=this.pos[0],sr[2]=this.pos[1];break;case"Q":sr[6]=sr[4],sr[5]=sr[3],sr[4]=1*sr[4]/3+2*sr[2]/3,sr[3]=1*sr[3]/3+2*sr[1]/3,sr[2]=1*this.pos[1]/3+2*sr[2]/3,sr[1]=1*this.pos[0]/3+2*sr[1]/3;break;case"A":ar=function(or,lr){var cr,ur,hr,dr,gr,pr,mr,vr,yr,br,wr,Pr,Tr,Vr,Ar,xr,Er,Cr,Rr,kr,Sr,Nr,Hr,zr,$r,jr,Jr=Math.abs(lr[1]),ln=Math.abs(lr[2]),un=lr[3]%360,Qr=lr[4],pn=lr[5],fn=lr[6],An=lr[7],dn=new bt(or),Br=new bt(fn,An),Gr=[];if(Jr===0||ln===0||dn.x===Br.x&&dn.y===Br.y)return[["C",dn.x,dn.y,Br.x,Br.y,Br.x,Br.y]];for(cr=new bt((dn.x-Br.x)/2,(dn.y-Br.y)/2).transform(new vt().rotate(un)),ur=cr.x*cr.x/(Jr*Jr)+cr.y*cr.y/(ln*ln),ur>1&&(Jr*=ur=Math.sqrt(ur),ln*=ur),hr=new vt().rotate(un).scale(1/Jr,1/ln).rotate(-un),dn=dn.transform(hr),Br=Br.transform(hr),dr=[Br.x-dn.x,Br.y-dn.y],pr=dr[0]*dr[0]+dr[1]*dr[1],gr=Math.sqrt(pr),dr[0]/=gr,dr[1]/=gr,mr=pr<4?Math.sqrt(1-pr/4):0,Qr===pn&&(mr*=-1),vr=new bt((Br.x+dn.x)/2+mr*-dr[1],(Br.y+dn.y)/2+mr*dr[0]),yr=new bt(dn.x-vr.x,dn.y-vr.y),br=new bt(Br.x-vr.x,Br.y-vr.y),wr=Math.acos(yr.x/Math.sqrt(yr.x*yr.x+yr.y*yr.y)),yr.y<0&&(wr*=-1),Pr=Math.acos(br.x/Math.sqrt(br.x*br.x+br.y*br.y)),br.y<0&&(Pr*=-1),pn&&wr>Pr&&(Pr+=2*Math.PI),!pn&&wr<Pr&&(Pr-=2*Math.PI),Vr=Math.ceil(2*Math.abs(wr-Pr)/Math.PI),xr=[],Er=wr,Tr=(Pr-wr)/Vr,Ar=4*Math.tan(Tr/4)/3,Sr=0;Sr<=Vr;Sr++)Rr=Math.cos(Er),Cr=Math.sin(Er),kr=new bt(vr.x+Rr,vr.y+Cr),xr[Sr]=[new bt(kr.x+Ar*Cr,kr.y-Ar*Rr),kr,new bt(kr.x-Ar*Cr,kr.y+Ar*Rr)],Er+=Tr;for(xr[0][0]=xr[0][1].clone(),xr[xr.length-1][2]=xr[xr.length-1][1].clone(),hr=new vt().rotate(un).scale(Jr,ln).rotate(-un),Sr=0,Nr=xr.length;Sr<Nr;Sr++)xr[Sr][0]=xr[Sr][0].transform(hr),xr[Sr][1]=xr[Sr][1].transform(hr),xr[Sr][2]=xr[Sr][2].transform(hr);for(Sr=1,Nr=xr.length;Sr<Nr;Sr++)Hr=(kr=xr[Sr-1][2]).x,zr=kr.y,$r=(kr=xr[Sr][0]).x,jr=kr.y,fn=(kr=xr[Sr][1]).x,An=kr.y,Gr.push(["C",Hr,zr,$r,jr,fn,An]);return Gr}(this.pos,sr),sr=ar[0]}return sr[0]="C",this.pos=[sr[5],sr[6]],this.reflection=[2*sr[5]-sr[3],2*sr[6]-sr[4]],ar}function nr(){var sr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ar=arguments.length>1?arguments[1]:void 0;if(ar===!1)return!1;for(var or=ar,lr=sr.length;or<lr;++or)if(sr[or][0]=="M")return or;return!1}Q(Ee,{morph:function(sr,ar,or,lr,cr){for(var ur=this.parse(sr),hr=this.parse(ar),dr=0,gr=0,pr=!1,mr=!1;dr!==!1||gr!==!1;){var vr;pr=nr(ur,dr!==!1&&dr+1),mr=nr(hr,gr!==!1&&gr+1),dr===!1&&(dr=(vr=new Ee(yr.start).bbox()).height==0||vr.width==0?ur.push(ur[0])-1:ur.push(["M",vr.x+vr.width/2,vr.y+vr.height/2])-1),gr===!1&&(gr=(vr=new Ee(yr.dest).bbox()).height==0||vr.width==0?hr.push(hr[0])-1:hr.push(["M",vr.x+vr.width/2,vr.y+vr.height/2])-1);var yr=rr(ur,dr,pr,hr,gr,mr);ur=ur.slice(0,dr).concat(yr.start,pr===!1?[]:ur.slice(pr)),hr=hr.slice(0,gr).concat(yr.dest,mr===!1?[]:hr.slice(mr)),dr=pr!==!1&&dr+yr.start.length,gr=mr!==!1&&gr+yr.dest.length}this._array=ur,this.destination=new Ee,this.destination._array=hr;var br=this.fromArray(ur.map(function(wr,Pr){var Tr=hr[Pr].map(function(Vr,Ar){return Ar===0?Vr:lr.step(wr[Ar],hr[Pr][Ar],or,cr[Pr],cr)});return Tr}));return br}})})();const $a=rr=>(rr.changedTouches&&(rr=rr.changedTouches[0]),{x:rr.clientX,y:rr.clientY});class Ja{constructor(er){er.remember("_draggable",this),this.el=er,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(er){er?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(er){const tr=!er.type.indexOf("mouse");if(tr&&er.which!==1&&er.buttons!==0||this.el.dispatch("beforedrag",{event:er,handler:this}).defaultPrevented)return;er.preventDefault(),er.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point($a(er));const ir=(tr?"mouseup":"touchend")+".drag";zt(window,(tr?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),zt(window,ir,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:er,handler:this,box:this.box})}drag(er){const{box:tr,lastClick:ir}=this,nr=this.el.point($a(er)),sr=nr.x-ir.x,ar=nr.y-ir.y;if(!sr&&!ar)return tr;const or=tr.x+sr,lr=tr.y+ar;this.box=new kt(or,lr,tr.w,tr.h),this.lastClick=nr,this.el.dispatch("dragmove",{event:er,handler:this,box:this.box}).defaultPrevented||this.move(or,lr)}move(er,tr){this.el.type==="svg"?gi.prototype.move.call(this.el,er,tr):this.el.move(er,tr)}endDrag(er){this.drag(er),this.el.fire("dragend",{event:er,handler:this,box:this.box}),Xt(window,"mousemove.drag"),Xt(window,"touchmove.drag"),Xt(window,"mouseup.drag"),Xt(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Qa(rr,er,tr,ir=null){return function(nr){nr.preventDefault(),nr.stopPropagation();var sr=nr.pageX||nr.touches[0].pageX,ar=nr.pageY||nr.touches[0].pageY;er.fire(rr,{x:sr,y:ar,event:nr,index:ir,points:tr})}}function Ka([rr,er],{a:tr,b:ir,c:nr,d:sr,e:ar,f:or}){return[rr*tr+er*nr+ar,rr*ir+er*sr+or]}Q(Gt,{draggable(rr=!0){return(this.remember("_draggable")||new Ja(this)).init(rr),this}});let ts=class{constructor(rr){this.el=rr,rr.remember("_selectHandler",this),this.selection=new gi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const er=F();this.observer=new er.MutationObserver(this.mutationHandler)}init(rr){this.createHandle=rr.createHandle||this.createHandleFn,this.createRot=rr.createRot||this.createRotFn,this.updateHandle=rr.updateHandle||this.updateHandleFn,this.updateRot=rr.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(rr,er){if(!rr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(er)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((rr,er,tr)=>{const ir=this.order[er];this.createHandle.call(this,this.selection,rr,er,tr,ir),this.selection.get(er+1).addClass("svg_select_handle svg_select_handle_"+ir).on("mousedown.selection touchstart.selection",Qa(ir,this.el,this.handlePoints,er))})}createHandleFn(rr){rr.polyline()}updateHandleFn(rr,er,tr,ir){const nr=ir.at(tr-1),sr=ir[(tr+1)%ir.length],ar=er,or=[ar[0]-nr[0],ar[1]-nr[1]],lr=[ar[0]-sr[0],ar[1]-sr[1]],cr=Math.sqrt(or[0]*or[0]+or[1]*or[1]),ur=Math.sqrt(lr[0]*lr[0]+lr[1]*lr[1]),hr=[or[0]/cr,or[1]/cr],dr=[lr[0]/ur,lr[1]/ur],gr=[ar[0]-10*hr[0],ar[1]-10*hr[1]],pr=[ar[0]-10*dr[0],ar[1]-10*dr[1]];rr.plot([gr,ar,pr])}updateResizeHandles(){this.handlePoints.forEach((rr,er,tr)=>{const ir=this.order[er];this.updateHandle.call(this,this.selection.get(er+1),rr,er,tr,ir)})}createRotFn(rr){rr.line(),rr.circle(5)}getPoint(rr){return this.handlePoints[this.order.indexOf(rr)]}getPointHandle(rr){return this.selection.get(this.order.indexOf(rr)+1)}updateRotFn(rr,er){const tr=this.getPoint("t");rr.get(0).plot(tr[0],tr[1],er[0],er[1]),rr.get(1).center(er[0],er[1])}createRotationHandle(){const rr=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Qa("rot",this.el,this.handlePoints));this.createRot.call(this,rr)}updateRotationHandle(){const rr=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(rr,this.rotationPoint,this.handlePoints)}updatePoints(){const rr=this.el.bbox(),er=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(rr).map(tr=>Ka(tr,er)),this.rotationPoint=Ka(this.getRotationPoint(rr),er)}getHandlePoints({x:rr,x2:er,y:tr,y2:ir,cx:nr,cy:sr}=this.el.bbox()){return[[rr,tr],[nr,tr],[er,tr],[er,sr],[er,ir],[nr,ir],[rr,ir],[rr,sr]]}getRotationPoint({y:rr,cx:er}=this.el.bbox()){return[er,rr-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const es=rr=>function(er=!0,tr={}){typeof er=="object"&&(tr=er,er=!0);let ir=this.remember("_"+rr.name);return ir||(er.prototype instanceof ts?(ir=new er(this),er=!0):ir=new rr(this),this.remember("_"+rr.name,ir)),ir.active(er,tr),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function is(rr,er,tr,ir=null){return function(nr){nr.preventDefault(),nr.stopPropagation();var sr=nr.pageX||nr.touches[0].pageX,ar=nr.pageY||nr.touches[0].pageY;er.fire(rr,{x:sr,y:ar,event:nr,index:ir,points:tr})}}function as([rr,er],{a:tr,b:ir,c:nr,d:sr,e:ar,f:or}){return[rr*tr+er*nr+ar,rr*ir+er*sr+or]}Q(Gt,{select:es(ts)}),Q([Ge,je,xe],{pointSelect:es(class{constructor(rr){this.el=rr,rr.remember("_pointSelectHandler",this),this.selection=new gi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const er=F();this.observer=new er.MutationObserver(this.mutationHandler)}init(rr){this.createHandle=rr.createHandle||this.createHandleFn,this.updateHandle=rr.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(rr,er){if(!rr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(er)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((rr,er,tr)=>{this.createHandle.call(this,this.selection,rr,er,tr),this.selection.get(er+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Qa("point",this.el,this.points,er))})}createHandleFn(rr){rr.circle(5)}updateHandleFn(rr,er){rr.center(er[0],er[1])}updatePointHandles(){this.points.forEach((rr,er,tr)=>{this.updateHandle.call(this,this.selection.get(er+1),rr,er,tr)})}updatePoints(){const rr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(er=>Ka(er,rr))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class ss{constructor(er){this.el=er,er.remember("_selectHandler",this),this.selection=new gi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const tr=F();this.observer=new tr.MutationObserver(this.mutationHandler)}init(er){this.createHandle=er.createHandle||this.createHandleFn,this.createRot=er.createRot||this.createRotFn,this.updateHandle=er.updateHandle||this.updateHandleFn,this.updateRot=er.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(er,tr){if(!er)return this.selection.clear().remove(),void this.observer.disconnect();this.init(tr)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((er,tr,ir)=>{const nr=this.order[tr];this.createHandle.call(this,this.selection,er,tr,ir,nr),this.selection.get(tr+1).addClass("svg_select_handle svg_select_handle_"+nr).on("mousedown.selection touchstart.selection",is(nr,this.el,this.handlePoints,tr))})}createHandleFn(er){er.polyline()}updateHandleFn(er,tr,ir,nr){const sr=nr.at(ir-1),ar=nr[(ir+1)%nr.length],or=tr,lr=[or[0]-sr[0],or[1]-sr[1]],cr=[or[0]-ar[0],or[1]-ar[1]],ur=Math.sqrt(lr[0]*lr[0]+lr[1]*lr[1]),hr=Math.sqrt(cr[0]*cr[0]+cr[1]*cr[1]),dr=[lr[0]/ur,lr[1]/ur],gr=[cr[0]/hr,cr[1]/hr],pr=[or[0]-10*dr[0],or[1]-10*dr[1]],mr=[or[0]-10*gr[0],or[1]-10*gr[1]];er.plot([pr,or,mr])}updateResizeHandles(){this.handlePoints.forEach((er,tr,ir)=>{const nr=this.order[tr];this.updateHandle.call(this,this.selection.get(tr+1),er,tr,ir,nr)})}createRotFn(er){er.line(),er.circle(5)}getPoint(er){return this.handlePoints[this.order.indexOf(er)]}getPointHandle(er){return this.selection.get(this.order.indexOf(er)+1)}updateRotFn(er,tr){const ir=this.getPoint("t");er.get(0).plot(ir[0],ir[1],tr[0],tr[1]),er.get(1).center(tr[0],tr[1])}createRotationHandle(){const er=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",is("rot",this.el,this.handlePoints));this.createRot.call(this,er)}updateRotationHandle(){const er=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(er,this.rotationPoint,this.handlePoints)}updatePoints(){const er=this.el.bbox(),tr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(er).map(ir=>as(ir,tr)),this.rotationPoint=as(this.getRotationPoint(er),tr)}getHandlePoints({x:er,x2:tr,y:ir,y2:nr,cx:sr,cy:ar}=this.el.bbox()){return[[er,ir],[sr,ir],[tr,ir],[tr,ar],[tr,nr],[sr,nr],[er,nr],[er,ar]]}getRotationPoint({y:er,cx:tr}=this.el.bbox()){return[tr,er-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const rs=rr=>function(er=!0,tr={}){typeof er=="object"&&(tr=er,er=!0);let ir=this.remember("_"+rr.name);return ir||(er.prototype instanceof ss?(ir=new er(this),er=!0):ir=new rr(this),this.remember("_"+rr.name,ir)),ir.active(er,tr),this};Q(Gt,{select:rs(ss)}),Q([Ge,je,xe],{pointSelect:rs(class{constructor(rr){this.el=rr,rr.remember("_pointSelectHandler",this),this.selection=new gi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const er=F();this.observer=new er.MutationObserver(this.mutationHandler)}init(rr){this.createHandle=rr.createHandle||this.createHandleFn,this.updateHandle=rr.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(rr,er){if(!rr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(er)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((rr,er,tr)=>{this.createHandle.call(this,this.selection,rr,er,tr),this.selection.get(er+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",is("point",this.el,this.points,er))})}createHandleFn(rr){rr.circle(5)}updateHandleFn(rr,er){rr.center(er[0],er[1])}updatePointHandles(){this.points.forEach((rr,er,tr)=>{this.updateHandle.call(this,this.selection.get(er+1),rr,er,tr)})}updatePoints(){const rr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(er=>as(er,rr))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const ns=rr=>(rr.changedTouches&&(rr=rr.changedTouches[0]),{x:rr.clientX,y:rr.clientY}),os=rr=>{let er=1/0,tr=1/0,ir=-1/0,nr=-1/0;for(let sr=0;sr<rr.length;sr++){const ar=rr[sr];er=Math.min(er,ar[0]),tr=Math.min(tr,ar[1]),ir=Math.max(ir,ar[0]),nr=Math.max(nr,ar[1])}return new kt(er,tr,ir-er,nr-tr)};class ls{constructor(er){this.el=er,er.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(er,tr){this.preserveAspectRatio=tr.preserveAspectRatio??!1,this.aroundCenter=tr.aroundCenter??!1,this.grid=tr.grid??0,this.degree=tr.degree??0,this.el.off(".resize"),er&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(er){this.eventType=er.type;const{event:tr,index:ir,points:nr}=er.detail,sr=!tr.type.indexOf("mouse");if(sr&&(tr.which||tr.buttons)!==1||this.el.dispatch("beforeresize",{event:er,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(ns(tr)),this.index=ir,this.points=nr.slice();const ar=(sr?"mousemove":"touchmove")+".resize",or=(sr?"mouseup":"touchcancel.resize touchend")+".resize";er.type==="point"?zt(window,ar,this.movePoint):er.type==="rot"?zt(window,ar,this.rotate):zt(window,ar,this.resize),zt(window,or,this.endResize)}resize(er){this.lastEvent=er;const tr=this.snapToGrid(this.el.point(ns(er)));let ir=tr.x-this.startPoint.x,nr=tr.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(ir*=2,nr*=2);const sr=this.box.x+ir,ar=this.box.y+nr,or=this.box.x2+ir,lr=this.box.y2+nr;let cr=new kt(this.box);if(this.eventType.includes("l")&&(cr.x=Math.min(sr,this.box.x2),cr.x2=Math.max(sr,this.box.x2)),this.eventType.includes("r")&&(cr.x=Math.min(or,this.box.x),cr.x2=Math.max(or,this.box.x)),this.eventType.includes("t")&&(cr.y=Math.min(ar,this.box.y2),cr.y2=Math.max(ar,this.box.y2)),this.eventType.includes("b")&&(cr.y=Math.min(lr,this.box.y),cr.y2=Math.max(lr,this.box.y)),cr.width=cr.x2-cr.x,cr.height=cr.y2-cr.y,this.preserveAspectRatio){const ur=cr.width/this.box.width,hr=cr.height/this.box.height,dr=["lt","t","rt","r","rb","b","lb","l"],gr=(dr.indexOf(this.eventType)+4)%dr.length,pr=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[gr];let mr=this.eventType.includes("t")||this.eventType.includes("b")?hr:ur;mr=this.eventType.length===2?Math.max(ur,hr):mr,cr=function(vr,yr,br){const wr=[[vr.x,vr.y],[vr.x+vr.width,vr.y],[vr.x+vr.width,vr.y+vr.height],[vr.x,vr.y+vr.height]].map(([Pr,Tr])=>{const Vr=Pr-yr[0],Ar=(Tr-yr[1])*br;return[Vr*br+yr[0],Ar+yr[1]]});return os(wr)}(this.box,pr,mr)}this.el.dispatch("resize",{box:new kt(cr),angle:0,eventType:this.eventType,event:er,handler:this}).defaultPrevented||this.el.size(cr.width,cr.height).move(cr.x,cr.y)}movePoint(er){this.lastEvent=er;const{x:tr,y:ir}=this.snapToGrid(this.el.point(ns(er))),nr=this.el.array().slice();nr[this.index]=[tr,ir],this.el.dispatch("resize",{box:os(nr),angle:0,eventType:this.eventType,event:er,handler:this}).defaultPrevented||this.el.plot(nr)}rotate(er){this.lastEvent=er;const tr=this.startPoint,ir=this.el.point(ns(er)),{cx:nr,cy:sr}=this.box,ar=tr.x-nr,or=tr.y-sr,lr=ir.x-nr,cr=ir.y-sr,ur=Math.sqrt(ar*ar+or*or)*Math.sqrt(lr*lr+cr*cr);if(ur===0)return;let hr=Math.acos((ar*lr+or*cr)/ur)/Math.PI*180;if(!hr)return;ir.x<tr.x&&(hr=-hr);const dr=new vt(this.el),{x:gr,y:pr}=new bt(nr,sr).transformO(dr),{rotate:mr}=dr.decompose(),vr=this.snapToAngle(mr+hr)-mr;this.el.dispatch("resize",{box:this.box,angle:vr,eventType:this.eventType,event:er,handler:this}).defaultPrevented||this.el.transform(dr.rotateO(vr,gr,pr))}endResize(er){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(er),this.lastEvent=null,this.eventType="",Xt(window,"mousemove.resize touchmove.resize"),Xt(window,"mouseup.resize touchend.resize")}snapToGrid(er){return this.grid&&(er.x=Math.round(er.x/this.grid)*this.grid,er.y=Math.round(er.y/this.grid)*this.grid),er}snapToAngle(er){return this.degree&&(er=Math.round(er/this.degree)*this.degree),er}}Q(Gt,{resize:function(rr=!0,er={}){typeof rr=="object"&&(er=rr,rr=!0);let tr=this.remember("_ResizeHandler");return tr||(rr.prototype instanceof ls?(tr=new rr(this),rr=!0):tr=new ls(this),this.remember("_resizeHandler",tr)),tr.active(rr,er),this}}),window.SVG===void 0&&(window.SVG=yi),window.Apex===void 0&&(window.Apex={});var hs=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new y(this.ctx),this.ctx.axes=new ra(this.ctx),this.ctx.core=new qa(this.ctx.el,this.ctx),this.ctx.config=new Wi({}),this.ctx.data=new $i(this.ctx),this.ctx.grid=new Ki(this.ctx),this.ctx.graphics=new Mi(this.ctx),this.ctx.coreUtils=new Pi(this.ctx),this.ctx.crosshairs=new na(this.ctx),this.ctx.events=new aa(this.ctx),this.ctx.exports=new Ji(this.ctx),this.ctx.fill=new ji(this.ctx),this.ctx.localization=new sa(this.ctx),this.ctx.options=new Oi,this.ctx.responsive=new oa(this.ctx),this.ctx.series=new Zi(this.ctx),this.ctx.theme=new la(this.ctx),this.ctx.formatters=new Xi(this.ctx),this.ctx.titleSubtitle=new ha(this.ctx),this.ctx.legend=new xa(this.ctx),this.ctx.toolbar=new ba(this.ctx),this.ctx.tooltip=new Sa(this.ctx),this.ctx.dimensions=new pa(this.ctx),this.ctx.updateHelpers=new Za(this.ctx),this.ctx.zoomPanSelection=new ma(this.ctx),this.ctx.w.globals.tooltip=new Sa(this.ctx)}}]),rr}(),cs=function(){function rr(er){i(this,rr),this.ctx=er,this.w=er.w}return s(rr,[{key:"clear",value:function(er){var tr=er.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:tr})}},{key:"killSVG",value:function(er){er.each(function(){this.removeClass("*"),this.off()},!0),er.clear()}},{key:"clearDomElements",value:function(er){var tr=this,ir=er.isUpdating,nr=this.w.globals.dom.Paper.node;nr.parentNode&&nr.parentNode.parentNode&&!ir&&(nr.parentNode.parentNode.style.minHeight="unset");var sr=this.w.globals.dom.baseEl;sr&&this.ctx.eventList.forEach(function(or){sr.removeEventListener(or,tr.ctx.events.documentEvent)});var ar=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(ar.Paper),ar.Paper.remove(),ar.elWrap=null,ar.elGraphical=null,ar.elLegendWrap=null,ar.elLegendForeign=null,ar.baseEl=null,ar.elGridRect=null,ar.elGridRectMask=null,ar.elGridRectBarMask=null,ar.elGridRectMarkerMask=null,ar.elForecastMask=null,ar.elNonForecastMask=null,ar.elDefs=null}}]),rr}(),ds=new WeakMap,us=function(){function rr(er,tr){i(this,rr),this.opts=tr,this.ctx=this,this.w=new Gi(tr).init(),this.el=er,this.w.globals.cuid=v.randomId(),this.w.globals.chartID=this.w.config.chart.id?v.escapeString(this.w.config.chart.id):this.w.globals.cuid,new hs(this).initModules(),this.create=v.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return s(rr,[{key:"render",value:function(){var er=this;return new Promise(function(tr,ir){if(v.elementExists(er.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),er.w.config.chart.id&&Apex._chartInstances.push({id:er.w.globals.chartID,group:er.w.config.chart.group,chart:er}),er.setLocale(er.w.config.chart.defaultLocale);var nr=er.w.config.chart.events.beforeMount;typeof nr=="function"&&nr(er,er.w),er.events.fireEvent("beforeMount",[er,er.w]),window.addEventListener("resize",er.windowResizeHandler),function(dr,gr){var pr=!1;if(dr.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var mr=dr.getBoundingClientRect();dr.style.display!=="none"&&mr.width!==0||(pr=!0)}var vr=new ResizeObserver(function(yr){pr&&gr.call(dr,yr),pr=!0});dr.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(dr.children).forEach(function(yr){return vr.observe(yr)}):vr.observe(dr),ds.set(gr,vr)}(er.el.parentNode,er.parentResizeHandler);var sr=er.el.getRootNode&&er.el.getRootNode(),ar=v.is("ShadowRoot",sr),or=er.el.ownerDocument,lr=ar?sr.getElementById("apexcharts-css"):or.getElementById("apexcharts-css");if(!lr){var cr;(lr=document.createElement("style")).id="apexcharts-css",lr.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var ur=((cr=er.opts.chart)===null||cr===void 0?void 0:cr.nonce)||er.w.config.chart.nonce;ur&&lr.setAttribute("nonce",ur),ar?sr.prepend(lr):or.head.appendChild(lr)}var hr=er.create(er.w.config.series,{});if(!hr)return tr(er);er.mount(hr).then(function(){typeof er.w.config.chart.events.mounted=="function"&&er.w.config.chart.events.mounted(er,er.w),er.events.fireEvent("mounted",[er,er.w]),tr(hr)}).catch(function(dr){ir(dr)})}else ir(new Error("Element not found"))})}},{key:"create",value:function(er,tr){var ir=this,nr=this.w;new hs(this).initModules();var sr=this.w.globals;if(sr.noData=!1,sr.animationEnded=!1,!v.elementExists(this.el))return sr.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(tr),nr.config.xaxis.convertedCatToNumeric&&new Ni(nr.config).convertCatToNumericXaxis(nr.config,this.ctx),this.core.setupElements(),nr.config.chart.type==="treemap"&&(nr.config.grid.show=!1,nr.config.yaxis[0].show=!1),sr.svgWidth===0)return sr.animationEnded=!0,null;var ar=er;er.forEach(function(dr,gr){dr.hidden&&(ar=ir.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:gr}))});var or=Pi.checkComboSeries(ar,nr.config.chart.type);sr.comboCharts=or.comboCharts,sr.comboBarCount=or.comboBarCount;var lr=ar.every(function(dr){return dr.data&&dr.data.length===0});(ar.length===0||lr&&sr.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(ar),this.theme.init(),new Vi(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),sr.noData&&sr.collapsedSeries.length!==sr.series.length&&!nr.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),sr.axisCharts&&(this.core.coreCalculations(),nr.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=nr.globals.minX,this.ctx.toolbar.maxX=nr.globals.maxX),this.formatters.heatmapLabelFormatters(),new Pi(this).getLargestMarkerSize(),this.dimensions.plotCoords();var cr=this.core.xySettings();this.grid.createGridMask();var ur=this.core.plotChartType(ar,cr),hr=new qi(this);return hr.bringForward(),nr.config.dataLabels.background.enabled&&hr.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:ur,xyRatios:cr,dimensions:{plot:{left:nr.globals.translateX,top:nr.globals.translateY,width:nr.globals.gridWidth,height:nr.globals.gridHeight}}}}},{key:"mount",value:function(){var er=this,tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ir=this,nr=ir.w;return new Promise(function(sr,ar){if(ir.el===null)return ar(new Error("Not enough data to display or target element not found"));(tr===null||nr.globals.allSeriesCollapsed)&&ir.series.handleNoData(),ir.grid=new Ki(ir);var or,lr,cr=ir.grid.drawGrid();if(ir.annotations=new Fi(ir),ir.annotations.drawImageAnnos(),ir.annotations.drawTextAnnos(),nr.config.grid.position==="back"&&(cr&&nr.globals.dom.elGraphical.add(cr.el),cr!=null&&(or=cr.elGridBorders)!==null&&or!==void 0&&or.node&&nr.globals.dom.elGraphical.add(cr.elGridBorders)),Array.isArray(tr.elGraph))for(var ur=0;ur<tr.elGraph.length;ur++)nr.globals.dom.elGraphical.add(tr.elGraph[ur]);else nr.globals.dom.elGraphical.add(tr.elGraph);nr.config.grid.position==="front"&&(cr&&nr.globals.dom.elGraphical.add(cr.el),cr!=null&&(lr=cr.elGridBorders)!==null&&lr!==void 0&&lr.node&&nr.globals.dom.elGraphical.add(cr.elGridBorders)),nr.config.xaxis.crosshairs.position==="front"&&ir.crosshairs.drawXCrosshairs(),nr.config.yaxis[0].crosshairs.position==="front"&&ir.crosshairs.drawYCrosshairs(),nr.config.chart.type!=="treemap"&&ir.axes.drawAxis(nr.config.chart.type,cr);var hr=new Qi(er.ctx,cr),dr=new ia(er.ctx,cr);if(cr!==null&&(hr.xAxisLabelCorrections(cr.xAxisTickWidth),dr.setYAxisTextAlignments(),nr.config.yaxis.map(function(pr,mr){nr.globals.ignoreYAxisIndexes.indexOf(mr)===-1&&dr.yAxisTitleRotate(mr,pr.opposite)})),ir.annotations.drawAxesAnnotations(),!nr.globals.noData){if(nr.config.tooltip.enabled&&!nr.globals.noData&&ir.w.globals.tooltip.drawTooltip(tr.xyRatios),nr.globals.axisCharts&&(nr.globals.isXNumeric||nr.config.xaxis.convertedCatToNumeric||nr.globals.isRangeBar))(nr.config.chart.zoom.enabled||nr.config.chart.selection&&nr.config.chart.selection.enabled||nr.config.chart.pan&&nr.config.chart.pan.enabled)&&ir.zoomPanSelection.init({xyRatios:tr.xyRatios});else{var gr=nr.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(pr){gr[pr]=!1})}nr.config.chart.toolbar.show&&!nr.globals.allSeriesCollapsed&&ir.toolbar.createToolbar()}nr.globals.memory.methodsToExec.length>0&&nr.globals.memory.methodsToExec.forEach(function(pr){pr.method(pr.params,!1,pr.context)}),nr.globals.axisCharts||nr.globals.noData||ir.core.resizeNonAxisCharts(),sr(ir)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(tr,ir){var nr=ds.get(ir);nr&&(nr.disconnect(),ds.delete(ir))}(this.el.parentNode,this.parentResizeHandler);var er=this.w.config.chart.id;er&&Apex._chartInstances.forEach(function(tr,ir){tr.id===v.escapeString(er)&&Apex._chartInstances.splice(ir,1)}),new cs(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(er){var tr=this,ir=arguments.length>1&&arguments[1]!==void 0&&arguments[1],nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],sr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],ar=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],or=this.w;return or.globals.selection=void 0,er.series&&(this.series.resetSeries(!1,!0,!1),er.series.length&&er.series[0].data&&(er.series=er.series.map(function(lr,cr){return tr.updateHelpers._extendSeries(lr,cr)})),this.updateHelpers.revertDefaultAxisMinMax()),er.xaxis&&(er=this.updateHelpers.forceXAxisUpdate(er)),er.yaxis&&(er=this.updateHelpers.forceYAxisUpdate(er)),or.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),er.theme&&(er=this.theme.updateThemeOptions(er)),this.updateHelpers._updateOptions(er,ir,nr,sr,ar)}},{key:"updateSeries",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],tr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ir=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(er,tr,ir)}},{key:"appendSeries",value:function(er){var tr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ir=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],nr=this.w.config.series.slice();return nr.push(er),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(nr,tr,ir)}},{key:"appendData",value:function(er){var tr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ir=this;ir.w.globals.dataChanged=!0,ir.series.getPreviousPaths();for(var nr=ir.w.config.series.slice(),sr=0;sr<nr.length;sr++)if(er[sr]!==null&&er[sr]!==void 0)for(var ar=0;ar<er[sr].data.length;ar++)nr[sr].data.push(er[sr].data[ar]);return ir.w.config.series=nr,tr&&(ir.w.globals.initialSeries=v.clone(ir.w.config.series)),this.update()}},{key:"update",value:function(er){var tr=this;return new Promise(function(ir,nr){new cs(tr.ctx).clear({isUpdating:!0});var sr=tr.create(tr.w.config.series,er);if(!sr)return ir(tr);tr.mount(sr).then(function(){typeof tr.w.config.chart.events.updated=="function"&&tr.w.config.chart.events.updated(tr,tr.w),tr.events.fireEvent("updated",[tr,tr.w]),tr.w.globals.isDirty=!0,ir(tr)}).catch(function(ar){nr(ar)})})}},{key:"getSyncedCharts",value:function(){var er=this.getGroupedCharts(),tr=[this];return er.length&&(tr=[],er.forEach(function(ir){tr.push(ir)})),tr}},{key:"getGroupedCharts",value:function(){var er=this;return Apex._chartInstances.filter(function(tr){if(tr.group)return!0}).map(function(tr){return er.w.config.chart.group===tr.group?tr.chart:er})}},{key:"toggleSeries",value:function(er){return this.series.toggleSeries(er)}},{key:"highlightSeriesOnLegendHover",value:function(er,tr){return this.series.toggleSeriesOnHover(er,tr)}},{key:"showSeries",value:function(er){this.series.showSeries(er)}},{key:"hideSeries",value:function(er){this.series.hideSeries(er)}},{key:"highlightSeries",value:function(er){this.series.highlightSeries(er)}},{key:"isSeriesHidden",value:function(er){this.series.isSeriesHidden(er)}},{key:"resetSeries",value:function(){var er=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],tr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(er,tr)}},{key:"addEventListener",value:function(er,tr){this.events.addEventListener(er,tr)}},{key:"removeEventListener",value:function(er,tr){this.events.removeEventListener(er,tr)}},{key:"addXaxisAnnotation",value:function(er){var tr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,nr=this;ir&&(nr=ir),nr.annotations.addXaxisAnnotationExternal(er,tr,nr)}},{key:"addYaxisAnnotation",value:function(er){var tr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,nr=this;ir&&(nr=ir),nr.annotations.addYaxisAnnotationExternal(er,tr,nr)}},{key:"addPointAnnotation",value:function(er){var tr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,nr=this;ir&&(nr=ir),nr.annotations.addPointAnnotationExternal(er,tr,nr)}},{key:"clearAnnotations",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,tr=this;er&&(tr=er),tr.annotations.clearAnnotations(tr)}},{key:"removeAnnotation",value:function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,ir=this;tr&&(ir=tr),ir.annotations.removeAnnotation(ir,er)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(er,tr){return this.coreUtils.getSeriesTotalsXRange(er,tr)}},{key:"getHighestValueInSeries",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ea(this.ctx).getMinYMaxY(er).highestY}},{key:"getLowestValueInSeries",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ea(this.ctx).getMinYMaxY(er).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(er,tr){return this.updateHelpers.toggleDataPointSelection(er,tr)}},{key:"zoomX",value:function(er,tr){this.ctx.toolbar.zoomUpdateOptions(er,tr)}},{key:"setLocale",value:function(er){this.localization.setCurrentLocaleValues(er)}},{key:"dataURI",value:function(er){return new Ji(this.ctx).dataURI(er)}},{key:"getSvgString",value:function(er){return new Ji(this.ctx).getSvgString(er)}},{key:"exportToCSV",value:function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Ji(this.ctx).exportToCSV(er)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var er=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){er.w.globals.resized=!0,er.w.globals.dataChanged=!1,er.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var er=this.w.config.chart.redrawOnWindowResize;typeof er=="function"&&(er=er()),er&&this._windowResize()}}],[{key:"getChartByID",value:function(er){var tr=v.escapeString(er);if(Apex._chartInstances){var ir=Apex._chartInstances.filter(function(nr){return nr.id===tr})[0];return ir&&ir.chart}}},{key:"initOnLoad",value:function(){for(var er=document.querySelectorAll("[data-apexcharts]"),tr=0;tr<er.length;tr++)new rr(er[tr],JSON.parse(er[tr].getAttribute("data-options"))).render()}},{key:"exec",value:function(er,tr){var ir=this.getChartByID(er);if(ir){ir.w.globals.isExecCalled=!0;var nr=null;if(ir.publicMethods.indexOf(tr)!==-1){for(var sr=arguments.length,ar=new Array(sr>2?sr-2:0),or=2;or<sr;or++)ar[or-2]=arguments[or];nr=ir[tr].apply(ir,ar)}return nr}}},{key:"merge",value:function(er,tr){return v.extend(er,tr)}}]),rr}();const A=["animationEnd","beforeMount","mounted","updated","click","mouseMove","mouseLeave","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","brushScrolled"],m=defineComponent({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:A,setup(rr,{emit:er}){const tr=ref(null),ir=ref(null),nr=Rr=>Rr&&typeof Rr=="object"&&!Array.isArray(Rr)&&Rr!=null,sr=(Rr,kr)=>{typeof Object.assign!="function"&&function(){Object.assign=function(Nr){if(Nr==null)throw new TypeError("Cannot convert undefined or null to object");let Hr=Object(Nr);for(let zr=1;zr<arguments.length;zr++){let $r=arguments[zr];if($r!=null)for(let jr in $r)$r.hasOwnProperty(jr)&&(Hr[jr]=$r[jr])}return Hr}}();let Sr=Object.assign({},Rr);return nr(Rr)&&nr(kr)&&Object.keys(kr).forEach(Nr=>{nr(kr[Nr])?Nr in Rr?Sr[Nr]=sr(Rr[Nr],kr[Nr]):Object.assign(Sr,{[Nr]:kr[Nr]}):Object.assign(Sr,{[Nr]:kr[Nr]})}),Sr},ar=async()=>{if(await nextTick(),ir.value)return;const Rr={chart:{type:rr.type||rr.options.chart.type||"line",height:rr.height,width:rr.width,events:{}},series:rr.series},kr=rr.options.chart?rr.options.chart.events:null;A.forEach(Nr=>{let Hr=(...zr)=>er(Nr,...zr);Rr.chart.events[Nr]=(...zr)=>{Hr(...zr),kr&&kr.hasOwnProperty(Nr)&&kr[Nr](...zr)}});const Sr=sr(rr.options,Rr);return ir.value=new us(tr.value,Sr),ir.value.render()},or=()=>(lr(),ar()),lr=()=>{ir.value.destroy(),ir.value=null},cr=(Rr,kr)=>ir.value.updateSeries(Rr,kr),ur=(Rr,kr,Sr,Nr)=>ir.value.updateOptions(Rr,kr,Sr,Nr),hr=Rr=>ir.value.toggleSeries(Rr),dr=Rr=>{ir.value.showSeries(Rr)},gr=Rr=>{ir.value.hideSeries(Rr)},pr=(Rr,kr)=>ir.value.appendSeries(Rr,kr),mr=()=>{ir.value.resetSeries()},vr=(Rr,kr)=>{ir.value.toggleDataPointSelection(Rr,kr)},yr=Rr=>ir.value.appendData(Rr),br=(Rr,kr)=>ir.value.zoomX(Rr,kr),wr=Rr=>ir.value.dataURI(Rr),Pr=Rr=>ir.value.setLocale(Rr),Tr=(Rr,kr)=>{ir.value.addXaxisAnnotation(Rr,kr)},Vr=(Rr,kr)=>{ir.value.addYaxisAnnotation(Rr,kr)},Ar=(Rr,kr)=>{ir.value.addPointAnnotation(Rr,kr)},xr=(Rr,kr)=>{ir.value.removeAnnotation(Rr,kr)},Er=()=>{ir.value.clearAnnotations()};onBeforeMount(()=>{window.ApexCharts=us}),onMounted(()=>{tr.value=getCurrentInstance().proxy.$el,ar()}),onBeforeUnmount(()=>{ir.value&&lr()});const Cr=toRefs(rr);return watch(Cr.options,()=>{!ir.value&&rr.options?ar():ir.value.updateOptions(rr.options)}),watch(Cr.series,()=>{!ir.value&&rr.series?ar():ir.value.updateSeries(rr.series)},{deep:!0}),watch(Cr.type,()=>{or()}),watch(Cr.width,()=>{or()}),watch(Cr.height,()=>{or()}),{chart:ir,init:ar,refresh:or,destroy:lr,updateOptions:ur,updateSeries:cr,toggleSeries:hr,showSeries:dr,hideSeries:gr,resetSeries:mr,zoomX:br,toggleDataPointSelection:vr,appendData:yr,appendSeries:pr,addXaxisAnnotation:Tr,addYaxisAnnotation:Vr,addPointAnnotation:Ar,removeAnnotation:xr,clearAnnotations:Er,setLocale:Pr,dataURI:wr}},render(){return h$1("div",{class:"vue-apexcharts"})}}),J=rr=>{rr.component(m.name,m)};m.install=J;const app=createApp(App);app.component("font-awesome-icon",FontAwesomeIcon);app.use(router);app.use(m);app.mount("#app");
